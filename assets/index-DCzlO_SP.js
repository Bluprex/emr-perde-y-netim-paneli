var dL=Object.defineProperty;var fL=(t,e,r)=>e in t?dL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var kb=(t,e,r)=>fL(t,typeof e!="symbol"?e+"":e,r);function hL(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _b={exports:{}},nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function mL(){if(ej)return nf;ej=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:s}}return nf.Fragment=e,nf.jsx=r,nf.jsxs=r,nf}var tj;function pL(){return tj||(tj=1,_b.exports=mL()),_b.exports}var l=pL(),Eb={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj;function gL(){if(rj)return Ke;rj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function C(z,W,ue){this.props=z,this.context=W,this.refs=N,this.updater=ue||_}C.prototype.isReactComponent={},C.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=C.prototype;function P(z,W,ue){this.props=z,this.context=W,this.refs=N,this.updater=ue||_}var M=P.prototype=new S;M.constructor=P,E(M,C.prototype),M.isPureReactComponent=!0;var $=Array.isArray;function V(){}var T={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function R(z,W,ue){var G=ue.ref;return{$$typeof:t,type:z,key:W,ref:G!==void 0?G:null,props:ue}}function U(z,W){return R(z.type,W,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return W[ue]})}var H=/\/+/g;function X(z,W){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):W.toString(36)}function J(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(V,V):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function F(z,W,ue,G,pe){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var be=!1;if(z===null)be=!0;else switch(Ee){case"bigint":case"string":case"number":be=!0;break;case"object":switch(z.$$typeof){case t:case e:be=!0;break;case p:return be=z._init,F(be(z._payload),W,ue,G,pe)}}if(be)return pe=pe(z),be=G===""?"."+X(z,0):G,$(pe)?(ue="",be!=null&&(ue=be.replace(H,"$&/")+"/"),F(pe,W,ue,"",function(Be){return Be})):pe!=null&&(L(pe)&&(pe=U(pe,ue+(pe.key==null||z&&z.key===pe.key?"":(""+pe.key).replace(H,"$&/")+"/")+be)),W.push(pe)),1;be=0;var Fe=G===""?".":G+":";if($(z))for(var se=0;se<z.length;se++)G=z[se],Ee=Fe+X(G,se),be+=F(G,W,ue,Ee,pe);else if(se=w(z),typeof se=="function")for(z=se.call(z),se=0;!(G=z.next()).done;)G=G.value,Ee=Fe+X(G,se++),be+=F(G,W,ue,Ee,pe);else if(Ee==="object"){if(typeof z.then=="function")return F(J(z),W,ue,G,pe);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return be}function Z(z,W,ue){if(z==null)return z;var G=[],pe=0;return F(z,G,"","",function(Ee){return W.call(ue,Ee,pe++)}),G}function fe(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var _e=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},le={map:Z,forEach:function(z,W,ue){Z(z,function(){W.apply(this,arguments)},ue)},count:function(z){var W=0;return Z(z,function(){W++}),W},toArray:function(z){return Z(z,function(W){return W})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ke.Activity=g,Ke.Children=le,Ke.Component=C,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=P,Ke.StrictMode=n,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return T.H.useMemoCache(z)}},Ke.cache=function(z){return function(){return z.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(z,W,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var G=E({},z.props),pe=z.key;if(W!=null)for(Ee in W.key!==void 0&&(pe=""+W.key),W)!I.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(G[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)G.children=ue;else if(1<Ee){for(var be=Array(Ee),Fe=0;Fe<Ee;Fe++)be[Fe]=arguments[Fe+2];G.children=be}return R(z.type,pe,G)},Ke.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},Ke.createElement=function(z,W,ue){var G,pe={},Ee=null;if(W!=null)for(G in W.key!==void 0&&(Ee=""+W.key),W)I.call(W,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(pe[G]=W[G]);var be=arguments.length-2;if(be===1)pe.children=ue;else if(1<be){for(var Fe=Array(be),se=0;se<be;se++)Fe[se]=arguments[se+2];pe.children=Fe}if(z&&z.defaultProps)for(G in be=z.defaultProps,be)pe[G]===void 0&&(pe[G]=be[G]);return R(z,Ee,pe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:d,render:z}},Ke.isValidElement=L,Ke.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:fe}},Ke.memo=function(z,W){return{$$typeof:m,type:z,compare:W===void 0?null:W}},Ke.startTransition=function(z){var W=T.T,ue={};T.T=ue;try{var G=z(),pe=T.S;pe!==null&&pe(ue,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(V,_e)}catch(Ee){_e(Ee)}finally{W!==null&&ue.types!==null&&(W.types=ue.types),T.T=W}},Ke.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ke.use=function(z){return T.H.use(z)},Ke.useActionState=function(z,W,ue){return T.H.useActionState(z,W,ue)},Ke.useCallback=function(z,W){return T.H.useCallback(z,W)},Ke.useContext=function(z){return T.H.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z,W){return T.H.useDeferredValue(z,W)},Ke.useEffect=function(z,W){return T.H.useEffect(z,W)},Ke.useEffectEvent=function(z){return T.H.useEffectEvent(z)},Ke.useId=function(){return T.H.useId()},Ke.useImperativeHandle=function(z,W,ue){return T.H.useImperativeHandle(z,W,ue)},Ke.useInsertionEffect=function(z,W){return T.H.useInsertionEffect(z,W)},Ke.useLayoutEffect=function(z,W){return T.H.useLayoutEffect(z,W)},Ke.useMemo=function(z,W){return T.H.useMemo(z,W)},Ke.useOptimistic=function(z,W){return T.H.useOptimistic(z,W)},Ke.useReducer=function(z,W,ue){return T.H.useReducer(z,W,ue)},Ke.useRef=function(z){return T.H.useRef(z)},Ke.useState=function(z){return T.H.useState(z)},Ke.useSyncExternalStore=function(z,W,ue){return T.H.useSyncExternalStore(z,W,ue)},Ke.useTransition=function(){return T.H.useTransition()},Ke.version="19.2.4",Ke}var nj;function zu(){return nj||(nj=1,Eb.exports=gL()),Eb.exports}var k=zu();const Qw=Di(k),yL=hL({__proto__:null,default:Qw},[k]);var Sb={exports:{}},af={},Nb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj;function xL(){return aj||(aj=1,(function(t){function e(F,Z){var fe=F.length;F.push(Z);e:for(;0<fe;){var _e=fe-1>>>1,le=F[_e];if(0<a(le,Z))F[_e]=Z,F[fe]=le,fe=_e;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Z=F[0],fe=F.pop();if(fe!==Z){F[0]=fe;e:for(var _e=0,le=F.length,z=le>>>1;_e<z;){var W=2*(_e+1)-1,ue=F[W],G=W+1,pe=F[G];if(0>a(ue,fe))G<le&&0>a(pe,ue)?(F[_e]=pe,F[G]=fe,_e=G):(F[_e]=ue,F[W]=fe,_e=W);else if(G<le&&0>a(pe,fe))F[_e]=pe,F[G]=fe,_e=G;else break e}}return Z}function a(F,Z){var fe=F.sortIndex-Z.sortIndex;return fe!==0?fe:F.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],p=1,g=null,b=3,w=!1,_=!1,E=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var Z=r(m);Z!==null;){if(Z.callback===null)n(m);else if(Z.startTime<=F)n(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=r(m)}}function $(F){if(E=!1,M(F),!_)if(r(f)!==null)_=!0,V||(V=!0,B());else{var Z=r(m);Z!==null&&J($,Z.startTime-F)}}var V=!1,T=-1,I=5,R=-1;function U(){return N?!0:!(t.unstable_now()-R<I)}function L(){if(N=!1,V){var F=t.unstable_now();R=F;var Z=!0;try{e:{_=!1,E&&(E=!1,S(T),T=-1),w=!0;var fe=b;try{t:{for(M(F),g=r(f);g!==null&&!(g.expirationTime>F&&U());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,b=g.priorityLevel;var le=_e(g.expirationTime<=F);if(F=t.unstable_now(),typeof le=="function"){g.callback=le,M(F),Z=!0;break t}g===r(f)&&n(f),M(F)}else n(f);g=r(f)}if(g!==null)Z=!0;else{var z=r(m);z!==null&&J($,z.startTime-F),Z=!1}}break e}finally{g=null,b=fe,w=!1}Z=void 0}}finally{Z?B():V=!1}}}var B;if(typeof P=="function")B=function(){P(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=L,B=function(){X.postMessage(null)}}else B=function(){C(L,0)};function J(F,Z){T=C(function(){F(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var fe=b;b=Z;try{return F()}finally{b=fe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=b;b=F;try{return Z()}finally{b=fe}},t.unstable_scheduleCallback=function(F,Z,fe){var _e=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?_e+fe:_e):fe=_e,F){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=fe+le,F={id:p++,callback:Z,priorityLevel:F,startTime:fe,expirationTime:le,sortIndex:-1},fe>_e?(F.sortIndex=fe,e(m,F),r(f)===null&&F===r(m)&&(E?(S(T),T=-1):E=!0,J($,fe-_e))):(F.sortIndex=le,e(f,F),_||w||(_=!0,V||(V=!0,B()))),F},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(F){var Z=b;return function(){var fe=b;b=Z;try{return F.apply(this,arguments)}finally{b=fe}}}})(jb)),jb}var ij;function bL(){return ij||(ij=1,Nb.exports=xL()),Nb.exports}var Tb={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function vL(){if(sj)return on;sj=1;var t=zu();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,on.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(f,m,null,p)},on.flushSync=function(f){var m=c.T,p=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=p,n.d.f()}},on.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},on.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},on.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},on.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=d(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},on.requestFormReset=function(f){n.d.r(f)},on.unstable_batchedUpdates=function(f,m){return f(m)},on.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.4",on}var oj;function Y4(){if(oj)return Tb.exports;oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tb.exports=vL(),Tb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj;function wL(){if(lj)return af;lj=1;var t=bL(),e=zu(),r=Y4();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var x=u.return;if(x===null)break;var v=x.alternate;if(v===null){if(h=x.return,h!==null){u=h;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===u)return f(x),i;if(v===h)return f(x),o;v=v.sibling}throw Error(n(188))}if(u.return!==h.return)u=x,h=v;else{for(var A=!1,D=x.child;D;){if(D===u){A=!0,u=x,h=v;break}if(D===h){A=!0,h=x,u=v;break}D=D.sibling}if(!A){for(D=v.child;D;){if(D===u){A=!0,u=v,h=x;break}if(D===h){A=!0,h=v,u=x;break}D=D.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case P:return i.displayName||"Context";case S:return(i._context.displayName||"Context")+".Consumer";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case T:return o=i.displayName||null,o!==null?o:X(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return X(i(o))}catch{}}return null}var J=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},_e=[],le=-1;function z(i){return{current:i}}function W(i){0>le||(i.current=_e[le],_e[le]=null,le--)}function ue(i,o){le++,_e[le]=i.current,i.current=o}var G=z(null),pe=z(null),Ee=z(null),be=z(null);function Fe(i,o){switch(ue(Ee,o),ue(pe,i),ue(G,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?_N(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=_N(o),i=EN(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(G),ue(G,i)}function se(){W(G),W(pe),W(Ee)}function Be(i){i.memoizedState!==null&&ue(be,i);var o=G.current,u=EN(o,i.type);o!==u&&(ue(pe,i),ue(G,u))}function Le(i){pe.current===i&&(W(G),W(pe)),be.current===i&&(W(be),Jd._currentValue=fe)}var ye,ft;function We(i){if(ye===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ye=o&&o[1]||"",ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+i+ft}var It=!1;function At(i,o){if(!i||It)return"";It=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ce){var ie=ce}Reflect.construct(i,[],me)}else{try{me.call()}catch(ce){ie=ce}i.call(me.prototype)}}else{try{throw Error()}catch(ce){ie=ce}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ce){if(ce&&ie&&typeof ce.stack=="string")return[ce.stack,ie.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),A=v[0],D=v[1];if(A&&D){var K=A.split(`
`),ne=D.split(`
`);for(x=h=0;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(h===K.length||x===ne.length)for(h=K.length-1,x=ne.length-1;1<=h&&0<=x&&K[h]!==ne[x];)x--;for(;1<=h&&0<=x;h--,x--)if(K[h]!==ne[x]){if(h!==1||x!==1)do if(h--,x--,0>x||K[h]!==ne[x]){var de=`
`+K[h].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=h&&0<=x);break}}}finally{It=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?We(u):""}function jr(i,o){switch(i.tag){case 26:case 27:case 5:return We(i.type);case 16:return We("Lazy");case 13:return i.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return We("Activity");default:return""}}function Ln(i){try{var o="",u=null;do o+=jr(i,u),u=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ct=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,ze=t.unstable_cancelCallback,nd=t.unstable_shouldYield,Ko=t.unstable_requestPaint,Br=t.unstable_now,Li=t.unstable_getCurrentPriorityLevel,Rs=t.unstable_ImmediatePriority,Ms=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,ad=t.unstable_LowPriority,Yo=t.unstable_IdlePriority,Ds=t.log,Wo=t.unstable_setDisableYieldValue,wn=null,Ft=null;function an(i){if(typeof Ds=="function"&&Wo(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(wn,i)}catch{}}var Gt=Math.clz32?Math.clz32:Xo,cc=Math.log,zs=Math.LN2;function Xo(i){return i>>>=0,i===0?32:31-(cc(i)/zs|0)|0}var Vn=256,Ja=262144,Kt=4194304;function kn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Un(i,o,u){var h=i.pendingLanes;if(h===0)return 0;var x=0,v=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var D=h&134217727;return D!==0?(h=D&~v,h!==0?x=kn(h):(A&=D,A!==0?x=kn(A):u||(u=D&~i,u!==0&&(x=kn(u))))):(D=h&~v,D!==0?x=kn(D):A!==0?x=kn(A):u||(u=h&~i,u!==0&&(x=kn(u)))),x===0?0:o!==0&&o!==x&&(o&v)===0&&(v=x&-x,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:x}function _n(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function id(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function Bn(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function re(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function we(i,o,u,h,x,v){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,K=i.expirationTimes,ne=i.hiddenUpdates;for(u=A&~u;0<u;){var de=31-Gt(u),me=1<<de;D[de]=0,K[de]=-1;var ie=ne[de];if(ie!==null)for(ne[de]=null,de=0;de<ie.length;de++){var ce=ie[de];ce!==null&&(ce.lane&=-536870913)}u&=~me}h!==0&&xe(i,h,0),v!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=v&~(A&~o))}function xe(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Gt(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Ne(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Gt(u),x=1<<h;x&o|i[h]&o&&(i[h]|=o),u&=~x}}function Oe(i,o){var u=o&-o;return u=(u&42)!==0?1:Pe(u),(u&(i.suspendedLanes|o))!==0?0:u}function Pe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ar(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qe(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:KN(i.type))}function sn(i,o){var u=Z.p;try{return Z.p=i,o()}finally{Z.p=u}}var $r=Math.random().toString(36).slice(2),cr="__reactFiber$"+$r,Tr="__reactProps$"+$r,ei="__reactContainer$"+$r,dc="__reactEvents$"+$r,Ty="__reactListeners$"+$r,Vh="__reactHandles$"+$r,Uh="__reactResources$"+$r,ti="__reactMarker$"+$r;function fc(i){delete i[cr],delete i[Tr],delete i[dc],delete i[Ty],delete i[Vh]}function ri(i){var o=i[cr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ei]||u[cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=ON(i);i!==null;){if(u=i[cr])return u;i=ON(i)}return o}i=u,u=i.parentNode}return null}function oa(i){if(i=i[cr]||i[ei]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function $n(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ni(i){var o=i[Uh];return o||(o=i[Uh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ur(i){i[ti]=!0}var sd=new Set,od={};function ai(i,o){ii(i,o),ii(i+"Capture",o)}function ii(i,o){for(od[i]=o,i=0;i<o.length;i++)sd.add(o[i])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},ud={};function Bh(i){return Ct.call(ud,i)?!0:Ct.call(cd,i)?!1:ld.test(i)?ud[i]=!0:(cd[i]=!0,!1)}function hc(i,o,u){if(Bh(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Hn(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function dr(i,o,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+h)}}function Ar(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dd(i,o,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,v=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yt(i){if(!i._valueTracker){var o=Ls(i)?"checked":"value";i._valueTracker=dd(i,o,""+i[o])}}function Qo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=Ls(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zo=/[\n"\\]/g;function En(i){return i.replace(Zo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mc(i,o,u,h,x,v,A,D){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ar(o)):i.value!==""+Ar(o)&&(i.value=""+Ar(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?fd(i,A,Ar(o)):u!=null?fd(i,A,Ar(u)):h!=null&&i.removeAttribute("value"),x==null&&v!=null&&(i.defaultChecked=!!v),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Ar(D):i.removeAttribute("name")}function $h(i,o,u,h,x,v,A,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){yt(i);return}u=u!=null?""+Ar(u):"",o=o!=null?""+Ar(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=D?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),yt(i)}function fd(i,o,u){o==="number"&&si(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Vs(i,o,u,h){if(i=i.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=o.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Ar(u),o=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,h&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function Hh(i,o,u){if(o!=null&&(o=""+Ar(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Ar(u):""}function Us(i,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Ar(o),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),yt(i)}function Sn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(i,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,u):typeof u!="number"||u===0||qh.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function md(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var x in o)h=o[x],o.hasOwnProperty(x)&&u[x]!==h&&hd(i,x,h)}else for(var v in o)o.hasOwnProperty(v)&&hd(i,v,o[v])}function pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Pa(){}var pd=null;function la(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,oi=null;function Jo(i){var o=oa(i);if(o&&(i=o.stateNode)){var u=i[Tr]||null;e:switch(i=o.stateNode,o.type){case"input":if(mc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+En(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var x=h[Tr]||null;if(!x)throw Error(n(90));mc(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===i.form&&Qo(h)}break e;case"textarea":Hh(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Vs(i,!!u.multiple,o,!1)}}}var yc=!1;function Hs(i,o,u){if(yc)return i(o,u);yc=!0;try{var h=i(o);return h}finally{if(yc=!1,($s!==null||oi!==null)&&(Lm(),$s&&(o=$s,i=oi,oi=$s=null,Jo(o),i)))for(o=0;o<i.length;o++)Jo(i[o])}}function Ra(i,o){var u=i.stateNode;if(u===null)return null;var h=u[Tr]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(ca)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){el=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{el=!1}var li=null,gd=null,tl=null;function yd(){if(tl)return tl;var i,o=gd,u=o.length,h,x="value"in li?li.value:li.textContent,v=x.length;for(i=0;i<u&&o[i]===x[i];i++);var A=u-i;for(h=1;h<=A&&o[u-h]===x[v-h];h++);return tl=x.slice(i,1<h?1-h:void 0)}function rl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Vi(){return!0}function Ma(){return!1}function Hr(i){function o(u,h,x,v,A){this._reactName=u,this._targetInst=x,this.type=h,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vi:Ma,this.isPropagationStopped=Ma,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),o}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Hr(Ui),qs=g({},Ui,{view:0,detail:0}),xd=Hr(qs),Fs,xc,ui,bc=g({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ui&&(ui&&i.type==="mousemove"?(Fs=i.screenX-ui.screenX,xc=i.screenY-ui.screenY):xc=Fs=0,ui=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:xc}}),bd=Hr(bc),nl=g({},bc,{dataTransfer:0}),Gh=Hr(nl),Kh=g({},qs,{relatedTarget:0}),al=Hr(Kh),vd=g({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=Hr(vd),vc=g({},Ui,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wh=Hr(vc),Xh=g({},Ui,{data:0}),di=Hr(Xh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Jh[i])?!!o[i]:!1}function Gs(){return em}var pn=g({},qs,{key:function(i){if(i.key){var o=Qh[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=rl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(i){return i.type==="keypress"?rl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tm=Hr(pn),rm=g({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Hr(rm),y=g({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),j=Hr(y),O=g({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Hr(O),ee=g({},bc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Hr(ee),Se=g({},Ui,{newState:0,oldState:0}),Xe=Hr(Se),ir=[9,13,27,32],ht=ca&&"CompositionEvent"in window,Vt=null;ca&&"documentMode"in document&&(Vt=document.documentMode);var ua=ca&&"TextEvent"in window&&!Vt,fi=ca&&(!ht||Vt&&8<Vt&&11>=Vt),Da=" ",za=!1;function il(i,o){switch(i){case"keyup":return ir.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kc=!1;function Mz(i,o){switch(i){case"compositionend":return wc(o);case"keypress":return o.which!==32?null:(za=!0,Da);case"textInput":return i=o.data,i===Da&&za?null:i;default:return null}}function Dz(i,o){if(kc)return i==="compositionend"||!ht&&il(i,o)?(i=yd(),tl=gd=li=null,kc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fi&&o.locale!=="ko"?null:o.data;default:return null}}var zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!zz[i.type]:o==="textarea"}function M_(i,o,u,h){$s?oi?oi.push(h):oi=[h]:$s=h,o=Fm(o,"onChange"),0<o.length&&(u=new ci("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var wd=null,kd=null;function Lz(i){yN(i,0)}function nm(i){var o=$n(i);if(Qo(o))return i}function D_(i,o){if(i==="change")return o}var z_=!1;if(ca){var Ay;if(ca){var Cy="oninput"in document;if(!Cy){var L_=document.createElement("div");L_.setAttribute("oninput","return;"),Cy=typeof L_.oninput=="function"}Ay=Cy}else Ay=!1;z_=Ay&&(!document.documentMode||9<document.documentMode)}function V_(){wd&&(wd.detachEvent("onpropertychange",U_),kd=wd=null)}function U_(i){if(i.propertyName==="value"&&nm(kd)){var o=[];M_(o,kd,i,la(i)),Hs(Lz,o)}}function Vz(i,o,u){i==="focusin"?(V_(),wd=o,kd=u,wd.attachEvent("onpropertychange",U_)):i==="focusout"&&V_()}function Uz(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nm(kd)}function Bz(i,o){if(i==="click")return nm(o)}function $z(i,o){if(i==="input"||i==="change")return nm(o)}function Hz(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qn=typeof Object.is=="function"?Object.is:Hz;function _d(i,o){if(qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var x=u[h];if(!Ct.call(o,x)||!qn(i[x],o[x]))return!1}return!0}function B_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $_(i,o){var u=B_(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=B_(u)}}function H_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?H_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function q_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=si(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=si(i.document)}return o}function Oy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var qz=ca&&"documentMode"in document&&11>=document.documentMode,_c=null,Iy=null,Ed=null,Py=!1;function F_(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Py||_c==null||_c!==si(h)||(h=_c,"selectionStart"in h&&Oy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ed&&_d(Ed,h)||(Ed=h,h=Fm(Iy,"onSelect"),0<h.length&&(o=new ci("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=_c)))}function sl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ec={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},Ry={},G_={};ca&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function ol(i){if(Ry[i])return Ry[i];if(!Ec[i])return i;var o=Ec[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in G_)return Ry[i]=o[u];return i}var K_=ol("animationend"),Y_=ol("animationiteration"),W_=ol("animationstart"),Fz=ol("transitionrun"),Gz=ol("transitionstart"),Kz=ol("transitioncancel"),X_=ol("transitionend"),Q_=new Map,My="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");My.push("scrollEnd");function La(i,o){Q_.set(i,o),ai(o,[i])}var am=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},da=[],Sc=0,Dy=0;function im(){for(var i=Sc,o=Dy=Sc=0;o<i;){var u=da[o];da[o++]=null;var h=da[o];da[o++]=null;var x=da[o];da[o++]=null;var v=da[o];if(da[o++]=null,h!==null&&x!==null){var A=h.pending;A===null?x.next=x:(x.next=A.next,A.next=x),h.pending=x}v!==0&&Z_(u,x,v)}}function sm(i,o,u,h){da[Sc++]=i,da[Sc++]=o,da[Sc++]=u,da[Sc++]=h,Dy|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function zy(i,o,u,h){return sm(i,o,u,h),om(i)}function ll(i,o){return sm(i,null,null,o),om(i)}function Z_(i,o,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var x=!1,v=i.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(x=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,x&&o!==null&&(x=31-Gt(u),i=v.hiddenUpdates,h=i[x],h===null?i[x]=[o]:h.push(o),o.lane=u|536870912),v):null}function om(i){if(50<Gd)throw Gd=0,Gx=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Nc={};function Yz(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,o,u,h){return new Yz(i,o,u,h)}function Ly(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $i(i,o){var u=i.alternate;return u===null?(u=Fn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function J_(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function lm(i,o,u,h,x,v){var A=0;if(h=i,typeof i=="function")Ly(i)&&(A=1);else if(typeof i=="string")A=J9(i,u,G.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Fn(31,u,o,x),i.elementType=R,i.lanes=v,i;case E:return cl(u.children,x,v,o);case N:A=8,x|=24;break;case C:return i=Fn(12,u,o,x|2),i.elementType=C,i.lanes=v,i;case $:return i=Fn(13,u,o,x),i.elementType=$,i.lanes=v,i;case V:return i=Fn(19,u,o,x),i.elementType=V,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:A=10;break e;case S:A=9;break e;case M:A=11;break e;case T:A=14;break e;case I:A=16,h=null;break e}A=29,u=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=Fn(A,u,o,x),o.elementType=i,o.type=h,o.lanes=v,o}function cl(i,o,u,h){return i=Fn(7,i,h,o),i.lanes=u,i}function Vy(i,o,u){return i=Fn(6,i,null,o),i.lanes=u,i}function eE(i){var o=Fn(18,null,null,0);return o.stateNode=i,o}function Uy(i,o,u){return o=Fn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var tE=new WeakMap;function fa(i,o){if(typeof i=="object"&&i!==null){var u=tE.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ln(o)},tE.set(i,o),o)}return{value:i,source:o,stack:Ln(o)}}var jc=[],Tc=0,cm=null,Sd=0,ha=[],ma=0,Ks=null,hi=1,mi="";function Hi(i,o){jc[Tc++]=Sd,jc[Tc++]=cm,cm=i,Sd=o}function rE(i,o,u){ha[ma++]=hi,ha[ma++]=mi,ha[ma++]=Ks,Ks=i;var h=hi;i=mi;var x=32-Gt(h)-1;h&=~(1<<x),u+=1;var v=32-Gt(o)+x;if(30<v){var A=x-x%5;v=(h&(1<<A)-1).toString(32),h>>=A,x-=A,hi=1<<32-Gt(o)+x|u<<x|h,mi=v+i}else hi=1<<v|u<<x|h,mi=i}function By(i){i.return!==null&&(Hi(i,1),rE(i,1,0))}function $y(i){for(;i===cm;)cm=jc[--Tc],jc[Tc]=null,Sd=jc[--Tc],jc[Tc]=null;for(;i===Ks;)Ks=ha[--ma],ha[ma]=null,mi=ha[--ma],ha[ma]=null,hi=ha[--ma],ha[ma]=null}function nE(i,o){ha[ma++]=hi,ha[ma++]=mi,ha[ma++]=Ks,hi=o.id,mi=o.overflow,Ks=i}var qr=null,Pt=null,ot=!1,Ys=null,pa=!1,Hy=Error(n(519));function Ws(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nd(fa(o,i)),Hy}function aE(i){var o=i.stateNode,u=i.type,h=i.memoizedProps;switch(o[cr]=i,o[Tr]=h,u){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(u=0;u<Yd.length;u++)et(Yd[u],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),$h(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Us(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||wN(o.textContent,u)?(h.popover!=null&&(et("beforetoggle",o),et("toggle",o)),h.onScroll!=null&&et("scroll",o),h.onScrollEnd!=null&&et("scrollend",o),h.onClick!=null&&(o.onclick=Pa),o=!0):o=!1,o||Ws(i,!0)}function iE(i){for(qr=i.return;qr;)switch(qr.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:qr=qr.return}}function Ac(i){if(i!==qr)return!1;if(!ot)return iE(i),ot=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ob(i.type,i.memoizedProps)),u=!u),u&&Pt&&Ws(i),iE(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Pt=CN(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Pt=CN(i)}else o===27?(o=Pt,co(i.type)?(i=fb,fb=null,Pt=i):Pt=o):Pt=qr?ya(i.stateNode.nextSibling):null;return!0}function ul(){Pt=qr=null,ot=!1}function qy(){var i=Ys;return i!==null&&(An===null?An=i:An.push.apply(An,i),Ys=null),i}function Nd(i){Ys===null?Ys=[i]:Ys.push(i)}var Fy=z(null),dl=null,qi=null;function Xs(i,o,u){ue(Fy,o._currentValue),o._currentValue=u}function Fi(i){i._currentValue=Fy.current,W(Fy)}function Gy(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function Ky(i,o,u,h){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var v=x.dependencies;if(v!==null){var A=x.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=x;for(var K=0;K<o.length;K++)if(D.context===o[K]){v.lanes|=u,D=v.alternate,D!==null&&(D.lanes|=u),Gy(v.return,u,i),h||(A=null);break e}v=D.next}}else if(x.tag===18){if(A=x.return,A===null)throw Error(n(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),Gy(A,u,i),A=null}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===i){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}}function Cc(i,o,u,h){i=null;for(var x=o,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var A=x.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var D=x.type;qn(x.pendingProps.value,A.value)||(i!==null?i.push(D):i=[D])}}else if(x===be.current){if(A=x.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(Jd):i=[Jd])}x=x.return}i!==null&&Ky(o,i,u,h),o.flags|=262144}function um(i){for(i=i.firstContext;i!==null;){if(!qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fl(i){dl=i,qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fr(i){return sE(dl,i)}function dm(i,o){return dl===null&&fl(i),sE(i,o)}function sE(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},qi===null){if(i===null)throw Error(n(308));qi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else qi=qi.next=o;return u}var Wz=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},Xz=t.unstable_scheduleCallback,Qz=t.unstable_NormalPriority,fr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yy(){return{controller:new Wz,data:new Map,refCount:0}}function jd(i){i.refCount--,i.refCount===0&&Xz(Qz,function(){i.controller.abort()})}var Td=null,Wy=0,Oc=0,Ic=null;function Zz(i,o){if(Td===null){var u=Td=[];Wy=0,Oc=Zx(),Ic={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Wy++,o.then(oE,oE),o}function oE(){if(--Wy===0&&Td!==null){Ic!==null&&(Ic.status="fulfilled");var i=Td;Td=null,Oc=0,Ic=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function Jz(i,o){var u=[],h={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(h.status="rejected",h.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),h}var lE=F.S;F.S=function(i,o){FS=Br(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Zz(i,o),lE!==null&&lE(i,o)};var hl=z(null);function Xy(){var i=hl.current;return i!==null?i:Nt.pooledCache}function fm(i,o){o===null?ue(hl,hl.current):ue(hl,o.pool)}function cE(){var i=Xy();return i===null?null:{parent:fr._currentValue,pool:i}}var Pc=Error(n(460)),Qy=Error(n(474)),hm=Error(n(542)),mm={then:function(){}};function uE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dE(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Pa,Pa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hE(i),i;default:if(typeof o.status=="string")o.then(Pa,Pa);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=h}},function(h){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hE(i),i}throw pl=o,Pc}}function ml(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(pl=u,Pc):u}}var pl=null;function fE(){if(pl===null)throw Error(n(459));var i=pl;return pl=null,i}function hE(i){if(i===Pc||i===hm)throw Error(n(483))}var Rc=null,Ad=0;function pm(i){var o=Ad;return Ad+=1,Rc===null&&(Rc=[]),dE(Rc,i,o)}function Cd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function gm(i,o){throw o.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function mE(i){function o(Q,Y){if(i){var te=Q.deletions;te===null?(Q.deletions=[Y],Q.flags|=16):te.push(Y)}}function u(Q,Y){if(!i)return null;for(;Y!==null;)o(Q,Y),Y=Y.sibling;return null}function h(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function x(Q,Y){return Q=$i(Q,Y),Q.index=0,Q.sibling=null,Q}function v(Q,Y,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<Y?(Q.flags|=67108866,Y):te):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function A(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,Y,te,he){return Y===null||Y.tag!==6?(Y=Vy(te,Q.mode,he),Y.return=Q,Y):(Y=x(Y,te),Y.return=Q,Y)}function K(Q,Y,te,he){var De=te.type;return De===E?de(Q,Y,te.props.children,he,te.key):Y!==null&&(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&ml(De)===Y.type)?(Y=x(Y,te.props),Cd(Y,te),Y.return=Q,Y):(Y=lm(te.type,te.key,te.props,null,Q.mode,he),Cd(Y,te),Y.return=Q,Y)}function ne(Q,Y,te,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=Uy(te,Q.mode,he),Y.return=Q,Y):(Y=x(Y,te.children||[]),Y.return=Q,Y)}function de(Q,Y,te,he,De){return Y===null||Y.tag!==7?(Y=cl(te,Q.mode,he,De),Y.return=Q,Y):(Y=x(Y,te),Y.return=Q,Y)}function me(Q,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Vy(""+Y,Q.mode,te),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return te=lm(Y.type,Y.key,Y.props,null,Q.mode,te),Cd(te,Y),te.return=Q,te;case _:return Y=Uy(Y,Q.mode,te),Y.return=Q,Y;case I:return Y=ml(Y),me(Q,Y,te)}if(J(Y)||B(Y))return Y=cl(Y,Q.mode,te,null),Y.return=Q,Y;if(typeof Y.then=="function")return me(Q,pm(Y),te);if(Y.$$typeof===P)return me(Q,dm(Q,Y),te);gm(Q,Y)}return null}function ie(Q,Y,te,he){var De=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return De!==null?null:D(Q,Y,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===De?K(Q,Y,te,he):null;case _:return te.key===De?ne(Q,Y,te,he):null;case I:return te=ml(te),ie(Q,Y,te,he)}if(J(te)||B(te))return De!==null?null:de(Q,Y,te,he,null);if(typeof te.then=="function")return ie(Q,Y,pm(te),he);if(te.$$typeof===P)return ie(Q,Y,dm(Q,te),he);gm(Q,te)}return null}function ce(Q,Y,te,he,De){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(te)||null,D(Y,Q,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return Q=Q.get(he.key===null?te:he.key)||null,K(Y,Q,he,De);case _:return Q=Q.get(he.key===null?te:he.key)||null,ne(Y,Q,he,De);case I:return he=ml(he),ce(Q,Y,te,he,De)}if(J(he)||B(he))return Q=Q.get(te)||null,de(Y,Q,he,De,null);if(typeof he.then=="function")return ce(Q,Y,te,pm(he),De);if(he.$$typeof===P)return ce(Q,Y,te,dm(Y,he),De);gm(Y,he)}return null}function Ae(Q,Y,te,he){for(var De=null,ct=null,Ie=Y,Ze=Y=0,rt=null;Ie!==null&&Ze<te.length;Ze++){Ie.index>Ze?(rt=Ie,Ie=null):rt=Ie.sibling;var ut=ie(Q,Ie,te[Ze],he);if(ut===null){Ie===null&&(Ie=rt);break}i&&Ie&&ut.alternate===null&&o(Q,Ie),Y=v(ut,Y,Ze),ct===null?De=ut:ct.sibling=ut,ct=ut,Ie=rt}if(Ze===te.length)return u(Q,Ie),ot&&Hi(Q,Ze),De;if(Ie===null){for(;Ze<te.length;Ze++)Ie=me(Q,te[Ze],he),Ie!==null&&(Y=v(Ie,Y,Ze),ct===null?De=Ie:ct.sibling=Ie,ct=Ie);return ot&&Hi(Q,Ze),De}for(Ie=h(Ie);Ze<te.length;Ze++)rt=ce(Ie,Q,Ze,te[Ze],he),rt!==null&&(i&&rt.alternate!==null&&Ie.delete(rt.key===null?Ze:rt.key),Y=v(rt,Y,Ze),ct===null?De=rt:ct.sibling=rt,ct=rt);return i&&Ie.forEach(function(po){return o(Q,po)}),ot&&Hi(Q,Ze),De}function Ue(Q,Y,te,he){if(te==null)throw Error(n(151));for(var De=null,ct=null,Ie=Y,Ze=Y=0,rt=null,ut=te.next();Ie!==null&&!ut.done;Ze++,ut=te.next()){Ie.index>Ze?(rt=Ie,Ie=null):rt=Ie.sibling;var po=ie(Q,Ie,ut.value,he);if(po===null){Ie===null&&(Ie=rt);break}i&&Ie&&po.alternate===null&&o(Q,Ie),Y=v(po,Y,Ze),ct===null?De=po:ct.sibling=po,ct=po,Ie=rt}if(ut.done)return u(Q,Ie),ot&&Hi(Q,Ze),De;if(Ie===null){for(;!ut.done;Ze++,ut=te.next())ut=me(Q,ut.value,he),ut!==null&&(Y=v(ut,Y,Ze),ct===null?De=ut:ct.sibling=ut,ct=ut);return ot&&Hi(Q,Ze),De}for(Ie=h(Ie);!ut.done;Ze++,ut=te.next())ut=ce(Ie,Q,Ze,ut.value,he),ut!==null&&(i&&ut.alternate!==null&&Ie.delete(ut.key===null?Ze:ut.key),Y=v(ut,Y,Ze),ct===null?De=ut:ct.sibling=ut,ct=ut);return i&&Ie.forEach(function(uL){return o(Q,uL)}),ot&&Hi(Q,Ze),De}function Et(Q,Y,te,he){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var De=te.key;Y!==null;){if(Y.key===De){if(De=te.type,De===E){if(Y.tag===7){u(Q,Y.sibling),he=x(Y,te.props.children),he.return=Q,Q=he;break e}}else if(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&ml(De)===Y.type){u(Q,Y.sibling),he=x(Y,te.props),Cd(he,te),he.return=Q,Q=he;break e}u(Q,Y);break}else o(Q,Y);Y=Y.sibling}te.type===E?(he=cl(te.props.children,Q.mode,he,te.key),he.return=Q,Q=he):(he=lm(te.type,te.key,te.props,null,Q.mode,he),Cd(he,te),he.return=Q,Q=he)}return A(Q);case _:e:{for(De=te.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){u(Q,Y.sibling),he=x(Y,te.children||[]),he.return=Q,Q=he;break e}else{u(Q,Y);break}else o(Q,Y);Y=Y.sibling}he=Uy(te,Q.mode,he),he.return=Q,Q=he}return A(Q);case I:return te=ml(te),Et(Q,Y,te,he)}if(J(te))return Ae(Q,Y,te,he);if(B(te)){if(De=B(te),typeof De!="function")throw Error(n(150));return te=De.call(te),Ue(Q,Y,te,he)}if(typeof te.then=="function")return Et(Q,Y,pm(te),he);if(te.$$typeof===P)return Et(Q,Y,dm(Q,te),he);gm(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(u(Q,Y.sibling),he=x(Y,te),he.return=Q,Q=he):(u(Q,Y),he=Vy(te,Q.mode,he),he.return=Q,Q=he),A(Q)):u(Q,Y)}return function(Q,Y,te,he){try{Ad=0;var De=Et(Q,Y,te,he);return Rc=null,De}catch(Ie){if(Ie===Pc||Ie===hm)throw Ie;var ct=Fn(29,Ie,null,Q.mode);return ct.lanes=he,ct.return=Q,ct}finally{}}}var gl=mE(!0),pE=mE(!1),Qs=!1;function Zy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(mt&2)!==0){var x=h.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),h.pending=o,o=om(i),Z_(i,null,u),o}return sm(i,h,o,u),om(i)}function Od(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Ne(i,u)}}function ex(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var x=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?x=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?x=v=o:v=v.next=o}else x=v=o;u={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var tx=!1;function Id(){if(tx){var i=Ic;if(i!==null)throw i}}function Pd(i,o,u,h){tx=!1;var x=i.updateQueue;Qs=!1;var v=x.firstBaseUpdate,A=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var K=D,ne=K.next;K.next=null,A===null?v=ne:A.next=ne,A=K;var de=i.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==A&&(D===null?de.firstBaseUpdate=ne:D.next=ne,de.lastBaseUpdate=K))}if(v!==null){var me=x.baseState;A=0,de=ne=K=null,D=v;do{var ie=D.lane&-536870913,ce=ie!==D.lane;if(ce?(tt&ie)===ie:(h&ie)===ie){ie!==0&&ie===Oc&&(tx=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ae=i,Ue=D;ie=o;var Et=u;switch(Ue.tag){case 1:if(Ae=Ue.payload,typeof Ae=="function"){me=Ae.call(Et,me,ie);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ue.payload,ie=typeof Ae=="function"?Ae.call(Et,me,ie):Ae,ie==null)break e;me=g({},me,ie);break e;case 2:Qs=!0}}ie=D.callback,ie!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=x.callbacks,ce===null?x.callbacks=[ie]:ce.push(ie))}else ce={lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(ne=de=ce,K=me):de=de.next=ce,A|=ie;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,x.lastBaseUpdate=ce,x.shared.pending=null}}while(!0);de===null&&(K=me),x.baseState=K,x.firstBaseUpdate=ne,x.lastBaseUpdate=de,v===null&&(x.shared.lanes=0),ao|=A,i.lanes=A,i.memoizedState=me}}function gE(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function yE(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)gE(u[i],o)}var Mc=z(null),ym=z(0);function xE(i,o){i=es,ue(ym,i),ue(Mc,o),es=i|o.baseLanes}function rx(){ue(ym,es),ue(Mc,Mc.current)}function nx(){es=ym.current,W(Mc),W(ym)}var Gn=z(null),ga=null;function eo(i){var o=i.alternate;ue(sr,sr.current&1),ue(Gn,i),ga===null&&(o===null||Mc.current!==null||o.memoizedState!==null)&&(ga=i)}function ax(i){ue(sr,sr.current),ue(Gn,i),ga===null&&(ga=i)}function bE(i){i.tag===22?(ue(sr,sr.current),ue(Gn,i),ga===null&&(ga=i)):to()}function to(){ue(sr,sr.current),ue(Gn,Gn.current)}function Kn(i){W(Gn),ga===i&&(ga=null),W(sr)}var sr=z(0);function xm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ub(u)||db(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gi=0,Qe=null,kt=null,hr=null,bm=!1,Dc=!1,yl=!1,vm=0,Rd=0,zc=null,e9=0;function Qt(){throw Error(n(321))}function ix(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!qn(i[u],o[u]))return!1;return!0}function sx(i,o,u,h,x,v){return Gi=v,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=i===null||i.memoizedState===null?rS:wx,yl=!1,v=u(h,x),yl=!1,Dc&&(v=wE(o,u,h,x)),vE(i),v}function vE(i){F.H=zd;var o=kt!==null&&kt.next!==null;if(Gi=0,hr=kt=Qe=null,bm=!1,Rd=0,zc=null,o)throw Error(n(300));i===null||mr||(i=i.dependencies,i!==null&&um(i)&&(mr=!0))}function wE(i,o,u,h){Qe=i;var x=0;do{if(Dc&&(zc=null),Rd=0,Dc=!1,25<=x)throw Error(n(301));if(x+=1,hr=kt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=nS,v=o(u,h)}while(Dc);return v}function t9(){var i=F.H,o=i.useState()[0];return o=typeof o.then=="function"?Md(o):o,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(Qe.flags|=1024),o}function ox(){var i=vm!==0;return vm=0,i}function lx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function cx(i){if(bm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}bm=!1}Gi=0,hr=kt=Qe=null,Dc=!1,Rd=vm=0,zc=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Qe.memoizedState=hr=i:hr=hr.next=i,hr}function or(){if(kt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=hr===null?Qe.memoizedState:hr.next;if(o!==null)hr=o,kt=i;else{if(i===null)throw Qe.alternate===null?Error(n(467)):Error(n(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},hr===null?Qe.memoizedState=hr=i:hr=hr.next=i}return hr}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(i){var o=Rd;return Rd+=1,zc===null&&(zc=[]),i=dE(zc,i,o),o=Qe,(hr===null?o.memoizedState:hr.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?rS:wx),i}function km(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Md(i);if(i.$$typeof===P)return Fr(i)}throw Error(n(438,String(i)))}function ux(i){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=wm(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),h=0;h<i;h++)u[h]=U;return o.index++,u}function Ki(i,o){return typeof o=="function"?o(i):o}function _m(i){var o=or();return dx(o,kt,i)}function dx(i,o,u){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var x=i.baseQueue,v=h.pending;if(v!==null){if(x!==null){var A=x.next;x.next=v.next,v.next=A}o.baseQueue=x=v,h.pending=null}if(v=i.baseState,x===null)i.memoizedState=v;else{o=x.next;var D=A=null,K=null,ne=o,de=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(tt&me)===me:(Gi&me)===me){var ie=ne.revertLane;if(ie===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===Oc&&(de=!0);else if((Gi&ie)===ie){ne=ne.next,ie===Oc&&(de=!0);continue}else me={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(D=K=me,A=v):K=K.next=me,Qe.lanes|=ie,ao|=ie;me=ne.action,yl&&u(v,me),v=ne.hasEagerState?ne.eagerState:u(v,me)}else ie={lane:me,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(D=K=ie,A=v):K=K.next=ie,Qe.lanes|=me,ao|=me;ne=ne.next}while(ne!==null&&ne!==o);if(K===null?A=v:K.next=D,!qn(v,i.memoizedState)&&(mr=!0,de&&(u=Ic,u!==null)))throw u;i.memoizedState=v,i.baseState=A,i.baseQueue=K,h.lastRenderedState=v}return x===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function fx(i){var o=or(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,x=u.pending,v=o.memoizedState;if(x!==null){u.pending=null;var A=x=x.next;do v=i(v,A.action),A=A.next;while(A!==x);qn(v,o.memoizedState)||(mr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function kE(i,o,u){var h=Qe,x=or(),v=ot;if(v){if(u===void 0)throw Error(n(407));u=u()}else u=o();var A=!qn((kt||x).memoizedState,u);if(A&&(x.memoizedState=u,mr=!0),x=x.queue,px(SE.bind(null,h,x,i),[i]),x.getSnapshot!==o||A||hr!==null&&hr.memoizedState.tag&1){if(h.flags|=2048,Lc(9,{destroy:void 0},EE.bind(null,h,x,u,o),null),Nt===null)throw Error(n(349));v||(Gi&127)!==0||_E(h,o,u)}return u}function _E(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=wm(),Qe.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function EE(i,o,u,h){o.value=u,o.getSnapshot=h,NE(o)&&jE(i)}function SE(i,o,u){return u(function(){NE(o)&&jE(i)})}function NE(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!qn(i,u)}catch{return!0}}function jE(i){var o=ll(i,2);o!==null&&Cn(o,i,2)}function hx(i){var o=gn();if(typeof i=="function"){var u=i;if(i=u(),yl){an(!0);try{u()}finally{an(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},o}function TE(i,o,u,h){return i.baseState=u,dx(i,kt,typeof h=="function"?h:Ki)}function r9(i,o,u,h,x){if(Nm(i))throw Error(n(485));if(i=o.action,i!==null){var v={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};F.T!==null?u(!0):v.isTransition=!1,h(v),u=o.pending,u===null?(v.next=o.pending=v,AE(o,v)):(v.next=u.next,o.pending=u.next=v)}}function AE(i,o){var u=o.action,h=o.payload,x=i.state;if(o.isTransition){var v=F.T,A={};F.T=A;try{var D=u(x,h),K=F.S;K!==null&&K(A,D),CE(i,o,D)}catch(ne){mx(i,o,ne)}finally{v!==null&&A.types!==null&&(v.types=A.types),F.T=v}}else try{v=u(x,h),CE(i,o,v)}catch(ne){mx(i,o,ne)}}function CE(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){OE(i,o,h)},function(h){return mx(i,o,h)}):OE(i,o,u)}function OE(i,o,u){o.status="fulfilled",o.value=u,IE(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,AE(i,u)))}function mx(i,o,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,IE(o),o=o.next;while(o!==h)}i.action=null}function IE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function PE(i,o){return o}function RE(i,o){if(ot){var u=Nt.formState;if(u!==null){e:{var h=Qe;if(ot){if(Pt){t:{for(var x=Pt,v=pa;x.nodeType!==8;){if(!v){x=null;break t}if(x=ya(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Pt=ya(x.nextSibling),h=x.data==="F!";break e}}Ws(h)}h=!1}h&&(o=u[0])}}return u=gn(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PE,lastRenderedState:o},u.queue=h,u=JE.bind(null,Qe,h),h.dispatch=u,h=hx(!1),v=vx.bind(null,Qe,!1,h.queue),h=gn(),x={state:o,dispatch:null,action:i,pending:null},h.queue=x,u=r9.bind(null,Qe,x,v,u),x.dispatch=u,h.memoizedState=i,[o,u,!1]}function ME(i){var o=or();return DE(o,kt,i)}function DE(i,o,u){if(o=dx(i,o,PE)[0],i=_m(Ki)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Md(o)}catch(A){throw A===Pc?hm:A}else h=o;o=or();var x=o.queue,v=x.dispatch;return u!==o.memoizedState&&(Qe.flags|=2048,Lc(9,{destroy:void 0},n9.bind(null,x,u),null)),[h,v,i]}function n9(i,o){i.action=o}function zE(i){var o=or(),u=kt;if(u!==null)return DE(o,u,i);or(),o=o.memoizedState,u=or();var h=u.queue.dispatch;return u.memoizedState=i,[o,h,!1]}function Lc(i,o,u,h){return i={tag:i,create:u,deps:h,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=wm(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i),i}function LE(){return or().memoizedState}function Em(i,o,u,h){var x=gn();Qe.flags|=i,x.memoizedState=Lc(1|o,{destroy:void 0},u,h===void 0?null:h)}function Sm(i,o,u,h){var x=or();h=h===void 0?null:h;var v=x.memoizedState.inst;kt!==null&&h!==null&&ix(h,kt.memoizedState.deps)?x.memoizedState=Lc(o,v,u,h):(Qe.flags|=i,x.memoizedState=Lc(1|o,v,u,h))}function VE(i,o){Em(8390656,8,i,o)}function px(i,o){Sm(2048,8,i,o)}function a9(i){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=wm(),Qe.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function UE(i){var o=or().memoizedState;return a9({ref:o,nextImpl:i}),function(){if((mt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function BE(i,o){return Sm(4,2,i,o)}function $E(i,o){return Sm(4,4,i,o)}function HE(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function qE(i,o,u){u=u!=null?u.concat([i]):null,Sm(4,4,HE.bind(null,o,i),u)}function gx(){}function FE(i,o){var u=or();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&ix(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function GE(i,o){var u=or();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&ix(o,h[1]))return h[0];if(h=i(),yl){an(!0);try{i()}finally{an(!1)}}return u.memoizedState=[h,o],h}function yx(i,o,u){return u===void 0||(Gi&1073741824)!==0&&(tt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=KS(),Qe.lanes|=i,ao|=i,u)}function KE(i,o,u,h){return qn(u,o)?u:Mc.current!==null?(i=yx(i,u,h),qn(i,o)||(mr=!0),i):(Gi&42)===0||(Gi&1073741824)!==0&&(tt&261930)===0?(mr=!0,i.memoizedState=u):(i=KS(),Qe.lanes|=i,ao|=i,o)}function YE(i,o,u,h,x){var v=Z.p;Z.p=v!==0&&8>v?v:8;var A=F.T,D={};F.T=D,vx(i,!1,o,u);try{var K=x(),ne=F.S;if(ne!==null&&ne(D,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var de=Jz(K,h);Dd(i,o,de,Xn(i))}else Dd(i,o,h,Xn(i))}catch(me){Dd(i,o,{then:function(){},status:"rejected",reason:me},Xn())}finally{Z.p=v,A!==null&&D.types!==null&&(A.types=D.types),F.T=A}}function i9(){}function xx(i,o,u,h){if(i.tag!==5)throw Error(n(476));var x=WE(i).queue;YE(i,x,o,fe,u===null?i9:function(){return XE(i),u(h)})}function WE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function XE(i){var o=WE(i);o.next===null&&(o=i.alternate.memoizedState),Dd(i,o.next.queue,{},Xn())}function bx(){return Fr(Jd)}function QE(){return or().memoizedState}function ZE(){return or().memoizedState}function s9(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Xn();i=Zs(u);var h=Js(o,i,u);h!==null&&(Cn(h,o,u),Od(h,o,u)),o={cache:Yy()},i.payload=o;return}o=o.return}}function o9(i,o,u){var h=Xn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Nm(i)?eS(o,u):(u=zy(i,o,u,h),u!==null&&(Cn(u,i,h),tS(u,o,h)))}function JE(i,o,u){var h=Xn();Dd(i,o,u,h)}function Dd(i,o,u,h){var x={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nm(i))eS(o,x);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,D=v(A,u);if(x.hasEagerState=!0,x.eagerState=D,qn(D,A))return sm(i,o,x,0),Nt===null&&im(),!1}catch{}finally{}if(u=zy(i,o,x,h),u!==null)return Cn(u,i,h),tS(u,o,h),!0}return!1}function vx(i,o,u,h){if(h={lane:2,revertLane:Zx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Nm(i)){if(o)throw Error(n(479))}else o=zy(i,u,h,2),o!==null&&Cn(o,i,2)}function Nm(i){var o=i.alternate;return i===Qe||o!==null&&o===Qe}function eS(i,o){Dc=bm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function tS(i,o,u){if((u&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Ne(i,u)}}var zd={readContext:Fr,use:km,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};zd.useEffectEvent=Qt;var rS={readContext:Fr,use:km,useCallback:function(i,o){return gn().memoizedState=[i,o===void 0?null:o],i},useContext:Fr,useEffect:VE,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Em(4194308,4,HE.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Em(4194308,4,i,o)},useInsertionEffect:function(i,o){Em(4,2,i,o)},useMemo:function(i,o){var u=gn();o=o===void 0?null:o;var h=i();if(yl){an(!0);try{i()}finally{an(!1)}}return u.memoizedState=[h,o],h},useReducer:function(i,o,u){var h=gn();if(u!==void 0){var x=u(o);if(yl){an(!0);try{u(o)}finally{an(!1)}}}else x=o;return h.memoizedState=h.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},h.queue=i,i=i.dispatch=o9.bind(null,Qe,i),[h.memoizedState,i]},useRef:function(i){var o=gn();return i={current:i},o.memoizedState=i},useState:function(i){i=hx(i);var o=i.queue,u=JE.bind(null,Qe,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:gx,useDeferredValue:function(i,o){var u=gn();return yx(u,i,o)},useTransition:function(){var i=hx(!1);return i=YE.bind(null,Qe,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var h=Qe,x=gn();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Nt===null)throw Error(n(349));(tt&127)!==0||_E(h,o,u)}x.memoizedState=u;var v={value:u,getSnapshot:o};return x.queue=v,VE(SE.bind(null,h,v,i),[i]),h.flags|=2048,Lc(9,{destroy:void 0},EE.bind(null,h,v,u,o),null),u},useId:function(){var i=gn(),o=Nt.identifierPrefix;if(ot){var u=mi,h=hi;u=(h&~(1<<32-Gt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=e9++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:bx,useFormState:RE,useActionState:RE,useOptimistic:function(i){var o=gn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=vx.bind(null,Qe,!0,u),u.dispatch=o,[i,o]},useMemoCache:ux,useCacheRefresh:function(){return gn().memoizedState=s9.bind(null,Qe)},useEffectEvent:function(i){var o=gn(),u={impl:i};return o.memoizedState=u,function(){if((mt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},wx={readContext:Fr,use:km,useCallback:FE,useContext:Fr,useEffect:px,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:$E,useMemo:GE,useReducer:_m,useRef:LE,useState:function(){return _m(Ki)},useDebugValue:gx,useDeferredValue:function(i,o){var u=or();return KE(u,kt.memoizedState,i,o)},useTransition:function(){var i=_m(Ki)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Md(i),o]},useSyncExternalStore:kE,useId:QE,useHostTransitionStatus:bx,useFormState:ME,useActionState:ME,useOptimistic:function(i,o){var u=or();return TE(u,kt,i,o)},useMemoCache:ux,useCacheRefresh:ZE};wx.useEffectEvent=UE;var nS={readContext:Fr,use:km,useCallback:FE,useContext:Fr,useEffect:px,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:$E,useMemo:GE,useReducer:fx,useRef:LE,useState:function(){return fx(Ki)},useDebugValue:gx,useDeferredValue:function(i,o){var u=or();return kt===null?yx(u,i,o):KE(u,kt.memoizedState,i,o)},useTransition:function(){var i=fx(Ki)[0],o=or().memoizedState;return[typeof i=="boolean"?i:Md(i),o]},useSyncExternalStore:kE,useId:QE,useHostTransitionStatus:bx,useFormState:zE,useActionState:zE,useOptimistic:function(i,o){var u=or();return kt!==null?TE(u,kt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:ux,useCacheRefresh:ZE};nS.useEffectEvent=UE;function kx(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var _x={enqueueSetState:function(i,o,u){i=i._reactInternals;var h=Xn(),x=Zs(h);x.payload=o,u!=null&&(x.callback=u),o=Js(i,x,h),o!==null&&(Cn(o,i,h),Od(o,i,h))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=Xn(),x=Zs(h);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=Js(i,x,h),o!==null&&(Cn(o,i,h),Od(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Xn(),h=Zs(u);h.tag=2,o!=null&&(h.callback=o),o=Js(i,h,u),o!==null&&(Cn(o,i,u),Od(o,i,u))}};function aS(i,o,u,h,x,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,A):o.prototype&&o.prototype.isPureReactComponent?!_d(u,h)||!_d(x,v):!0}function iS(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&_x.enqueueReplaceState(o,o.state,null)}function xl(i,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var x in i)u[x]===void 0&&(u[x]=i[x])}return u}function sS(i){am(i)}function oS(i){console.error(i)}function lS(i){am(i)}function jm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function cS(i,o,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Ex(i,o,u){return u=Zs(u),u.tag=3,u.payload={element:null},u.callback=function(){jm(i,o)},u}function uS(i){return i=Zs(i),i.tag=3,i}function dS(i,o,u,h){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var v=h.value;i.payload=function(){return x(v)},i.callback=function(){cS(o,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){cS(o,u,h),typeof x!="function"&&(io===null?io=new Set([this]):io.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function l9(i,o,u,h,x){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Cc(o,u,x,!0),u=Gn.current,u!==null){switch(u.tag){case 31:case 13:return ga===null?Vm():u.alternate===null&&Zt===0&&(Zt=3),u.flags&=-257,u.flags|=65536,u.lanes=x,h===mm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Wx(i,h,x)),!1;case 22:return u.flags|=65536,h===mm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Wx(i,h,x)),!1}throw Error(n(435,u.tag))}return Wx(i,h,x),Vm(),!1}if(ot)return o=Gn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,h!==Hy&&(i=Error(n(422),{cause:h}),Nd(fa(i,u)))):(h!==Hy&&(o=Error(n(423),{cause:h}),Nd(fa(o,u))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,h=fa(h,u),x=Ex(i.stateNode,h,x),ex(i,x),Zt!==4&&(Zt=2)),!1;var v=Error(n(520),{cause:h});if(v=fa(v,u),Fd===null?Fd=[v]:Fd.push(v),Zt!==4&&(Zt=2),o===null)return!0;h=fa(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=x&-x,u.lanes|=i,i=Ex(u.stateNode,h,i),ex(u,i),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(io===null||!io.has(v))))return u.flags|=65536,x&=-x,u.lanes|=x,x=uS(x),dS(x,i,u,h),ex(u,x),!1}u=u.return}while(u!==null);return!1}var Sx=Error(n(461)),mr=!1;function Gr(i,o,u,h){o.child=i===null?pE(o,null,u,h):gl(o,i.child,u,h)}function fS(i,o,u,h,x){u=u.render;var v=o.ref;if("ref"in h){var A={};for(var D in h)D!=="ref"&&(A[D]=h[D])}else A=h;return fl(o),h=sx(i,o,u,A,v,x),D=ox(),i!==null&&!mr?(lx(i,o,x),Yi(i,o,x)):(ot&&D&&By(o),o.flags|=1,Gr(i,o,h,x),o.child)}function hS(i,o,u,h,x){if(i===null){var v=u.type;return typeof v=="function"&&!Ly(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,mS(i,o,v,h,x)):(i=lm(u.type,null,h,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!Px(i,x)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:_d,u(A,h)&&i.ref===o.ref)return Yi(i,o,x)}return o.flags|=1,i=$i(v,h),i.ref=o.ref,i.return=o,o.child=i}function mS(i,o,u,h,x){if(i!==null){var v=i.memoizedProps;if(_d(v,h)&&i.ref===o.ref)if(mr=!1,o.pendingProps=h=v,Px(i,x))(i.flags&131072)!==0&&(mr=!0);else return o.lanes=i.lanes,Yi(i,o,x)}return Nx(i,o,u,h,x)}function pS(i,o,u,h){var x=h.children,v=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,i!==null){for(h=o.child=i.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~v}else h=0,o.child=null;return gS(i,o,v,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fm(o,v!==null?v.cachePool:null),v!==null?xE(o,v):rx(),bE(o);else return h=o.lanes=536870912,gS(i,o,v!==null?v.baseLanes|u:u,u,h)}else v!==null?(fm(o,v.cachePool),xE(o,v),to(),o.memoizedState=null):(i!==null&&fm(o,null),rx(),to());return Gr(i,o,x,u),o.child}function Ld(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function gS(i,o,u,h,x){var v=Xy();return v=v===null?null:{parent:fr._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&fm(o,null),rx(),bE(o),i!==null&&Cc(i,o,h,!0),o.childLanes=x,null}function Tm(i,o){return o=Cm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function yS(i,o,u){return gl(o,i.child,null,u),i=Tm(o,o.pendingProps),i.flags|=2,Kn(o),o.memoizedState=null,i}function c9(i,o,u){var h=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=Tm(o,h),o.lanes=536870912,Ld(null,i);if(ax(o),(i=Pt)?(i=AN(i,pa),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:hi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},u=eE(i),u.return=o,o.child=u,qr=o,Pt=null)):i=null,i===null)throw Ws(o);return o.lanes=536870912,null}return Tm(o,h)}var v=i.memoizedState;if(v!==null){var A=v.dehydrated;if(ax(o),x)if(o.flags&256)o.flags&=-257,o=yS(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(mr||Cc(i,o,u,!1),x=(u&i.childLanes)!==0,mr||x){if(h=Nt,h!==null&&(A=Oe(h,u),A!==0&&A!==v.retryLane))throw v.retryLane=A,ll(i,A),Cn(h,i,A),Sx;Vm(),o=yS(i,o,u)}else i=v.treeContext,Pt=ya(A.nextSibling),qr=o,ot=!0,Ys=null,pa=!1,i!==null&&nE(o,i),o=Tm(o,h),o.flags|=4096;return o}return i=$i(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Am(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Nx(i,o,u,h,x){return fl(o),u=sx(i,o,u,h,void 0,x),h=ox(),i!==null&&!mr?(lx(i,o,x),Yi(i,o,x)):(ot&&h&&By(o),o.flags|=1,Gr(i,o,u,x),o.child)}function xS(i,o,u,h,x,v){return fl(o),o.updateQueue=null,u=wE(o,h,u,x),vE(i),h=ox(),i!==null&&!mr?(lx(i,o,v),Yi(i,o,v)):(ot&&h&&By(o),o.flags|=1,Gr(i,o,u,v),o.child)}function bS(i,o,u,h,x){if(fl(o),o.stateNode===null){var v=Nc,A=u.contextType;typeof A=="object"&&A!==null&&(v=Fr(A)),v=new u(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=_x,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},Zy(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?Fr(A):Nc,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(kx(o,u,A,h),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&_x.enqueueReplaceState(v,v.state,null),Pd(o,h,v,x),Id(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){v=o.stateNode;var D=o.memoizedProps,K=xl(u,D);v.props=K;var ne=v.context,de=u.contextType;A=Nc,typeof de=="object"&&de!==null&&(A=Fr(de));var me=u.getDerivedStateFromProps;de=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,de||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||ne!==A)&&iS(o,v,h,A),Qs=!1;var ie=o.memoizedState;v.state=ie,Pd(o,h,v,x),Id(),ne=o.memoizedState,D||ie!==ne||Qs?(typeof me=="function"&&(kx(o,u,me,h),ne=o.memoizedState),(K=Qs||aS(o,u,K,h,ie,ne,A))?(de||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ne),v.props=h,v.state=ne,v.context=A,h=K):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,Jy(i,o),A=o.memoizedProps,de=xl(u,A),v.props=de,me=o.pendingProps,ie=v.context,ne=u.contextType,K=Nc,typeof ne=="object"&&ne!==null&&(K=Fr(ne)),D=u.getDerivedStateFromProps,(ne=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==me||ie!==K)&&iS(o,v,h,K),Qs=!1,ie=o.memoizedState,v.state=ie,Pd(o,h,v,x),Id();var ce=o.memoizedState;A!==me||ie!==ce||Qs||i!==null&&i.dependencies!==null&&um(i.dependencies)?(typeof D=="function"&&(kx(o,u,D,h),ce=o.memoizedState),(de=Qs||aS(o,u,de,h,ie,ce,K)||i!==null&&i.dependencies!==null&&um(i.dependencies))?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ce,K),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ce,K)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ce),v.props=h,v.state=ce,v.context=K,h=de):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),h=!1)}return v=h,Am(i,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,i!==null&&h?(o.child=gl(o,i.child,null,x),o.child=gl(o,null,u,x)):Gr(i,o,u,x),o.memoizedState=v.state,i=o.child):i=Yi(i,o,x),i}function vS(i,o,u,h){return ul(),o.flags|=256,Gr(i,o,u,h),o.child}var jx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tx(i){return{baseLanes:i,cachePool:cE()}}function Ax(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Wn),i}function wS(i,o,u){var h=o.pendingProps,x=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=i!==null&&i.memoizedState===null?!1:(sr.current&2)!==0),A&&(x=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(ot){if(x?eo(o):to(),(i=Pt)?(i=AN(i,pa),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:hi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},u=eE(i),u.return=o,o.child=u,qr=o,Pt=null)):i=null,i===null)throw Ws(o);return db(i)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,x?(to(),x=o.mode,D=Cm({mode:"hidden",children:D},x),h=cl(h,x,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=Tx(u),h.childLanes=Ax(i,A,u),o.memoizedState=jx,Ld(null,h)):(eo(o),Cx(o,D))}var K=i.memoizedState;if(K!==null&&(D=K.dehydrated,D!==null)){if(v)o.flags&256?(eo(o),o.flags&=-257,o=Ox(i,o,u)):o.memoizedState!==null?(to(),o.child=i.child,o.flags|=128,o=null):(to(),D=h.fallback,x=o.mode,h=Cm({mode:"visible",children:h.children},x),D=cl(D,x,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,gl(o,i.child,null,u),h=o.child,h.memoizedState=Tx(u),h.childLanes=Ax(i,A,u),o.memoizedState=jx,o=Ld(null,h));else if(eo(o),db(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var ne=A.dgst;A=ne,h=Error(n(419)),h.stack="",h.digest=A,Nd({value:h,source:null,stack:null}),o=Ox(i,o,u)}else if(mr||Cc(i,o,u,!1),A=(u&i.childLanes)!==0,mr||A){if(A=Nt,A!==null&&(h=Oe(A,u),h!==0&&h!==K.retryLane))throw K.retryLane=h,ll(i,h),Cn(A,i,h),Sx;ub(D)||Vm(),o=Ox(i,o,u)}else ub(D)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Pt=ya(D.nextSibling),qr=o,ot=!0,Ys=null,pa=!1,i!==null&&nE(o,i),o=Cx(o,h.children),o.flags|=4096);return o}return x?(to(),D=h.fallback,x=o.mode,K=i.child,ne=K.sibling,h=$i(K,{mode:"hidden",children:h.children}),h.subtreeFlags=K.subtreeFlags&65011712,ne!==null?D=$i(ne,D):(D=cl(D,x,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,Ld(null,h),h=o.child,D=i.child.memoizedState,D===null?D=Tx(u):(x=D.cachePool,x!==null?(K=fr._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=cE(),D={baseLanes:D.baseLanes|u,cachePool:x}),h.memoizedState=D,h.childLanes=Ax(i,A,u),o.memoizedState=jx,Ld(i.child,h)):(eo(o),u=i.child,i=u.sibling,u=$i(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=u,o.memoizedState=null,u)}function Cx(i,o){return o=Cm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Cm(i,o){return i=Fn(22,i,null,o),i.lanes=0,i}function Ox(i,o,u){return gl(o,i.child,null,u),i=Cx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function kS(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Gy(i.return,o,u)}function Ix(i,o,u,h,x,v){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:x,treeForkCount:v}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=x,A.treeForkCount=v)}function _S(i,o,u){var h=o.pendingProps,x=h.revealOrder,v=h.tail;h=h.children;var A=sr.current,D=(A&2)!==0;if(D?(A=A&1|2,o.flags|=128):A&=1,ue(sr,A),Gr(i,o,h,u),h=ot?Sd:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kS(i,u,o);else if(i.tag===19)kS(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(u=o.child,x=null;u!==null;)i=u.alternate,i!==null&&xm(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),Ix(o,!1,x,u,v,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&xm(i)===null){o.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}Ix(o,!0,u,null,v,h);break;case"together":Ix(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Yi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ao|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Cc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=$i(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=$i(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Px(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&um(i)))}function u9(i,o,u){switch(o.tag){case 3:Fe(o,o.stateNode.containerInfo),Xs(o,fr,i.memoizedState.cache),ul();break;case 27:case 5:Be(o);break;case 4:Fe(o,o.stateNode.containerInfo);break;case 10:Xs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ax(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(eo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?wS(i,o,u):(eo(o),i=Yi(i,o,u),i!==null?i.sibling:null);eo(o);break;case 19:var x=(i.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Cc(i,o,u,!1),h=(u&o.childLanes)!==0),x){if(h)return _S(i,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(sr,sr.current),h)break;return null;case 22:return o.lanes=0,pS(i,o,u,o.pendingProps);case 24:Xs(o,fr,i.memoizedState.cache)}return Yi(i,o,u)}function ES(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)mr=!0;else{if(!Px(i,u)&&(o.flags&128)===0)return mr=!1,u9(i,o,u);mr=(i.flags&131072)!==0}else mr=!1,ot&&(o.flags&1048576)!==0&&rE(o,Sd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=ml(o.elementType),o.type=i,typeof i=="function")Ly(i)?(h=xl(i,h),o.tag=1,o=bS(null,o,i,h,u)):(o.tag=0,o=Nx(null,o,i,h,u));else{if(i!=null){var x=i.$$typeof;if(x===M){o.tag=11,o=fS(null,o,i,h,u);break e}else if(x===T){o.tag=14,o=hS(null,o,i,h,u);break e}}throw o=X(i)||i,Error(n(306,o,""))}}return o;case 0:return Nx(i,o,o.type,o.pendingProps,u);case 1:return h=o.type,x=xl(h,o.pendingProps),bS(i,o,h,x,u);case 3:e:{if(Fe(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var v=o.memoizedState;x=v.element,Jy(i,o),Pd(o,h,null,u);var A=o.memoizedState;if(h=A.cache,Xs(o,fr,h),h!==v.cache&&Ky(o,[fr],u,!0),Id(),h=A.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=vS(i,o,h,u);break e}else if(h!==x){x=fa(Error(n(424)),o),Nd(x),o=vS(i,o,h,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=ya(i.firstChild),qr=o,ot=!0,Ys=null,pa=!0,u=pE(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ul(),h===x){o=Yi(i,o,u);break e}Gr(i,o,h,u)}o=o.child}return o;case 26:return Am(i,o),i===null?(u=MN(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,i=o.pendingProps,h=Gm(Ee.current).createElement(u),h[cr]=o,h[Tr]=i,Kr(h,u,i),ur(h),o.stateNode=h):o.memoizedState=MN(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Be(o),i===null&&ot&&(h=o.stateNode=IN(o.type,o.pendingProps,Ee.current),qr=o,pa=!0,x=Pt,co(o.type)?(fb=x,Pt=ya(h.firstChild)):Pt=x),Gr(i,o,o.pendingProps.children,u),Am(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ot&&((x=h=Pt)&&(h=U9(h,o.type,o.pendingProps,pa),h!==null?(o.stateNode=h,qr=o,Pt=ya(h.firstChild),pa=!1,x=!0):x=!1),x||Ws(o)),Be(o),x=o.type,v=o.pendingProps,A=i!==null?i.memoizedProps:null,h=v.children,ob(x,v)?h=null:A!==null&&ob(x,A)&&(o.flags|=32),o.memoizedState!==null&&(x=sx(i,o,t9,null,null,u),Jd._currentValue=x),Am(i,o),Gr(i,o,h,u),o.child;case 6:return i===null&&ot&&((i=u=Pt)&&(u=B9(u,o.pendingProps,pa),u!==null?(o.stateNode=u,qr=o,Pt=null,i=!0):i=!1),i||Ws(o)),null;case 13:return wS(i,o,u);case 4:return Fe(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=gl(o,null,h,u):Gr(i,o,h,u),o.child;case 11:return fS(i,o,o.type,o.pendingProps,u);case 7:return Gr(i,o,o.pendingProps,u),o.child;case 8:return Gr(i,o,o.pendingProps.children,u),o.child;case 12:return Gr(i,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Xs(o,o.type,h.value),Gr(i,o,h.children,u),o.child;case 9:return x=o.type._context,h=o.pendingProps.children,fl(o),x=Fr(x),h=h(x),o.flags|=1,Gr(i,o,h,u),o.child;case 14:return hS(i,o,o.type,o.pendingProps,u);case 15:return mS(i,o,o.type,o.pendingProps,u);case 19:return _S(i,o,u);case 31:return c9(i,o,u);case 22:return pS(i,o,u,o.pendingProps);case 24:return fl(o),h=Fr(fr),i===null?(x=Xy(),x===null&&(x=Nt,v=Yy(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=u),x=v),o.memoizedState={parent:h,cache:x},Zy(o),Xs(o,fr,x)):((i.lanes&u)!==0&&(Jy(i,o),Pd(o,null,null,u),Id()),x=i.memoizedState,v=o.memoizedState,x.parent!==h?(x={parent:h,cache:h},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Xs(o,fr,h)):(h=v.cache,Xs(o,fr,h),h!==x.cache&&Ky(o,[fr],u,!0))),Gr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Wi(i){i.flags|=4}function Rx(i,o,u,h,x){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(QS())i.flags|=8192;else throw pl=mm,Qy}else i.flags&=-16777217}function SS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!UN(o))if(QS())i.flags|=8192;else throw pl=mm,Qy}function Om(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?uc():536870912,i.lanes|=o,$c|=o)}function Vd(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Rt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function d9(i,o,u){var h=o.pendingProps;switch($y(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return Rt(o),null;case 3:return u=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Fi(fr),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Ac(o)?Wi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qy())),Rt(o),null;case 26:var x=o.type,v=o.memoizedState;return i===null?(Wi(o),v!==null?(Rt(o),SS(o,v)):(Rt(o),Rx(o,x,null,h,u))):v?v!==i.memoizedState?(Wi(o),Rt(o),SS(o,v)):(Rt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Wi(o),Rt(o),Rx(o,x,i,h,u)),null;case 27:if(Le(o),u=Ee.current,x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Wi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}i=G.current,Ac(o)?aE(o):(i=IN(x,h,u),o.stateNode=i,Wi(o))}return Rt(o),null;case 5:if(Le(o),x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Wi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}if(v=G.current,Ac(o))aE(o);else{var A=Gm(Ee.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?A.createElement(x,{is:h.is}):A.createElement(x)}}v[cr]=o,v[Tr]=h;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=v;e:switch(Kr(v,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Wi(o)}}return Rt(o),Rx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Wi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=Ee.current,Ac(o)){if(i=o.stateNode,u=o.memoizedProps,h=null,x=qr,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}i[cr]=o,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||wN(i.nodeValue,u)),i||Ws(o,!0)}else i=Gm(i).createTextNode(h),i[cr]=o,o.stateNode=i}return Rt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(h=Ac(o),u!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[cr]=o}else ul(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),i=!1}else u=qy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Kn(o),o):(Kn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Rt(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Ac(o),h!==null&&h.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[cr]=o}else ul(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),x=!1}else x=qy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(Kn(o),o):(Kn(o),null)}return Kn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=o.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==x&&(h.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Om(o,o.updateQueue),Rt(o),null);case 4:return se(),i===null&&rb(o.stateNode.containerInfo),Rt(o),null;case 10:return Fi(o.type),Rt(o),null;case 19:if(W(sr),h=o.memoizedState,h===null)return Rt(o),null;if(x=(o.flags&128)!==0,v=h.rendering,v===null)if(x)Vd(h,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(v=xm(i),v!==null){for(o.flags|=128,Vd(h,!1),i=v.updateQueue,o.updateQueue=i,Om(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)J_(u,i),u=u.sibling;return ue(sr,sr.current&1|2),ot&&Hi(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Br()>Dm&&(o.flags|=128,x=!0,Vd(h,!1),o.lanes=4194304)}else{if(!x)if(i=xm(v),i!==null){if(o.flags|=128,x=!0,i=i.updateQueue,o.updateQueue=i,Om(o,i),Vd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!ot)return Rt(o),null}else 2*Br()-h.renderingStartTime>Dm&&u!==536870912&&(o.flags|=128,x=!0,Vd(h,!1),o.lanes=4194304);h.isBackwards?(v.sibling=o.child,o.child=v):(i=h.last,i!==null?i.sibling=v:o.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Br(),i.sibling=null,u=sr.current,ue(sr,x?u&1|2:u&1),ot&&Hi(o,h.treeForkCount),i):(Rt(o),null);case 22:case 23:return Kn(o),nx(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),u=o.updateQueue,u!==null&&Om(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),i!==null&&W(hl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fi(fr),Rt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function f9(i,o){switch($y(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Fi(fr),se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Le(o),null;case 31:if(o.memoizedState!==null){if(Kn(o),o.alternate===null)throw Error(n(340));ul()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Kn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ul()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(sr),null;case 4:return se(),null;case 10:return Fi(o.type),null;case 22:case 23:return Kn(o),nx(),i!==null&&W(hl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Fi(fr),null;case 25:return null;default:return null}}function NS(i,o){switch($y(o),o.tag){case 3:Fi(fr),se();break;case 26:case 27:case 5:Le(o);break;case 4:se();break;case 31:o.memoizedState!==null&&Kn(o);break;case 13:Kn(o);break;case 19:W(sr);break;case 10:Fi(o.type);break;case 22:case 23:Kn(o),nx(),i!==null&&W(hl);break;case 24:Fi(fr)}}function Ud(i,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var x=h.next;u=x;do{if((u.tag&i)===i){h=void 0;var v=u.create,A=u.inst;h=v(),A.destroy=h}u=u.next}while(u!==x)}}catch(D){bt(o,o.return,D)}}function ro(i,o,u){try{var h=o.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var v=x.next;h=v;do{if((h.tag&i)===i){var A=h.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,x=o;var K=u,ne=D;try{ne()}catch(de){bt(x,K,de)}}}h=h.next}while(h!==v)}}catch(de){bt(o,o.return,de)}}function jS(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{yE(o,u)}catch(h){bt(i,i.return,h)}}}function TS(i,o,u){u.props=xl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){bt(i,o,h)}}function Bd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(x){bt(i,o,x)}}function pi(i,o){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(x){bt(i,o,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){bt(i,o,x)}else u.current=null}function AS(i){var o=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(x){bt(i,i.return,x)}}function Mx(i,o,u){try{var h=i.stateNode;R9(h,i.type,u,o),h[Tr]=o}catch(x){bt(i,i.return,x)}}function CS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&co(i.type)||i.tag===4}function Dx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||CS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&co(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zx(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Pa));else if(h!==4&&(h===27&&co(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(zx(i,o,u),i=i.sibling;i!==null;)zx(i,o,u),i=i.sibling}function Im(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(h===27&&co(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Im(i,o,u),i=i.sibling;i!==null;)Im(i,o,u),i=i.sibling}function OS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);Kr(o,h,u),o[cr]=i,o[Tr]=u}catch(v){bt(i,i.return,v)}}var Xi=!1,pr=!1,Lx=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function h9(i,o){if(i=i.containerInfo,ib=Jm,i=q_(i),Oy(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var x=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var A=0,D=-1,K=-1,ne=0,de=0,me=i,ie=null;t:for(;;){for(var ce;me!==u||x!==0&&me.nodeType!==3||(D=A+x),me!==v||h!==0&&me.nodeType!==3||(K=A+h),me.nodeType===3&&(A+=me.nodeValue.length),(ce=me.firstChild)!==null;)ie=me,me=ce;for(;;){if(me===i)break t;if(ie===u&&++ne===x&&(D=A),ie===v&&++de===h&&(K=A),(ce=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=ce}u=D===-1||K===-1?null:{start:D,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(sb={focusedElem:i,selectionRange:u},Jm=!1,Cr=o;Cr!==null;)if(o=Cr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Cr=i;else for(;Cr!==null;){switch(o=Cr,v=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)x=i[u],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,u=o,x=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var Ae=xl(u.type,x);i=h.getSnapshotBeforeUpdate(Ae,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){bt(u,u.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)cb(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Cr=i;break}Cr=o.return}}function PS(i,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Zi(i,u),h&4&&Ud(5,u);break;case 1:if(Zi(i,u),h&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(A){bt(u,u.return,A)}else{var x=xl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(x,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){bt(u,u.return,A)}}h&64&&jS(u),h&512&&Bd(u,u.return);break;case 3:if(Zi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{yE(i,o)}catch(A){bt(u,u.return,A)}}break;case 27:o===null&&h&4&&OS(u);case 26:case 5:Zi(i,u),o===null&&h&4&&AS(u),h&512&&Bd(u,u.return);break;case 12:Zi(i,u);break;case 31:Zi(i,u),h&4&&DS(i,u);break;case 13:Zi(i,u),h&4&&zS(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=k9.bind(null,u),$9(i,u))));break;case 22:if(h=u.memoizedState!==null||Xi,!h){o=o!==null&&o.memoizedState!==null||pr,x=Xi;var v=pr;Xi=h,(pr=o)&&!v?Ji(i,u,(u.subtreeFlags&8772)!==0):Zi(i,u),Xi=x,pr=v}break;case 30:break;default:Zi(i,u)}}function RS(i){var o=i.alternate;o!==null&&(i.alternate=null,RS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&fc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,Nn=!1;function Qi(i,o,u){for(u=u.child;u!==null;)MS(i,o,u),u=u.sibling}function MS(i,o,u){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(wn,u)}catch{}switch(u.tag){case 26:pr||pi(u,o),Qi(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:pr||pi(u,o);var h=Ut,x=Nn;co(u.type)&&(Ut=u.stateNode,Nn=!1),Qi(i,o,u),Xd(u.stateNode),Ut=h,Nn=x;break;case 5:pr||pi(u,o);case 6:if(h=Ut,x=Nn,Ut=null,Qi(i,o,u),Ut=h,Nn=x,Ut!==null)if(Nn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(u.stateNode)}catch(v){bt(u,o,v)}else try{Ut.removeChild(u.stateNode)}catch(v){bt(u,o,v)}break;case 18:Ut!==null&&(Nn?(i=Ut,jN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Xc(i)):jN(Ut,u.stateNode));break;case 4:h=Ut,x=Nn,Ut=u.stateNode.containerInfo,Nn=!0,Qi(i,o,u),Ut=h,Nn=x;break;case 0:case 11:case 14:case 15:ro(2,u,o),pr||ro(4,u,o),Qi(i,o,u);break;case 1:pr||(pi(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&TS(u,o,h)),Qi(i,o,u);break;case 21:Qi(i,o,u);break;case 22:pr=(h=pr)||u.memoizedState!==null,Qi(i,o,u),pr=h;break;default:Qi(i,o,u)}}function DS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(u){bt(o,o.return,u)}}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(u){bt(o,o.return,u)}}function m9(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new IS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new IS),o;default:throw Error(n(435,i.tag))}}function Pm(i,o){var u=m9(i);o.forEach(function(h){if(!u.has(h)){u.add(h);var x=_9.bind(null,i,h);h.then(x,x)}})}function jn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var x=u[h],v=i,A=o,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(co(D.type)){Ut=D.stateNode,Nn=!1;break e}break;case 5:Ut=D.stateNode,Nn=!1;break e;case 3:case 4:Ut=D.stateNode.containerInfo,Nn=!0;break e}D=D.return}if(Ut===null)throw Error(n(160));MS(v,A,x),Ut=null,Nn=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)LS(o,i),o=o.sibling}var Va=null;function LS(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jn(o,i),Tn(i),h&4&&(ro(3,i,i.return),Ud(3,i),ro(5,i,i.return));break;case 1:jn(o,i),Tn(i),h&512&&(pr||u===null||pi(u,u.return)),h&64&&Xi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var x=Va;if(jn(o,i),Tn(i),h&512&&(pr||u===null||pi(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":v=x.getElementsByTagName("title")[0],(!v||v[ti]||v[cr]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(h),x.head.insertBefore(v,x.querySelector("head > title"))),Kr(v,h,u),v[cr]=i,ur(v),h=v;break e;case"link":var A=LN("link","href",x).get(h+(u.href||""));if(A){for(var D=0;D<A.length;D++)if(v=A[D],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(D,1);break t}}v=x.createElement(h),Kr(v,h,u),x.head.appendChild(v);break;case"meta":if(A=LN("meta","content",x).get(h+(u.content||""))){for(D=0;D<A.length;D++)if(v=A[D],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(D,1);break t}}v=x.createElement(h),Kr(v,h,u),x.head.appendChild(v);break;default:throw Error(n(468,h))}v[cr]=i,ur(v),h=v}i.stateNode=h}else VN(x,i.type,i.stateNode);else i.stateNode=zN(x,h,i.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?VN(x,i.type,i.stateNode):zN(x,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Mx(i,i.memoizedProps,u.memoizedProps)}break;case 27:jn(o,i),Tn(i),h&512&&(pr||u===null||pi(u,u.return)),u!==null&&h&4&&Mx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(jn(o,i),Tn(i),h&512&&(pr||u===null||pi(u,u.return)),i.flags&32){x=i.stateNode;try{Sn(x,"")}catch(Ae){bt(i,i.return,Ae)}}h&4&&i.stateNode!=null&&(x=i.memoizedProps,Mx(i,x,u!==null?u.memoizedProps:x)),h&1024&&(Lx=!0);break;case 6:if(jn(o,i),Tn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Ae){bt(i,i.return,Ae)}}break;case 3:if(Wm=null,x=Va,Va=Km(o.containerInfo),jn(o,i),Va=x,Tn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xc(o.containerInfo)}catch(Ae){bt(i,i.return,Ae)}Lx&&(Lx=!1,VS(i));break;case 4:h=Va,Va=Km(i.stateNode.containerInfo),jn(o,i),Tn(i),Va=h;break;case 12:jn(o,i),Tn(i);break;case 31:jn(o,i),Tn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Pm(i,h)));break;case 13:jn(o,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mm=Br()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Pm(i,h)));break;case 22:x=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,ne=Xi,de=pr;if(Xi=ne||x,pr=de||K,jn(o,i),pr=de,Xi=ne,Tn(i),h&8192)e:for(o=i.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||K||Xi||pr||bl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(v=K.stateNode,x)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=K.stateNode;var me=K.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ae){bt(K,K.return,Ae)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(Ae){bt(K,K.return,Ae)}}}else if(o.tag===18){if(u===null){K=o;try{var ce=K.stateNode;x?TN(ce,!0):TN(K.stateNode,!1)}catch(Ae){bt(K,K.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Pm(i,u))));break;case 19:jn(o,i),Tn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Pm(i,h)));break;case 30:break;case 21:break;default:jn(o,i),Tn(i)}}function Tn(i){var o=i.flags;if(o&2){try{for(var u,h=i.return;h!==null;){if(CS(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var x=u.stateNode,v=Dx(i);Im(i,v,x);break;case 5:var A=u.stateNode;u.flags&32&&(Sn(A,""),u.flags&=-33);var D=Dx(i);Im(i,D,A);break;case 3:case 4:var K=u.stateNode.containerInfo,ne=Dx(i);zx(i,ne,K);break;default:throw Error(n(161))}}catch(de){bt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function VS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;VS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Zi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)PS(i,o.alternate,o),o=o.sibling}function bl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ro(4,o,o.return),bl(o);break;case 1:pi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&TS(o,o.return,u),bl(o);break;case 27:Xd(o.stateNode);case 26:case 5:pi(o,o.return),bl(o);break;case 22:o.memoizedState===null&&bl(o);break;case 30:bl(o);break;default:bl(o)}i=i.sibling}}function Ji(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,x=i,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:Ji(x,v,u),Ud(4,v);break;case 1:if(Ji(x,v,u),h=v,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){bt(h,h.return,ne)}if(h=v,x=h.updateQueue,x!==null){var D=h.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)gE(K[x],D)}catch(ne){bt(h,h.return,ne)}}u&&A&64&&jS(v),Bd(v,v.return);break;case 27:OS(v);case 26:case 5:Ji(x,v,u),u&&h===null&&A&4&&AS(v),Bd(v,v.return);break;case 12:Ji(x,v,u);break;case 31:Ji(x,v,u),u&&A&4&&DS(x,v);break;case 13:Ji(x,v,u),u&&A&4&&zS(x,v);break;case 22:v.memoizedState===null&&Ji(x,v,u),Bd(v,v.return);break;case 30:break;default:Ji(x,v,u)}o=o.sibling}}function Vx(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&jd(u))}function Ux(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&jd(i))}function Ua(i,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)US(i,o,u,h),o=o.sibling}function US(i,o,u,h){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Ua(i,o,u,h),x&2048&&Ud(9,o);break;case 1:Ua(i,o,u,h);break;case 3:Ua(i,o,u,h),x&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&jd(i)));break;case 12:if(x&2048){Ua(i,o,u,h),i=o.stateNode;try{var v=o.memoizedProps,A=v.id,D=v.onPostCommit;typeof D=="function"&&D(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){bt(o,o.return,K)}}else Ua(i,o,u,h);break;case 31:Ua(i,o,u,h);break;case 13:Ua(i,o,u,h);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?Ua(i,o,u,h):$d(i,o):v._visibility&2?Ua(i,o,u,h):(v._visibility|=2,Vc(i,o,u,h,(o.subtreeFlags&10256)!==0||!1)),x&2048&&Vx(A,o);break;case 24:Ua(i,o,u,h),x&2048&&Ux(o.alternate,o);break;default:Ua(i,o,u,h)}}function Vc(i,o,u,h,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=i,A=o,D=u,K=h,ne=A.flags;switch(A.tag){case 0:case 11:case 15:Vc(v,A,D,K,x),Ud(8,A);break;case 23:break;case 22:var de=A.stateNode;A.memoizedState!==null?de._visibility&2?Vc(v,A,D,K,x):$d(v,A):(de._visibility|=2,Vc(v,A,D,K,x)),x&&ne&2048&&Vx(A.alternate,A);break;case 24:Vc(v,A,D,K,x),x&&ne&2048&&Ux(A.alternate,A);break;default:Vc(v,A,D,K,x)}o=o.sibling}}function $d(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,h=o,x=h.flags;switch(h.tag){case 22:$d(u,h),x&2048&&Vx(h.alternate,h);break;case 24:$d(u,h),x&2048&&Ux(h.alternate,h);break;default:$d(u,h)}o=o.sibling}}var Hd=8192;function Uc(i,o,u){if(i.subtreeFlags&Hd)for(i=i.child;i!==null;)BS(i,o,u),i=i.sibling}function BS(i,o,u){switch(i.tag){case 26:Uc(i,o,u),i.flags&Hd&&i.memoizedState!==null&&eL(u,Va,i.memoizedState,i.memoizedProps);break;case 5:Uc(i,o,u);break;case 3:case 4:var h=Va;Va=Km(i.stateNode.containerInfo),Uc(i,o,u),Va=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Hd,Hd=16777216,Uc(i,o,u),Hd=h):Uc(i,o,u));break;default:Uc(i,o,u)}}function $S(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function qd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Cr=h,qS(h,i)}$S(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)HS(i),i=i.sibling}function HS(i){switch(i.tag){case 0:case 11:case 15:qd(i),i.flags&2048&&ro(9,i,i.return);break;case 3:qd(i);break;case 12:qd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Rm(i)):qd(i);break;default:qd(i)}}function Rm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Cr=h,qS(h,i)}$S(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ro(8,o,o.return),Rm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Rm(o));break;default:Rm(o)}i=i.sibling}}function qS(i,o){for(;Cr!==null;){var u=Cr;switch(u.tag){case 0:case 11:case 15:ro(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:jd(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Cr=h;else e:for(u=i;Cr!==null;){h=Cr;var x=h.sibling,v=h.return;if(RS(h),h===u){Cr=null;break e}if(x!==null){x.return=v,Cr=x;break e}Cr=v}}}var p9={getCacheForType:function(i){var o=Fr(fr),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Fr(fr).controller.signal}},g9=typeof WeakMap=="function"?WeakMap:Map,mt=0,Nt=null,Je=null,tt=0,xt=0,Yn=null,no=!1,Bc=!1,Bx=!1,es=0,Zt=0,ao=0,vl=0,$x=0,Wn=0,$c=0,Fd=null,An=null,Hx=!1,Mm=0,FS=0,Dm=1/0,zm=null,io=null,vr=0,so=null,Hc=null,ts=0,qx=0,Fx=null,GS=null,Gd=0,Gx=null;function Xn(){return(mt&2)!==0&&tt!==0?tt&-tt:F.T!==null?Zx():qe()}function KS(){if(Wn===0)if((tt&536870912)===0||ot){var i=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),Wn=i}else Wn=536870912;return i=Gn.current,i!==null&&(i.flags|=32),Wn}function Cn(i,o,u){(i===Nt&&(xt===2||xt===9)||i.cancelPendingCommit!==null)&&(qc(i,0),oo(i,tt,Wn,!1)),re(i,u),((mt&2)===0||i!==Nt)&&(i===Nt&&((mt&2)===0&&(vl|=u),Zt===4&&oo(i,tt,Wn,!1)),gi(i))}function YS(i,o,u){if((mt&6)!==0)throw Error(n(327));var h=!u&&(o&127)===0&&(o&i.expiredLanes)===0||_n(i,o),x=h?b9(i,o):Yx(i,o,!0),v=h;do{if(x===0){Bc&&!h&&oo(i,o,0,!1);break}else{if(u=i.current.alternate,v&&!y9(u)){x=Yx(i,o,!1),v=!1;continue}if(x===2){if(v=o,i.errorRecoveryDisabledLanes&v)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var D=i;x=Fd;var K=D.current.memoizedState.isDehydrated;if(K&&(qc(D,A).flags|=256),A=Yx(D,A,!1),A!==2){if(Bx&&!K){D.errorRecoveryDisabledLanes|=v,vl|=v,x=4;break e}v=An,An=x,v!==null&&(An===null?An=v:An.push.apply(An,v))}x=A}if(v=!1,x!==2)continue}}if(x===1){qc(i,0),oo(i,o,0,!0);break}e:{switch(h=i,v=x,v){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:oo(h,o,Wn,!no);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(x=Mm+300-Br(),10<x)){if(oo(h,o,Wn,!no),Un(h,0,!0)!==0)break e;ts=o,h.timeoutHandle=SN(WS.bind(null,h,u,An,zm,Hx,o,Wn,vl,$c,no,v,"Throttled",-0,0),x);break e}WS(h,u,An,zm,Hx,o,Wn,vl,$c,no,v,null,-0,0)}}break}while(!0);gi(i)}function WS(i,o,u,h,x,v,A,D,K,ne,de,me,ie,ce){if(i.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},BS(o,v,me);var Ae=(v&62914560)===v?Mm-Br():(v&4194048)===v?FS-Br():0;if(Ae=tL(me,Ae),Ae!==null){ts=v,i.cancelPendingCommit=Ae(nN.bind(null,i,o,v,u,h,x,A,D,K,de,me,null,ie,ce)),oo(i,v,A,!ne);return}}nN(i,o,v,u,h,x,A,D,K)}function y9(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var x=u[h],v=x.getSnapshot;x=x.value;try{if(!qn(v(),x))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function oo(i,o,u,h){o&=~$x,o&=~vl,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var x=o;0<x;){var v=31-Gt(x),A=1<<v;h[v]=-1,x&=~A}u!==0&&xe(i,u,o)}function Lm(){return(mt&6)===0?(Kd(0),!1):!0}function Kx(){if(Je!==null){if(xt===0)var i=Je.return;else i=Je,qi=dl=null,cx(i),Rc=null,Ad=0,i=Je;for(;i!==null;)NS(i.alternate,i),i=i.return;Je=null}}function qc(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,z9(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ts=0,Kx(),Nt=i,Je=u=$i(i.current,null),tt=o,xt=0,Yn=null,no=!1,Bc=_n(i,o),Bx=!1,$c=Wn=$x=vl=ao=Zt=0,An=Fd=null,Hx=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var x=31-Gt(h),v=1<<x;o|=i[x],h&=~v}return es=o,im(),u}function XS(i,o){Qe=null,F.H=zd,o===Pc||o===hm?(o=fE(),xt=3):o===Qy?(o=fE(),xt=4):xt=o===Sx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Yn=o,Je===null&&(Zt=1,jm(i,fa(o,i.current)))}function QS(){var i=Gn.current;return i===null?!0:(tt&4194048)===tt?ga===null:(tt&62914560)===tt||(tt&536870912)!==0?i===ga:!1}function ZS(){var i=F.H;return F.H=zd,i===null?zd:i}function JS(){var i=F.A;return F.A=p9,i}function Vm(){Zt=4,no||(tt&4194048)!==tt&&Gn.current!==null||(Bc=!0),(ao&134217727)===0&&(vl&134217727)===0||Nt===null||oo(Nt,tt,Wn,!1)}function Yx(i,o,u){var h=mt;mt|=2;var x=ZS(),v=JS();(Nt!==i||tt!==o)&&(zm=null,qc(i,o)),o=!1;var A=Zt;e:do try{if(xt!==0&&Je!==null){var D=Je,K=Yn;switch(xt){case 8:Kx(),A=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(o=!0);var ne=xt;if(xt=0,Yn=null,Fc(i,D,K,ne),u&&Bc){A=0;break e}break;default:ne=xt,xt=0,Yn=null,Fc(i,D,K,ne)}}x9(),A=Zt;break}catch(de){XS(i,de)}while(!0);return o&&i.shellSuspendCounter++,qi=dl=null,mt=h,F.H=x,F.A=v,Je===null&&(Nt=null,tt=0,im()),A}function x9(){for(;Je!==null;)eN(Je)}function b9(i,o){var u=mt;mt|=2;var h=ZS(),x=JS();Nt!==i||tt!==o?(zm=null,Dm=Br()+500,qc(i,o)):Bc=_n(i,o);e:do try{if(xt!==0&&Je!==null){o=Je;var v=Yn;t:switch(xt){case 1:xt=0,Yn=null,Fc(i,o,v,1);break;case 2:case 9:if(uE(v)){xt=0,Yn=null,tN(o);break}o=function(){xt!==2&&xt!==9||Nt!==i||(xt=7),gi(i)},v.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:uE(v)?(xt=0,Yn=null,tN(o)):(xt=0,Yn=null,Fc(i,o,v,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var D=Je;if(A?UN(A):D.stateNode.complete){xt=0,Yn=null;var K=D.sibling;if(K!==null)Je=K;else{var ne=D.return;ne!==null?(Je=ne,Um(ne)):Je=null}break t}}xt=0,Yn=null,Fc(i,o,v,5);break;case 6:xt=0,Yn=null,Fc(i,o,v,6);break;case 8:Kx(),Zt=6;break e;default:throw Error(n(462))}}v9();break}catch(de){XS(i,de)}while(!0);return qi=dl=null,F.H=h,F.A=x,mt=u,Je!==null?0:(Nt=null,tt=0,im(),Zt)}function v9(){for(;Je!==null&&!nd();)eN(Je)}function eN(i){var o=ES(i.alternate,i,es);i.memoizedProps=i.pendingProps,o===null?Um(i):Je=o}function tN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=xS(u,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=xS(u,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:cx(o);default:NS(u,o),o=Je=J_(o,es),o=ES(u,o,es)}i.memoizedProps=i.pendingProps,o===null?Um(i):Je=o}function Fc(i,o,u,h){qi=dl=null,cx(o),Rc=null,Ad=0;var x=o.return;try{if(l9(i,x,o,u,tt)){Zt=1,jm(i,fa(u,i.current)),Je=null;return}}catch(v){if(x!==null)throw Je=x,v;Zt=1,jm(i,fa(u,i.current)),Je=null;return}o.flags&32768?(ot||h===1?i=!0:Bc||(tt&536870912)!==0?i=!1:(no=i=!0,(h===2||h===9||h===3||h===6)&&(h=Gn.current,h!==null&&h.tag===13&&(h.flags|=16384))),rN(o,i)):Um(o)}function Um(i){var o=i;do{if((o.flags&32768)!==0){rN(o,no);return}i=o.return;var u=d9(o.alternate,o,es);if(u!==null){Je=u;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);Zt===0&&(Zt=5)}function rN(i,o){do{var u=f9(i.alternate,i);if(u!==null){u.flags&=32767,Je=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Je=i;return}Je=i=u}while(i!==null);Zt=6,Je=null}function nN(i,o,u,h,x,v,A,D,K){i.cancelPendingCommit=null;do Bm();while(vr!==0);if((mt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(v=o.lanes|o.childLanes,v|=Dy,we(i,u,v,A,D,K),i===Nt&&(Je=Nt=null,tt=0),Hc=o,so=i,ts=u,qx=v,Fx=x,GS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,E9(nr,function(){return lN(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,x=Z.p,Z.p=2,A=mt,mt|=4;try{h9(i,o,u)}finally{mt=A,Z.p=x,F.T=h}}vr=1,aN(),iN(),sN()}}function aN(){if(vr===1){vr=0;var i=so,o=Hc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var h=Z.p;Z.p=2;var x=mt;mt|=4;try{LS(o,i);var v=sb,A=q_(i.containerInfo),D=v.focusedElem,K=v.selectionRange;if(A!==D&&D&&D.ownerDocument&&H_(D.ownerDocument.documentElement,D)){if(K!==null&&Oy(D)){var ne=K.start,de=K.end;if(de===void 0&&(de=ne),"selectionStart"in D)D.selectionStart=ne,D.selectionEnd=Math.min(de,D.value.length);else{var me=D.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var ce=ie.getSelection(),Ae=D.textContent.length,Ue=Math.min(K.start,Ae),Et=K.end===void 0?Ue:Math.min(K.end,Ae);!ce.extend&&Ue>Et&&(A=Et,Et=Ue,Ue=A);var Q=$_(D,Ue),Y=$_(D,Et);if(Q&&Y&&(ce.rangeCount!==1||ce.anchorNode!==Q.node||ce.anchorOffset!==Q.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var te=me.createRange();te.setStart(Q.node,Q.offset),ce.removeAllRanges(),Ue>Et?(ce.addRange(te),ce.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),ce.addRange(te))}}}}for(me=[],ce=D;ce=ce.parentNode;)ce.nodeType===1&&me.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var he=me[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Jm=!!ib,sb=ib=null}finally{mt=x,Z.p=h,F.T=u}}i.current=o,vr=2}}function iN(){if(vr===2){vr=0;var i=so,o=Hc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var h=Z.p;Z.p=2;var x=mt;mt|=4;try{PS(i,o.alternate,o)}finally{mt=x,Z.p=h,F.T=u}}vr=3}}function sN(){if(vr===4||vr===3){vr=0,Ko();var i=so,o=Hc,u=ts,h=GS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vr=5:(vr=0,Hc=so=null,oN(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(io=null),ar(u),o=o.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(wn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=F.T,x=Z.p,Z.p=2,F.T=null;try{for(var v=i.onRecoverableError,A=0;A<h.length;A++){var D=h[A];v(D.value,{componentStack:D.stack})}}finally{F.T=o,Z.p=x}}(ts&3)!==0&&Bm(),gi(i),x=i.pendingLanes,(u&261930)!==0&&(x&42)!==0?i===Gx?Gd++:(Gd=0,Gx=i):Gd=0,Kd(0)}}function oN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,jd(o)))}function Bm(){return aN(),iN(),sN(),lN()}function lN(){if(vr!==5)return!1;var i=so,o=qx;qx=0;var u=ar(ts),h=F.T,x=Z.p;try{Z.p=32>u?32:u,F.T=null,u=Fx,Fx=null;var v=so,A=ts;if(vr=0,Hc=so=null,ts=0,(mt&6)!==0)throw Error(n(331));var D=mt;if(mt|=4,HS(v.current),US(v,v.current,A,u),mt=D,Kd(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(wn,v)}catch{}return!0}finally{Z.p=x,F.T=h,oN(i,o)}}function cN(i,o,u){o=fa(u,o),o=Ex(i.stateNode,o,2),i=Js(i,o,2),i!==null&&(re(i,2),gi(i))}function bt(i,o,u){if(i.tag===3)cN(i,i,u);else for(;o!==null;){if(o.tag===3){cN(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(io===null||!io.has(h))){i=fa(u,i),u=uS(2),h=Js(o,u,2),h!==null&&(dS(u,h,o,i),re(h,2),gi(h));break}}o=o.return}}function Wx(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new g9;var x=new Set;h.set(o,x)}else x=h.get(o),x===void 0&&(x=new Set,h.set(o,x));x.has(u)||(Bx=!0,x.add(u),i=w9.bind(null,i,o,u),o.then(i,i))}function w9(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Nt===i&&(tt&u)===u&&(Zt===4||Zt===3&&(tt&62914560)===tt&&300>Br()-Mm?(mt&2)===0&&qc(i,0):$x|=u,$c===tt&&($c=0)),gi(i)}function uN(i,o){o===0&&(o=uc()),i=ll(i,o),i!==null&&(re(i,o),gi(i))}function k9(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),uN(i,u)}function _9(i,o){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),uN(i,u)}function E9(i,o){return Lt(i,o)}var $m=null,Gc=null,Xx=!1,Hm=!1,Qx=!1,lo=0;function gi(i){i!==Gc&&i.next===null&&(Gc===null?$m=Gc=i:Gc=Gc.next=i),Hm=!0,Xx||(Xx=!0,N9())}function Kd(i,o){if(!Qx&&Hm){Qx=!0;do for(var u=!1,h=$m;h!==null;){if(i!==0){var x=h.pendingLanes;if(x===0)var v=0;else{var A=h.suspendedLanes,D=h.pingedLanes;v=(1<<31-Gt(42|i)+1)-1,v&=x&~(A&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,mN(h,v))}else v=tt,v=Un(h,h===Nt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||_n(h,v)||(u=!0,mN(h,v));h=h.next}while(u);Qx=!1}}function S9(){dN()}function dN(){Hm=Xx=!1;var i=0;lo!==0&&D9()&&(i=lo);for(var o=Br(),u=null,h=$m;h!==null;){var x=h.next,v=fN(h,o);v===0?(h.next=null,u===null?$m=x:u.next=x,x===null&&(Gc=u)):(u=h,(i!==0||(v&3)!==0)&&(Hm=!0)),h=x}vr!==0&&vr!==5||Kd(i),lo!==0&&(lo=0)}function fN(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,x=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var A=31-Gt(v),D=1<<A,K=x[A];K===-1?((D&u)===0||(D&h)!==0)&&(x[A]=id(D,o)):K<=o&&(i.expiredLanes|=D),v&=~D}if(o=Nt,u=tt,u=Un(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===o&&(xt===2||xt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ze(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||_n(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(h!==null&&ze(h),ar(u)){case 2:case 8:u=Ms;break;case 32:u=nr;break;case 268435456:u=Yo;break;default:u=nr}return h=hN.bind(null,i),u=Lt(u,h),i.callbackPriority=o,i.callbackNode=u,o}return h!==null&&h!==null&&ze(h),i.callbackPriority=2,i.callbackNode=null,2}function hN(i,o){if(vr!==0&&vr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Bm()&&i.callbackNode!==u)return null;var h=tt;return h=Un(i,i===Nt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(YS(i,h,o),fN(i,Br()),i.callbackNode!=null&&i.callbackNode===u?hN.bind(null,i):null)}function mN(i,o){if(Bm())return null;YS(i,o,!0)}function N9(){L9(function(){(mt&6)!==0?Lt(Rs,S9):dN()})}function Zx(){if(lo===0){var i=Oc;i===0&&(i=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),lo=i}return lo}function pN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gc(""+i)}function gN(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function j9(i,o,u,h,x){if(o==="submit"&&u&&u.stateNode===x){var v=pN((x[Tr]||null).action),A=h.submitter;A&&(o=(o=A[Tr]||null)?pN(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var D=new ci("action","action",null,h,x);i.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(lo!==0){var K=A?gN(x,A):new FormData(x);xx(u,{pending:!0,data:K,method:x.method,action:v},null,K)}}else typeof v=="function"&&(D.preventDefault(),K=A?gN(x,A):new FormData(x),xx(u,{pending:!0,data:K,method:x.method,action:v},v,K))},currentTarget:x}]})}}for(var Jx=0;Jx<My.length;Jx++){var eb=My[Jx],T9=eb.toLowerCase(),A9=eb[0].toUpperCase()+eb.slice(1);La(T9,"on"+A9)}La(K_,"onAnimationEnd"),La(Y_,"onAnimationIteration"),La(W_,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(Fz,"onTransitionRun"),La(Gz,"onTransitionStart"),La(Kz,"onTransitionCancel"),La(X_,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function yN(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],x=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var A=h.length-1;0<=A;A--){var D=h[A],K=D.instance,ne=D.currentTarget;if(D=D.listener,K!==v&&x.isPropagationStopped())break e;v=D,x.currentTarget=ne;try{v(x)}catch(de){am(de)}x.currentTarget=null,v=K}else for(A=0;A<h.length;A++){if(D=h[A],K=D.instance,ne=D.currentTarget,D=D.listener,K!==v&&x.isPropagationStopped())break e;v=D,x.currentTarget=ne;try{v(x)}catch(de){am(de)}x.currentTarget=null,v=K}}}}function et(i,o){var u=o[dc];u===void 0&&(u=o[dc]=new Set);var h=i+"__bubble";u.has(h)||(xN(o,i,2,!1),u.add(h))}function tb(i,o,u){var h=0;o&&(h|=4),xN(u,i,h,o)}var qm="_reactListening"+Math.random().toString(36).slice(2);function rb(i){if(!i[qm]){i[qm]=!0,sd.forEach(function(u){u!=="selectionchange"&&(C9.has(u)||tb(u,!1,i),tb(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[qm]||(o[qm]=!0,tb("selectionchange",!1,o))}}function xN(i,o,u,h){switch(KN(o)){case 2:var x=aL;break;case 8:x=iL;break;default:x=yb}u=x.bind(null,o,u,i),x=void 0,!el||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),h?x!==void 0?i.addEventListener(o,u,{capture:!0,passive:x}):i.addEventListener(o,u,!0):x!==void 0?i.addEventListener(o,u,{passive:x}):i.addEventListener(o,u,!1)}function nb(i,o,u,h,x){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var D=h.stateNode.containerInfo;if(D===x)break;if(A===4)for(A=h.return;A!==null;){var K=A.tag;if((K===3||K===4)&&A.stateNode.containerInfo===x)return;A=A.return}for(;D!==null;){if(A=ri(D),A===null)return;if(K=A.tag,K===5||K===6||K===26||K===27){h=v=A;continue e}D=D.parentNode}}h=h.return}Hs(function(){var ne=v,de=la(u),me=[];e:{var ie=Q_.get(i);if(ie!==void 0){var ce=ci,Ae=i;switch(i){case"keypress":if(rl(u)===0)break e;case"keydown":case"keyup":ce=tm;break;case"focusin":Ae="focus",ce=al;break;case"focusout":Ae="blur",ce=al;break;case"beforeblur":case"afterblur":ce=al;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=j;break;case K_:case Y_:case W_:ce=Yh;break;case X_:ce=q;break;case"scroll":case"scrollend":ce=xd;break;case"wheel":ce=oe;break;case"copy":case"cut":case"paste":ce=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Bi;break;case"toggle":case"beforetoggle":ce=Xe}var Ue=(o&4)!==0,Et=!Ue&&(i==="scroll"||i==="scrollend"),Q=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var Y=ne,te;Y!==null;){var he=Y;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Q===null||(he=Ra(Y,Q),he!=null&&Ue.push(Wd(Y,he,te))),Et)break;Y=Y.return}0<Ue.length&&(ie=new ce(ie,Ae,null,u,de),me.push({event:ie,listeners:Ue}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ie&&u!==pd&&(Ae=u.relatedTarget||u.fromElement)&&(ri(Ae)||Ae[ei]))break e;if((ce||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,ce?(Ae=u.relatedTarget||u.toElement,ce=ne,Ae=Ae?ri(Ae):null,Ae!==null&&(Et=s(Ae),Ue=Ae.tag,Ae!==Et||Ue!==5&&Ue!==27&&Ue!==6)&&(Ae=null)):(ce=null,Ae=ne),ce!==Ae)){if(Ue=bd,he="onMouseLeave",Q="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=Bi,he="onPointerLeave",Q="onPointerEnter",Y="pointer"),Et=ce==null?ie:$n(ce),te=Ae==null?ie:$n(Ae),ie=new Ue(he,Y+"leave",ce,u,de),ie.target=Et,ie.relatedTarget=te,he=null,ri(de)===ne&&(Ue=new Ue(Q,Y+"enter",Ae,u,de),Ue.target=te,Ue.relatedTarget=Et,he=Ue),Et=he,ce&&Ae)t:{for(Ue=O9,Q=ce,Y=Ae,te=0,he=Q;he;he=Ue(he))te++;he=0;for(var De=Y;De;De=Ue(De))he++;for(;0<te-he;)Q=Ue(Q),te--;for(;0<he-te;)Y=Ue(Y),he--;for(;te--;){if(Q===Y||Y!==null&&Q===Y.alternate){Ue=Q;break t}Q=Ue(Q),Y=Ue(Y)}Ue=null}else Ue=null;ce!==null&&bN(me,ie,ce,Ue,!1),Ae!==null&&Et!==null&&bN(me,Et,Ae,Ue,!0)}}e:{if(ie=ne?$n(ne):window,ce=ie.nodeName&&ie.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ie.type==="file")var ct=D_;else if(R_(ie))if(z_)ct=$z;else{ct=Uz;var Ie=Vz}else ce=ie.nodeName,!ce||ce.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&pc(ne.elementType)&&(ct=D_):ct=Bz;if(ct&&(ct=ct(i,ne))){M_(me,ct,u,de);break e}Ie&&Ie(i,ie,ne),i==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&fd(ie,"number",ie.value)}switch(Ie=ne?$n(ne):window,i){case"focusin":(R_(Ie)||Ie.contentEditable==="true")&&(_c=Ie,Iy=ne,Ed=null);break;case"focusout":Ed=Iy=_c=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,F_(me,u,de);break;case"selectionchange":if(qz)break;case"keydown":case"keyup":F_(me,u,de)}var Ze;if(ht)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else kc?il(i,u)&&(rt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(fi&&u.locale!=="ko"&&(kc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&kc&&(Ze=yd()):(li=de,gd="value"in li?li.value:li.textContent,kc=!0)),Ie=Fm(ne,rt),0<Ie.length&&(rt=new di(rt,i,null,u,de),me.push({event:rt,listeners:Ie}),Ze?rt.data=Ze:(Ze=wc(u),Ze!==null&&(rt.data=Ze)))),(Ze=ua?Mz(i,u):Dz(i,u))&&(rt=Fm(ne,"onBeforeInput"),0<rt.length&&(Ie=new di("onBeforeInput","beforeinput",null,u,de),me.push({event:Ie,listeners:rt}),Ie.data=Ze)),j9(me,i,ne,u,de)}yN(me,o)})}function Wd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Fm(i,o){for(var u=o+"Capture",h=[];i!==null;){var x=i,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Ra(i,u),x!=null&&h.unshift(Wd(i,x,v)),x=Ra(i,o),x!=null&&h.push(Wd(i,x,v))),i.tag===3)return h;i=i.return}return[]}function O9(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bN(i,o,u,h,x){for(var v=o._reactName,A=[];u!==null&&u!==h;){var D=u,K=D.alternate,ne=D.stateNode;if(D=D.tag,K!==null&&K===h)break;D!==5&&D!==26&&D!==27||ne===null||(K=ne,x?(ne=Ra(u,v),ne!=null&&A.unshift(Wd(u,ne,K))):x||(ne=Ra(u,v),ne!=null&&A.push(Wd(u,ne,K)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var I9=/\r\n?/g,P9=/\u0000|\uFFFD/g;function vN(i){return(typeof i=="string"?i:""+i).replace(I9,`
`).replace(P9,"")}function wN(i,o){return o=vN(o),vN(i)===o}function _t(i,o,u,h,x,v){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Sn(i,""+h);break;case"className":Hn(i,"class",h);break;case"tabIndex":Hn(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(i,u,h);break;case"style":md(i,h,v);break;case"data":if(o!=="object"){Hn(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=gc(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&_t(i,o,"name",x.name,x,null),_t(i,o,"formEncType",x.formEncType,x,null),_t(i,o,"formMethod",x.formMethod,x,null),_t(i,o,"formTarget",x.formTarget,x,null)):(_t(i,o,"encType",x.encType,x,null),_t(i,o,"method",x.method,x,null),_t(i,o,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=gc(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Pa);break;case"onScroll":h!=null&&et("scroll",i);break;case"onScrollEnd":h!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(x.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=gc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":et("beforetoggle",i),et("toggle",i),hc(i,"popover",h);break;case"xlinkActuate":dr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":dr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":dr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":dr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":dr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":dr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":dr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":dr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":dr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":hc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fh.get(u)||u,hc(i,u,h))}}function ab(i,o,u,h,x,v){switch(u){case"style":md(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(x.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&Sn(i,""+h);break;case"onScroll":h!=null&&et("scroll",i);break;case"onScrollEnd":h!=null&&et("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),v=i[Tr]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(o,v,x),typeof h=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,h,x);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):hc(i,u,h)}}}function Kr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var h=!1,x=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:_t(i,o,v,A,u,null)}}x&&_t(i,o,"srcSet",u.srcSet,u,null),h&&_t(i,o,"src",u.src,u,null);return;case"input":et("invalid",i);var D=v=A=x=null,K=null,ne=null;for(h in u)if(u.hasOwnProperty(h)){var de=u[h];if(de!=null)switch(h){case"name":x=de;break;case"type":A=de;break;case"checked":K=de;break;case"defaultChecked":ne=de;break;case"value":v=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:_t(i,o,h,de,u,null)}}$h(i,v,D,K,ne,A,x,!1);return;case"select":et("invalid",i),h=A=v=null;for(x in u)if(u.hasOwnProperty(x)&&(D=u[x],D!=null))switch(x){case"value":v=D;break;case"defaultValue":A=D;break;case"multiple":h=D;default:_t(i,o,x,D,u,null)}o=v,u=A,i.multiple=!!h,o!=null?Vs(i,!!h,o,!1):u!=null&&Vs(i,!!h,u,!0);return;case"textarea":et("invalid",i),v=x=h=null;for(A in u)if(u.hasOwnProperty(A)&&(D=u[A],D!=null))switch(A){case"value":h=D;break;case"defaultValue":x=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:_t(i,o,A,D,u,null)}Us(i,h,x,v);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(h=u[K],h!=null))switch(K){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:_t(i,o,K,h,u,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(h=0;h<Yd.length;h++)et(Yd[h],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in u)if(u.hasOwnProperty(ne)&&(h=u[ne],h!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:_t(i,o,ne,h,u,null)}return;default:if(pc(o)){for(de in u)u.hasOwnProperty(de)&&(h=u[de],h!==void 0&&ab(i,o,de,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&_t(i,o,D,h,u,null))}function R9(i,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,A=null,D=null,K=null,ne=null,de=null;for(ce in u){var me=u[ce];if(u.hasOwnProperty(ce)&&me!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=me;default:h.hasOwnProperty(ce)||_t(i,o,ce,null,h,me)}}for(var ie in h){var ce=h[ie];if(me=u[ie],h.hasOwnProperty(ie)&&(ce!=null||me!=null))switch(ie){case"type":v=ce;break;case"name":x=ce;break;case"checked":ne=ce;break;case"defaultChecked":de=ce;break;case"value":A=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:ce!==me&&_t(i,o,ie,ce,h,me)}}mc(i,A,D,K,ne,de,v,x);return;case"select":ce=A=D=ie=null;for(v in u)if(K=u[v],u.hasOwnProperty(v)&&K!=null)switch(v){case"value":break;case"multiple":ce=K;default:h.hasOwnProperty(v)||_t(i,o,v,null,h,K)}for(x in h)if(v=h[x],K=u[x],h.hasOwnProperty(x)&&(v!=null||K!=null))switch(x){case"value":ie=v;break;case"defaultValue":D=v;break;case"multiple":A=v;default:v!==K&&_t(i,o,x,v,h,K)}o=D,u=A,h=ce,ie!=null?Vs(i,!!u,ie,!1):!!h!=!!u&&(o!=null?Vs(i,!!u,o,!0):Vs(i,!!u,u?[]:"",!1));return;case"textarea":ce=ie=null;for(D in u)if(x=u[D],u.hasOwnProperty(D)&&x!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:_t(i,o,D,null,h,x)}for(A in h)if(x=h[A],v=u[A],h.hasOwnProperty(A)&&(x!=null||v!=null))switch(A){case"value":ie=x;break;case"defaultValue":ce=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==v&&_t(i,o,A,x,h,v)}Hh(i,ie,ce);return;case"option":for(var Ae in u)if(ie=u[Ae],u.hasOwnProperty(Ae)&&ie!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:_t(i,o,Ae,null,h,ie)}for(K in h)if(ie=h[K],ce=u[K],h.hasOwnProperty(K)&&ie!==ce&&(ie!=null||ce!=null))switch(K){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:_t(i,o,K,ie,h,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in u)ie=u[Ue],u.hasOwnProperty(Ue)&&ie!=null&&!h.hasOwnProperty(Ue)&&_t(i,o,Ue,null,h,ie);for(ne in h)if(ie=h[ne],ce=u[ne],h.hasOwnProperty(ne)&&ie!==ce&&(ie!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:_t(i,o,ne,ie,h,ce)}return;default:if(pc(o)){for(var Et in u)ie=u[Et],u.hasOwnProperty(Et)&&ie!==void 0&&!h.hasOwnProperty(Et)&&ab(i,o,Et,void 0,h,ie);for(de in h)ie=h[de],ce=u[de],!h.hasOwnProperty(de)||ie===ce||ie===void 0&&ce===void 0||ab(i,o,de,ie,h,ce);return}}for(var Q in u)ie=u[Q],u.hasOwnProperty(Q)&&ie!=null&&!h.hasOwnProperty(Q)&&_t(i,o,Q,null,h,ie);for(me in h)ie=h[me],ce=u[me],!h.hasOwnProperty(me)||ie===ce||ie==null&&ce==null||_t(i,o,me,ie,h,ce)}function kN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M9(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var x=u[h],v=x.transferSize,A=x.initiatorType,D=x.duration;if(v&&D&&kN(A)){for(A=0,D=x.responseEnd,h+=1;h<u.length;h++){var K=u[h],ne=K.startTime;if(ne>D)break;var de=K.transferSize,me=K.initiatorType;de&&kN(me)&&(K=K.responseEnd,A+=de*(K<D?1:(D-ne)/(K-ne)))}if(--h,o+=8*(v+A)/(x.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ib=null,sb=null;function Gm(i){return i.nodeType===9?i:i.ownerDocument}function _N(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EN(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function ob(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lb=null;function D9(){var i=window.event;return i&&i.type==="popstate"?i===lb?!1:(lb=i,!0):(lb=null,!1)}var SN=typeof setTimeout=="function"?setTimeout:void 0,z9=typeof clearTimeout=="function"?clearTimeout:void 0,NN=typeof Promise=="function"?Promise:void 0,L9=typeof queueMicrotask=="function"?queueMicrotask:typeof NN<"u"?function(i){return NN.resolve(null).then(i).catch(V9)}:SN;function V9(i){setTimeout(function(){throw i})}function co(i){return i==="head"}function jN(i,o){var u=o,h=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(x),Xc(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Xd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Xd(u);for(var v=u.firstChild;v;){var A=v.nextSibling,D=v.nodeName;v[ti]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=A}}else u==="body"&&Xd(i.ownerDocument.body);u=x}while(u);Xc(o)}function TN(i,o){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function cb(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cb(u),fc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function U9(i,o,u,h){for(;i.nodeType===1;){var x=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ti])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=ya(i.nextSibling),i===null)break}return null}function B9(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ya(i.nextSibling),i===null))return null;return i}function AN(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ya(i.nextSibling),i===null))return null;return i}function ub(i){return i.data==="$?"||i.data==="$~"}function db(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function $9(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ya(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var fb=null;function CN(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return ya(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function ON(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function IN(i,o,u){switch(o=Gm(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Xd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);fc(i)}var xa=new Map,PN=new Set;function Km(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=Z.d;Z.d={f:H9,r:q9,D:F9,C:G9,L:K9,m:Y9,X:X9,S:W9,M:Q9};function H9(){var i=rs.f(),o=Lm();return i||o}function q9(i){var o=oa(i);o!==null&&o.tag===5&&o.type==="form"?XE(o):rs.r(i)}var Kc=typeof document>"u"?null:document;function RN(i,o,u){var h=Kc;if(h&&typeof o=="string"&&o){var x=En(o);x='link[rel="'+i+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),PN.has(x)||(PN.add(x),i={rel:i,crossOrigin:u,href:o},h.querySelector(x)===null&&(o=h.createElement("link"),Kr(o,"link",i),ur(o),h.head.appendChild(o)))}}function F9(i){rs.D(i),RN("dns-prefetch",i,null)}function G9(i,o){rs.C(i,o),RN("preconnect",i,o)}function K9(i,o,u){rs.L(i,o,u);var h=Kc;if(h&&i&&o){var x='link[rel="preload"][as="'+En(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+En(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+En(u.imageSizes)+'"]')):x+='[href="'+En(i)+'"]';var v=x;switch(o){case"style":v=Yc(i);break;case"script":v=Wc(i)}xa.has(v)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),xa.set(v,i),h.querySelector(x)!==null||o==="style"&&h.querySelector(Qd(v))||o==="script"&&h.querySelector(Zd(v))||(o=h.createElement("link"),Kr(o,"link",i),ur(o),h.head.appendChild(o)))}}function Y9(i,o){rs.m(i,o);var u=Kc;if(u&&i){var h=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+En(h)+'"][href="'+En(i)+'"]',v=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Wc(i)}if(!xa.has(v)&&(i=g({rel:"modulepreload",href:i},o),xa.set(v,i),u.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zd(v)))return}h=u.createElement("link"),Kr(h,"link",i),ur(h),u.head.appendChild(h)}}}function W9(i,o,u){rs.S(i,o,u);var h=Kc;if(h&&i){var x=ni(h).hoistableStyles,v=Yc(i);o=o||"default";var A=x.get(v);if(!A){var D={loading:0,preload:null};if(A=h.querySelector(Qd(v)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=xa.get(v))&&hb(i,u);var K=A=h.createElement("link");ur(K),Kr(K,"link",i),K._p=new Promise(function(ne,de){K.onload=ne,K.onerror=de}),K.addEventListener("load",function(){D.loading|=1}),K.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ym(A,o,h)}A={type:"stylesheet",instance:A,count:1,state:D},x.set(v,A)}}}function X9(i,o){rs.X(i,o);var u=Kc;if(u&&i){var h=ni(u).hoistableScripts,x=Wc(i),v=h.get(x);v||(v=u.querySelector(Zd(x)),v||(i=g({src:i,async:!0},o),(o=xa.get(x))&&mb(i,o),v=u.createElement("script"),ur(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(x,v))}}function Q9(i,o){rs.M(i,o);var u=Kc;if(u&&i){var h=ni(u).hoistableScripts,x=Wc(i),v=h.get(x);v||(v=u.querySelector(Zd(x)),v||(i=g({src:i,async:!0,type:"module"},o),(o=xa.get(x))&&mb(i,o),v=u.createElement("script"),ur(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(x,v))}}function MN(i,o,u,h){var x=(x=Ee.current)?Km(x):null;if(!x)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Yc(u.href),u=ni(x).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Yc(u.href);var v=ni(x).hoistableStyles,A=v.get(i);if(A||(x=x.ownerDocument||x,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,A),(v=x.querySelector(Qd(i)))&&!v._p&&(A.instance=v,A.state.loading=5),xa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xa.set(i,u),v||Z9(x,i,u,A.state))),o&&h===null)throw Error(n(528,""));return A}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wc(u),u=ni(x).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Yc(i){return'href="'+En(i)+'"'}function Qd(i){return'link[rel="stylesheet"]['+i+"]"}function DN(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Z9(i,o,u,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Kr(o,"link",u),ur(o),i.head.appendChild(o))}function Wc(i){return'[src="'+En(i)+'"]'}function Zd(i){return"script[async]"+i}function zN(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+En(u.href)+'"]');if(h)return o.instance=h,ur(h),h;var x=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ur(h),Kr(h,"style",x),Ym(h,u.precedence,i),o.instance=h;case"stylesheet":x=Yc(u.href);var v=i.querySelector(Qd(x));if(v)return o.state.loading|=4,o.instance=v,ur(v),v;h=DN(u),(x=xa.get(x))&&hb(h,x),v=(i.ownerDocument||i).createElement("link"),ur(v);var A=v;return A._p=new Promise(function(D,K){A.onload=D,A.onerror=K}),Kr(v,"link",h),o.state.loading|=4,Ym(v,u.precedence,i),o.instance=v;case"script":return v=Wc(u.src),(x=i.querySelector(Zd(v)))?(o.instance=x,ur(x),x):(h=u,(x=xa.get(v))&&(h=g({},u),mb(h,x)),i=i.ownerDocument||i,x=i.createElement("script"),ur(x),Kr(x,"link",h),i.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Ym(h,u.precedence,i));return o.instance}function Ym(i,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,v=x,A=0;A<h.length;A++){var D=h[A];if(D.dataset.precedence===o)v=D;else if(v!==x)break}v?v.parentNode.insertBefore(i,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function hb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function mb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Wm=null;function LN(i,o,u){if(Wm===null){var h=new Map,x=Wm=new Map;x.set(u,h)}else x=Wm,h=x.get(u),h||(h=new Map,x.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),x=0;x<u.length;x++){var v=u[x];if(!(v[ti]||v[cr]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=i+A;var D=h.get(A);D?D.push(v):h.set(A,[v])}}return h}function VN(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function J9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function UN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function eL(i,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Yc(h.href),v=o.querySelector(Qd(x));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Xm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=v,ur(v);return}v=o.ownerDocument||o,h=DN(h),(x=xa.get(x))&&hb(h,x),v=v.createElement("link"),ur(v);var A=v;A._p=new Promise(function(D,K){A.onload=D,A.onerror=K}),Kr(v,"link",h),u.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Xm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var pb=0;function tL(i,o){return i.stylesheets&&i.count===0&&Zm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+o);0<i.imgBytes&&pb===0&&(pb=62500*M9());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>pb?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function Xm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qm=null;function Zm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qm=new Map,o.forEach(rL,i),Qm=null,Xm.call(i))}function rL(i,o){if(!(o.state.loading&4)){var u=Qm.get(i);if(u)var h=u.get(null);else{u=new Map,Qm.set(i,u);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var A=x[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}x=o.instance,A=x.getAttribute("data-precedence"),v=u.get(A)||h,v===h&&u.set(null,x),u.set(A,x),this.count++,h=Xm.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),v?v.parentNode.insertBefore(x,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),o.state.loading|=4}}var Jd={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function nL(i,o,u,h,x,v,A,D,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function BN(i,o,u,h,x,v,A,D,K,ne,de,me){return i=new nL(i,o,u,A,K,ne,de,me,D),o=1,v===!0&&(o|=24),v=Fn(3,null,null,o),i.current=v,v.stateNode=i,o=Yy(),o.refCount++,i.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:o},Zy(v),i}function $N(i){return i?(i=Nc,i):Nc}function HN(i,o,u,h,x,v){x=$N(x),h.context===null?h.context=x:h.pendingContext=x,h=Zs(o),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=Js(i,h,o),u!==null&&(Cn(u,i,o),Od(u,i,o))}function qN(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function gb(i,o){qN(i,o),(i=i.alternate)&&qN(i,o)}function FN(i){if(i.tag===13||i.tag===31){var o=ll(i,67108864);o!==null&&Cn(o,i,67108864),gb(i,67108864)}}function GN(i){if(i.tag===13||i.tag===31){var o=Xn();o=Pe(o);var u=ll(i,o);u!==null&&Cn(u,i,o),gb(i,o)}}var Jm=!0;function aL(i,o,u,h){var x=F.T;F.T=null;var v=Z.p;try{Z.p=2,yb(i,o,u,h)}finally{Z.p=v,F.T=x}}function iL(i,o,u,h){var x=F.T;F.T=null;var v=Z.p;try{Z.p=8,yb(i,o,u,h)}finally{Z.p=v,F.T=x}}function yb(i,o,u,h){if(Jm){var x=xb(h);if(x===null)nb(i,o,h,ep,u),YN(i,h);else if(oL(x,i,o,u,h))h.stopPropagation();else if(YN(i,h),o&4&&-1<sL.indexOf(i)){for(;x!==null;){var v=oa(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=kn(v.pendingLanes);if(A!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var K=1<<31-Gt(A);D.entanglements[1]|=K,A&=~K}gi(v),(mt&6)===0&&(Dm=Br()+500,Kd(0))}}break;case 31:case 13:D=ll(v,2),D!==null&&Cn(D,v,2),Lm(),gb(v,2)}if(v=xb(h),v===null&&nb(i,o,h,ep,u),v===x)break;x=v}x!==null&&h.stopPropagation()}else nb(i,o,h,null,u)}}function xb(i){return i=la(i),bb(i)}var ep=null;function bb(i){if(ep=null,i=ri(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ep=i,null}function KN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case Rs:return 2;case Ms:return 8;case nr:case ad:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var vb=!1,uo=null,fo=null,ho=null,ef=new Map,tf=new Map,mo=[],sL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YN(i,o){switch(i){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":ef.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(o.pointerId)}}function rf(i,o,u,h,x,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[x]},o!==null&&(o=oa(o),o!==null&&FN(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function oL(i,o,u,h,x){switch(o){case"focusin":return uo=rf(uo,i,o,u,h,x),!0;case"dragenter":return fo=rf(fo,i,o,u,h,x),!0;case"mouseover":return ho=rf(ho,i,o,u,h,x),!0;case"pointerover":var v=x.pointerId;return ef.set(v,rf(ef.get(v)||null,i,o,u,h,x)),!0;case"gotpointercapture":return v=x.pointerId,tf.set(v,rf(tf.get(v)||null,i,o,u,h,x)),!0}return!1}function WN(i){var o=ri(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,sn(i.priority,function(){GN(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,sn(i.priority,function(){GN(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=xb(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);pd=h,u.target.dispatchEvent(h),pd=null}else return o=oa(u),o!==null&&FN(o),i.blockedOn=u,!1;o.shift()}return!0}function XN(i,o,u){tp(i)&&u.delete(o)}function lL(){vb=!1,uo!==null&&tp(uo)&&(uo=null),fo!==null&&tp(fo)&&(fo=null),ho!==null&&tp(ho)&&(ho=null),ef.forEach(XN),tf.forEach(XN)}function rp(i,o){i.blockedOn===o&&(i.blockedOn=null,vb||(vb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lL)))}var np=null;function QN(i){np!==i&&(np=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){np===i&&(np=null);for(var o=0;o<i.length;o+=3){var u=i[o],h=i[o+1],x=i[o+2];if(typeof h!="function"){if(bb(h||u)===null)continue;break}var v=oa(u);v!==null&&(i.splice(o,3),o-=3,xx(v,{pending:!0,data:x,method:u.method,action:h},h,x))}}))}function Xc(i){function o(K){return rp(K,i)}uo!==null&&rp(uo,i),fo!==null&&rp(fo,i),ho!==null&&rp(ho,i),ef.forEach(o),tf.forEach(o);for(var u=0;u<mo.length;u++){var h=mo[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<mo.length&&(u=mo[0],u.blockedOn===null);)WN(u),u.blockedOn===null&&mo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var x=u[h],v=u[h+1],A=x[Tr]||null;if(typeof v=="function")A||QN(u);else if(A){var D=null;if(v&&v.hasAttribute("formAction")){if(x=v,A=v[Tr]||null)D=A.formAction;else if(bb(x)!==null)continue}else D=A.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),QN(u)}}}function ZN(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return x=A})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function wb(i){this._internalRoot=i}ap.prototype.render=wb.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,h=Xn();HN(u,h,i,o,null,null)},ap.prototype.unmount=wb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;HN(i.current,2,null,i,null,null),Lm(),o[ei]=null}};function ap(i){this._internalRoot=i}ap.prototype.unstable_scheduleHydration=function(i){if(i){var o=qe();i={blockedOn:null,target:i,priority:o};for(var u=0;u<mo.length&&o!==0&&o<mo[u].priority;u++);mo.splice(u,0,i),u===0&&WN(i)}};var JN=e.version;if(JN!=="19.2.4")throw Error(n(527,JN,"19.2.4"));Z.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var cL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{wn=ip.inject(cL),Ft=ip}catch{}}return af.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,h="",x=sS,v=oS,A=lS;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=BN(i,1,!1,null,null,u,h,null,x,v,A,ZN),i[ei]=o.current,rb(i),new wb(o)},af.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var h=!1,x="",v=sS,A=oS,D=lS,K=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=BN(i,1,!0,o,u??null,h,x,K,v,A,D,ZN),o.context=$N(null),u=o.current,h=Xn(),h=Pe(h),x=Zs(h),x.callback=null,Js(u,x,h),u=h,o.current.lanes=u,re(o,u),gi(o),i[ei]=o.current,rb(i),new ap(o)},af.version="19.2.4",af}var cj;function kL(){if(cj)return Sb.exports;cj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sb.exports=wL(),Sb.exports}var _L=kL();const EL=Di(_L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=t=>{const e=NL(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...d},f)=>k.createElement("svg",{ref:f,...jL,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:W4("lucide",a),...!s&&!TL(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,p])=>k.createElement(m,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const r=k.forwardRef(({className:n,...a},s)=>k.createElement(AL,{ref:s,iconNode:e,className:W4(`lucide-${SL(uj(t))}`,`lucide-${t}`,n),...a}));return r.displayName=uj(t),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Ro=ke("arrow-down-left",CL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oa=ke("arrow-left",OL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Zw=ke("arrow-right-left",IL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Mo=ke("arrow-up-right",PL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Na=ke("barcode",RL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],uh=ke("banknote",ML);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dj=ke("bell",DL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Pf=ke("boxes",zL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],_i=ke("building-2",LL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],UL=ke("calculator",VL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],na=ke("calendar",BL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],HL=ke("camera",$L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],FL=ke("chart-column",qL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jw=ke("check",GL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fj=ke("chevron-down",KL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WL=ke("chevron-left",YL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],In=ke("chevron-right",XL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hj=ke("chevron-up",QL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JL=ke("circle-alert",ZL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],t8=ke("circle-arrow-up",e8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n8=ke("circle-check-big",r8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vl=ke("circle-check",a8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],s8=ke("circle-minus",i8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],l8=ke("circle-pause",o8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],u8=ke("circle-plus",c8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],j1=ke("clipboard-list",d8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yg=ke("clock",f8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ea=ke("credit-card",h8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],p8=ke("dollar-sign",m8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y8=ke("eye-off",g8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b8=ke("eye",x8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],w8=ke("file-check",v8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rf=ke("file-text",k8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],E8=ke("funnel",_8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],e2=ke("hammer",S8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],j8=ke("hash",N8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],A8=ke("history",T8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],mj=ke("landmark",C8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],t2=ke("layers",O8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P8=ke("layout-dashboard",I8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],hs=ke("layout-grid",R8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],pj=ke("list-checks",M8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],z8=ke("lock",D8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V8=ke("log-out",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T1=ke("map-pin",U8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],r0=ke("maximize",B8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H8=ke("menu",$8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],F8=ke("message-circle",q8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],X4=ke("message-square",G8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],gj=ke("minimize",K8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M5 12h14",key:"1ays0h"}]],W8=ke("minus",Y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Q8=ke("monitor",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],J8=ke("moon",Z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Q4=ke("move",eV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],yj=ke("notebook-text",tV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ja=ke("package",rV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mr=ke("pen",nV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Z4=ke("percent",aV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sV=ke("phone-call",iV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xg=ke("phone",oV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zr=ke("plus",lV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ul=ke("printer",cV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mf=ke("refresh-cw",uV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Mn=ke("ruler",dV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tc=ke("save",fV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],mV=ke("scissors",hV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sa=ke("search",pV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J4=ke("send",gV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],eI=ke("settings-2",yV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tI=ke("settings",xV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vV=ke("shield-check",bV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kV=ke("shopping-bag",wV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ru=ke("shopping-cart",_V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wu=ke("square-check-big",EV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Df=ke("square",SV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jV=ke("sun",NV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xn=ke("tag",TV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],CV=ke("tags",AV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$t=ke("trash-2",OV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fu=ke("trending-down",IV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Il=ke("trending-up",PV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ms=ke("triangle-alert",RV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rI=ke("truck",MV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],n0=ke("type",DV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],LV=ke("undo-2",zV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UV=ke("user-check",VV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],r2=ke("user-plus",BV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ku=ke("user",$V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pl=ke("users",HV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ps=ke("wallet",qV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Er=ke("x",FV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nI=ke("zap",GV);function aI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=aI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=aI(t))&&(n&&(n+=" "),n+=e);return n}var KV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function n2(t){if(typeof t!="string")return!1;var e=KV;return e.includes(t)}var YV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WV=new Set(YV);function iI(t){return typeof t!="string"?!1:WV.has(t)}function sI(t){return typeof t=="string"&&t.startsWith("data-")}function aa(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(iI(r)||sI(r))&&(e[r]=t[r]);return e}function _u(t){if(t==null)return null;if(k.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return aa(e)}return typeof t=="object"&&!Array.isArray(t)?aa(t):null}function bn(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(iI(r)||sI(r)||n2(r))&&(e[r]=t[r]);return e}function XV(t){return t==null?null:k.isValidElement(t)?bn(t.props):typeof t=="object"&&!Array.isArray(t)?bn(t):null}var QV=["children","width","height","viewBox","className","style","title","desc"];function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(null,arguments)}function ZV(t,e){if(t==null)return{};var r,n,a=JV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function JV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oI=k.forwardRef((t,e)=>{var{children:r,width:n,height:a,viewBox:s,className:c,style:d,title:f,desc:m}=t,p=ZV(t,QV),g=s||{width:n,height:a,x:0,y:0},b=gt("recharts-surface",c);return k.createElement("svg",A1({},bn(p),{className:b,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),k.createElement("title",null,f),k.createElement("desc",null,m),r)}),eU=["children","className"];function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(null,arguments)}function tU(t,e){if(t==null)return{};var r,n,a=rU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function rU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var en=k.forwardRef((t,e)=>{var{children:r,className:n}=t,a=tU(t,eU),s=gt("recharts-layer",n);return k.createElement("g",C1({className:s},bn(a),{ref:e}),r)}),lI=Y4(),nU=k.createContext(null);function Ot(t){return function(){return t}}const cI=Math.cos,a0=Math.sin,Qa=Math.sqrt,i0=Math.PI,bg=2*i0,O1=Math.PI,I1=2*O1,kl=1e-6,aU=I1-kl;function uI(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function iU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uI;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class sU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uI:iU(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=n-e,m=a-r,p=c-e,g=d-r,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(b>kl)if(!(Math.abs(g*f-m*p)>kl)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let w=n-c,_=a-d,E=f*f+m*m,N=w*w+_*_,C=Math.sqrt(E),S=Math.sqrt(b),P=s*Math.tan((O1-Math.acos((E+b-N)/(2*C*S)))/2),M=P/S,$=P/C;Math.abs(M-1)>kl&&this._append`L${e+M*p},${r+M*g}`,this._append`A${s},${s},0,0,${+(g*w>p*_)},${this._x1=e+$*f},${this._y1=r+$*m}`}}arc(e,r,n,a,s,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),m=e+d,p=r+f,g=1^c,b=c?a-s:s-a;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>kl||Math.abs(this._y1-p)>kl)&&this._append`L${m},${p}`,n&&(b<0&&(b=b%I1+I1),b>aU?this._append`A${n},${n},0,1,${g},${e-d},${r-f}A${n},${n},0,1,${g},${this._x1=m},${this._y1=p}`:b>kl&&this._append`A${n},${n},0,${+(b>=O1)},${g},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function a2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new sU(e)}function i2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dI(t){this._context=t}dI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vg(t){return new dI(t)}function fI(t){return t[0]}function hI(t){return t[1]}function mI(t,e){var r=Ot(!0),n=null,a=vg,s=null,c=a2(d);t=typeof t=="function"?t:t===void 0?fI:Ot(t),e=typeof e=="function"?e:e===void 0?hI:Ot(e);function d(f){var m,p=(f=i2(f)).length,g,b=!1,w;for(n==null&&(s=a(w=c())),m=0;m<=p;++m)!(m<p&&r(g=f[m],m,f))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,m,f),+e(g,m,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),d):e},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Ot(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function sp(t,e,r){var n=null,a=Ot(!0),s=null,c=vg,d=null,f=a2(m);t=typeof t=="function"?t:t===void 0?fI:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hI:Ot(+r);function m(g){var b,w,_,E=(g=i2(g)).length,N,C=!1,S,P=new Array(E),M=new Array(E);for(s==null&&(d=c(S=f())),b=0;b<=E;++b){if(!(b<E&&a(N=g[b],b,g))===C)if(C=!C)w=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=b-1;_>=w;--_)d.point(P[_],M[_]);d.lineEnd(),d.areaEnd()}C&&(P[b]=+t(N,b,g),M[b]=+e(N,b,g),d.point(n?+n(N,b,g):P[b],r?+r(N,b,g):M[b]))}if(S)return d=null,S+""||null}function p(){return mI().defined(a).curve(c).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),n=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),m):t},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ot(+g),m):n},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),r=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),m):e},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ot(+g),m):r},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(r)},m.lineX1=function(){return p().x(n).y(e)},m.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Ot(!!g),m):a},m.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),m):c},m.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),m):s},m}class pI{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function oU(t){return new pI(t,!0)}function lU(t){return new pI(t,!1)}const s2={draw(t,e){const r=Qa(e/i0);t.moveTo(r,0),t.arc(0,0,r,0,bg)}},cU={draw(t,e){const r=Qa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},gI=Qa(1/3),uU=gI*2,dU={draw(t,e){const r=Qa(e/uU),n=r*gI;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fU={draw(t,e){const r=Qa(e),n=-r/2;t.rect(n,n,r,r)}},hU=.8908130915292852,yI=a0(i0/10)/a0(7*i0/10),mU=a0(bg/10)*yI,pU=-cI(bg/10)*yI,gU={draw(t,e){const r=Qa(e*hU),n=mU*r,a=pU*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const c=bg*s/5,d=cI(c),f=a0(c);t.lineTo(f*r,-d*r),t.lineTo(d*n-f*a,f*n+d*a)}t.closePath()}},Ab=Qa(3),yU={draw(t,e){const r=-Qa(e/(Ab*3));t.moveTo(0,r*2),t.lineTo(-Ab*r,-r),t.lineTo(Ab*r,-r),t.closePath()}},ba=-.5,va=Qa(3)/2,P1=1/Qa(12),xU=(P1/2+1)*3,bU={draw(t,e){const r=Qa(e/xU),n=r/2,a=r*P1,s=n,c=r*P1+r,d=-s,f=c;t.moveTo(n,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(ba*n-va*a,va*n+ba*a),t.lineTo(ba*s-va*c,va*s+ba*c),t.lineTo(ba*d-va*f,va*d+ba*f),t.lineTo(ba*n+va*a,ba*a-va*n),t.lineTo(ba*s+va*c,ba*c-va*s),t.lineTo(ba*d+va*f,ba*f-va*d),t.closePath()}};function vU(t,e){let r=null,n=a2(a);t=typeof t=="function"?t:Ot(t||s2),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function s0(){}function o0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xI(t){this._context=t}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wU(t){return new xI(t)}function bI(t){this._context=t}bI.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kU(t){return new bI(t)}function vI(t){this._context=t}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _U(t){return new vI(t)}function wI(t){this._context=t}wI.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EU(t){return new wI(t)}function xj(t){return t<0?-1:1}function bj(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),d=(s*a+c*n)/(n+a);return(xj(s)+xj(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function vj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Cb(t,e,r){var n=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-n)/3;t._context.bezierCurveTo(n+d,a+d*e,s-d,c-d*r,s,c)}function l0(t){this._context=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cb(this,this._t0,vj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cb(this,vj(this,r=bj(this,t,e)),r);break;default:Cb(this,this._t0,r=bj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function kI(t){this._context=new _I(t)}(kI.prototype=Object.create(l0.prototype)).point=function(t,e){l0.prototype.point.call(this,e,t)};function _I(t){this._context=t}_I.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function SU(t){return new l0(t)}function NU(t){return new kI(t)}function EI(t){this._context=t}EI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=wj(t),a=wj(e),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wj(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function jU(t){return new EI(t)}function wg(t,e){this._context=t,this._t=e}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function TU(t){return new wg(t,.5)}function AU(t){return new wg(t,0)}function CU(t){return new wg(t,1)}function Bl(t,e){if((c=t.length)>1)for(var r=1,n,a,s=t[e[0]],c,d=s.length;r<c;++r)for(a=s,s=t[e[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function R1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function OU(t,e){return t[e]}function IU(t){const e=[];return e.key=t,e}function PU(){var t=Ot([]),e=R1,r=Bl,n=OU;function a(s){var c=Array.from(t.apply(this,arguments),IU),d,f=c.length,m=-1,p;for(const g of s)for(d=0,++m;d<f;++d)(c[d][m]=[0,+n(g,c[d].key,m,s)]).data=g;for(d=0,p=i2(e(c));d<f;++d)c[p[d]].index=d;return r(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ot(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?R1:typeof s=="function"?s:Ot(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Bl,a):r},a}function RU(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}Bl(t,e)}}function MU(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var c=0,d=0;c<a;++c)d+=t[c][r][1]||0;n[r][1]+=n[r][0]=-d/2}Bl(t,e)}}function DU(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var d=0,f=0,m=0;d<c;++d){for(var p=t[e[d]],g=p[n][1]||0,b=p[n-1][1]||0,w=(g-b)/2,_=0;_<d;++_){var E=t[e[_]],N=E[n][1]||0,C=E[n-1][1]||0;w+=N-C}f+=g,m+=w*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=m/f)}a[n-1][1]+=a[n-1][0]=r,Bl(t,e)}}var Ob={},Ib={},kj;function zU(){return kj||(kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Ib)),Ib}var Pb={},_j;function SI(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Pb)),Pb}var Rb={},Ej;function o2(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Rb)),Rb}var Mb={},Db={},Sj;function LU(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(Db)),Db}var Nj;function l2(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LU(),r=o2();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",m="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];m?g==="\\"&&d+1<c?(d++,f+=a[d]):g===m?m="":f+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=n})(Mb)),Mb}var jj;function c2(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zU(),r=SI(),n=o2(),a=l2();function s(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),m):m:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?m:p}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?m:p}}}function c(d,f,m){if(f.length===0)return m;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return m;p=p[f[g]]}return p===void 0?m:p}t.get=s})(Ob)),Ob}var zb,Tj;function VU(){return Tj||(Tj=1,zb=c2().get),zb}var UU=VU();const $l=Di(UU);var BU=4;function Eo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BU,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function er(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((a,s,c)=>{var d=r[c-1];return typeof d=="string"?a+d+s:d!==void 0?a+Eo(d)+s:a+s},"")}var hn=t=>t===0?0:t>0?1:-1,Ci=t=>typeof t=="number"&&t!=+t,Hl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!Ci(t),Oi=t=>Ce(t)||typeof t=="string",$U=0,zf=t=>{var e=++$U;return"".concat(t||"").concat(e)},ta=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return n;var s;if(Hl(e)){if(r==null)return n;var c=e.indexOf("%");s=r*parseFloat(e.slice(0,c))/100}else s=+e;return Ci(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},NI=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Qr(t,e,r){return Ce(t)&&Ce(e)?Eo(t+r*(e-t)):e}function jI(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):$l(n,e))===r)}var tn=t=>t===null||typeof t>"u",dh=t=>tn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Pn(t){return t!=null}function Lu(){}var HU=["type","size","sizeType"];function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(null,arguments)}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){qU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qU(t,e,r){return(e=FU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FU(t){var e=GU(t,"string");return typeof e=="symbol"?e:e+""}function GU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KU(t,e){if(t==null)return{};var r,n,a=YU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function YU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var TI={symbolCircle:s2,symbolCross:cU,symbolDiamond:dU,symbolSquare:fU,symbolStar:gU,symbolTriangle:yU,symbolWye:bU},WU=Math.PI/180,XU=t=>{var e="symbol".concat(dh(t));return TI[e]||s2},QU=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*WU;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ZU=(t,e)=>{TI["symbol".concat(dh(t))]=e},AI=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,a=KU(t,HU),s=Cj(Cj({},a),{},{type:e,size:r,sizeType:n}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var b=XU(c),w=vU().type(b).size(QU(r,n,c)),_=w();if(_!==null)return _},{className:f,cx:m,cy:p}=s,g=bn(s);return Ce(m)&&Ce(p)&&Ce(r)?k.createElement("path",M1({},g,{className:gt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};AI.registerSymbol=ZU;var CI=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,u2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(k.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{n2(a)&&(n[a]=(s=>r[a](r,s)))}),n},JU=(t,e,r)=>n=>(t(e,r,n),null),OI=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(a=>{var s=t[a];n2(a)&&typeof s=="function"&&(n||(n={}),n[a]=JU(s,e,r))}),n};function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){t7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t7(t,e,r){return(e=r7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r7(t){var e=n7(t,"string");return typeof e=="symbol"?e:e+""}function n7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nn(t,e){var r=e7({},t),n=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&n[d]!==void 0&&(c[d]=n[d]),c),r);return s}var Lb={},Vb={},Ij;function a7(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const a=new Map;for(let s=0;s<r.length;s++){const c=r[s],d=n(c,s,r);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(Vb)),Vb}var Ub={},Pj;function i7(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}t.ary=e})(Ub)),Ub}var Bb={},Rj;function II(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Bb)),Bb}var $b={},Hb={},qb={},Mj;function s7(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(qb)),qb}var Dj;function d2(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s7();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Hb)),Hb}var Fb={},zj;function o7(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Fb)),Fb}var Lj;function l7(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d2(),r=o7();function n(a){return r.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=n})($b)),$b}var Gb={},Kb={},Vj;function c7(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c2();function r(n){return function(a){return e.get(a,n)}}t.property=r})(Kb)),Kb}var Yb={},Wb={},Xb={},Qb={},Uj;function PI(){return Uj||(Uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Qb)),Qb}var Zb={},Bj;function RI(){return Bj||(Bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Zb)),Zb}var Jb={},$j;function MI(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(Jb)),Jb}var Hj;function u7(){return Hj||(Hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PI(),r=RI(),n=MI();function a(p,g,b){return typeof b!="function"?a(p,g,()=>{}):s(p,g,function w(_,E,N,C,S,P){const M=b(_,E,N,C,S,P);return M!==void 0?!!M:s(_,E,w,P)},new Map)}function s(p,g,b,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,b,w);case"function":return Object.keys(g).length>0?s(p,{...g},b,w):n.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function c(p,g,b,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,b,w);if(g instanceof Map)return d(p,g,b,w);if(g instanceof Set)return m(p,g,b,w);const _=Object.keys(g);if(p==null||r.isPrimitive(p))return _.length===0;if(_.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let E=0;E<_.length;E++){const N=_[E];if(!r.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!b(p[N],g[N],N,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,b,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,E]of g.entries()){const N=p.get(_);if(b(N,E,_,p,g,w)===!1)return!1}return!0}function f(p,g,b,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let E=0;E<g.length;E++){const N=g[E];let C=!1;for(let S=0;S<p.length;S++){if(_.has(S))continue;const P=p[S];let M=!1;if(b(P,N,E,p,g,w)&&(M=!0),M){_.add(S),C=!0;break}}if(!C)return!1}return!0}function m(p,g,b,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],b,w):!1}t.isMatchWith=a,t.isSetMatch=m})(Xb)),Xb}var qj;function DI(){return qj||(qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u7();function r(n,a){return e.isMatchWith(n,a,()=>{})}t.isMatch=r})(Wb)),Wb}var ev={},tv={},rv={},Fj;function d7(){return Fj||(Fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(rv)),rv}var nv={},Gj;function f2(){return Gj||(Gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(nv)),nv}var av={},Kj;function zI(){return Kj||(Kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",_="[object Error]",E="[object DataView]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",S="[object Uint16Array]",P="[object Uint32Array]",M="[object BigUint64Array]",$="[object Int8Array]",V="[object Int16Array]",T="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=M,t.booleanTag=a,t.dataViewTag=E,t.dateTag=d,t.errorTag=_,t.float32ArrayTag=R,t.float64ArrayTag=U,t.functionTag=g,t.int16ArrayTag=V,t.int32ArrayTag=T,t.int8ArrayTag=$,t.mapTag=f,t.numberTag=n,t.objectTag=w,t.regexpTag=e,t.setTag=m,t.stringTag=r,t.symbolTag=c,t.uint16ArrayTag=S,t.uint32ArrayTag=P,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=C})(av)),av}var iv={},Yj;function f7(){return Yj||(Yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(iv)),iv}var Wj;function LI(){return Wj||(Wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d7(),r=f2(),n=zI(),a=RI(),s=f7();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,b,w=new Map,_=void 0){const E=_==null?void 0:_(p,g,b,w);if(E!==void 0)return E;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const N=new Array(p.length);w.set(p,N);for(let C=0;C<p.length;C++)N[C]=d(p[C],C,b,w,_);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;w.set(p,N);for(const[C,S]of p)N.set(C,d(S,C,b,w,_));return N}if(p instanceof Set){const N=new Set;w.set(p,N);for(const C of p)N.add(d(C,void 0,b,w,_));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,N);for(let C=0;C<p.length;C++)N[C]=d(p[C],C,b,w,_);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,N),f(N,p,b,w,_),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return w.set(p,N),f(N,p,b,w,_),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return w.set(p,N),f(N,p,b,w,_),N}if(p instanceof Error){const N=new p.constructor;return w.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,b,w,_),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return w.set(p,N),f(N,p,b,w,_),N}if(p instanceof Number){const N=new Number(p.valueOf());return w.set(p,N),f(N,p,b,w,_),N}if(p instanceof String){const N=new String(p.valueOf());return w.set(p,N),f(N,p,b,w,_),N}if(typeof p=="object"&&m(p)){const N=Object.create(Object.getPrototypeOf(p));return w.set(p,N),f(N,p,b,w,_),N}return p}function f(p,g,b=p,w,_){const E=[...Object.keys(g),...e.getSymbols(g)];for(let N=0;N<E.length;N++){const C=E[N],S=Object.getOwnPropertyDescriptor(p,C);(S==null||S.writable)&&(p[C]=d(g[C],C,b,w,_))}}function m(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(tv)),tv}var Xj;function h7(){return Xj||(Xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(ev)),ev}var Qj;function m7(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DI(),r=h7();function n(a){return a=r.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=n})(Yb)),Yb}var sv={},ov={},lv={},Zj;function p7(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI(),r=f2(),n=zI();function a(s,c){return e.cloneDeepWith(s,(d,f,m,p)=>{const g=c==null?void 0:c(d,f,m,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const b={};return p.set(s,b),e.copyProperties(b,s,m,p),b}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(b,s),b}case n.argumentsTag:{const b={};return e.copyProperties(b,s),b.length=s.length,b[Symbol.iterator]=s[Symbol.iterator],b}default:return}}})}t.cloneDeepWith=a})(lv)),lv}var Jj;function g7(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p7();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(ov)),ov}var cv={},uv={},eT;function VI(){return eT||(eT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(uv)),uv}var dv={},tT;function y7(){return tT||(tT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f2();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(dv)),dv}var rT;function x7(){return rT||(rT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SI(),r=VI(),n=y7(),a=l2();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let p=0;p<f.length;p++){const g=f[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(cv)),cv}var nT;function b7(){return nT||(nT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DI(),r=o2(),n=g7(),a=c2(),s=x7();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(m){const p=a.get(m,d);return p===void 0?s.has(m,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(sv)),sv}var aT;function v7(){return aT||(aT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=II(),r=c7(),n=m7(),a=b7();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}t.iteratee=s})(Gb)),Gb}var iT;function w7(){return iT||(iT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a7(),r=i7(),n=II(),a=l7(),s=v7();function c(d,f=n.identity){return a.isArrayLikeObject(d)?e.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(Lb)),Lb}var fv,sT;function k7(){return sT||(sT=1,fv=w7().uniqBy),fv}var _7=k7();const oT=Di(_7);function E7(t,e,r){return e===!0?oT(t,r):typeof e=="function"?oT(t,e):t}var hv={exports:{}},mv={},pv={exports:{}},gv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function S7(){if(lT)return gv;lT=1;var t=zu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,b){var w=b(),_=n({inst:{value:w,getSnapshot:b}}),E=_[0].inst,N=_[1];return s(function(){E.value=w,E.getSnapshot=b,f(E)&&N({inst:E})},[g,w,b]),a(function(){return f(E)&&N({inst:E}),g(function(){f(E)&&N({inst:E})})},[g]),c(w),w}function f(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!r(g,w)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return gv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,gv}var cT;function N7(){return cT||(cT=1,pv.exports=S7()),pv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function j7(){if(uT)return mv;uT=1;var t=zu(),e=N7();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return mv.useSyncExternalStoreWithSelector=function(m,p,g,b,w){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=d(function(){function C(V){if(!S){if(S=!0,P=V,V=b(V),w!==void 0&&E.hasValue){var T=E.value;if(w(T,V))return M=T}return M=V}if(T=M,n(P,V))return T;var I=b(V);return w!==void 0&&w(T,I)?(P=V,T):(P=V,M=I)}var S=!1,P,M,$=g===void 0?null:g;return[function(){return C(p())},$===null?void 0:function(){return C($())}]},[p,g,b,w]);var N=a(m,_[0],_[1]);return c(function(){E.hasValue=!0,E.value=N},[N]),f(N),N},mv}var dT;function T7(){return dT||(dT=1,hv.exports=j7()),hv.exports}var A7=T7(),h2=k.createContext(null),C7=t=>t,qt=()=>{var t=k.useContext(h2);return t?t.store.dispatch:C7},Up=()=>{},O7=()=>Up,I7=(t,e)=>t===e;function Re(t){var e=k.useContext(h2),r=k.useMemo(()=>e?n=>{if(n!=null)return t(n)}:Up,[e,t]);return A7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:O7,e?e.store.getState:Up,e?e.store.getState:Up,r,I7)}function P7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function R7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function M7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var fT=t=>Array.isArray(t)?t:[t];function D7(t){const e=Array.isArray(t[0])?t[0]:t;return M7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function z7(t,e){const r=[],{length:n}=t;for(let a=0;a<n;a++)r.push(t[a].apply(null,e));return r}var L7=class{constructor(t){this.value=t}deref(){return this.value}},V7=typeof WeakRef<"u"?WeakRef:L7,U7=0,hT=1;function op(){return{s:U7,v:void 0,o:null,p:null}}function UI(t,e={}){let r=op();const{resultEqualityCheck:n}=e;let a,s=0;function c(){var g;let d=r;const{length:f}=arguments;for(let b=0,w=f;b<w;b++){const _=arguments[b];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=d.o;E===null&&(d.o=E=new WeakMap);const N=E.get(_);N===void 0?(d=op(),E.set(_,d)):d=N}else{let E=d.p;E===null&&(d.p=E=new Map);const N=E.get(_);N===void 0?(d=op(),E.set(_,d)):d=N}}const m=d;let p;if(d.s===hT)p=d.v;else if(p=t.apply(null,arguments),s++,n){const b=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;b!=null&&n(b,p)&&(p=b,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new V7(p):p}return m.s=hT,m.v=p,p}return c.clearCache=()=>{r=op(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function B7(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...a)=>{let s=0,c=0,d,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),P7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...r,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:w=UI,argsMemoizeOptions:_=[]}=p,E=fT(b),N=fT(_),C=D7(a),S=g(function(){return s++,m.apply(null,arguments)},...E),P=w(function(){c++;const $=z7(C,arguments);return d=S.apply(null,$),d},...N);return Object.assign(P,{resultFunc:m,memoizedResultFunc:S,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var ae=B7(UI),$7=Object.assign((t,e=ae)=>{R7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>$7}),yv={},xv={},bv={},mT;function H7(){return mT||(mT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const c=e(n),d=e(a);if(c===d&&c===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=r})(bv)),bv}var vv={},wv={},pT;function BI(){return pT||(pT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(wv)),wv}var gT;function q7(){return gT||(gT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(vv)),vv}var yT;function F7(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H7(),r=q7(),n=l2();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const m=(w,_)=>{let E=w;for(let N=0;N<_.length&&E!=null;++N)E=E[_[N]];return E},p=(w,_)=>_==null||w==null?_:typeof w=="object"&&"key"in w?Object.hasOwn(_,w.key)?_[w.key]:m(_,w.path):typeof w=="function"?w(_):Array.isArray(w)?m(_,w):typeof _=="object"?_[w]:_,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(_=>p(_,w))})).slice().sort((w,_)=>{for(let E=0;E<g.length;E++){const N=e.compareValues(w.criteria[E],_.criteria[E],d[E]);if(N!==0)return N}return 0}).map(w=>w.original)}t.orderBy=a})(xv)),xv}var kv={},xT;function G7(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const a=[],s=Math.floor(n),c=(d,f)=>{for(let m=0;m<d.length;m++){const p=d[m];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(r,0),a}t.flatten=e})(kv)),kv}var _v={},bT;function $I(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VI(),r=d2(),n=PI(),a=MI();function s(c,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],c):!1}t.isIterateeCall=s})(_v)),_v}var vT;function K7(){return vT||(vT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F7(),r=G7(),n=$I();function a(s,...c){const d=c.length;return d>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,r.flatten(c),["asc"])}t.sortBy=a})(yv)),yv}var Ev,wT;function Y7(){return wT||(wT=1,Ev=K7().sortBy),Ev}var W7=Y7();const kg=Di(W7);var HI=t=>t.legend.settings,X7=t=>t.legend.size,Q7=t=>t.legend.payload;ae([Q7,HI],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?kg(n,r):n});var lp=1;function Z7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>lp||Math.abs(c.left-e.left)>lp||Math.abs(c.top-e.top)>lp||Math.abs(c.width-e.width)>lp)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Yr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var J7=typeof Symbol=="function"&&Symbol.observable||"@@observable",kT=J7,Sv=()=>Math.random().toString(36).substring(7).split("").join("."),eB={INIT:`@@redux/INIT${Sv()}`,REPLACE:`@@redux/REPLACE${Sv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sv()}`},c0=eB;function m2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function qI(t,e,r){if(typeof t!="function")throw new Error(Yr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yr(1));return r(qI)(t,e)}let n=t,a=e,s=new Map,c=s,d=0,f=!1;function m(){c===s&&(c=new Map,s.forEach((N,C)=>{c.set(C,N)}))}function p(){if(f)throw new Error(Yr(3));return a}function g(N){if(typeof N!="function")throw new Error(Yr(4));if(f)throw new Error(Yr(5));let C=!0;m();const S=d++;return c.set(S,N),function(){if(C){if(f)throw new Error(Yr(6));C=!1,m(),c.delete(S),s=null}}}function b(N){if(!m2(N))throw new Error(Yr(7));if(typeof N.type>"u")throw new Error(Yr(8));if(typeof N.type!="string")throw new Error(Yr(17));if(f)throw new Error(Yr(9));try{f=!0,a=n(a,N)}finally{f=!1}return(s=c).forEach(S=>{S()}),N}function w(N){if(typeof N!="function")throw new Error(Yr(10));n=N,b({type:c0.REPLACE})}function _(){const N=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Yr(11));function S(){const M=C;M.next&&M.next(p())}return S(),{unsubscribe:N(S)}},[kT](){return this}}}return b({type:c0.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:w,[kT]:_}}function tB(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:c0.INIT})>"u")throw new Error(Yr(12));if(typeof r(void 0,{type:c0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yr(13))})}function FI(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(r[c]=t[c])}const n=Object.keys(r);let a;try{tB(r)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const m={};for(let p=0;p<n.length;p++){const g=n[p],b=r[g],w=c[g],_=b(w,d);if(typeof _>"u")throw d&&d.type,new Error(Yr(14));m[g]=_,f=f||_!==w}return f=f||n.length!==Object.keys(c).length,f?m:c}}function u0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function rB(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Yr(15))};const c={getState:a.getState,dispatch:(f,...m)=>s(f,...m)},d=t.map(f=>f(c));return s=u0(...d)(a.dispatch),{...a,dispatch:s}}}function GI(t){return m2(t)&&"type"in t&&typeof t.type=="string"}var KI=Symbol.for("immer-nothing"),_T=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function Ba(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ea=Object,Eu=ea.getPrototypeOf,d0="constructor",_g="prototype",D1="configurable",f0="enumerable",Bp="writable",Lf="value",gs=t=>!!t&&!!t[vn];function Wa(t){var e;return t?YI(t)||Sg(t)||!!t[_T]||!!((e=t[d0])!=null&&e[_T])||Ng(t)||jg(t):!1}var nB=ea[_g][d0].toString(),ET=new WeakMap;function YI(t){if(!t||!p2(t))return!1;const e=Eu(t);if(e===null||e===ea[_g])return!0;const r=ea.hasOwnProperty.call(e,d0)&&e[d0];if(r===Object)return!0;if(!nu(r))return!1;let n=ET.get(r);return n===void 0&&(n=Function.toString.call(r),ET.set(r,n)),n===nB}function Eg(t,e,r=!0){fh(t)===0?(r?Reflect.ownKeys(t):ea.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function fh(t){const e=t[vn];return e?e.type_:Sg(t)?1:Ng(t)?2:jg(t)?3:0}var ST=(t,e,r=fh(t))=>r===2?t.has(e):ea[_g].hasOwnProperty.call(t,e),z1=(t,e,r=fh(t))=>r===2?t.get(e):t[e],h0=(t,e,r,n=fh(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function aB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Sg=Array.isArray,Ng=t=>t instanceof Map,jg=t=>t instanceof Set,p2=t=>typeof t=="object",nu=t=>typeof t=="function",Nv=t=>typeof t=="boolean";function iB(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var as=t=>t.copy_||t.base_,g2=t=>t.modified_?t.copy_:t.base_;function L1(t,e){if(Ng(t))return new Map(t);if(jg(t))return new Set(t);if(Sg(t))return Array[_g].slice.call(t);const r=YI(t);if(e===!0||e==="class_only"&&!r){const n=ea.getOwnPropertyDescriptors(t);delete n[vn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],d=n[c];d[Bp]===!1&&(d[Bp]=!0,d[D1]=!0),(d.get||d.set)&&(n[c]={[D1]:!0,[Bp]:!0,[f0]:d[f0],[Lf]:t[c]})}return ea.create(Eu(t),n)}else{const n=Eu(t);if(n!==null&&r)return{...t};const a=ea.create(n);return ea.assign(a,t)}}function y2(t,e=!1){return Tg(t)||gs(t)||!Wa(t)||(fh(t)>1&&ea.defineProperties(t,{set:cp,add:cp,clear:cp,delete:cp}),ea.freeze(t),e&&Eg(t,(r,n)=>{y2(n,!0)},!1)),t}function sB(){Ba(2)}var cp={[Lf]:sB};function Tg(t){return t===null||!p2(t)?!0:ea.isFrozen(t)}var m0="MapSet",V1="Patches",NT="ArrayMethods",WI={};function ql(t){const e=WI[t];return e||Ba(0,t),e}var jT=t=>!!WI[t],Vf,XI=()=>Vf,oB=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:jT(m0)?ql(m0):void 0,arrayMethodsPlugin_:jT(NT)?ql(NT):void 0});function TT(t,e){e&&(t.patchPlugin_=ql(V1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function U1(t){B1(t),t.drafts_.forEach(lB),t.drafts_=null}function B1(t){t===Vf&&(Vf=t.parent_)}var AT=t=>Vf=oB(Vf,t);function lB(t){const e=t[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function CT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[vn].modified_&&(U1(e),Ba(4)),Wa(t)&&(t=OT(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(r[vn].base_,t,e)}else t=OT(e,r);return cB(e,t,!0),U1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==KI?t:void 0}function OT(t,e){if(Tg(e))return e;const r=e[vn];if(!r)return p0(e,t.handledSet_,t);if(!Ag(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);JI(r,t)}return r.copy_}function cB(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&y2(e,r)}function QI(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ag=(t,e)=>t.scope_===e,uB=[];function ZI(t,e,r,n){const a=as(t),s=t.type_;if(n!==void 0&&z1(a,n,s)===e){h0(a,n,r,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Eg(a,(f,m)=>{if(gs(m)){const p=d.get(m)||[];p.push(f),d.set(m,p)}})}const c=t.draftLocations_.get(e)??uB;for(const d of c)h0(a,d,r,s)}function dB(t,e,r){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Ag(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=g2(s);ZI(t,s.draft_??s,c,r),JI(s,a)})}function JI(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}QI(t)}}function fB(t,e,r){const{scope_:n}=t;if(gs(r)){const a=r[vn];Ag(a,n)&&a.callbacks_.push(function(){$p(t);const c=g2(a);ZI(t,r,c,e)})}else Wa(r)&&t.callbacks_.push(function(){const s=as(t);t.type_===3?s.has(r)&&p0(r,n.handledSet_,n):z1(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&p0(z1(t.copy_,e,t.type_),n.handledSet_,n)})}function p0(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||gs(t)||e.has(t)||!Wa(t)||Tg(t)||(e.add(t),Eg(t,(n,a)=>{if(gs(a)){const s=a[vn];if(Ag(s,r)){const c=g2(s);h0(t,n,c,t.type_),QI(s)}}else Wa(a)&&p0(a,e,r)})),t}function hB(t,e){const r=Sg(t),n={type_:r?1:0,scope_:e?e.scope_:XI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=g0;r&&(a=[n],s=Uf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=c,[d,n]}var g0={get(t,e){if(e===vn)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r!=null&&r.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const a=as(t);if(!ST(a,e,t.type_))return mB(t,a,e);const s=a[e];if(t.finalized_||!Wa(s)||n&&t.operationMethod&&(r!=null&&r.isMutatingArrayMethod(t.operationMethod))&&iB(e))return s;if(s===jv(t.base_,e)){$p(t);const c=t.type_===1?+e:e,d=H1(t.scope_,s,t,c);return t.copy_[c]=d}return s},has(t,e){return e in as(t)},ownKeys(t){return Reflect.ownKeys(as(t))},set(t,e,r){const n=eP(as(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=jv(as(t),e),s=a==null?void 0:a[vn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(aB(r,a)&&(r!==void 0||ST(t.base_,e,t.type_)))return!0;$p(t),$1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),fB(t,e,r)),!0},deleteProperty(t,e){return $p(t),jv(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),$1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=as(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[Bp]:!0,[D1]:t.type_!==1||e!=="length",[f0]:n[f0],[Lf]:r[e]}},defineProperty(){Ba(11)},getPrototypeOf(t){return Eu(t.base_)},setPrototypeOf(){Ba(12)}},Uf={};for(let t in g0){let e=g0[t];Uf[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Uf.deleteProperty=function(t,e){return Uf.set.call(this,t,e,void 0)};Uf.set=function(t,e,r){return g0.set.call(this,t[0],e,r,t[0])};function jv(t,e){const r=t[vn];return(r?as(r):t)[e]}function mB(t,e,r){var a;const n=eP(e,r);return n?Lf in n?n[Lf]:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function eP(t,e){if(!(e in t))return;let r=Eu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Eu(r)}}function $1(t){t.modified_||(t.modified_=!0,t.parent_&&$1(t.parent_))}function $p(t){t.copy_||(t.assigned_=new Map,t.copy_=L1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(nu(r)&&!nu(n)){const c=n;n=r;const d=this;return function(m=c,...p){return d.produce(m,g=>n.call(this,g,...p))}}nu(n)||Ba(6),a!==void 0&&!nu(a)&&Ba(7);let s;if(Wa(r)){const c=AT(this),d=H1(c,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?U1(c):B1(c)}return TT(c,a),CT(s,c)}else if(!r||!p2(r)){if(s=n(r),s===void 0&&(s=r),s===KI&&(s=void 0),this.autoFreeze_&&y2(s,!0),a){const c=[],d=[];ql(V1).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else Ba(1,r)},this.produceWithPatches=(r,n)=>{if(nu(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},Nv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Nv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Nv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wa(e)||Ba(8),gs(e)&&(e=Ka(e));const r=AT(this),n=H1(r,e,void 0);return n[vn].isManual_=!0,B1(r),n}finishDraft(e,r){const n=e&&e[vn];(!n||!n.isManual_)&&Ba(9);const{scope_:a}=n;return TT(a,r),CT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const a=ql(V1).applyPatches_;return gs(e)?a(e,r):this.produce(e,s=>a(s,r))}};function H1(t,e,r,n){const[a,s]=Ng(e)?ql(m0).proxyMap_(e,r):jg(e)?ql(m0).proxySet_(e,r):hB(e,r);return((r==null?void 0:r.scope_)??XI()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?dB(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),a}function Ka(t){return gs(t)||Ba(10,t),tP(t)}function tP(t){if(!Wa(t)||Tg(t))return t;const e=t[vn];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=L1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=L1(t,!0);return Eg(r,(a,s)=>{h0(r,a,tP(s))},n),e&&(e.finalized_=!1),r}var gB=new pB,rP=gB.produce;function nP(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var yB=nP(),xB=nP,bB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u0:u0.apply(null,arguments)};function Ta(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(ra(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>GI(n)&&n.type===t,r}var aP=class gf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gf.prototype)}static get[Symbol.species](){return gf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gf(...e[0].concat(this)):new gf(...e.concat(this))}};function IT(t){return Wa(t)?rP(t,()=>{}):t}function up(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function vB(t){return typeof t=="boolean"}var wB=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new aP;return r&&(vB(r)?c.push(yB):c.push(xB(r.extraArgument))),c},iP="RTK_autoBatch",Bt=()=>t=>({payload:t,meta:{[iP]:!0}}),PT=t=>e=>{setTimeout(e,t)},sP=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PT(10):t.type==="callback"?t.queueNotification:PT(t.timeout),m=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),b=n.subscribe(g);return d.add(p),()=>{b(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[iP]),s=!a,s&&(c||(c=!0,f(m))),n.dispatch(p)}finally{a=!0}}})},kB=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new aP(t);return n&&a.push(sP(typeof n=="object"?n:void 0)),a};function _B(t){const e=wB(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof r=="function")d=r;else if(m2(r))d=FI(r);else throw new Error(ra(1));let f;typeof n=="function"?f=n(e):f=e();let m=u0;a&&(m=bB({trace:!1,...typeof a=="object"&&a}));const p=rB(...f),g=kB(p);let b=typeof c=="function"?c(g):g();const w=m(...b);return qI(d,s,w)}function oP(t){const e={},r=[];let n;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ra(28));if(d in e)throw new Error(ra(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return r.push({matcher:s,reducer:c}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function EB(t){return typeof t=="function"}function SB(t,e){let[r,n,a]=oP(e),s;if(EB(t))s=()=>IT(t());else{const d=IT(t);s=()=>d}function c(d=s(),f){let m=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[a]),m.reduce((p,g)=>{if(g)if(gs(p)){const w=g(p,f);return w===void 0?p:w}else{if(Wa(p))return rP(p,b=>g(b,f));{const b=g(p,f);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},d)}return c.getInitialState=s,c}var NB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jB=(t=21)=>{let e="",r=t;for(;r--;)e+=NB[Math.random()*64|0];return e},TB=Symbol.for("rtk-slice-createasyncthunk");function AB(t,e){return`${t}/${e}`}function CB({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[TB];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ra(11));const d=(typeof a.reducers=="function"?a.reducers(IB()):a.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,$){const V=typeof M=="string"?M:M.type;if(!V)throw new Error(ra(12));if(V in m.sliceCaseReducersByType)throw new Error(ra(13));return m.sliceCaseReducersByType[V]=$,p},addMatcher(M,$){return m.sliceMatchers.push({matcher:M,reducer:$}),p},exposeAction(M,$){return m.actionCreators[M]=$,p},exposeCaseReducer(M,$){return m.sliceCaseReducersByName[M]=$,p}};f.forEach(M=>{const $=d[M],V={reducerName:M,type:AB(s,M),createNotation:typeof a.reducers=="function"};RB($)?DB(V,$,p,e):PB(V,$,p)});function g(){const[M={},$=[],V=void 0]=typeof a.extraReducers=="function"?oP(a.extraReducers):[a.extraReducers],T={...M,...m.sliceCaseReducersByType};return SB(a.initialState,I=>{for(let R in T)I.addCase(R,T[R]);for(let R of m.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of $)I.addMatcher(R.matcher,R.reducer);V&&I.addDefaultCase(V)})}const b=M=>M,w=new Map,_=new WeakMap;let E;function N(M,$){return E||(E=g()),E(M,$)}function C(){return E||(E=g()),E.getInitialState()}function S(M,$=!1){function V(I){let R=I[M];return typeof R>"u"&&$&&(R=up(_,V,C)),R}function T(I=b){const R=up(w,$,()=>new WeakMap);return up(R,I,()=>{const U={};for(const[L,B]of Object.entries(a.selectors??{}))U[L]=OB(B,I,()=>up(_,I,C),$);return U})}return{reducerPath:M,getSelectors:T,get selectors(){return T(V)},selectSlice:V}}const P={name:s,reducer:N,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...S(c),injectInto(M,{reducerPath:$,...V}={}){const T=$??c;return M.inject({reducerPath:T,reducer:N},V),{...P,...S(T,!0)}}};return P}}function OB(t,e,r,n){function a(s,...c){let d=e(s);return typeof d>"u"&&n&&(d=r()),t(d,...c)}return a.unwrapped=t,a}var Dn=CB();function IB(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function PB({type:t,reducerName:e,createNotation:r},n,a){let s,c;if("reducer"in n){if(r&&!MB(n))throw new Error(ra(17));s=n.reducer,c=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ta(t,c):Ta(t))}function RB(t){return t._reducerDefinitionType==="asyncThunk"}function MB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function DB({type:t,reducerName:e},r,n,a){if(!a)throw new Error(ra(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:m,options:p}=r,g=a(t,s,p);n.exposeAction(e,g),c&&n.addCase(g.fulfilled,c),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(e,{fulfilled:c||dp,pending:d||dp,rejected:f||dp,settled:m||dp})}function dp(){}var zB="task",lP="listener",cP="completed",x2="cancelled",LB=`task-${x2}`,VB=`task-${cP}`,q1=`${lP}-${x2}`,UB=`${lP}-${cP}`,Cg=class{constructor(t){kb(this,"name","TaskAbortError");kb(this,"message");this.code=t,this.message=`${zB} ${x2} (reason: ${t})`}},b2=(t,e)=>{if(typeof t!="function")throw new TypeError(ra(32))},y0=()=>{},uP=(t,e=y0)=>(t.catch(e),t),dP=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Rl=t=>{if(t.aborted)throw new Cg(t.reason)};function fP(t,e){let r=y0;return new Promise((n,a)=>{const s=()=>a(new Cg(t.reason));if(t.aborted){s();return}r=dP(t,s),e.finally(()=>r()).then(n,a)}).finally(()=>{r=y0})}var BB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Cg?"cancelled":"rejected",error:r}}finally{e==null||e()}},x0=t=>e=>uP(fP(t,e).then(r=>(Rl(t),r))),hP=t=>{const e=x0(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:hu}=Object,RT={},Og="listenerMiddleware",$B=(t,e)=>{const r=n=>dP(t,()=>n.abort(t.reason));return(n,a)=>{b2(n);const s=new AbortController;r(s);const c=BB(async()=>{Rl(t),Rl(s.signal);const d=await n({pause:x0(s.signal),delay:hP(s.signal),signal:s.signal});return Rl(s.signal),d},()=>s.abort(VB));return a!=null&&a.autoJoin&&e.push(c.catch(y0)),{result:x0(t)(c),cancel(){s.abort(LB)}}}},HB=(t,e)=>{const r=async(n,a)=>{Rl(e);let s=()=>{};const d=[new Promise((f,m)=>{let p=t({predicate:n,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),m()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await fP(e,Promise.race(d));return Rl(e),f}finally{s()}};return(n,a)=>uP(r(n,a))},mP=t=>{let{type:e,actionCreator:r,matcher:n,predicate:a,effect:s}=t;if(e)a=Ta(e).match;else if(r)e=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ra(21));return b2(s),{predicate:a,type:e,effect:s}},pP=hu(t=>{const{type:e,predicate:r,effect:n}=mP(t);return{id:jB(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ra(22))}}},{withTypes:()=>pP}),MT=(t,e)=>{const{type:r,effect:n,predicate:a}=mP(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},F1=t=>{t.pending.forEach(e=>{e.abort(q1)})},qB=(t,e)=>()=>{for(const r of e.keys())F1(r);t.clear()},DT=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},gP=hu(Ta(`${Og}/add`),{withTypes:()=>gP}),FB=Ta(`${Og}/removeAll`),yP=hu(Ta(`${Og}/remove`),{withTypes:()=>yP}),GB=(...t)=>{console.error(`${Og}/error`,...t)},hh=(t={})=>{const e=new Map,r=new Map,n=w=>{const _=r.get(w)??0;r.set(w,_+1)},a=w=>{const _=r.get(w)??1;_===1?r.delete(w):r.set(w,_-1)},{extra:s,onError:c=GB}=t;b2(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),_=>{w.unsubscribe(),_!=null&&_.cancelActive&&F1(w)}),f=w=>{const _=MT(e,w)??pP(w);return d(_)};hu(f,{withTypes:()=>f});const m=w=>{const _=MT(e,w);return _&&(_.unsubscribe(),w.cancelActive&&F1(_)),!!_};hu(m,{withTypes:()=>m});const p=async(w,_,E,N)=>{const C=new AbortController,S=HB(f,C.signal),P=[];try{w.pending.add(C),n(w),await Promise.resolve(w.effect(_,hu({},E,{getOriginalState:N,condition:(M,$)=>S(M,$).then(Boolean),take:S,delay:hP(C.signal),pause:x0(C.signal),extra:s,signal:C.signal,fork:$B(C.signal,P),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((M,$,V)=>{M!==C&&(M.abort(q1),V.delete(M))})},cancel:()=>{C.abort(q1),w.pending.delete(C)},throwIfCancelled:()=>{Rl(C.signal)}})))}catch(M){M instanceof Cg||DT(c,M,{raisedBy:"effect"})}finally{await Promise.all(P),C.abort(UB),a(w),w.pending.delete(C)}},g=qB(e,r);return{middleware:w=>_=>E=>{if(!GI(E))return _(E);if(gP.match(E))return f(E.payload);if(FB.match(E)){g();return}if(yP.match(E))return m(E.payload);let N=w.getState();const C=()=>{if(N===RT)throw new Error(ra(23));return N};let S;try{if(S=_(E),e.size>0){const P=w.getState(),M=Array.from(e.values());for(const $ of M){let V=!1;try{V=$.predicate(E,P,N)}catch(T){V=!1,DT(c,T,{raisedBy:"predicate"})}V&&p($,E,w,C)}}}finally{N=RT}return S},startListening:f,stopListening:m,clearListeners:g}};function ra(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xP=Dn({name:"chartLayout",initialState:KB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,a,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:YB,setLayout:WB,setChartSize:XB,setScale:QB}=xP.actions,ZB=xP.reducer;function bP(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function st(t){return Number.isFinite(t)}function Ii(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function zT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(r),!0).forEach(function(n){JB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JB(t,e,r){return(e=e$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t){var e=t$(t,"string");return typeof e=="symbol"?e:e+""}function t$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zt(t,e,r){return tn(t)||tn(e)?r:Oi(e)?$l(t,e,r):typeof e=="function"?e(t):r}var r$=(t,e,r)=>{if(e&&r){var{width:n,height:a}=r,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Ce(t[s]))return lu(lu({},t),{},{[s]:t[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Ce(t[c]))return lu(lu({},t),{},{[c]:t[c]+(a||0)})}return t},zi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",vP=(t,e,r,n)=>{if(n)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(r),c},wP=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:w}=t;if(!c)return null;var _=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=a==="category"&&c.bandwidth?c.bandwidth()/_:0;if(E=w==="angleAxis"&&s&&s.length>=2?hn(s[0]-s[1])*2*E:E,g||b){var N=(g||b||[]).map((C,S)=>{var P=n?n.indexOf(C):C,M=c.map(P);return st(M)?{coordinate:M+E,value:C,offset:E,index:S}:null}).filter(Pn);return N}return f&&m?m.map((C,S)=>{var P=c.map(C);return st(P)?{coordinate:P+E,value:C,index:S,offset:E}:null}).filter(Pn):c.ticks&&p!=null?c.ticks(p).map((C,S)=>{var P=c.map(C);return st(P)?{coordinate:P+E,value:C,index:S,offset:E}:null}).filter(Pn):c.domain().map((C,S)=>{var P=c.map(C);return st(P)?{coordinate:P+E,value:n?n[C]:C,index:S,offset:E}:null}).filter(Pn)},n$=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0,d=0;d<r;++d){var f=t[d],m=f==null?void 0:f[a];if(m!=null){var p=m[1],g=m[0],b=Ci(p)?g:p;b>=0?(m[0]=s,s+=b,m[1]=s):(m[0]=c,c+=b,m[1]=c)}}}},a$=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0;c<r;++c){var d=t[c],f=d==null?void 0:d[a];if(f!=null){var m=Ci(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},i$={sign:n$,expand:RU,none:Bl,silhouette:MU,wiggle:DU,positive:a$},s$=(t,e,r)=>{var n,a=(n=i$[r])!==null&&n!==void 0?n:Bl,s=PU().keys(e).value((d,f)=>Number(zt(d,f,0))).order(R1).offset(a),c=s(t);return c.forEach((d,f)=>{d.forEach((m,p)=>{var g=zt(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Ce(g[0])&&Ce(g[1])&&(m[0]=g[0],m[1]=g[1])})}),c};function o$(t){return t==null?void 0:String(t)}function LT(t){var{axis:e,ticks:r,bandSize:n,entry:a,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tn(a[e.dataKey])){var d=jI(r,"value",a[e.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=zt(a,tn(c)?e.dataKey:c),m=e.scale.map(f);return Ce(m)?m:null}var l$=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},c$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],u$=(t,e,r)=>{if(t!=null)return c$(Object.keys(t).reduce((n,a)=>{var s=t[a];if(!s)return n;var{stackedData:c}=s,d=c.reduce((f,m)=>{var p=bP(m,e,r),g=l$(p);return!st(g[0])||!st(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},VT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b0=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var a=kg(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],m=a[c-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((m==null?void 0:m.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function BT(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:a,name:s}=t;return lu(lu({},e),{},{dataKey:r,payload:n,value:a,name:s})}function Ig(t,e){if(t)return String(t);if(typeof e=="string")return e}var d$=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},f$=(t,e)=>e==="centric"?t.angle:t.radius,Ns=t=>t.layout.width,js=t=>t.layout.height,h$=t=>t.layout.scale,kP=t=>t.layout.margin,Pg=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Rg=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),_P="data-recharts-item-index",EP="data-recharts-item-id",mh=60;function $T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(r),!0).forEach(function(n){m$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$(t,e,r){return(e=p$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=g$(t,"string");return typeof e=="symbol"?e:e+""}function g$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y$=t=>t.brush.height;function x$(t){var e=Rg(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mh;return r+a}return r},0)}function b$(t){var e=Rg(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mh;return r+a}return r},0)}function v$(t){var e=Pg(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function w$(t){var e=Pg(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Lr=ae([Ns,js,kP,y$,x$,b$,v$,w$,HI,X7],(t,e,r,n,a,s,c,d,f,m)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},b=fp(fp({},g),p),w=b.bottom;b.bottom+=n,b=r$(b,f,m);var _=t-b.left-b.right,E=e-b.top-b.bottom;return fp(fp({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(E,0)})}),k$=ae(Lr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SP=ae(Ns,js,(t,e)=>({x:0,y:0,width:t,height:e})),_$=k.createContext(null),zn=()=>k.useContext(_$)!=null,Mg=t=>t.brush,Dg=ae([Mg,Lr,kP],(t,e,r)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Ce(t.width)?t.width:e.width})),Tv={},Av={},Cv={},HT;function E$(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&p(),E()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},n)},_=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{_(),c=void 0,d=null},N=()=>{p()},C=function(...S){if(a!=null&&a.aborted)return;c=this,d=S;const P=b==null;w(),f&&P&&p()};return C.schedule=w,C.cancel=E,C.flush=N,a==null||a.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(Cv)),Cv}var qT;function S$(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E$();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=n.apply(this,E),g=null},a,{edges:m}),w=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},_=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=_,w}t.debounce=r})(Av)),Av}var FT;function N$(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S$();function r(n,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(n,a,{leading:c,maxWait:a,trailing:d})}t.throttle=r})(Tv)),Tv}var Ov,GT;function j$(){return GT||(GT=1,Ov=N$().throttle),Ov}var T$=j$();const A$=Di(T$);var v0=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},wi={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},NP=(t,e,r)=>{var{width:n=wi.width,height:a=wi.height,aspect:s,maxHeight:c}=r,d=Hl(n)?t:Number(n),f=Hl(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},C$={width:0,height:0,overflow:"visible"},O$={width:0,overflowX:"visible"},I$={height:0,overflowY:"visible"},P$={},R$=t=>{var{width:e,height:r}=t,n=Hl(e),a=Hl(r);return n&&a?C$:n?O$:a?I$:P$};function M$(t){var{width:e,height:r,aspect:n}=t,a=e,s=r;return a===void 0&&s===void 0?(a=wi.width,s=wi.height):a===void 0?a=n&&n>0?void 0:wi.width:s===void 0&&(s=n&&n>0?void 0:wi.height),{width:a,height:s}}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G1.apply(null,arguments)}function KT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(r),!0).forEach(function(n){D$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D$(t,e,r){return(e=z$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z$(t){var e=L$(t,"string");return typeof e=="symbol"?e:e+""}function L$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jP=k.createContext(wi.initialDimension);function V$(t){return Ii(t.width)&&Ii(t.height)}function TP(t){var{children:e,width:r,height:n}=t,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return V$(a)?k.createElement(jP.Provider,{value:a},e):null}var v2=()=>k.useContext(jP),U$=k.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=wi.initialDimension,width:a,height:s,minWidth:c=wi.minWidth,minHeight:d,maxHeight:f,children:m,debounce:p=wi.debounce,id:g,className:b,onResize:w,style:_={}}=t,E=k.useRef(null),N=k.useRef();N.current=w,k.useImperativeHandle(e,()=>E.current);var[C,S]=k.useState({containerWidth:n.width,containerHeight:n.height}),P=k.useCallback((I,R)=>{S(U=>{var L=Math.round(I),B=Math.round(R);return U.containerWidth===L&&U.containerHeight===B?U:{containerWidth:L,containerHeight:B}})},[]);k.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Lu;var I=B=>{var H,X=B[0];if(X!=null){var{width:J,height:F}=X.contentRect;P(J,F),(H=N.current)===null||H===void 0||H.call(N,J,F)}};p>0&&(I=A$(I,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),{width:U,height:L}=E.current.getBoundingClientRect();return P(U,L),R.observe(E.current),()=>{R.disconnect()}},[P,p]);var{containerWidth:M,containerHeight:$}=C;v0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:T}=NP(M,$,{width:a,height:s,aspect:r,maxHeight:f});return v0(V!=null&&V>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,T,a,s,c,d,r),k.createElement("div",{id:g?"".concat(g):void 0,className:gt("recharts-responsive-container",b),style:YT(YT({},_),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:E},k.createElement("div",{style:R$({width:a,height:s})},k.createElement(TP,{width:V,height:T},m)))}),WT=k.forwardRef((t,e)=>{var r=v2();if(Ii(r.width)&&Ii(r.height))return t.children;var{width:n,height:a}=M$({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=NP(void 0,void 0,{width:n,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(s)&&Ce(c)?k.createElement(TP,{width:s,height:c},t.children):k.createElement(U$,G1({},t,{width:n,height:a,ref:e}))});function w2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var zg=()=>{var t,e=zn(),r=Re(k$),n=Re(Dg),a=(t=Re(Mg))===null||t===void 0?void 0:t.padding;return!e||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},B$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AP=()=>{var t;return(t=Re(Lr))!==null&&t!==void 0?t:B$},CP=()=>Re(Ns),OP=()=>Re(js),Tt=t=>t.layout.layoutType,Vu=()=>Re(Tt),k2=()=>{var t=Vu();if(t==="horizontal"||t==="vertical")return t},IP=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},$$=()=>{var t=Vu();return t!==void 0},ph=t=>{var e=qt(),r=zn(),{width:n,height:a}=t,s=v2(),c=n,d=a;return s&&(c=s.width>0?s.width:n,d=s.height>0?s.height:a),k.useEffect(()=>{!r&&Ii(c)&&Ii(d)&&e(XB({width:c,height:d}))},[e,r,c,d]),null},PP=Symbol.for("immer-nothing"),XT=Symbol.for("immer-draftable"),ia=Symbol.for("immer-state");function $a(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function Su(t){return!!t&&!!t[ia]}function Fl(t){var e;return t?RP(t)||Array.isArray(t)||!!t[XT]||!!((e=t.constructor)!=null&&e[XT])||gh(t)||Vg(t):!1}var H$=Object.prototype.constructor.toString(),QT=new WeakMap;function RP(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=QT.get(r);return n===void 0&&(n=Function.toString.call(r),QT.set(r,n)),n===H$}function w0(t,e,r=!0){Lg(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function Lg(t){const e=t[ia];return e?e.type_:Array.isArray(t)?1:gh(t)?2:Vg(t)?3:0}function K1(t,e){return Lg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function MP(t,e,r){const n=Lg(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function q$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gh(t){return t instanceof Map}function Vg(t){return t instanceof Set}function _l(t){return t.copy_||t.base_}function Y1(t,e){if(gh(t))return new Map(t);if(Vg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=RP(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[ia];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Bf(t),n)}else{const n=Bf(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function _2(t,e=!1){return Ug(t)||Su(t)||!Fl(t)||(Lg(t)>1&&Object.defineProperties(t,{set:hp,add:hp,clear:hp,delete:hp}),Object.freeze(t),e&&Object.values(t).forEach(r=>_2(r,!0))),t}function F$(){$a(2)}var hp={value:F$};function Ug(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var G$={};function Gl(t){const e=G$[t];return e||$a(0,t),e}var $f;function DP(){return $f}function K$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZT(t,e){e&&(Gl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function W1(t){X1(t),t.drafts_.forEach(Y$),t.drafts_=null}function X1(t){t===$f&&($f=t.parent_)}function JT(t){return $f=K$($f,t)}function Y$(t){const e=t[ia];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function eA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[ia].modified_&&(W1(e),$a(4)),Fl(t)&&(t=k0(e,t),e.parent_||_0(e,t)),e.patches_&&Gl("Patches").generateReplacementPatches_(r[ia].base_,t,e.patches_,e.inversePatches_)):t=k0(e,r,[]),W1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PP?t:void 0}function k0(t,e,r){if(Ug(e))return e;const n=t.immer_.shouldUseStrictIteration(),a=e[ia];if(!a)return w0(e,(s,c)=>tA(t,a,e,s,c,r),n),e;if(a.scope_!==t)return e;if(!a.modified_)return _0(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),w0(c,(f,m)=>tA(t,a,s,f,m,r,d),n),_0(t,s,!1),r&&t.patches_&&Gl("Patches").generatePatches_(a,r,t.patches_,t.inversePatches_)}return a.copy_}function tA(t,e,r,n,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=Ug(a);if(!(d&&!c)){if(Su(a)){const f=s&&e&&e.type_!==3&&!K1(e.assigned_,n)?s.concat(n):void 0,m=k0(t,a,f);if(MP(r,n,m),Su(m))t.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Fl(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===a&&d)return;k0(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(gh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&_0(t,a)}}}function _0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_2(e,r)}function W$(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:DP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=E2;r&&(a=[n],s=Hf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=c,d}var E2={get(t,e){if(e===ia)return t;const r=_l(t);if(!K1(r,e))return X$(t,r,e);const n=r[e];return t.finalized_||!Fl(n)?n:n===Iv(t.base_,e)?(Pv(t),t.copy_[e]=Z1(n,t)):n},has(t,e){return e in _l(t)},ownKeys(t){return Reflect.ownKeys(_l(t))},set(t,e,r){const n=zP(_l(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=Iv(_l(t),e),s=a==null?void 0:a[ia];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(q$(r,a)&&(r!==void 0||K1(t.base_,e)))return!0;Pv(t),Q1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Iv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Pv(t),Q1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=_l(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){$a(11)},getPrototypeOf(t){return Bf(t.base_)},setPrototypeOf(){$a(12)}},Hf={};w0(E2,(t,e)=>{Hf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hf.deleteProperty=function(t,e){return Hf.set.call(this,t,e,void 0)};Hf.set=function(t,e,r){return E2.set.call(this,t[0],e,r,t[0])};function Iv(t,e){const r=t[ia];return(r?_l(r):t)[e]}function X$(t,e,r){var a;const n=zP(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function zP(t,e){if(!(e in t))return;let r=Bf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bf(r)}}function Q1(t){t.modified_||(t.modified_=!0,t.parent_&&Q1(t.parent_))}function Pv(t){t.copy_||(t.copy_=Y1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Q$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}typeof r!="function"&&$a(6),n!==void 0&&typeof n!="function"&&$a(7);let a;if(Fl(e)){const s=JT(this),c=Z1(e,void 0);let d=!0;try{a=r(c),d=!1}finally{d?W1(s):X1(s)}return ZT(s,n),eA(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===PP&&(a=void 0),this.autoFreeze_&&_2(a,!0),n){const s=[],c=[];Gl("Patches").generateReplacementPatches_(e,a,s,c),n(s,c)}return a}else $a(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let n,a;return[this.produce(e,r,(c,d)=>{n=c,a=d}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fl(t)||$a(8),Su(t)&&(t=Z$(t));const e=JT(this),r=Z1(t,void 0);return r[ia].isManual_=!0,X1(e),r}finishDraft(t,e){const r=t&&t[ia];(!r||!r.isManual_)&&$a(9);const{scope_:n}=r;return ZT(n,e),eA(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Gl("Patches").applyPatches_;return Su(t)?n(t,e):this.produce(t,a=>n(a,e))}};function Z1(t,e){const r=gh(t)?Gl("MapSet").proxyMap_(t,e):Vg(t)?Gl("MapSet").proxySet_(t,e):W$(t,e);return(e?e.scope_:DP()).drafts_.push(r),r}function Z$(t){return Su(t)||$a(10,t),LP(t)}function LP(t){if(!Fl(t)||Ug(t))return t;const e=t[ia];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Y1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Y1(t,!0);return w0(r,(a,s)=>{MP(r,a,LP(s))},n),e&&(e.finalized_=!1),r}var J$=new Q$;J$.produce;var eH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VP=Dn({name:"legend",initialState:eH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Bt()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ka(t).payload.indexOf(r);a>-1&&(t.payload[a]=n)},prepare:Bt()},removeLegendPayload:{reducer(t,e){var r=Ka(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Bt()}}}),{setLegendSize:dde,setLegendSettings:fde,addLegendPayload:UP,replaceLegendPayload:BP,removeLegendPayload:$P}=VP.actions,tH=VP.reducer;function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(null,arguments)}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){rH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rH(t,e,r){return(e=nH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nH(t){var e=aH(t,"string");return typeof e=="symbol"?e:e+""}function aH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iH(t){return Array.isArray(t)&&Oi(t[0])&&Oi(t[1])?t.join(" ~ "):t}var Qc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},sH=t=>{var{separator:e=Qc.separator,contentStyle:r,itemStyle:n,labelStyle:a=Qc.labelStyle,payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=Qc.accessibilityLayer}=t,w=()=>{if(s&&s.length){var $={padding:0,margin:0},V=(d?kg(s,d):s).map((T,I)=>{if(T.type==="none")return null;var R=T.formatter||c||iH,{value:U,name:L}=T,B=U,H=L;if(R){var X=R(U,L,T,I,s);if(Array.isArray(X))[B,H]=X;else if(X!=null)B=X;else return null}var J=sf(sf({},Qc.itemStyle),{},{color:T.color||Qc.itemStyle.color},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:J},Oi(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Oi(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,k.createElement("span",{className:"recharts-tooltip-item-value"},B),k.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:$},V)}return null},_=sf(sf({},Qc.contentStyle),r),E=sf({margin:0},a),N=!tn(p),C=N?p:"",S=gt("recharts-default-tooltip",f),P=gt("recharts-tooltip-label",m);N&&g&&s!==void 0&&s!==null&&(C=g(p,s));var M=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",J1({className:S,style:_},M),k.createElement("p",{className:P,style:E},k.isValidElement(C)?C:"".concat(C)),w())},of="recharts-tooltip-wrapper",oH={visibility:"hidden"};function lH(t){var{coordinate:e,translateX:r,translateY:n}=t;return gt(of,{["".concat(of,"-right")]:Ce(r)&&e&&Ce(e.x)&&r>=e.x,["".concat(of,"-left")]:Ce(r)&&e&&Ce(e.x)&&r<e.x,["".concat(of,"-bottom")]:Ce(n)&&e&&Ce(e.y)&&n>=e.y,["".concat(of,"-top")]:Ce(n)&&e&&Ce(e.y)&&n<e.y})}function nA(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=t;if(s&&Ce(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(e[n])return c[n]?p:g;var b=f[n];if(b==null)return 0;if(c[n]){var w=p,_=b;return w<_?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var E=g+d,N=b+m;return E>N?Math.max(p,b):Math.max(g,b)}function cH(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function uH(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:f,viewBox:m}=t,p,g,b;return d.height>0&&d.width>0&&r?(g=nA({allowEscapeViewBox:e,coordinate:r,key:"x",offset:a,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),b=nA({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),p=cH({translateX:g,translateY:b,useTranslate3d:f})):p=oH,{cssProperties:p,cssClasses:lH({translateX:g,translateY:b,coordinate:r})}}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ew(t,e,r){return(e=dH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dH(t){var e=fH(t,"string");return typeof e=="symbol"?e:e+""}function fH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hH extends k.PureComponent{constructor(){super(...arguments),ew(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ew(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:_,lastBoundingBox:E,innerRef:N,hasPortalFromProps:C}=this.props,S=typeof m=="number"?m:m.x,P=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:$}=uH({allowEscapeViewBox:r,coordinate:c,offsetLeft:S,offsetTop:P,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:w}),V=C?{}:mp(mp({transition:f&&e?"transform ".concat(n,"ms ").concat(a):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=mp(mp({},V),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},_);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:T,ref:N},s)}}var HP=()=>{var t;return(t=Re(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(null,arguments)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){mH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mH(t,e,r){return(e=pH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pH(t){var e=gH(t,"string");return typeof e=="symbol"?e:e+""}function gH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oA={curveBasisClosed:kU,curveBasisOpen:_U,curveBasis:wU,curveBumpX:oU,curveBumpY:lU,curveLinearClosed:EU,curveLinear:vg,curveMonotoneX:SU,curveMonotoneY:NU,curveNatural:jU,curveStep:TU,curveStepAfter:CU,curveStepBefore:AU},E0=t=>st(t.x)&&st(t.y),lA=t=>t.base!=null&&E0(t.base)&&E0(t),lf=t=>t.x,cf=t=>t.y,yH=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(dh(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=oA["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return oA[r]||vg},cA={connectNulls:!1,type:"linear"},xH=t=>{var{type:e=cA.type,points:r=[],baseLine:n,layout:a,connectNulls:s=cA.connectNulls}=t,c=yH(e,a),d=s?r.filter(E0):r;if(Array.isArray(n)){var f,m=r.map((_,E)=>sA(sA({},_),{},{base:n[E]}));a==="vertical"?f=sp().y(cf).x1(lf).x0(_=>_.base.x):f=sp().x(lf).y1(cf).y0(_=>_.base.y);var p=f.defined(lA).curve(c),g=s?m.filter(lA):m;return p(g)}var b;a==="vertical"&&Ce(n)?b=sp().y(cf).x1(lf).x0(n):Ce(n)?b=sp().x(lf).y1(cf).y0(n):b=mI().x(lf).y(cf);var w=b.defined(E0).curve(c);return w(d)},mu=t=>{var{className:e,points:r,path:n,pathRef:a}=t,s=Vu();if((!r||!r.length)&&!n)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=r&&r.length?xH(c):n;return k.createElement("path",tw({},aa(t),u2(t),{className:gt("recharts-curve",e),d:d===null?void 0:d,ref:a}))},bH=["x","y","top","left","width","height","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(null,arguments)}function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){wH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wH(t,e,r){return(e=kH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EH(t,e){if(t==null)return{};var r,n,a=SH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function SH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var NH=(t,e,r,n,a,s)=>"M".concat(t,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),jH=t=>{var{x:e=0,y:r=0,top:n=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=EH(t,bH),m=vH({x:e,y:r,top:n,left:a,width:s,height:c},f);return!Ce(e)||!Ce(r)||!Ce(s)||!Ce(c)||!Ce(n)||!Ce(a)?null:k.createElement("path",rw({},bn(m),{className:gt("recharts-cross",d),d:NH(e,r,s,c,n,a)}))};function TH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){AH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AH(t,e,r){return(e=CH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CH(t){var e=OH(t,"string");return typeof e=="symbol"?e:e+""}function OH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IH=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),qP=(t,e,r)=>t.map(n=>"".concat(IH(n)," ").concat(e,"ms ").concat(r)).join(","),PH=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(a=>n.includes(a))),qf=(t,e)=>Object.keys(e).reduce((r,n)=>fA(fA({},r),{},{[n]:t(n,e[n])}),{});function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){RH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RH(t,e,r){return(e=MH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MH(t){var e=DH(t,"string");return typeof e=="symbol"?e:e+""}function DH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S0=(t,e,r)=>t+(e-t)*r,nw=t=>{var{from:e,to:r}=t;return e!==r},FP=(t,e,r)=>{var n=qf((a,s)=>{if(nw(s)){var[c,d]=t(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:c,velocity:d})}return s},e);return r<1?qf((a,s)=>nw(s)&&n[a]!=null?wr(wr({},s),{},{velocity:S0(s.velocity,n[a].velocity,r),from:S0(s.from,n[a].from,r)}):s,e):FP(t,n,r-1)};function zH(t,e,r,n,a,s){var c,d=n.reduce((b,w)=>wr(wr({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>qf((b,w)=>w.from,d),m=()=>!Object.values(d).filter(nw).length,p=null,g=b=>{c||(c=b);var w=b-c,_=w/r.dt;d=FP(r,d,_),a(wr(wr(wr({},t),e),f())),c=b,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function LH(t,e,r,n,a,s,c){var d=null,f=a.reduce((g,b)=>{var w=t[b],_=e[b];return w==null||_==null?g:wr(wr({},g),{},{[b]:[w,_]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/n,w=qf((E,N)=>S0(...N,r(b)),f);if(s(wr(wr(wr({},t),e),w)),b<1)d=c.setTimeout(p);else{var _=qf((E,N)=>S0(...N,r(1)),f);s(wr(wr(wr({},t),e),_))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const VH=(t,e,r,n,a,s)=>{var c=PH(t,e);return r==null?()=>(a(wr(wr({},t),e)),()=>{}):r.isStepper===!0?zH(t,e,r,c,a,s):LH(t,e,r,n,c,a,s)};var N0=1e-4,GP=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],KP=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),mA=(t,e)=>r=>{var n=GP(t,e);return KP(n,r)},UH=(t,e)=>r=>{var n=GP(t,e),a=[...n.map((s,c)=>s*c).slice(1),0];return KP(a,r)},BH=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},$H=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=BH(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},HH=(t,e,r,n)=>{var a=mA(t,r),s=mA(e,n),c=UH(t,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var w=a(g)-p,_=c(g);if(Math.abs(w-p)<N0||_<N0)return s(g);g=d(g-w/_)}return s(g)};return f.isStepper=!1,f},pA=function(){return HH(...$H(...arguments))},qH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=e,s=(c,d,f)=>{var m=-(c-d)*r,p=f*n,g=f+(m-p)*a/1e3,b=f*a/1e3+c;return Math.abs(b-d)<N0&&Math.abs(g)<N0?[d,0]:[b,g]};return s.isStepper=!0,s.dt=a,s},FH=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pA(t);case"spring":return qH();default:if(t.split("(")[0]==="cubic-bezier")return pA(t)}return typeof t=="function"?t:null};function GH(t){var e,r=()=>null,n=!1,a=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,m),f);return}s(f),a=t.setTimeout(s.bind(null,m));return}typeof c=="string"&&(e=c,r(e)),typeof c=="object"&&(e=c,r(e)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>t}}class KH{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=c=>{c-n>=r?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function YH(){return GH(new KH)}var WH=k.createContext(YH);function XH(t,e){var r=k.useContext(WH);return k.useMemo(()=>e??r(t),[t,e,r])}var QH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yh={isSsr:QH()},ZH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gA={t:0},Rv={t:1};function Bg(t){var e=nn(t,ZH),{isActive:r,canBegin:n,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=e,p=r==="auto"?!yh.isSsr:r,g=XH(e.animationId,e.animationManager),[b,w]=k.useState(p?gA:Rv),_=k.useRef(null);return k.useEffect(()=>{p||w(Rv)},[p]),k.useEffect(()=>{if(!p||!n)return Lu;var E=VH(gA,Rv,FH(s),a,w,g.getTimeoutController()),N=()=>{_.current=E()};return g.start([f,c,N,a,d]),()=>{g.stop(),_.current&&_.current(),d()}},[p,n,a,s,c,f,d,g]),m(b.t)}function $g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(zf(e)),n=k.useRef(t);return n.current!==t&&(r.current=zf(e),n.current=t),r.current}var JH=["radius"],eq=["radius"],yA,xA,bA,vA,wA,kA,_A,EA,SA,NA;function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){tq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tq(t,e,r){return(e=rq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rq(t){var e=nq(t,"string");return typeof e=="symbol"?e:e+""}function nq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j0.apply(null,arguments)}function AA(t,e){if(t==null)return{};var r,n,a=aq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function aq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var CA=(t,e,r,n,a)=>{var s=Eo(r),c=Eo(n),d=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,m=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var b=[0,0,0,0],w=0,_=4;w<_;w++){var E,N=(E=a[w])!==null&&E!==void 0?E:0;b[w]=N>d?d:N}g=er(yA||(yA=yi(["M",",",""])),t,e+f*b[0]),b[0]>0&&(g+=er(xA||(xA=yi(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+m*b[0],e)),g+=er(bA||(bA=yi(["L ",",",""])),t+r-m*b[1],e),b[1]>0&&(g+=er(vA||(vA=yi(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+r,e+f*b[1])),g+=er(wA||(wA=yi(["L ",",",""])),t+r,e+n-f*b[2]),b[2]>0&&(g+=er(kA||(kA=yi(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+r-m*b[2],e+n)),g+=er(_A||(_A=yi(["L ",",",""])),t+m*b[3],e+n),b[3]>0&&(g+=er(EA||(EA=yi(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+n-f*b[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var C=Math.min(d,a);g=er(SA||(SA=yi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*C,C,C,p,t+m*C,e,t+r-m*C,e,C,C,p,t+r,e+f*C,t+r,e+n-f*C,C,C,p,t+r-m*C,e+n,t+m*C,e+n,C,C,p,t,e+n-f*C)}else g=er(NA||(NA=yi(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return g},OA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YP=t=>{var e=nn(t,OA),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Z=r.current.getTotalLength();Z&&a(Z)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:m,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:_,isUpdateAnimationActive:E}=e,N=k.useRef(d),C=k.useRef(f),S=k.useRef(s),P=k.useRef(c),M=k.useMemo(()=>({x:s,y:c,width:d,height:f,radius:m}),[s,c,d,f,m]),$=$g(M,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var V=gt("recharts-rectangle",p);if(!E){var T=bn(e),{radius:I}=T,R=AA(T,JH);return k.createElement("path",j0({},R,{x:Eo(s),y:Eo(c),width:Eo(d),height:Eo(f),radius:typeof m=="number"?m:void 0,className:V,d:CA(s,c,d,f,m)}))}var U=N.current,L=C.current,B=S.current,H=P.current,X="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),F=qP(["strokeDasharray"],b,typeof g=="string"?g:OA.animationEasing);return k.createElement(Bg,{animationId:$,key:$,canBegin:n>0,duration:b,easing:g,isActive:E,begin:w},Z=>{var fe=Qr(U,d,Z),_e=Qr(L,f,Z),le=Qr(B,s,Z),z=Qr(H,c,Z);r.current&&(N.current=fe,C.current=_e,S.current=le,P.current=z);var W;_?Z>0?W={transition:F,strokeDasharray:J}:W={strokeDasharray:X}:W={strokeDasharray:J};var ue=bn(e),{radius:G}=ue,pe=AA(ue,eq);return k.createElement("path",j0({},pe,{radius:typeof m=="number"?m:void 0,className:V,d:CA(le,z,fe,_e,m),ref:r,style:TA(TA({},W),e.style)}))})};function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){iq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iq(t,e,r){return(e=sq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sq(t){var e=oq(t,"string");return typeof e=="symbol"?e:e+""}function oq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T0=Math.PI/180,lq=t=>t*180/Math.PI,yr=(t,e,r,n)=>({x:t+Math.cos(-T0*n)*r,y:e+Math.sin(-T0*n)*r}),WP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cq=(t,e)=>{var{x:r,y:n}=t,{x:a,y:s}=e;return Math.sqrt((r-a)**2+(n-s)**2)},uq=(t,e)=>{var{x:r,y:n}=t,{cx:a,cy:s}=e,c=cq({x:r,y:n},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(r-a)/c,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:c,angle:lq(f),angleInRadian:f}},dq=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:r-s*360}},fq=(t,e)=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return t+c*360},hq=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:a,angle:s}=uq({x:r,y:n},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:m}=dq(e),p=s,g;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=f}return g?PA(PA({},e),{},{radius:a,angle:fq(p,e)}):null};function XP(t){var{cx:e,cy:r,radius:n,startAngle:a,endAngle:s}=t,c=yr(e,r,n,a),d=yr(e,r,n,s);return{points:[c,d],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}var RA,MA,DA,zA,LA,VA,UA;function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(null,arguments)}function jl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var mq=(t,e)=>{var r=hn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},pp=t=>{var{cx:e,cy:r,radius:n,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,m=d*(c?1:-1)+n,p=Math.asin(d/m)/T0,g=f?a:a+s*p,b=yr(e,r,m,g),w=yr(e,r,n,g),_=f?a-s*p:a,E=yr(e,r,m*Math.cos(p*T0),_);return{center:b,circleTangency:w,lineTangency:E,theta:p}},QP=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c}=t,d=mq(s,c),f=s+d,m=yr(e,r,a,s),p=yr(e,r,a,f),g=er(RA||(RA=jl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var b=yr(e,r,n,s),w=yr(e,r,n,f);g+=er(MA||(MA=jl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,n,n,+(Math.abs(d)>180),+(s<=f),b.x,b.y)}else g+=er(DA||(DA=jl(["L ",","," Z"])),e,r);return g},pq=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=t,p=hn(m-f),{circleTangency:g,lineTangency:b,theta:w}=pp({cx:e,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:_,lineTangency:E,theta:N}=pp({cx:e,cy:r,radius:a,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-w-N;if(C<0)return c?er(zA||(zA=jl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):QP({cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:m});var S=er(LA||(LA=jl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,a,a,+(C>180),+(p<0),_.x,_.y,s,s,+(p<0),E.x,E.y);if(n>0){var{circleTangency:P,lineTangency:M,theta:$}=pp({cx:e,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:V,lineTangency:T,theta:I}=pp({cx:e,cy:r,radius:n,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),R=d?Math.abs(f-m):Math.abs(f-m)-$-I;if(R<0&&s===0)return"".concat(S,"L").concat(e,",").concat(r,"Z");S+=er(VA||(VA=jl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,s,s,+(p<0),V.x,V.y,n,n,+(R>180),+(p>0),P.x,P.y,s,s,+(p<0),M.x,M.y)}else S+=er(UA||(UA=jl(["L",",","Z"])),e,r);return S},gq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZP=t=>{var e=nn(t,gq),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p,className:g}=e;if(s<a||m===p)return null;var b=gt("recharts-sector",g),w=s-a,_=ta(c,w,0,!0),E;return _>0&&Math.abs(m-p)<360?E=pq({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):E=QP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:m,endAngle:p}),k.createElement("path",aw({},bn(e),{className:b,d:E}))};function yq(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(CI(e)){if(t==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=yr(n,a,s,d),m=yr(n,a,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return XP(e)}}var Mv={},Dv={},zv={},BA;function xq(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BI();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(zv)),zv}var $A;function bq(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xq();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Dv)),Dv}var HA;function vq(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$I(),r=bq();function n(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),c=c===void 0?a<s?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=a,a+=c;return f}t.range=n})(Mv)),Mv}var Lv,qA;function wq(){return qA||(qA=1,Lv=vq().range),Lv}var kq=wq();const JP=Di(kq);function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _q(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S2(t){let e,r,n;t.length!==2?(e=No,r=(d,f)=>No(t(d),f),n=(d,f)=>t(d)-f):(e=t===No||t===_q?t:Eq,r=t,n=t);function a(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;r(d[g],f)<0?m=g+1:p=g}while(m<p)}return m}function s(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;r(d[g],f)<=0?m=g+1:p=g}while(m<p)}return m}function c(d,f,m=0,p=d.length){const g=a(d,f,m,p-1);return g>m&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function Eq(){return 0}function eR(t){return t===null?NaN:+t}function*Sq(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Nq=S2(No),xh=Nq.right;S2(eR).center;class FA extends Map{constructor(e,r=Aq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(GA(this,e))}has(e){return super.has(GA(this,e))}set(e,r){return super.set(jq(this,e),r)}delete(e){return super.delete(Tq(this,e))}}function GA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function jq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Tq({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Aq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cq(t=No){if(t===No)return tR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function tR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Oq=Math.sqrt(50),Iq=Math.sqrt(10),Pq=Math.sqrt(2);function A0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=Oq?10:s>=Iq?5:s>=Pq?2:1;let d,f,m;return a<0?(m=Math.pow(10,-a)/c,d=Math.round(t*m),f=Math.round(e*m),d/m<t&&++d,f/m>e&&--f,m=-m):(m=Math.pow(10,a)*c,d=Math.round(t/m),f=Math.round(e/m),d*m<t&&++d,f*m>e&&--f),f<d&&.5<=r&&r<2?A0(t,e,r*2):[d,f,m]}function iw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,c]=n?A0(e,t,r):A0(t,e,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(c<0)for(let m=0;m<d;++m)f[m]=(s-m)/-c;else for(let m=0;m<d;++m)f[m]=(s-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(a+m)/-c;else for(let m=0;m<d;++m)f[m]=(a+m)*c;return f}function sw(t,e,r){return e=+e,t=+t,r=+r,A0(t,e,r)[2]}function ow(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?sw(e,t,r):sw(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function KA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rR(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?tR:Cq(a);n>r;){if(n-r>600){const f=n-r+1,m=e-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(m-f/2<0?-1:1),w=Math.max(r,Math.floor(e-m*g/f+b)),_=Math.min(n,Math.floor(e+(f-m)*g/f+b));rR(t,e,w,_,a)}const s=t[e];let c=r,d=n;for(uf(t,r,e),a(t[n],s)>0&&uf(t,r,n);c<d;){for(uf(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[r],s)===0?uf(t,r,d):(++d,uf(t,d,n)),d<=e&&(r=d+1),e<=d&&(n=d-1)}return t}function uf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Rq(t,e,r){if(t=Float64Array.from(Sq(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return YA(t);if(e>=1)return KA(t);var n,a=(n-1)*e,s=Math.floor(a),c=KA(rR(t,s).subarray(0,s+1)),d=YA(t.subarray(s+1));return c+(d-c)*(a-s)}}function Mq(t,e,r=eR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),c=+r(t[s],s,t),d=+r(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function Dq(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ts(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lw=Symbol("implicit");function N2(){var t=new FA,e=[],r=[],n=lw;function a(s){let c=t.get(s);if(c===void 0){if(n!==lw)return n;t.set(s,c=e.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FA;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return N2(e,r).unknown(n)},Ia.apply(a,arguments),a}function j2(){var t=N2().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,c,d=!1,f=0,m=0,p=.5;delete t.unknown;function g(){var b=e().length,w=a<n,_=w?a:n,E=w?n:a;s=(E-_)/Math.max(1,b-f+m*2),d&&(s=Math.floor(s)),_+=(E-_-s*(b-f))*p,c=s*(1-f),d&&(_=Math.round(_),c=Math.round(c));var N=Dq(b).map(function(C){return _+s*C});return r(w?N.reverse():N)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([n,a]=b,n=+n,a=+a,g()):[n,a]},t.rangeRound=function(b){return[n,a]=b,n=+n,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(b){return arguments.length?(d=!!b,g()):d},t.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return j2(e(),[n,a]).round(d).paddingInner(f).paddingOuter(m).align(p)},Ia.apply(g(),arguments)}function nR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nR(e())},t}function zq(){return nR(j2.apply(null,arguments).paddingInner(1))}function T2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function aR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function bh(){}var Ff=.7,C0=1/Ff,pu="\\s*([+-]?\\d+)\\s*",Gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lq=/^#([0-9a-f]{3,8})$/,Vq=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),Uq=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),Bq=new RegExp(`^rgba\\(${pu},${pu},${pu},${Gf}\\)$`),$q=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${Gf}\\)$`),Hq=new RegExp(`^hsl\\(${Gf},${Ei},${Ei}\\)$`),qq=new RegExp(`^hsla\\(${Gf},${Ei},${Ei},${Gf}\\)$`),WA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T2(bh,Kf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XA,formatHex:XA,formatHex8:Fq,formatHsl:Gq,formatRgb:QA,toString:QA});function XA(){return this.rgb().formatHex()}function Fq(){return this.rgb().formatHex8()}function Gq(){return iR(this).formatHsl()}function QA(){return this.rgb().formatRgb()}function Kf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Lq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ZA(e):r===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vq.exec(t))?new Rn(e[1],e[2],e[3],1):(e=Uq.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bq.exec(t))?gp(e[1],e[2],e[3],e[4]):(e=$q.exec(t))?gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hq.exec(t))?tC(e[1],e[2]/100,e[3]/100,1):(e=qq.exec(t))?tC(e[1],e[2]/100,e[3]/100,e[4]):WA.hasOwnProperty(t)?ZA(WA[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function ZA(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function gp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Rn(t,e,r,n)}function Kq(t){return t instanceof bh||(t=Kf(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function cw(t,e,r,n){return arguments.length===1?Kq(t):new Rn(t,e,r,n??1)}function Rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T2(Rn,cw,aR(bh,{brighter(t){return t=t==null?C0:Math.pow(C0,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Ml(this.r),Ml(this.g),Ml(this.b),O0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JA,formatHex:JA,formatHex8:Yq,formatRgb:eC,toString:eC}));function JA(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function Yq(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function eC(){const t=O0(this.opacity);return`${t===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${t===1?")":`, ${t})`}`}function O0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tl(t){return t=Ml(t),(t<16?"0":"")+t.toString(16)}function tC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ha(t,e,r,n)}function iR(t){if(t instanceof Ha)return new Ha(t.h,t.s,t.l,t.opacity);if(t instanceof bh||(t=Kf(t)),!t)return new Ha;if(t instanceof Ha)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(r-n)/d+(r<n)*6:r===s?c=(n-e)/d+2:c=(e-r)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new Ha(c,d,f,t.opacity)}function Wq(t,e,r,n){return arguments.length===1?iR(t):new Ha(t,e,r,n??1)}function Ha(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T2(Ha,Wq,aR(bh,{brighter(t){return t=t==null?C0:Math.pow(C0,t),new Ha(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Ha(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Rn(Vv(t>=240?t-240:t+120,a,n),Vv(t,a,n),Vv(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ha(rC(this.h),yp(this.s),yp(this.l),O0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=O0(this.opacity);return`${t===1?"hsl(":"hsla("}${rC(this.h)}, ${yp(this.s)*100}%, ${yp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rC(t){return t=(t||0)%360,t<0?t+360:t}function yp(t){return Math.max(0,Math.min(1,t||0))}function Vv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const A2=t=>()=>t;function Xq(t,e){return function(r){return t+r*e}}function Qq(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zq(t){return(t=+t)==1?sR:function(e,r){return r-e?Qq(e,r,t):A2(isNaN(e)?r:e)}}function sR(t,e){var r=e-t;return r?Xq(t,r):A2(isNaN(t)?e:t)}const nC=(function t(e){var r=Zq(e);function n(a,s){var c=r((a=cw(a)).r,(s=cw(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),m=sR(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=m(p),a+""}}return n.gamma=t,n})(1);function Jq(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function eF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tF(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Uu(t[c],e[c]);for(;c<r;++c)s[c]=e[c];return function(d){for(c=0;c<n;++c)s[c]=a[c](d);return s}}function rF(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function I0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function nF(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Uu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var uw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uv=new RegExp(uw.source,"g");function aF(t){return function(){return t}}function iF(t){return function(e){return t(e)+""}}function sF(t,e){var r=uw.lastIndex=Uv.lastIndex=0,n,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(n=uw.exec(t))&&(a=Uv.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),d[c]?d[c]+=s:d[++c]=s),(n=n[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:I0(n,a)})),r=Uv.lastIndex;return r<e.length&&(s=e.slice(r),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?iF(f[0].x):aF(e):(e=f.length,function(m){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(m);return d.join("")})}function Uu(t,e){var r=typeof e,n;return e==null||r==="boolean"?A2(e):(r==="number"?I0:r==="string"?(n=Kf(e))?(e=n,nC):sF:e instanceof Kf?nC:e instanceof Date?rF:eF(e)?Jq:Array.isArray(e)?tF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nF:I0)(t,e)}function C2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function oF(t,e){e===void 0&&(e=t,t=Uu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(c){var d=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[d](c-d)}}function lF(t){return function(){return t}}function P0(t){return+t}var aC=[0,1];function yn(t){return t}function dw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:lF(isNaN(e)?NaN:.5)}function cF(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function uF(t,e,r){var n=t[0],a=t[1],s=e[0],c=e[1];return a<n?(n=dw(a,n),s=r(c,s)):(n=dw(n,a),s=r(s,c)),function(d){return s(n(d))}}function dF(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=dw(t[c],t[c+1]),s[c]=r(e[c],e[c+1]);return function(d){var f=xh(t,d,1,n)-1;return s[f](a[f](d))}}function vh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=aC,e=aC,r=Uu,n,a,s,c=yn,d,f,m;function p(){var b=Math.min(t.length,e.length);return c!==yn&&(c=cF(t[0],t[b-1])),d=b>2?dF:uF,f=m=null,g}function g(b){return b==null||isNaN(b=+b)?s:(f||(f=d(t.map(n),e,r)))(n(c(b)))}return g.invert=function(b){return c(a((m||(m=d(e,t.map(n),I0)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,P0),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),r=C2,p()},g.clamp=function(b){return arguments.length?(c=b?!0:yn,p()):c!==yn},g.interpolate=function(b){return arguments.length?(r=b,p()):r},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,w){return n=b,a=w,p()}}function O2(){return Hg()(yn,yn)}function fF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function R0(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Nu(t){return t=R0(Math.abs(t)),t?t[1]:NaN}function hF(t,e){return function(r,n){for(var a=r.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function mF(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var pF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yf(t){if(!(e=pF.exec(t)))throw new Error("invalid format: "+t);var e;return new I2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yf.prototype=I2.prototype;function I2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gF(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var M0;function yF(t,e){var r=R0(t,e);if(!r)return M0=void 0,t.toPrecision(e);var n=r[0],a=r[1],s=a-(M0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+R0(t,Math.max(0,e+s-1))[0]}function iC(t,e){var r=R0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iC(t*100,e),r:iC,s:yF,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oC(t){return t}var lC=Array.prototype.map,cC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xF(t){var e=t.grouping===void 0||t.thousands===void 0?oC:hF(lC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?oC:mF(lC.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function m(g,b){g=Yf(g);var w=g.fill,_=g.align,E=g.sign,N=g.symbol,C=g.zero,S=g.width,P=g.comma,M=g.precision,$=g.trim,V=g.type;V==="n"?(P=!0,V="g"):sC[V]||(M===void 0&&(M=12),$=!0,V="g"),(C||w==="0"&&_==="=")&&(C=!0,w="0",_="=");var T=(b&&b.prefix!==void 0?b.prefix:"")+(N==="$"?r:N==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():""),I=(N==="$"?n:/[%p]/.test(V)?c:"")+(b&&b.suffix!==void 0?b.suffix:""),R=sC[V],U=/[defgprs%]/.test(V);M=M===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function L(B){var H=T,X=I,J,F,Z;if(V==="c")X=R(B)+X,B="";else{B=+B;var fe=B<0||1/B<0;if(B=isNaN(B)?f:R(Math.abs(B),M),$&&(B=gF(B)),fe&&+B==0&&E!=="+"&&(fe=!1),H=(fe?E==="("?E:d:E==="-"||E==="("?"":E)+H,X=(V==="s"&&!isNaN(B)&&M0!==void 0?cC[8+M0/3]:"")+X+(fe&&E==="("?")":""),U){for(J=-1,F=B.length;++J<F;)if(Z=B.charCodeAt(J),48>Z||Z>57){X=(Z===46?a+B.slice(J+1):B.slice(J))+X,B=B.slice(0,J);break}}}P&&!C&&(B=e(B,1/0));var _e=H.length+B.length+X.length,le=_e<S?new Array(S-_e+1).join(w):"";switch(P&&C&&(B=e(le+B,le.length?S-X.length:1/0),le=""),_){case"<":B=H+B+X+le;break;case"=":B=H+le+B+X;break;case"^":B=le.slice(0,_e=le.length>>1)+H+B+X+le.slice(_e);break;default:B=le+H+B+X;break}return s(B)}return L.toString=function(){return g+""},L}function p(g,b){var w=Math.max(-8,Math.min(8,Math.floor(Nu(b)/3)))*3,_=Math.pow(10,-w),E=m((g=Yf(g),g.type="f",g),{suffix:cC[8+w/3]});return function(N){return E(_*N)}}return{format:m,formatPrefix:p}}var xp,P2,oR;bF({thousands:",",grouping:[3],currency:["$",""]});function bF(t){return xp=xF(t),P2=xp.format,oR=xp.formatPrefix,xp}function vF(t){return Math.max(0,-Nu(Math.abs(t)))}function wF(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(e)/3)))*3-Nu(Math.abs(t)))}function kF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nu(e)-Nu(t))+1}function lR(t,e,r,n){var a=ow(t,e,r),s;switch(n=Yf(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=wF(a,c))&&(n.precision=s),oR(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=kF(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=vF(a))&&(n.precision=s-(n.type==="%")*2);break}}return P2(n)}function Ho(t){var e=t.domain;return t.ticks=function(r){var n=e();return iw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return lR(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,c=n[a],d=n[s],f,m,p=10;for(d<c&&(m=c,c=d,d=m,m=a,a=s,s=m);p-- >0;){if(m=sw(c,d,r),m===f)return n[a]=c,n[s]=d,e(n);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return t},t}function cR(){var t=O2();return t.copy=function(){return vh(t,cR())},Ia.apply(t,arguments),Ho(t)}function uR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,P0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return uR(t).unknown(e)},t=arguments.length?Array.from(t,P0):[0,1],Ho(r)}function dR(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),t[r]=e.floor(a),t[n]=e.ceil(s),t}function uC(t){return Math.log(t)}function dC(t){return Math.exp(t)}function _F(t){return-Math.log(-t)}function EF(t){return-Math.exp(-t)}function SF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NF(t){return t===10?SF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jF(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fC(t){return(e,r)=>-t(-e,r)}function R2(t){const e=t(uC,dC),r=e.domain;let n=10,a,s;function c(){return a=jF(n),s=NF(n),r()[0]<0?(a=fC(a),s=fC(s),t(_F,EF)):t(uC,dC),e}return e.base=function(d){return arguments.length?(n=+d,c()):n},e.domain=function(d){return arguments.length?(r(d),c()):r()},e.ticks=d=>{const f=r();let m=f[0],p=f[f.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=a(m),w=a(p),_,E;const N=d==null?10:+d;let C=[];if(!(n%1)&&w-b<N){if(b=Math.floor(b),w=Math.ceil(w),m>0){for(;b<=w;++b)for(_=1;_<n;++_)if(E=b<0?_/s(-b):_*s(b),!(E<m)){if(E>p)break;C.push(E)}}else for(;b<=w;++b)for(_=n-1;_>=1;--_)if(E=b>0?_/s(-b):_*s(b),!(E<m)){if(E>p)break;C.push(E)}C.length*2<N&&(C=iw(m,p,N))}else C=iw(b,w,Math.min(w-b,N)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Yf(f)).precision==null&&(f.trim=!0),f=P2(f)),d===1/0)return f;const m=Math.max(1,n*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=m?f(p):""}},e.nice=()=>r(dR(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function fR(){const t=R2(Hg()).domain([1,10]);return t.copy=()=>vh(t,fR()).base(t.base()),Ia.apply(t,arguments),t}function hC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function M2(t){var e=1,r=t(hC(e),mC(e));return r.constant=function(n){return arguments.length?t(hC(e=+n),mC(e)):e},Ho(r)}function hR(){var t=M2(Hg());return t.copy=function(){return vh(t,hR()).constant(t.constant())},Ia.apply(t,arguments)}function pC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TF(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AF(t){return t<0?-t*t:t*t}function D2(t){var e=t(yn,yn),r=1;function n(){return r===1?t(yn,yn):r===.5?t(TF,AF):t(pC(r),pC(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ho(e)}function z2(){var t=D2(Hg());return t.copy=function(){return vh(t,z2()).exponent(t.exponent())},Ia.apply(t,arguments),t}function CF(){return z2.apply(null,arguments).exponent(.5)}function gC(t){return Math.sign(t)*t*t}function OF(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mR(){var t=O2(),e=[0,1],r=!1,n;function a(s){var c=OF(t(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return t.invert(gC(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,P0)).map(gC)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mR(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ia.apply(a,arguments),Ho(a)}function pR(){var t=[],e=[],r=[],n;function a(){var c=0,d=Math.max(1,e.length);for(r=new Array(d-1);++c<d;)r[c-1]=Mq(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?n:e[xh(r,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:t[0],d<r.length?r[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(No),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return pR().domain(t).range(e).unknown(n)},Ia.apply(s,arguments)}function gR(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[xh(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*e-(f-r)*t)/(r+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=r?[n[r-1],e]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return gR().domain([t,e]).range(a).unknown(s)},Ia.apply(Ho(c),arguments)}function yR(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[xh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return yR().domain(t).range(e).unknown(r)},Ia.apply(a,arguments)}const Bv=new Date,$v=new Date;function Sr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let m;do f.push(m=new Date(+s)),e(s,d),t(s);while(m<s&&s<c);return f},a.filter=s=>Sr(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),r&&(a.count=(s,c)=>(Bv.setTime(+s),$v.setTime(+c),t(Bv),t($v),Math.floor(r(Bv,$v))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const D0=Sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);D0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):D0);D0.range;const ss=1e3,Sa=ss*60,os=Sa*60,ys=os*24,L2=ys*7,yC=ys*30,Hv=ys*365,Al=Sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getUTCSeconds());Al.range;const V2=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getMinutes());V2.range;const U2=Sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCMinutes());U2.range;const B2=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss-t.getMinutes()*Sa)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getHours());B2.range;const $2=Sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCHours());$2.range;const wh=Sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sa)/ys,t=>t.getDate()-1);wh.range;const qg=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ys,t=>t.getUTCDate()-1);qg.range;const xR=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ys,t=>Math.floor(t/ys));xR.range;function rc(t){return Sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Sa)/L2)}const Fg=rc(0),z0=rc(1),IF=rc(2),PF=rc(3),ju=rc(4),RF=rc(5),MF=rc(6);Fg.range;z0.range;IF.range;PF.range;ju.range;RF.range;MF.range;function nc(t){return Sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/L2)}const Gg=nc(0),L0=nc(1),DF=nc(2),zF=nc(3),Tu=nc(4),LF=nc(5),VF=nc(6);Gg.range;L0.range;DF.range;zF.range;Tu.range;LF.range;VF.range;const H2=Sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());H2.range;const q2=Sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q2.range;const xs=Sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});xs.range;const bs=Sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});bs.range;function bR(t,e,r,n,a,s){const c=[[Al,1,ss],[Al,5,5*ss],[Al,15,15*ss],[Al,30,30*ss],[s,1,Sa],[s,5,5*Sa],[s,15,15*Sa],[s,30,30*Sa],[a,1,os],[a,3,3*os],[a,6,6*os],[a,12,12*os],[n,1,ys],[n,2,2*ys],[r,1,L2],[e,1,yC],[e,3,3*yC],[t,1,Hv]];function d(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const w=g&&typeof g.range=="function"?g:f(m,p,g),_=w?w.range(m,+p+1):[];return b?_.reverse():_}function f(m,p,g){const b=Math.abs(p-m)/g,w=S2(([,,N])=>N).right(c,b);if(w===c.length)return t.every(ow(m/Hv,p/Hv,g));if(w===0)return D0.every(Math.max(ow(m,p,g),1));const[_,E]=c[b/c[w-1][2]<c[w][2]/b?w-1:w];return _.every(E)}return[d,f]}const[UF,BF]=bR(bs,q2,Gg,xR,$2,U2),[$F,HF]=bR(xs,H2,Fg,wh,B2,V2);function qv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function df(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function qF(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,m=ff(a),p=hf(a),g=ff(s),b=hf(s),w=ff(c),_=hf(c),E=ff(d),N=hf(d),C=ff(f),S=hf(f),P={a:Z,A:fe,b:_e,B:le,c:null,d:_C,e:_C,f:hG,g:_G,G:SG,H:uG,I:dG,j:fG,L:vR,m:mG,M:pG,p:z,q:W,Q:NC,s:jC,S:gG,u:yG,U:xG,V:bG,w:vG,W:wG,x:null,X:null,y:kG,Y:EG,Z:NG,"%":SC},M={a:ue,A:G,b:pe,B:Ee,c:null,d:EC,e:EC,f:CG,g:UG,G:$G,H:jG,I:TG,j:AG,L:kR,m:OG,M:IG,p:be,q:Fe,Q:NC,s:jC,S:PG,u:RG,U:MG,V:DG,w:zG,W:LG,x:null,X:null,y:VG,Y:BG,Z:HG,"%":SC},$={a:U,A:L,b:B,B:H,c:X,d:wC,e:wC,f:sG,g:vC,G:bC,H:kC,I:kC,j:rG,L:iG,m:tG,M:nG,p:R,q:eG,Q:lG,s:cG,S:aG,u:WF,U:XF,V:QF,w:YF,W:ZF,x:J,X:F,y:vC,Y:bC,Z:JF,"%":oG};P.x=V(r,P),P.X=V(n,P),P.c=V(e,P),M.x=V(r,M),M.X=V(n,M),M.c=V(e,M);function V(se,Be){return function(Le){var ye=[],ft=-1,We=0,It=se.length,At,jr,Ln;for(Le instanceof Date||(Le=new Date(+Le));++ft<It;)se.charCodeAt(ft)===37&&(ye.push(se.slice(We,ft)),(jr=xC[At=se.charAt(++ft)])!=null?At=se.charAt(++ft):jr=At==="e"?" ":"0",(Ln=Be[At])&&(At=Ln(Le,jr)),ye.push(At),We=ft+1);return ye.push(se.slice(We,ft)),ye.join("")}}function T(se,Be){return function(Le){var ye=df(1900,void 0,1),ft=I(ye,se,Le+="",0),We,It;if(ft!=Le.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Be&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(We=Fv(df(ye.y,0,1)),It=We.getUTCDay(),We=It>4||It===0?L0.ceil(We):L0(We),We=qg.offset(We,(ye.V-1)*7),ye.y=We.getUTCFullYear(),ye.m=We.getUTCMonth(),ye.d=We.getUTCDate()+(ye.w+6)%7):(We=qv(df(ye.y,0,1)),It=We.getDay(),We=It>4||It===0?z0.ceil(We):z0(We),We=wh.offset(We,(ye.V-1)*7),ye.y=We.getFullYear(),ye.m=We.getMonth(),ye.d=We.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),It="Z"in ye?Fv(df(ye.y,0,1)).getUTCDay():qv(df(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(It+5)%7:ye.w+ye.U*7-(It+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Fv(ye)):qv(ye)}}function I(se,Be,Le,ye){for(var ft=0,We=Be.length,It=Le.length,At,jr;ft<We;){if(ye>=It)return-1;if(At=Be.charCodeAt(ft++),At===37){if(At=Be.charAt(ft++),jr=$[At in xC?Be.charAt(ft++):At],!jr||(ye=jr(se,Le,ye))<0)return-1}else if(At!=Le.charCodeAt(ye++))return-1}return ye}function R(se,Be,Le){var ye=m.exec(Be.slice(Le));return ye?(se.p=p.get(ye[0].toLowerCase()),Le+ye[0].length):-1}function U(se,Be,Le){var ye=w.exec(Be.slice(Le));return ye?(se.w=_.get(ye[0].toLowerCase()),Le+ye[0].length):-1}function L(se,Be,Le){var ye=g.exec(Be.slice(Le));return ye?(se.w=b.get(ye[0].toLowerCase()),Le+ye[0].length):-1}function B(se,Be,Le){var ye=C.exec(Be.slice(Le));return ye?(se.m=S.get(ye[0].toLowerCase()),Le+ye[0].length):-1}function H(se,Be,Le){var ye=E.exec(Be.slice(Le));return ye?(se.m=N.get(ye[0].toLowerCase()),Le+ye[0].length):-1}function X(se,Be,Le){return I(se,e,Be,Le)}function J(se,Be,Le){return I(se,r,Be,Le)}function F(se,Be,Le){return I(se,n,Be,Le)}function Z(se){return c[se.getDay()]}function fe(se){return s[se.getDay()]}function _e(se){return f[se.getMonth()]}function le(se){return d[se.getMonth()]}function z(se){return a[+(se.getHours()>=12)]}function W(se){return 1+~~(se.getMonth()/3)}function ue(se){return c[se.getUTCDay()]}function G(se){return s[se.getUTCDay()]}function pe(se){return f[se.getUTCMonth()]}function Ee(se){return d[se.getUTCMonth()]}function be(se){return a[+(se.getUTCHours()>=12)]}function Fe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Be=V(se+="",P);return Be.toString=function(){return se},Be},parse:function(se){var Be=T(se+="",!1);return Be.toString=function(){return se},Be},utcFormat:function(se){var Be=V(se+="",M);return Be.toString=function(){return se},Be},utcParse:function(se){var Be=T(se+="",!0);return Be.toString=function(){return se},Be}}}var xC={"-":"",_:" ",0:"0"},Vr=/^\s*\d+/,FF=/^%/,GF=/[\\^$*+?|[\]().{}]/g;function dt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function KF(t){return t.replace(GF,"\\$&")}function ff(t){return new RegExp("^(?:"+t.map(KF).join("|")+")","i")}function hf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function YF(t,e,r){var n=Vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function WF(t,e,r){var n=Vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function XF(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function QF(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ZF(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function bC(t,e,r){var n=Vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vC(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JF(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eG(t,e,r){var n=Vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function tG(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function wC(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function rG(t,e,r){var n=Vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kC(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function nG(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function aG(t,e,r){var n=Vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function iG(t,e,r){var n=Vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function sG(t,e,r){var n=Vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oG(t,e,r){var n=FF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function lG(t,e,r){var n=Vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function cG(t,e,r){var n=Vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function _C(t,e){return dt(t.getDate(),e,2)}function uG(t,e){return dt(t.getHours(),e,2)}function dG(t,e){return dt(t.getHours()%12||12,e,2)}function fG(t,e){return dt(1+wh.count(xs(t),t),e,3)}function vR(t,e){return dt(t.getMilliseconds(),e,3)}function hG(t,e){return vR(t,e)+"000"}function mG(t,e){return dt(t.getMonth()+1,e,2)}function pG(t,e){return dt(t.getMinutes(),e,2)}function gG(t,e){return dt(t.getSeconds(),e,2)}function yG(t){var e=t.getDay();return e===0?7:e}function xG(t,e){return dt(Fg.count(xs(t)-1,t),e,2)}function wR(t){var e=t.getDay();return e>=4||e===0?ju(t):ju.ceil(t)}function bG(t,e){return t=wR(t),dt(ju.count(xs(t),t)+(xs(t).getDay()===4),e,2)}function vG(t){return t.getDay()}function wG(t,e){return dt(z0.count(xs(t)-1,t),e,2)}function kG(t,e){return dt(t.getFullYear()%100,e,2)}function _G(t,e){return t=wR(t),dt(t.getFullYear()%100,e,2)}function EG(t,e){return dt(t.getFullYear()%1e4,e,4)}function SG(t,e){var r=t.getDay();return t=r>=4||r===0?ju(t):ju.ceil(t),dt(t.getFullYear()%1e4,e,4)}function NG(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function EC(t,e){return dt(t.getUTCDate(),e,2)}function jG(t,e){return dt(t.getUTCHours(),e,2)}function TG(t,e){return dt(t.getUTCHours()%12||12,e,2)}function AG(t,e){return dt(1+qg.count(bs(t),t),e,3)}function kR(t,e){return dt(t.getUTCMilliseconds(),e,3)}function CG(t,e){return kR(t,e)+"000"}function OG(t,e){return dt(t.getUTCMonth()+1,e,2)}function IG(t,e){return dt(t.getUTCMinutes(),e,2)}function PG(t,e){return dt(t.getUTCSeconds(),e,2)}function RG(t){var e=t.getUTCDay();return e===0?7:e}function MG(t,e){return dt(Gg.count(bs(t)-1,t),e,2)}function _R(t){var e=t.getUTCDay();return e>=4||e===0?Tu(t):Tu.ceil(t)}function DG(t,e){return t=_R(t),dt(Tu.count(bs(t),t)+(bs(t).getUTCDay()===4),e,2)}function zG(t){return t.getUTCDay()}function LG(t,e){return dt(L0.count(bs(t)-1,t),e,2)}function VG(t,e){return dt(t.getUTCFullYear()%100,e,2)}function UG(t,e){return t=_R(t),dt(t.getUTCFullYear()%100,e,2)}function BG(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function $G(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Tu(t):Tu.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function HG(){return"+0000"}function SC(){return"%"}function NC(t){return+t}function jC(t){return Math.floor(+t/1e3)}var Zc,ER,SR;qG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qG(t){return Zc=qF(t),ER=Zc.format,Zc.parse,SR=Zc.utcFormat,Zc.utcParse,Zc}function FG(t){return new Date(t)}function GG(t){return t instanceof Date?+t:+new Date(+t)}function F2(t,e,r,n,a,s,c,d,f,m){var p=O2(),g=p.invert,b=p.domain,w=m(".%L"),_=m(":%S"),E=m("%I:%M"),N=m("%I %p"),C=m("%a %d"),S=m("%b %d"),P=m("%B"),M=m("%Y");function $(V){return(f(V)<V?w:d(V)<V?_:c(V)<V?E:s(V)<V?N:n(V)<V?a(V)<V?C:S:r(V)<V?P:M)(V)}return p.invert=function(V){return new Date(g(V))},p.domain=function(V){return arguments.length?b(Array.from(V,GG)):b().map(FG)},p.ticks=function(V){var T=b();return t(T[0],T[T.length-1],V??10)},p.tickFormat=function(V,T){return T==null?$:m(T)},p.nice=function(V){var T=b();return(!V||typeof V.range!="function")&&(V=e(T[0],T[T.length-1],V??10)),V?b(dR(T,V)):p},p.copy=function(){return vh(p,F2(t,e,r,n,a,s,c,d,f,m))},p}function KG(){return Ia.apply(F2($F,HF,xs,H2,Fg,wh,B2,V2,Al,ER).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YG(){return Ia.apply(F2(UF,BF,bs,q2,Gg,qg,$2,U2,Al,SR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kg(){var t=0,e=1,r,n,a,s,c=yn,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),m):[t,e]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(b){var w,_;return arguments.length?([w,_]=b,c=g(w,_),m):[c(0),c(1)]}}return m.range=p(Uu),m.rangeRound=p(C2),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return s=g,r=g(t),n=g(e),a=r===n?0:1/(n-r),m}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NR(){var t=Ho(Kg()(yn));return t.copy=function(){return qo(t,NR())},Ts.apply(t,arguments)}function jR(){var t=R2(Kg()).domain([1,10]);return t.copy=function(){return qo(t,jR()).base(t.base())},Ts.apply(t,arguments)}function TR(){var t=M2(Kg());return t.copy=function(){return qo(t,TR()).constant(t.constant())},Ts.apply(t,arguments)}function G2(){var t=D2(Kg());return t.copy=function(){return qo(t,G2()).exponent(t.exponent())},Ts.apply(t,arguments)}function WG(){return G2.apply(null,arguments).exponent(.5)}function AR(){var t=[],e=yn;function r(n){if(n!=null&&!isNaN(n=+n))return e((xh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Rq(t,s/n))},r.copy=function(){return AR(e).domain(t)},Ts.apply(r,arguments)}function Yg(){var t=0,e=.5,r=1,n=1,a,s,c,d,f,m=yn,p,g=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(n*E<n*s?d:f),m(g?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,r]=E,a=p(t=+t),s=p(e=+e),c=p(r=+r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,w):[t,e,r]},w.clamp=function(E){return arguments.length?(g=!!E,w):g},w.interpolator=function(E){return arguments.length?(m=E,w):m};function _(E){return function(N){var C,S,P;return arguments.length?([C,S,P]=N,m=oF(E,[C,S,P]),w):[m(0),m(.5),m(1)]}}return w.range=_(Uu),w.rangeRound=_(C2),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return p=E,a=E(t),s=E(e),c=E(r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,w}}function CR(){var t=Ho(Yg()(yn));return t.copy=function(){return qo(t,CR())},Ts.apply(t,arguments)}function OR(){var t=R2(Yg()).domain([.1,1,10]);return t.copy=function(){return qo(t,OR()).base(t.base())},Ts.apply(t,arguments)}function IR(){var t=M2(Yg());return t.copy=function(){return qo(t,IR()).constant(t.constant())},Ts.apply(t,arguments)}function K2(){var t=D2(Yg());return t.copy=function(){return qo(t,K2()).exponent(t.exponent())},Ts.apply(t,arguments)}function XG(){return K2.apply(null,arguments).exponent(.5)}const yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:j2,scaleDiverging:CR,scaleDivergingLog:OR,scaleDivergingPow:K2,scaleDivergingSqrt:XG,scaleDivergingSymlog:IR,scaleIdentity:uR,scaleImplicit:lw,scaleLinear:cR,scaleLog:fR,scaleOrdinal:N2,scalePoint:zq,scalePow:z2,scaleQuantile:pR,scaleQuantize:gR,scaleRadial:mR,scaleSequential:NR,scaleSequentialLog:jR,scaleSequentialPow:G2,scaleSequentialQuantile:AR,scaleSequentialSqrt:WG,scaleSequentialSymlog:TR,scaleSqrt:CF,scaleSymlog:hR,scaleThreshold:yR,scaleTime:KG,scaleUtc:YG,tickFormat:lR},Symbol.toStringTag,{value:"Module"}));var As=t=>t.chartData,Wg=ae([As],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),PR=(t,e,r,n)=>n?Wg(t):As(t),QG=(t,e,r)=>r?Wg(t):As(t);function vs(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(st(e)&&st(r))return!0}return!1}function TC(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function RR(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,a,s;if(st(r))a=r;else if(typeof r=="function")return;if(st(n))s=n;else if(typeof n=="function")return;var c=[a,s];if(vs(c))return c}}function ZG(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(vs(n))return TC(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Ce(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&VT.test(a)){var f=VT.exec(a);if(f==null||f[1]==null||e==null)c=void 0;else{var m=+f[1];c=e[0]-m}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ce(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&UT.test(s)){var p=UT.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var b=[c,d];if(vs(b))return e==null?b:TC(b,e,r)}}}var Bu=1e9,JG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W2,Ht=!0,Aa="[DecimalError] ",Dl=Aa+"Invalid argument: ",Y2=Aa+"Exponent out of range: ",$u=Math.floor,El=Math.pow,eK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Pr=1e7,Mt=7,MR=9007199254740991,V0=$u(MR/Mt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return us(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return jt(us(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return br(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Jn))throw Error(Aa+"NaN");if(r.s<1)throw Error(Aa+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(Ht=!1,e=us(Wf(r,s),Wf(t,s),s),Ht=!0,jt(e,a))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LR(e,t):DR(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Aa+"NaN");return r.s?(Ht=!1,e=us(r,t,0,1).times(t),Ht=!0,r.minus(e)):jt(new n(r),a)};Te.naturalExponential=Te.exp=function(){return zR(this)};Te.naturalLogarithm=Te.ln=function(){return Wf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DR(e,t):LR(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Dl+t);if(e=br(a)+1,n=a.d.length-1,r=n*Mt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Aa+"NaN")}for(t=br(d),Ht=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=ki(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=$u((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new f(e)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(us(d,s,c+2)).times(.5),ki(s.d).slice(0,c)===(e=ki(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(jt(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(e!="9999")break;c+=4}return Ht=!0,jt(n,r)};Te.times=Te.mul=function(t){var e,r,n,a,s,c,d,f,m,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,f=b.length,m=w.length,f<m&&(s=b,b=w,w=s,c=f,f=m,m=c),s=[],c=f+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(e=0,a=f+n;a>n;)d=s[a]+w[n]*b[a-n-1]+e,s[a--]=d%Pr|0,e=d/Pr|0;s[a]=(s[a]+e)%Pr|0}for(;!s[--c];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ht?jt(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Pi(t,0,Bu),e===void 0?e=n.rounding:Pi(e,0,8),jt(r,t+br(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Kl(n,!0):(Pi(t,0,Bu),e===void 0?e=a.rounding:Pi(e,0,8),n=jt(new a(n),t+1,e),r=Kl(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Kl(a):(Pi(t,0,Bu),e===void 0?e=s.rounding:Pi(e,0,8),n=jt(new s(a),t+br(a)+1,e),r=Kl(n.abs(),!1,t+br(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return jt(new e(t),br(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,a,s,c,d=this,f=d.constructor,m=12,p=+(t=new f(t));if(!t.s)return new f(Jn);if(d=new f(d),!d.s){if(t.s<1)throw Error(Aa+"Infinity");return d}if(d.eq(Jn))return d;if(n=f.precision,t.eq(Jn))return jt(d,n);if(e=t.e,r=t.d.length-1,c=e>=r,s=d.s,c){if((r=p<0?-p:p)<=MR){for(a=new f(Jn),e=Math.ceil(n/Mt+4),Ht=!1;r%2&&(a=a.times(d),CC(a.d,e)),r=$u(r/2),r!==0;)d=d.times(d),CC(d.d,e);return Ht=!0,t.s<0?new f(Jn).div(a):jt(a,n)}}else if(s<0)throw Error(Aa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,d.s=1,Ht=!1,a=t.times(Wf(d,n+m)),Ht=!0,a=zR(a),a.s=s,a};Te.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=br(a),n=Kl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Pi(t,1,Bu),e===void 0?e=s.rounding:Pi(e,0,8),a=jt(new s(a),t,e),r=br(a),n=Kl(a,t<=r||r<=s.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Pi(t,1,Bu),e===void 0?e=n.rounding:Pi(e,0,8)),jt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=br(t),r=t.constructor;return Kl(t,e<=r.toExpNeg||e>=r.toExpPos)};function DR(t,e){var r,n,a,s,c,d,f,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ht?jt(e,g):e;if(f=t.d,m=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,d=m.length):(n=m,a=c,d=f.length),c=Math.ceil(g/Mt),d=c>d?c+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=m.length,d-s<0&&(s=d,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/Pr|0,f[s]%=Pr;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Ht?jt(e,g):e}function Pi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Dl+t)}function ki(t){var e,r,n,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)n=t[e]+"",r=Mt-n.length,r&&(s+=yo(r)),s+=n;c=t[e],n=c+"",r=Mt-n.length,r&&(s+=yo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var us=(function(){function t(n,a){var s,c=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+c,n[d]=s%Pr|0,c=s/Pr|0;return c&&n.unshift(c),n}function e(n,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Pr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var d,f,m,p,g,b,w,_,E,N,C,S,P,M,$,V,T,I,R=n.constructor,U=n.s==a.s?1:-1,L=n.d,B=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Aa+"Division by zero");for(f=n.e-a.e,T=B.length,$=L.length,w=new R(U),_=w.d=[],m=0;B[m]==(L[m]||0);)++m;if(B[m]>(L[m]||0)&&--f,s==null?S=s=R.precision:c?S=s+(br(n)-br(a))+1:S=s,S<0)return new R(0);if(S=S/Mt+2|0,m=0,T==1)for(p=0,B=B[0],S++;(m<$||p)&&S--;m++)P=p*Pr+(L[m]||0),_[m]=P/B|0,p=P%B|0;else{for(p=Pr/(B[0]+1)|0,p>1&&(B=t(B,p),L=t(L,p),T=B.length,$=L.length),M=T,E=L.slice(0,T),N=E.length;N<T;)E[N++]=0;I=B.slice(),I.unshift(0),V=B[0],B[1]>=Pr/2&&++V;do p=0,d=e(B,E,T,N),d<0?(C=E[0],T!=N&&(C=C*Pr+(E[1]||0)),p=C/V|0,p>1?(p>=Pr&&(p=Pr-1),g=t(B,p),b=g.length,N=E.length,d=e(g,E,b,N),d==1&&(p--,r(g,T<b?I:B,b))):(p==0&&(d=p=1),g=B.slice()),b=g.length,b<N&&g.unshift(0),r(E,g,N),d==-1&&(N=E.length,d=e(B,E,T,N),d<1&&(p++,r(E,T<N?I:B,N))),N=E.length):d===0&&(p++,E=[0]),_[m++]=p,d&&E[0]?E[N++]=L[M]||0:(E=[L[M]],N=1);while((M++<$||E[0]!==void 0)&&S--)}return _[0]||_.shift(),w.e=f,jt(w,c?s+br(w)+1:s)}})();function zR(t,e){var r,n,a,s,c,d,f=0,m=0,p=t.constructor,g=p.precision;if(br(t)>16)throw Error(Y2+br(t));if(!t.s)return new p(Jn);for(Ht=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),m+=5;for(n=Math.log(El(2,m))/Math.LN10*2+5|0,d+=n,r=a=s=new p(Jn),p.precision=d;;){if(a=jt(a.times(t),d),r=r.times(++f),c=s.plus(us(a,r,d)),ki(c.d).slice(0,d)===ki(s.d).slice(0,d)){for(;m--;)s=jt(s.times(s),d);return p.precision=g,e==null?(Ht=!0,jt(s,g)):s}s=c}}function br(t){for(var e=t.e*Mt,r=t.d[0];r>=10;r/=10)e++;return e}function Gv(t,e,r){if(e>t.LN10.sd())throw Ht=!0,r&&(t.precision=r),Error(Aa+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function yo(t){for(var e="";t--;)e+="0";return e}function Wf(t,e){var r,n,a,s,c,d,f,m,p,g=1,b=10,w=t,_=w.d,E=w.constructor,N=E.precision;if(w.s<1)throw Error(Aa+(w.s?"NaN":"-Infinity"));if(w.eq(Jn))return new E(0);if(e==null?(Ht=!1,m=N):m=e,w.eq(10))return e==null&&(Ht=!0),Gv(E,m);if(m+=b,E.precision=m,r=ki(_),n=r.charAt(0),s=br(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=ki(w.d),n=r.charAt(0),g++;s=br(w),n>1?(w=new E("0."+r),s++):w=new E(n+"."+r.slice(1))}else return f=Gv(E,m+2,N).times(s+""),w=Wf(new E(n+"."+r.slice(1)),m-b).plus(f),E.precision=N,e==null?(Ht=!0,jt(w,N)):w;for(d=c=w=us(w.minus(Jn),w.plus(Jn),m),p=jt(w.times(w),m),a=3;;){if(c=jt(c.times(p),m),f=d.plus(us(c,new E(a),m)),ki(f.d).slice(0,m)===ki(d.d).slice(0,m))return d=d.times(2),s!==0&&(d=d.plus(Gv(E,m+2,N).times(s+""))),d=us(d,new E(g),m),E.precision=N,e==null?(Ht=!0,jt(d,N)):d;d=f,a+=2}}function AC(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=$u(r/Mt),t.d=[],n=(r+1)%Mt,r<0&&(n+=Mt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Mt;n<a;)t.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ht&&(t.e>V0||t.e<-V0))throw Error(Y2+r)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,r){var n,a,s,c,d,f,m,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(n=e-c,n<0)n+=Mt,a=e,m=g[p=0];else{if(p=Math.ceil((n+1)/Mt),s=g.length,p>=s)return t;for(m=s=g[p],c=1;s>=10;s/=10)c++;n%=Mt,a=n-Mt+c}if(r!==void 0&&(s=El(10,c-a-1),d=m/s%10|0,f=e<0||g[p+1]!==void 0||m%s,f=r<4?(d||f)&&(r==0||r==(t.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?m/El(10,c-a):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return f?(s=br(t),g.length=1,e=e-s-1,g[0]=El(10,(Mt-e%Mt)%Mt),t.e=$u(-e/Mt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=El(10,Mt-n),g[p]=a>0?(m/El(10,c-a)%El(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Pr&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Pr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Ht&&(t.e>V0||t.e<-V0))throw Error(Y2+br(t));return t}function LR(t,e){var r,n,a,s,c,d,f,m,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Ht?jt(e,w):e;if(f=t.d,g=e.d,n=e.e,m=t.e,f=f.slice(),c=m-n,c){for(p=c<0,p?(r=f,c=-c,d=g.length):(r=g,n=m,d=f.length),a=Math.max(Math.ceil(w/Mt),d)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(r=f,f=g,g=r,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Pr-1;--f[s],f[a]+=Pr}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=n,Ht?jt(e,w):e):new b(0)}function Kl(t,e,r){var n,a=br(t),s=ki(t.d),c=s.length;return e?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+yo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+yo(-a-1)+s,r&&(n=r-c)>0&&(s+=yo(n))):a>=c?(s+=yo(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+yo(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=yo(n))),t.s<0?"-"+s:s}function CC(t,e){if(t.length>e)return t.length=e,!0}function VR(t){var e,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Dl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return AC(c,s.toString())}else if(typeof s!="string")throw Error(Dl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,eK.test(s))AC(c,s);else throw Error(Dl+s)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VR,a.config=a.set=tK,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function tK(t){if(!t||typeof t!="object")throw Error(Aa+"Object expected");var e,r,n,a=["precision",1,Bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if($u(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Dl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Dl+r+": "+n);return this}var W2=VR(JG);Jn=new W2(1);const vt=W2;function UR(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function BR(t,e,r){for(var n=new vt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var $R=t=>{var[e,r]=t,[n,a]=[e,r];return e>r&&([n,a]=[r,e]),[n,a]},HR=(t,e,r)=>{if(t.lte(0))return new vt(0);var n=UR(t.toNumber()),a=new vt(10).pow(n),s=t.div(a),c=n!==1?.05:.1,d=new vt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=d.mul(a);return e?new vt(f.toNumber()):new vt(Math.ceil(f.toNumber()))},rK=(t,e,r)=>{var n=new vt(1),a=new vt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new vt(10).pow(UR(t)-1),a=new vt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new vt(Math.floor(t)))}else t===0?a=new vt(Math.floor((e-1)/2)):r||(a=new vt(Math.floor(t)));for(var c=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(a.add(new vt(f-c).mul(n)).toNumber());return d},qR=function(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var c=HR(new vt(r).sub(e).div(n-1),a,s),d;e<=0&&r>=0?d=new vt(0):(d=new vt(e).add(r).div(2),d=d.sub(new vt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),m=Math.ceil(new vt(r).sub(d).div(c).toNumber()),p=f+m+1;return p>n?qR(e,r,n,a,s+1):(p<n&&(m=r>0?m+(n-p):m,f=r>0?f:f+(n-p)),{step:c,tickMin:d.sub(new vt(f).mul(c)),tickMax:d.add(new vt(m).mul(c))})},nK=function(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=$R([r,n]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?m.reverse():m}if(d===f)return rK(d,a,s);var{step:p,tickMin:g,tickMax:b}=qR(d,f,c,s,0),w=BR(g,b.add(new vt(.1).mul(p)),p);return r>n?w.reverse():w},aK=function(e,r){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=$R([n,a]);if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var f=Math.max(r,2),m=HR(new vt(d).sub(c).div(f-1),s,0),p=[...BR(new vt(c),new vt(d),m),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},iK=t=>t.rootProps.barCategoryGap,kh=t=>t.rootProps.stackOffset,FR=t=>t.rootProps.reverseStackOrder,X2=t=>t.options.chartName,Q2=t=>t.rootProps.syncId,GR=t=>t.rootProps.syncMethod,Z2=t=>t.options.eventEmitter,sK=t=>t.rootProps.baseValue,Jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},xi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Xg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Qg(t,e,r){if(r!=="auto")return r;if(t!=null)return zi(t,e)?"category":"number"}function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){oK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oK(t,e,r){return(e=lK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lK(t){var e=cK(t,"string");return typeof e=="symbol"?e:e+""}function cK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IC={allowDataOverflow:wl.allowDataOverflow,allowDecimals:wl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:wl.reversed,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:wl.type,unit:void 0},PC={allowDataOverflow:xi.allowDataOverflow,allowDecimals:xi.allowDecimals,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:xi.includeHidden,name:void 0,reversed:xi.reversed,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},uK=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},J2=ae([uK,IP],(t,e)=>{var r;if(t!=null)return t;var n=(r=Qg(e,"angleAxis",IC.type))!==null&&r!==void 0?r:"category";return U0(U0({},IC),{},{type:n})}),dK=(t,e)=>t.polarAxis.radiusAxis[e],ek=ae([dK,IP],(t,e)=>{var r;if(t!=null)return t;var n=(r=Qg(e,"radiusAxis",PC.type))!==null&&r!==void 0?r:"category";return U0(U0({},PC),{},{type:n})}),Zg=t=>t.polarOptions,tk=ae([Ns,js,Lr],WP),KR=ae([Zg,tk],(t,e)=>{if(t!=null)return ta(t.innerRadius,e,0)}),YR=ae([Zg,tk],(t,e)=>{if(t!=null)return ta(t.outerRadius,e,e*.8)}),fK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},WR=ae([Zg],fK);ae([J2,WR],Xg);var XR=ae([tk,KR,YR],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});ae([ek,XR],Xg);var QR=ae([Tt,Zg,KR,YR,Ns,js],(t,e,r,n,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=e;return{cx:ta(c,a,a/2),cy:ta(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),Xt=(t,e)=>e,_h=(t,e,r)=>r;function rk(t){return t==null?void 0:t.id}function ZR(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=r,c=new Map;return t.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var p=rk(d);m.forEach((g,b)=>{var w=s==null||a?b:String(zt(g,s,null)),_=zt(g,d.dataKey,0),E;c.has(w)?E=c.get(w):E={},Object.assign(E,{[p]:_}),c.set(w,E)})}}),Array.from(c.values())}function nk(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Jg=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ey(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function hK(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Ur=t=>{var e=Tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Hu=t=>t.tooltip.settings.axisId;function mK(t){if(t in yf)return yf[t]();var e="scale".concat(dh(t));if(e in yf)return yf[e]()}function RC(t){var e=t.ticks,r=t.bandwidth,n=t.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var c=a[0],d=a[1];return c<=d?s>=c&&s<=d:s>=d&&s<=c},bandwidth:r?()=>r.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var d=t(s);if(d!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function MC(t,e,r){if(typeof t=="function")return RC(t.copy().domain(e).range(r));if(t!=null){var n=mK(t);if(n!=null)return n.domain(e).range(r),RC(n)}}var JR=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!vs(e)){for(var r,n,a=0;a<e.length;a++){var s=e[a];st(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function DC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(r),!0).forEach(function(n){pK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pK(t,e,r){return(e=gK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gK(t){var e=yK(t,"string");return typeof e=="symbol"?e:e+""}function yK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fw=[0,"auto"],Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eM=(t,e)=>t.cartesianAxis.xAxis[e],Cs=(t,e)=>{var r=eM(t,e);return r??Or},Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mh},tM=(t,e)=>t.cartesianAxis.yAxis[e],Os=(t,e)=>{var r=tM(t,e);return r??Ir},xK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ak=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??xK},rr=(t,e,r)=>{switch(e){case"xAxis":return Cs(t,r);case"yAxis":return Os(t,r);case"zAxis":return ak(t,r);case"angleAxis":return J2(t,r);case"radiusAxis":return ek(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},bK=(t,e,r)=>{switch(e){case"xAxis":return Cs(t,r);case"yAxis":return Os(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},qu=(t,e,r)=>{switch(e){case"xAxis":return Cs(t,r);case"yAxis":return Os(t,r);case"angleAxis":return J2(t,r);case"radiusAxis":return ek(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},rM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ik(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var nM=t=>t.graphicalItems.cartesianItems,vK=ae([Xt,_h],ik),sk=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Eh=ae([nM,rr,vK],sk,{memoizeOptions:{resultEqualityCheck:ey}}),aM=ae([Eh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(nk)),iM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),wK=ae([Eh],iM),ok=t=>t.map(e=>e.data).filter(Boolean).flat(1),kK=ae([Eh],ok,{memoizeOptions:{resultEqualityCheck:ey}}),lk=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=e;return t.length>0?t:r.slice(n,a+1)},ck=ae([kK,PR],lk),uk=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:zt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(a=>({value:zt(a,n)}))):t.map(n=>({value:n})),ty=ae([ck,rr,Eh],uk);function sM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hp(t){if(Oi(t)||t instanceof Date){var e=Number(t);if(st(e))return e}}function zC(t){if(Array.isArray(t)){var e=[Hp(t[0]),Hp(t[1])];return vs(e)?e:void 0}var r=Hp(t);if(r!=null)return[r,r]}function ws(t){return t.map(Hp).filter(Pn)}function _K(t,e,r){return!r||typeof e!="number"||Ci(e)?[]:r.length?ws(r.flatMap(n=>{var a=zt(t,n.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!st(s)||!st(c)))return[e-s,e+c]})):[]}var Nr=t=>{var e=Ur(t),r=Hu(t);return qu(t,e,r)},Sh=ae([Nr],t=>t==null?void 0:t.dataKey),EK=ae([aM,PR,Nr],ZR),oM=(t,e,r,n)=>{var a={},s=e.reduce((c,d)=>{if(d.stackId==null)return c;var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,m=n?[...f].reverse():f,p=m.map(rk);return[d,{stackedData:s$(t,p,r),graphicalItems:m}]}))},lM=ae([EK,aM,kh,FR],oM),cM=(t,e,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var c=u$(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},SK=ae([rr],t=>t.allowDataOverflow),dk=t=>{var e;if(t==null||!("domain"in t))return fw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=ws(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:fw},fk=ae([rr],dk),hk=ae([fk,SK],RR),NK=ae([lM,As,Xt,hk],cM,{memoizeOptions:{resultEqualityCheck:Jg}}),ry=t=>t.errorBars,jK=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>sM(r,n)),$0=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},mk=(t,e,r,n,a)=>{var s,c;if(r.length>0&&t.forEach(d=>{r.forEach(f=>{var m,p,g=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>sM(a,C)),b=zt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=_K(d,b,g);if(w.length>=2){var _=Math.min(...w),E=Math.max(...w);(s==null||_<s)&&(s=_),(c==null||E>c)&&(c=E)}var N=zC(b);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=zC(zt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),st(s)&&st(c))return[s,c]},TK=ae([ck,rr,wK,ry,Xt],mk,{memoizeOptions:{resultEqualityCheck:Jg}});function AK(t){var{value:e}=t;if(Oi(e)||e instanceof Date)return e}var CK=(t,e,r)=>{var n=t.map(AK).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&NI(n))?JP(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},uM=t=>t.referenceElements.dots,Fu=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),OK=ae([uM,Xt,_h],Fu),dM=t=>t.referenceElements.areas,IK=ae([dM,Xt,_h],Fu),fM=t=>t.referenceElements.lines,PK=ae([fM,Xt,_h],Fu),hM=(t,e)=>{if(t!=null){var r=ws(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},RK=ae(OK,Xt,hM),mM=(t,e)=>{if(t!=null){var r=ws(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MK=ae([IK,Xt],mM);function DK(t){var e;if(t.x!=null)return ws([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:ws(r)}function zK(t){var e;if(t.y!=null)return ws([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:ws(r)}var pM=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?DK(n):zK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},LK=ae([PK,Xt],pM),VK=ae(RK,LK,MK,(t,e,r)=>$0(t,r,e)),pk=(t,e,r,n,a,s,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?$0(n,s,a):$0(s,a);return ZG(e,m,t.allowDataOverflow)},UK=ae([rr,fk,hk,NK,TK,VK,Tt,Xt],pk,{memoizeOptions:{resultEqualityCheck:Jg}}),BK=[0,1],gk=(t,e,r,n,a,s,c)=>{if(!((t==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,m=zi(e,s);if(m&&d==null){var p;return JP(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?CK(n,t,m):a==="expand"?BK:c}},yk=ae([rr,Tt,ck,ty,kh,Xt,UK],gk);function $K(t){return t in yf}var gM=(t,e,r)=>{if(t!=null){var{scale:n,type:a}=t;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(dh(n));return $K(s)?s:"point"}}},Fo=ae([rr,rM,X2],gM);function xk(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?MC(t.scale,r,n):MC(e,r,n)}var bk=(t,e,r)=>{var n=dk(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vs(t))return nK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&vs(t))return aK(t,e.tickCount,e.allowDecimals)}},vk=ae([yk,qu,Fo],bk),wk=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&vs(e)&&Array.isArray(r)&&r.length>0){var a,s,c=e[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=e[1],m=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,d),Math.max(f,m)]}return e},HK=ae([rr,yk,vk,Xt],wk),qK=ae(ty,rr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(ws(t.map(g=>g.value))).sort((g,b)=>g-b),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var c=s-a;if(c===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],m=n[d+1];if(!(f==null||m==null)){var p=m-f;r=Math.min(r,p)}}return r/c}}),yM=ae(qK,Tt,iK,Lr,(t,e,r,n,a)=>a,(t,e,r,n,a)=>{if(!st(t))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=ta(r,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),FK=(t,e,r)=>{var n=Cs(t,e);return n==null||typeof n.padding!="string"?0:yM(t,"xAxis",e,r,n.padding)},GK=(t,e,r)=>{var n=Os(t,e);return n==null||typeof n.padding!="string"?0:yM(t,"yAxis",e,r,n.padding)},KK=ae(Cs,FK,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),YK=ae(Os,GK,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),WK=ae([Lr,KK,Dg,Mg,(t,e,r)=>r],(t,e,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),XK=ae([Lr,Tt,YK,Dg,Mg,(t,e,r)=>r],(t,e,r,n,a,s)=>{var{padding:c}=a;return s?[n.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Nh=(t,e,r,n)=>{var a;switch(e){case"xAxis":return WK(t,r,n);case"yAxis":return XK(t,r,n);case"zAxis":return(a=ak(t,r))===null||a===void 0?void 0:a.range;case"angleAxis":return WR(t);case"radiusAxis":return XR(t,r);default:return}},xM=ae([rr,Nh],Xg),QK=ae([Fo,HK],JR),ny=ae([rr,Fo,QK,xM],xk);ae([Eh,ry,Xt],jK);function bM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ay=(t,e)=>e,iy=(t,e,r)=>r,ZK=ae(Pg,ay,iy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(bM)),JK=ae(Rg,ay,iy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(bM)),vM=(t,e)=>({width:t.width,height:e.height}),eY=(t,e)=>{var r=typeof e.width=="number"?e.width:mh;return{width:r,height:t.height}},tY=ae(Lr,Cs,vM),rY=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},nY=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},aY=ae(js,Lr,ZK,ay,iy,(t,e,r,n,a)=>{var s={},c;return r.forEach(d=>{var f=vM(e,d);c==null&&(c=rY(e,n,t));var m=n==="top"&&!a||n==="bottom"&&a;s[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),s}),iY=ae(Ns,Lr,JK,ay,iy,(t,e,r,n,a)=>{var s={},c;return r.forEach(d=>{var f=eY(e,d);c==null&&(c=nY(e,n,t));var m=n==="left"&&!a||n==="right"&&a;s[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),s}),sY=(t,e)=>{var r=Cs(t,e);if(r!=null)return aY(t,r.orientation,r.mirror)},oY=ae([Lr,Cs,sY,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),lY=(t,e)=>{var r=Os(t,e);if(r!=null)return iY(t,r.orientation,r.mirror)},cY=ae([Lr,Os,lY,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),uY=ae(Lr,Os,(t,e)=>{var r=typeof e.width=="number"?e.width:mh;return{width:r,height:t.height}}),wM=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=r,d=zi(t,n),f=e.map(m=>m.value);if(c&&d&&s==="category"&&a&&NI(f))return f}},kk=ae([Tt,ty,rr,Xt],wM),kM=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,c=zi(t,n);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},_k=ae([Tt,ty,qu,Xt],kM),LC=ae([Tt,bK,Fo,ny,kk,_k,Nh,vk,Xt],(t,e,r,n,a,s,c,d,f)=>{if(e!=null){var m=zi(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:n}}}),dY=(t,e,r,n,a,s,c,d,f)=>{if(!(e==null||n==null)){var m=zi(t,f),{type:p,ticks:g,tickCount:b}=e,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=p==="category"&&n.bandwidth?n.bandwidth()/w:0;_=f==="angleAxis"&&s!=null&&s.length>=2?hn(s[0]-s[1])*2*_:_;var E=g||a;return E?E.map((N,C)=>{var S=c?c.indexOf(N):N,P=n.map(S);return st(P)?{index:C,coordinate:P+_,value:N,offset:_}:null}).filter(Pn):m&&d?d.map((N,C)=>{var S=n.map(N);return st(S)?{coordinate:S+_,value:N,index:C,offset:_}:null}).filter(Pn):n.ticks?n.ticks(b).map((N,C)=>{var S=n.map(N);return st(S)?{coordinate:S+_,value:N,index:C,offset:_}:null}).filter(Pn):n.domain().map((N,C)=>{var S=n.map(N);return st(S)?{coordinate:S+_,value:c?c[N]:N,index:C,offset:_}:null}).filter(Pn)}},_M=ae([Tt,qu,Fo,ny,vk,Nh,kk,_k,Xt],dY),fY=(t,e,r,n,a,s,c)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var d=zi(t,c),{tickCount:f}=e,m=0;return m=c==="angleAxis"&&(n==null?void 0:n.length)>=2?hn(n[0]-n[1])*2*m:m,d&&s?s.map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Pn):r.ticks?r.ticks(f).map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Pn):r.domain().map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:a?a[p]:p,index:g,offset:m}:null}).filter(Pn)}},EM=ae([Tt,qu,ny,Nh,kk,_k,Xt],fY),SM=ae(rr,ny,(t,e)=>{if(!(t==null||e==null))return B0(B0({},t),{},{scale:e})}),hY=ae([rr,Fo,yk,xM],xk);ae((t,e,r)=>ak(t,r),hY,(t,e)=>{if(!(t==null||e==null))return B0(B0({},t),{},{scale:e})});var mY=ae([Tt,Pg,Rg],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),NM=t=>t.options.defaultTooltipEventType,jM=t=>t.options.validateTooltipEventTypes;function TM(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function Ek(t,e){var r=NM(t),n=jM(t);return TM(e,r,n)}function pY(t){return Re(e=>Ek(e,t))}var AM=(t,e)=>{var r,n=Number(e);if(!(Ci(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},gY=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yY={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CM=Dn({name:"tooltip",initialState:yY,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Bt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ka(t).tooltipItemPayloads.indexOf(r);a>-1&&(t.tooltipItemPayloads[a]=n)},prepare:Bt()},removeTooltipEntrySettings:{reducer(t,e){var r=Ka(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Bt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:xY,replaceTooltipEntrySettings:bY,removeTooltipEntrySettings:vY,setTooltipSettingsState:wY,setActiveMouseOverItemIndex:OM,mouseLeaveItem:kY,mouseLeaveChart:IM,setActiveClickItemIndex:_Y,setMouseOverAxisIndex:PM,setMouseClickAxisIndex:EY,setSyncInteraction:hw,setKeyboardInteraction:mw}=CM.actions,SY=CM.reducer;function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){NY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NY(t,e,r){return(e=jY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jY(t){var e=TY(t,"string");return typeof e=="symbol"?e:e+""}function TY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AY(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function CY(t){return t.index!=null}var RM=(t,e,r,n)=>{if(e==null)return bo;var a=AY(t,e,r);if(a==null)return bo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(CY(a)){if(s)return bp(bp({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return bp(bp({},bo),{},{coordinate:a.coordinate})};function OY(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function IY(t,e){var r=OY(t),n=e[0],a=e[1];if(r===void 0)return!1;var s=Math.min(n,a),c=Math.max(n,a);return r>=s&&r<=c}function PY(t,e,r){if(r==null||e==null)return!0;var n=zt(t,e);return n==null||!vs(r)?!0:IY(n,r)}var Sk=(t,e,r,n)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!st(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),m=e[f];return m==null||PY(m,r,n)?String(f):null},MM=(t,e,r,n,a,s,c)=>{if(s!=null){var d=c[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var m=a==null?void 0:a[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:m.coordinate}}}},DM=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},zM=t=>t.options.tooltipPayloadSearcher,Gu=t=>t.tooltip;function UC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(n){RY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RY(t,e,r){return(e=MY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MY(t){var e=DY(t,"string");return typeof e=="symbol"?e:e+""}function DY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zY(t,e){return t??e}var LM=(t,e,r,n,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:p}=r,g=[];return t.reduce((b,w)=>{var _,{dataDefinedOnItem:E,settings:N}=w,C=zY(E,d),S=Array.isArray(C)?bP(C,m,p):C,P=(_=N==null?void 0:N.dataKey)!==null&&_!==void 0?_:n,M=N==null?void 0:N.nameKey,$;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?$=jI(S,n,a):$=s(S,e,f,M),Array.isArray($))$.forEach(T=>{var I=BC(BC({},N),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});b.push(BT({tooltipEntrySettings:I,dataKey:T.dataKey,payload:T.payload,value:zt(T.payload,T.dataKey),name:T.name}))});else{var V;b.push(BT({tooltipEntrySettings:N,dataKey:P,payload:$,value:zt($,P),name:(V=zt($,M))!==null&&V!==void 0?V:N==null?void 0:N.name}))}return b},g)}},Nk=ae([Nr,rM,X2],gM),LY=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),VY=ae([Ur,Hu],ik),Ku=ae([LY,Nr,VY],sk,{memoizeOptions:{resultEqualityCheck:ey}}),UY=ae([Ku],t=>t.filter(nk)),BY=ae([Ku],ok,{memoizeOptions:{resultEqualityCheck:ey}}),Yu=ae([BY,As],lk),$Y=ae([UY,As,Nr],ZR),jk=ae([Yu,Nr,Ku],uk),VM=ae([Nr],dk),HY=ae([Nr],t=>t.allowDataOverflow),UM=ae([VM,HY],RR),qY=ae([Ku],t=>t.filter(nk)),FY=ae([$Y,qY,kh,FR],oM),GY=ae([FY,As,Ur,UM],cM),KY=ae([Ku],iM),YY=ae([Yu,Nr,KY,ry,Ur],mk,{memoizeOptions:{resultEqualityCheck:Jg}}),WY=ae([uM,Ur,Hu],Fu),XY=ae([WY,Ur],hM),QY=ae([dM,Ur,Hu],Fu),ZY=ae([QY,Ur],mM),JY=ae([fM,Ur,Hu],Fu),eW=ae([JY,Ur],pM),tW=ae([XY,eW,ZY],$0),rW=ae([Nr,VM,UM,GY,YY,tW,Tt,Ur],pk),jh=ae([Nr,Tt,Yu,jk,kh,Ur,rW],gk),nW=ae([jh,Nr,Nk],bk),aW=ae([Nr,jh,nW,Ur],wk),BM=t=>{var e=Ur(t),r=Hu(t),n=!1;return Nh(t,e,r,n)},$M=ae([Nr,BM],Xg),HM=ae([Nr,Nk,aW,$M],xk),iW=ae([Tt,jk,Nr,Ur],wM),sW=ae([Tt,jk,Nr,Ur],kM),oW=(t,e,r,n,a,s,c,d)=>{if(e){var{type:f}=e,m=zi(t,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?hn(a[0]-a[1])*2*g:g,m&&c?c.map((b,w)=>{var _=n.map(b);return st(_)?{coordinate:_+g,value:b,index:w,offset:g}:null}).filter(Pn):n.domain().map((b,w)=>{var _=n.map(b);return st(_)?{coordinate:_+g,value:s?s[b]:b,index:w,offset:g}:null}).filter(Pn)}}},Is=ae([Tt,Nr,Nk,HM,BM,iW,sW,Ur],oW),Tk=ae([NM,jM,gY],(t,e,r)=>TM(r.shared,t,e)),qM=t=>t.tooltip.settings.trigger,Ak=t=>t.tooltip.settings.defaultIndex,Th=ae([Gu,Tk,qM,Ak],RM),Au=ae([Th,Yu,Sh,jh],Sk),FM=ae([Is,Au],AM),GM=ae([Th],t=>{if(t)return t.dataKey}),lW=ae([Th],t=>{if(t)return t.graphicalItemId}),KM=ae([Gu,Tk,qM,Ak],DM),cW=ae([Ns,js,Tt,Lr,Is,Ak,KM],MM),uW=ae([Th,cW],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),dW=ae([Th],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),fW=ae([KM,Au,As,Sh,FM,zM,Tk],LM),hW=ae([fW],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){mW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mW(t,e,r){return(e=pW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pW(t){var e=gW(t,"string");return typeof e=="symbol"?e:e+""}function gW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yW=()=>Re(Nr),xW=()=>{var t=yW(),e=Re(Is),r=Re(HM);return b0(!t||!r?void 0:HC(HC({},t),{},{scale:r}),e)};function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){bW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bW(t,e,r){return(e=vW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vW(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kW=(t,e,r,n)=>{var a=e.find(s=>s&&s.index===r);if(a){if(t==="horizontal")return{x:a.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},_W=(t,e,r,n)=>{var a=e.find(m=>m&&m.index===r);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=n;return Jc(Jc(Jc({},n),yr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=n;return Jc(Jc(Jc({},n),yr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function EW(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var YM=(t,e,r,n,a)=>{var s,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var f,m,p,g,b,w=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,_=(p=r[d])===null||p===void 0?void 0:p.coordinate,E=d>=c-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(b=r[d+1])===null||b===void 0?void 0:b.coordinate,N=void 0;if(!(w==null||_==null||E==null))if(hn(_-w)!==hn(E-_)){var C=[];if(hn(E-_)===hn(a[1]-a[0])){N=E;var S=_+a[1]-a[0];C[0]=Math.min(S,(S+w)/2),C[1]=Math.max(S,(S+w)/2)}else{N=w;var P=E+a[1]-a[0];C[0]=Math.min(_,(P+_)/2),C[1]=Math.max(_,(P+_)/2)}var M=[Math.min(_,(N+_)/2),Math.max(_,(N+_)/2)];if(t>M[0]&&t<=M[1]||t>=C[0]&&t<=C[1]){var $;return($=r[d])===null||$===void 0?void 0:$.index}}else{var V=Math.min(w,E),T=Math.max(w,E);if(t>(V+_)/2&&t<=(T+_)/2){var I;return(I=r[d])===null||I===void 0?void 0:I.index}}}else if(e)for(var R=0;R<c;R++){var U=e[R];if(U!=null){var L=e[R+1],B=e[R-1];if(R===0&&L!=null&&t<=(U.coordinate+L.coordinate)/2||R===c-1&&B!=null&&t>(U.coordinate+B.coordinate)/2||R>0&&R<c-1&&B!=null&&L!=null&&t>(U.coordinate+B.coordinate)/2&&t<=(U.coordinate+L.coordinate)/2)return U.index}}return-1},WM=()=>Re(X2),Ck=(t,e)=>e,XM=(t,e,r)=>r,Ok=(t,e,r,n)=>n,SW=ae(Is,t=>kg(t,e=>e.coordinate)),Ik=ae([Gu,Ck,XM,Ok],RM),Pk=ae([Ik,Yu,Sh,jh],Sk),NW=(t,e,r)=>{if(e!=null){var n=Gu(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},QM=ae([Gu,Ck,XM,Ok],DM),H0=ae([Ns,js,Tt,Lr,Is,Ok,QM],MM),jW=ae([Ik,H0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),ZM=ae([Is,Pk],AM),TW=ae([QM,Pk,As,Sh,ZM,zM,Ck],LM),AW=ae([Ik,Pk],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),CW=(t,e,r,n,a,s,c)=>{if(!(!t||!r||!n||!a)&&EW(t,c)){var d=d$(t,e),f=YM(d,s,a,r,n),m=kW(e,a,f,t);return{activeIndex:String(f),activeCoordinate:m}}},OW=(t,e,r,n,a,s,c)=>{if(!(!t||!n||!a||!s||!r)){var d=hq(t,r);if(d){var f=f$(d,e),m=YM(f,c,s,n,a),p=_W(e,s,m,d);return{activeIndex:String(m),activeCoordinate:p}}}},IW=(t,e,r,n,a,s,c,d)=>{if(!(!t||!e||!n||!a||!s))return e==="horizontal"||e==="vertical"?CW(t,e,n,a,s,c,d):OW(t,e,r,n,a,s,c)},PW=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),RW=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Jr)),r=Array.from(new Set(e));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:hK}});function FC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(r),!0).forEach(function(n){MW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MW(t,e,r){return(e=DW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DW(t){var e=zW(t,"string");return typeof e=="symbol"?e:e+""}function zW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LW={},VW={zIndexMap:Object.values(Jr).reduce((t,e)=>GC(GC({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),LW)},UW=new Set(Object.values(Jr));function BW(t){return UW.has(t)}var JM=Dn({name:"zIndex",initialState:VW,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Bt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!BW(r)&&delete t.zIndexMap[r])},prepare:Bt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:a}=e.payload;t.zIndexMap[r]?a?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Bt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Bt()}}}),{registerZIndexPortal:$W,unregisterZIndexPortal:HW,registerZIndexPortalElement:qW,unregisterZIndexPortalElement:FW}=JM.actions,GW=JM.reducer;function Za(t){var{zIndex:e,children:r}=t,n=$$(),a=n&&e!==void 0&&e!==0,s=zn(),c=qt();k.useLayoutEffect(()=>a?(c($W({zIndex:e})),()=>{c(HW({zIndex:e}))}):Lu,[c,e,a]);var d=Re(f=>PW(f,e,s));return a?d?lI.createPortal(r,d):null:r}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(null,arguments)}function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){KW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e,r){return(e=YW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YW(t){var e=WW(t,"string");return typeof e=="symbol"?e:e+""}function WW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XW(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return k.isValidElement(e)?k.cloneElement(e,n):k.createElement(r,n)}function QW(t){var e,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:p}=t,g=r,b=n,w=a;if(!f||!g||p!=="ScatterChart"&&m!=="axis")return null;var _,E,N;if(p==="ScatterChart")_=g,E=jH,N=Jr.cursorLine;else if(p==="BarChart")_=TH(d,g,s,c),E=YP,N=Jr.cursorRectangle;else if(d==="radial"&&CI(g)){var{cx:C,cy:S,radius:P,startAngle:M,endAngle:$}=XP(g);_={cx:C,cy:S,startAngle:M,endAngle:$,innerRadius:P,outerRadius:P},E=ZP,N=Jr.cursorLine}else _={points:yq(d,g,s)},E=mu,N=Jr.cursorLine;var V=typeof f=="object"&&"className"in f?f.className:void 0,T=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},s),_),_u(f)),{},{payload:b,payloadIndex:w,className:gt("recharts-tooltip-cursor",V)});return k.createElement(Za,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:N},k.createElement(XW,{cursor:f,cursorComp:E,cursorProps:T}))}function ZW(t){var e=xW(),r=AP(),n=Vu(),a=WM();return e==null||r==null||n==null||a==null?null:k.createElement(QW,pw({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:a}))}var eD=k.createContext(null),JW=()=>k.useContext(eD),Kv={exports:{}},YC;function eX(){return YC||(YC=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,m,p){this.fn=f,this.context=m,this.once=p||!1}function s(f,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,b),_=r?r+m:m;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],w]:f._events[_].push(w):(f._events[_]=w,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=r?r+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,_=new Array(w);b<w;b++)_[b]=g[b].fn;return _},d.prototype.listenerCount=function(m){var p=r?r+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,b,w,_){var E=r?r+m:m;if(!this._events[E])return!1;var N=this._events[E],C=arguments.length,S,P;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,b),!0;case 5:return N.fn.call(N.context,p,g,b,w),!0;case 6:return N.fn.call(N.context,p,g,b,w,_),!0}for(P=1,S=new Array(C-1);P<C;P++)S[P-1]=arguments[P];N.fn.apply(N.context,S)}else{var M=N.length,$;for(P=0;P<M;P++)switch(N[P].once&&this.removeListener(m,N[P].fn,void 0,!0),C){case 1:N[P].fn.call(N[P].context);break;case 2:N[P].fn.call(N[P].context,p);break;case 3:N[P].fn.call(N[P].context,p,g);break;case 4:N[P].fn.call(N[P].context,p,g,b);break;default:if(!S)for($=1,S=new Array(C-1);$<C;$++)S[$-1]=arguments[$];N[P].fn.apply(N[P].context,S)}}return!0},d.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,b){var w=r?r+m:m;if(!this._events[w])return this;if(!p)return c(this,w),this;var _=this._events[w];if(_.fn)_.fn===p&&(!b||_.once)&&(!g||_.context===g)&&c(this,w);else{for(var E=0,N=[],C=_.length;E<C;E++)(_[E].fn!==p||b&&!_[E].once||g&&_[E].context!==g)&&N.push(_[E]);N.length?this._events[w]=N.length===1?N[0]:N:c(this,w)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,t.exports=d})(Kv)),Kv.exports}var tX=eX();const rX=Di(tX);var Xf=new rX,gw="recharts.syncEvent.tooltip",WC="recharts.syncEvent.brush",tD=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!Ci(r))return t[r]}},nX={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},rD=Dn({name:"options",initialState:nX,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aX=rD.reducer,{createEventEmitter:iX}=rD.actions;function sX(t){return t.tooltip.syncInteraction}var oX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nD=Dn({name:"chartData",initialState:oX,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:XC,setDataStartEndIndexes:lX,setComputedData:hde}=nD.actions,cX=nD.reducer,uX=["x","y"];function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){dX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dX(t,e,r){return(e=fX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=hX(t,"string");return typeof e=="symbol"?e:e+""}function hX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mX(t,e){if(t==null)return{};var r,n,a=pX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function pX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gX(){var t=Re(Q2),e=Re(Z2),r=qt(),n=Re(GR),a=Re(Is),s=Vu(),c=zg(),d=Re(f=>f.rootProps.className);k.useEffect(()=>{if(t==null)return Lu;var f=(m,p,g)=>{if(e!==g&&t===m){if(n==="index"){var b;if(c&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:_,y:E}=w,N=mX(w,uX),{x:C,y:S,width:P,height:M}=p.payload.sourceViewBox,$=eu(eu({},N),{},{x:c.x+(P?(_-C)/P:0)*c.width,y:c.y+(M?(E-S)/M:0)*c.height});r(eu(eu({},p),{},{payload:eu(eu({},p.payload),{},{coordinate:$})}))}else r(p);return}if(a!=null){var V;if(typeof n=="function"){var T={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=n(a,T);V=a[I]}else n==="value"&&(V=a.find(F=>String(F.value)===p.payload.label));var{coordinate:R}=p.payload;if(V==null||p.payload.active===!1||R==null||c==null){r(hw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:L}=R,B=Math.min(U,c.x+c.width),H=Math.min(L,c.y+c.height),X={x:s==="horizontal"?V.coordinate:B,y:s==="horizontal"?H:V.coordinate},J=hw({active:p.payload.active,coordinate:X,dataKey:p.payload.dataKey,index:String(V.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(J)}}};return Xf.on(gw,f),()=>{Xf.off(gw,f)}},[d,r,e,t,n,a,s,c])}function yX(){var t=Re(Q2),e=Re(Z2),r=qt();k.useEffect(()=>{if(t==null)return Lu;var n=(a,s,c)=>{e!==c&&t===a&&r(lX(s))};return Xf.on(WC,n),()=>{Xf.off(WC,n)}},[r,e,t])}function xX(){var t=qt();k.useEffect(()=>{t(iX())},[t]),gX(),yX()}function bX(t,e,r,n,a,s){var c=Re(w=>NW(w,t,e)),d=Re(Z2),f=Re(Q2),m=Re(GR),p=Re(sX),g=p==null?void 0:p.active,b=zg();k.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=hw({active:s,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});Xf.emit(gw,f,w,d)}},[g,r,c,a,n,d,f,m,s,b])}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){vX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vX(t,e,r){return(e=wX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _X(t){return t.dataKey}function EX(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(sH,e)}var eO=[],SX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function tO(t){var e,r,n=nn(t,SX),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:w,reverseDirection:_,useTranslate3d:E,wrapperStyle:N,cursor:C,shared:S,trigger:P,defaultIndex:M,portal:$,axisId:V}=n,T=qt(),I=typeof M=="number"?String(M):M;k.useEffect(()=>{T(wY({shared:S,trigger:P,axisId:V,active:a,defaultIndex:I}))},[T,S,P,V,a,I]);var R=zg(),U=HP(),L=pY(S),{activeIndex:B,isActive:H}=(e=Re(be=>AW(be,L,P,I)))!==null&&e!==void 0?e:{},X=Re(be=>TW(be,L,P,I)),J=Re(be=>ZM(be,L,P,I)),F=Re(be=>jW(be,L,P,I)),Z=X,fe=JW(),_e=(r=a??H)!==null&&r!==void 0?r:!1,[le,z]=Z7([Z,_e]),W=L==="axis"?J:void 0;bX(L,P,F,W,B,_e);var ue=$??fe;if(ue==null||R==null||L==null)return null;var G=Z??eO;_e||(G=eO),m&&G.length&&(G=E7(G.filter(be=>be.value!=null&&(be.hide!==!0||n.includeHidden)),b,_X));var pe=G.length>0,Ee=k.createElement(hH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:_e,coordinate:F,hasPayload:pe,offset:g,position:w,reverseDirection:_,useTranslate3d:E,viewBox:R,wrapperStyle:N,lastBoundingBox:le,innerRef:z,hasPortalFromProps:!!$},EX(f,JC(JC({},n),{},{payload:G,label:W,active:_e,activeIndex:B,coordinate:F,accessibilityLayer:U})));return k.createElement(k.Fragment,null,lI.createPortal(Ee,ue),_e&&k.createElement(ZW,{cursor:C,tooltipEventType:L,coordinate:F,payload:G,index:B}))}var sy=t=>null;sy.displayName="Cell";function NX(t,e,r){return(e=jX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AX{constructor(e){NX(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){OX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OX(t,e,r){return(e=IX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IX(t){var e=PX(t,"string");return typeof e=="symbol"?e:e+""}function PX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RX={cacheSize:2e3,enableCache:!0},aD=CX({},RX),nO=new AX(aD.cacheSize),MX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aO="recharts_measurement_span";function DX(t,e){var r=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var iO=(t,e)=>{try{var r=document.getElementById(aO);r||(r=document.createElement("span"),r.setAttribute("id",aO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,MX,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yh.isSsr)return{width:0,height:0};if(!aD.enableCache)return iO(e,r);var n=DX(e,r),a=nO.get(n);if(a)return a;var s=iO(e,r);return nO.set(n,s),s},iD;function zX(t,e,r){return(e=LX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LX(t){var e=VX(t,"string");return typeof e=="symbol"?e:e+""}function VX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$X={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HX=["cm","mm","pt","pc","in","Q","px"];function qX(t){return HX.includes(t)}var cu="NaN";function FX(t,e){return t*$X[e]}class Wr{static parse(e){var r,[,n,a]=(r=BX.exec(e))!==null&&r!==void 0?r:[];return n==null?Wr.NaN:new Wr(parseFloat(n),a??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Ci(e)&&(this.unit=""),r!==""&&!UX.test(r)&&(this.num=NaN,this.unit=""),qX(r)&&(this.num=FX(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ci(this.num)}}iD=Wr;zX(Wr,"NaN",new iD(NaN,""));function sD(t){if(t==null||t.includes(cu))return cu;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,a,s]=(r=sO.exec(e))!==null&&r!==void 0?r:[],c=Wr.parse(n??""),d=Wr.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return cu;e=e.replace(sO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,b]=(m=oO.exec(e))!==null&&m!==void 0?m:[],w=Wr.parse(p??""),_=Wr.parse(b??""),E=g==="+"?w.add(_):w.subtract(_);if(E.isNaN())return cu;e=e.replace(oO,E.toString())}return e}var lO=/\(([^()]*)\)/;function GX(t){for(var e=t,r;(r=lO.exec(e))!=null;){var[,n]=r;e=e.replace(lO,sD(n))}return e}function KX(t){var e=t.replace(/\s+/g,"");return e=GX(e),e=sD(e),e}function YX(t){try{return KX(t)}catch{return cu}}function Yv(t){var e=YX(t.slice(5,-1));return e===cu?"":e}var WX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],XX=["dx","dy","angle","className","breakAll"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(null,arguments)}function cO(t,e){if(t==null)return{};var r,n,a=QX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function QX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oD=/[ \f\n\r\t\v\u2028\u2029]+/,lD=t=>{var{children:e,breakAll:r,style:n}=t;try{var a=[];tn(e)||(r?a=e.toString().split(""):a=e.toString().split(oD));var s=a.map(d=>({word:d,width:Sf(d,n).width})),c=r?0:Sf("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function ZX(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cD=(t,e,r,n)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||n||f.width+d+r<Number(e)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};a.push(m)}return a},[]),uD=t=>t.reduce((e,r)=>e.width>r.width?e:r),JX="",uO=(t,e,r,n,a,s,c,d)=>{var f=t.slice(0,e),m=lD({breakAll:r,style:n,children:f+JX});if(!m)return[!1,[]];var p=cD(m.wordsWithComputedWidth,s,c,d),g=p.length>a||uD(p).width>Number(s);return[g,p]},eQ=(t,e,r,n,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,m=Ce(s),p=String(c),g=cD(e,n,r,a);if(!m||a)return g;var b=g.length>s||uD(g).width>Number(n);if(!b)return g;for(var w=0,_=p.length-1,E=0,N;w<=_&&E<=p.length-1;){var C=Math.floor((w+_)/2),S=C-1,[P,M]=uO(p,S,f,d,s,n,r,a),[$]=uO(p,C,f,d,s,n,r,a);if(!P&&!$&&(w=C+1),P&&$&&(_=C-1),!P&&$){N=M;break}E++}return N||g},dO=t=>{var e=tn(t)?[]:t.toString().split(oD);return[{words:e,width:void 0}]},tQ=t=>{var{width:e,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:c}=t;if((e||r)&&!yh.isSsr){var d,f,m=lD({breakAll:s,children:n,style:a});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;d=p,f=g}else return dO(n);return eQ({breakAll:s,children:n,maxLines:c,style:a},d,f,e,!!r)}return dO(n)},dD="#808080",rQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:dD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},oy=k.forwardRef((t,e)=>{var r=nn(t,rQ),{x:n,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:p}=r,g=cO(r,WX),b=k.useMemo(()=>tQ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:_,angle:E,className:N,breakAll:C}=g,S=cO(g,XX);if(!Oi(n)||!Oi(a)||b.length===0)return null;var P=Number(n)+(Ce(w)?w:0),M=Number(a)+(Ce(_)?_:0);if(!st(P)||!st(M))return null;var $;switch(p){case"start":$=Yv("calc(".concat(c,")"));break;case"middle":$=Yv("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:$=Yv("calc(".concat(b.length-1," * -").concat(s,")"));break}var V=[],T=b[0];if(f&&T!=null){var I=T.width,{width:R}=g;V.push("scale(".concat(Ce(R)&&Ce(I)?R/I:1,")"))}return E&&V.push("rotate(".concat(E,", ").concat(P,", ").concat(M,")")),V.length&&(S.transform=V.join(" ")),k.createElement("text",yw({},bn(S),{ref:e,x:P,y:M,className:gt("recharts-text",N),textAnchor:m,fill:d.includes("url")?dD:d}),b.map((U,L)=>{var B=U.words.join(C?"":" ");return k.createElement("tspan",{x:P,dy:L===0?$:s,key:"".concat(B,"-").concat(L)},B)}))});oy.displayName="Text";function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){nQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nQ(t,e,r){return(e=aQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=iQ(t,"string");return typeof e=="symbol"?e:e+""}function iQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sQ=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:a}=t,{x:s,y:c,height:d,upperWidth:f,lowerWidth:m}=w2(e),p=s,g=s+(f-m)/2,b=(p+g)/2,w=(f+m)/2,_=p+f/2,E=d>=0?1:-1,N=E*n,C=E>0?"end":"start",S=E>0?"start":"end",P=f>=0?1:-1,M=P*n,$=P>0?"end":"start",V=P>0?"start":"end",T=a;if(r==="top"){var I={x:p+f/2,y:c-N,horizontalAnchor:"middle",verticalAnchor:C};return T&&(I.height=Math.max(c-T.y,0),I.width=f),I}if(r==="bottom"){var R={x:g+m/2,y:c+d+N,horizontalAnchor:"middle",verticalAnchor:S};return T&&(R.height=Math.max(T.y+T.height-(c+d),0),R.width=m),R}if(r==="left"){var U={x:b-M,y:c+d/2,horizontalAnchor:$,verticalAnchor:"middle"};return T&&(U.width=Math.max(U.x-T.x,0),U.height=d),U}if(r==="right"){var L={x:b+w+M,y:c+d/2,horizontalAnchor:V,verticalAnchor:"middle"};return T&&(L.width=Math.max(T.x+T.width-L.x,0),L.height=d),L}var B=T?{width:w,height:d}:{};return r==="insideLeft"?bi({x:b+M,y:c+d/2,horizontalAnchor:V,verticalAnchor:"middle"},B):r==="insideRight"?bi({x:b+w-M,y:c+d/2,horizontalAnchor:$,verticalAnchor:"middle"},B):r==="insideTop"?bi({x:p+f/2,y:c+N,horizontalAnchor:"middle",verticalAnchor:S},B):r==="insideBottom"?bi({x:g+m/2,y:c+d-N,horizontalAnchor:"middle",verticalAnchor:C},B):r==="insideTopLeft"?bi({x:p+M,y:c+N,horizontalAnchor:V,verticalAnchor:S},B):r==="insideTopRight"?bi({x:p+f-M,y:c+N,horizontalAnchor:$,verticalAnchor:S},B):r==="insideBottomLeft"?bi({x:g+M,y:c+d-N,horizontalAnchor:V,verticalAnchor:C},B):r==="insideBottomRight"?bi({x:g+m-M,y:c+d-N,horizontalAnchor:$,verticalAnchor:C},B):r&&typeof r=="object"&&(Ce(r.x)||Hl(r.x))&&(Ce(r.y)||Hl(r.y))?bi({x:s+ta(r.x,w),y:c+ta(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},B):bi({x:_,y:c+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},oQ=["labelRef"],lQ=["content"];function hO(t,e){if(t==null)return{};var r,n,a=cQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function cQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){uQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uQ(t,e,r){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},is.apply(null,arguments)}var fD=k.createContext(null),hQ=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:c,children:d}=t,f=k.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:c}),[e,r,n,a,s,c]);return k.createElement(fD.Provider,{value:f},d)},hD=()=>{var t=k.useContext(fD),e=zg();return t||(e?w2(e):void 0)},mQ=k.createContext(null),pQ=()=>{var t=k.useContext(mQ),e=Re(QR);return t||e},gQ=t=>{var{value:e,formatter:r}=t,n=tn(t.children)?e:t.children;return typeof r=="function"?r(n):n},Rk=t=>t!=null&&typeof t=="function",yQ=(t,e)=>{var r=hn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},xQ=(t,e,r,n,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:w}=a,_=(m+p)/2,E=yQ(g,b),N=E>=0?1:-1,C,S;switch(e){case"insideStart":C=g+N*s,S=w;break;case"insideEnd":C=b-N*s,S=!w;break;case"end":C=b+N*s,S=w;break;default:throw new Error("Unsupported position ".concat(e))}S=E<=0?S:!S;var P=yr(d,f,_,C),M=yr(d,f,_,C+(S?1:-1)*359),$="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(S?0:1,`,
    `).concat(M.x,",").concat(M.y),V=tn(t.id)?zf("recharts-radial-line-"):t.id;return k.createElement("text",is({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",c)}),k.createElement("defs",null,k.createElement("path",{id:V,d:$})),k.createElement("textPath",{xlinkHref:"#".concat(V)},r))},bQ=(t,e,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,m=(d+f)/2;if(r==="outside"){var{x:p,y:g}=yr(n,a,c+e,m);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(s+c)/2,{x:w,y:_}=yr(n,a,b,m);return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},qp=t=>t!=null&&"cx"in t&&Ce(t.cx),vQ={angle:0,offset:5,zIndex:Jr.label,position:"middle",textBreakAll:!1};function wQ(t){if(!qp(t))return t;var{cx:e,cy:r,outerRadius:n}=t,a=n*2;return{x:e-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function xo(t){var e=nn(t,vQ),{viewBox:r,parentViewBox:n,position:a,value:s,children:c,content:d,className:f="",textBreakAll:m,labelRef:p}=e,g=pQ(),b=hD(),w=a==="center"?b:g??b,_,E,N;r==null?_=w:qp(r)?_=r:_=w2(r);var C=wQ(_);if(!_||tn(s)&&tn(c)&&!k.isValidElement(d)&&typeof d!="function")return null;var S=xf(xf({},e),{},{viewBox:_});if(k.isValidElement(d)){var{labelRef:P}=S,M=hO(S,oQ);return k.cloneElement(d,M)}if(typeof d=="function"){var{content:$}=S,V=hO(S,lQ);if(E=k.createElement(d,V),k.isValidElement(E))return E}else E=gQ(e);var T=bn(e);if(qp(_)){if(a==="insideStart"||a==="insideEnd"||a==="end")return xQ(e,a,E,T,_);N=bQ(_,e.offset,e.position)}else{if(!C)return null;var I=sQ({viewBox:C,position:a,offset:e.offset,parentViewBox:qp(n)?void 0:n});N=xf(xf({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return k.createElement(Za,{zIndex:e.zIndex},k.createElement(oy,is({ref:p,className:gt("recharts-label",f)},T,N,{textAnchor:ZX(T.textAnchor)?T.textAnchor:N.textAnchor,breakAll:m}),E))}xo.displayName="Label";var kQ=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?k.createElement(xo,is({key:"label-implicit"},n)):Oi(t)?k.createElement(xo,is({key:"label-implicit",value:t},n)):k.isValidElement(t)?t.type===xo?k.cloneElement(t,xf({key:"label-implicit"},n)):k.createElement(xo,is({key:"label-implicit",content:t},n)):Rk(t)?k.createElement(xo,is({key:"label-implicit",content:t},n)):t&&typeof t=="object"?k.createElement(xo,is({},t,{key:"label-implicit"},n)):null};function _Q(t){var{label:e,labelRef:r}=t,n=hD();return kQ(e,n,r)||null}var Wv={},Xv={},pO;function EQ(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Xv)),Xv}var Qv={},gO;function SQ(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Qv)),Qv}var yO;function NQ(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EQ(),r=SQ(),n=d2();function a(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=a})(Wv)),Wv}var Zv,xO;function jQ(){return xO||(xO=1,Zv=NQ().last),Zv}var TQ=jQ();const AQ=Di(TQ);var CQ=["valueAccessor"],OQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(null,arguments)}function bO(t,e){if(t==null)return{};var r,n,a=IQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function IQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PQ=t=>Array.isArray(t.value)?AQ(t.value):t.value,mD=k.createContext(void 0),RQ=mD.Provider,pD=k.createContext(void 0),MQ=pD.Provider;function DQ(){return k.useContext(mD)}function zQ(){return k.useContext(pD)}function Fp(t){var{valueAccessor:e=PQ}=t,r=bO(t,CQ),{dataKey:n,clockWise:a,id:s,textBreakAll:c,zIndex:d}=r,f=bO(r,OQ),m=DQ(),p=zQ(),g=m||p;return!g||!g.length?null:k.createElement(Za,{zIndex:d??Jr.label},k.createElement(en,{className:"recharts-label-list"},g.map((b,w)=>{var _,E=tn(n)?e(b,w):zt(b.payload,n),N=tn(s)?{}:{id:"".concat(s,"-").concat(w)};return k.createElement(xo,q0({key:"label-".concat(w)},bn(b),f,N,{fill:(_=r.fill)!==null&&_!==void 0?_:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:c,viewBox:b.viewBox,index:w,zIndex:0}))})))}Fp.displayName="LabelList";function gD(t){var{label:e}=t;return e?e===!0?k.createElement(Fp,{key:"labelList-implicit"}):k.isValidElement(e)||Rk(e)?k.createElement(Fp,{key:"labelList-implicit",content:e}):typeof e=="object"?k.createElement(Fp,q0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xw.apply(null,arguments)}var yD=t=>{var{cx:e,cy:r,r:n,className:a}=t,s=gt("recharts-dot",a);return Ce(e)&&Ce(r)&&Ce(n)?k.createElement("circle",xw({},aa(t),u2(t),{className:s,cx:e,cy:r,r:n})):null},xD=t=>t.graphicalItems.polarItems,LQ=ae([Xt,_h],ik),ly=ae([xD,rr,LQ],sk),VQ=ae([ly],ok),cy=ae([VQ,Wg],lk),UQ=ae([cy,rr,ly],uk);ae([cy,rr,ly],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(a=>{var s,c=zt(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:zt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var vO=()=>{},BQ=ae([cy,rr,ly,ry,Xt],mk),$Q=ae([rr,fk,hk,vO,BQ,vO,Tt,Xt],pk),bD=ae([rr,Tt,cy,UQ,kh,Xt,$Q],gk),HQ=ae([bD,qu,Fo],bk),qQ=ae([rr,bD,HQ,Xt],wk);ae([Fo,qQ],JR);var FQ={radiusAxis:{},angleAxis:{}},vD=Dn({name:"polarAxis",initialState:FQ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:mde,removeRadiusAxis:pde,addAngleAxis:gde,removeAngleAxis:yde}=vD.actions,GQ=vD.reducer;function wD(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){KQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KQ(t,e,r){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XQ=(t,e)=>e,Mk=ae([xD,XQ],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),QQ=[],Dk=(t,e,r)=>(r==null?void 0:r.length)===0?QQ:r,kD=ae([Wg,Mk,Dk],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>kO(kO({},e.presentationProps),s.props))),a!=null)return a}}),ZQ=ae([kD,Mk,Dk],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,a)=>{var s,c=zt(n,e.nameKey,e.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=e.fill,{value:Ig(c,e.dataKey),color:d,payload:n,type:e.legendType}})}),JQ=ae([kD,Mk,Dk,Lr],(t,e,r,n)=>{if(!(e==null||t==null))return sJ({offset:n,pieSettings:e,displayedData:t,cells:r})}),Jv={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function eZ(){if(_O)return St;_O=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(E){if(typeof E=="object"&&E!==null){var N=E.$$typeof;switch(N){case t:switch(E=E.type,E){case r:case a:case n:case f:case m:case b:return E;default:switch(E=E&&E.$$typeof,E){case c:case d:case g:case p:return E;case s:return E;default:return N}}case e:return N}}}return St.ContextConsumer=s,St.ContextProvider=c,St.Element=t,St.ForwardRef=d,St.Fragment=r,St.Lazy=g,St.Memo=p,St.Portal=e,St.Profiler=a,St.StrictMode=n,St.Suspense=f,St.SuspenseList=m,St.isContextConsumer=function(E){return _(E)===s},St.isContextProvider=function(E){return _(E)===c},St.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},St.isForwardRef=function(E){return _(E)===d},St.isFragment=function(E){return _(E)===r},St.isLazy=function(E){return _(E)===g},St.isMemo=function(E){return _(E)===p},St.isPortal=function(E){return _(E)===e},St.isProfiler=function(E){return _(E)===a},St.isStrictMode=function(E){return _(E)===n},St.isSuspense=function(E){return _(E)===f},St.isSuspenseList=function(E){return _(E)===m},St.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===a||E===n||E===f||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===d||E.$$typeof===w||E.getModuleId!==void 0)},St.typeOf=_,St}var EO;function tZ(){return EO||(EO=1,Jv.exports=eZ()),Jv.exports}var rZ=tZ(),SO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",NO=null,e1=null,_D=t=>{if(t===NO&&Array.isArray(e1))return e1;var e=[];return k.Children.forEach(t,r=>{tn(r)||(rZ.isFragment(r)?e=e.concat(_D(r.props.children)):e.push(r))}),e1=e,NO=t,e};function ED(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(a=>SO(a)):n=[SO(e)],_D(t).forEach(a=>{var s=$l(a,"type.displayName")||$l(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var SD=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,t1={},jO;function nZ(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(t1)),t1}var r1,TO;function aZ(){return TO||(TO=1,r1=nZ().isPlainObject),r1}var iZ=aZ();const sZ=Di(iZ);var AO,CO,OO,IO,PO;function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){oZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oZ(t,e,r){return(e=lZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(null,arguments)}function mf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var DO=(t,e,r,n,a)=>{var s=r-n,c;return c=er(AO||(AO=mf(["M ",",",""])),t,e),c+=er(CO||(CO=mf(["L ",",",""])),t+r,e),c+=er(OO||(OO=mf(["L ",",",""])),t+r-s/2,e+a),c+=er(IO||(IO=mf(["L ",",",""])),t+r-s/2-n,e+a),c+=er(PO||(PO=mf(["L ",","," Z"])),t,e),c},uZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dZ=t=>{var e=nn(t,uZ),{x:r,y:n,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,b=k.useRef(null),[w,_]=k.useState(-1),E=k.useRef(a),N=k.useRef(s),C=k.useRef(c),S=k.useRef(r),P=k.useRef(n),M=$g(t,"trapezoid-");if(k.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var X=b.current.getTotalLength();X&&_(X)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var $=gt("recharts-trapezoid",d);if(!g)return k.createElement("g",null,k.createElement("path",F0({},bn(e),{className:$,d:DO(r,n,a,s,c)})));var V=E.current,T=N.current,I=C.current,R=S.current,U=P.current,L="0px ".concat(w===-1?1:w,"px"),B="".concat(w,"px 0px"),H=qP(["strokeDasharray"],m,f);return k.createElement(Bg,{animationId:M,key:M,canBegin:w>0,duration:m,easing:f,isActive:g,begin:p},X=>{var J=Qr(V,a,X),F=Qr(T,s,X),Z=Qr(I,c,X),fe=Qr(R,r,X),_e=Qr(U,n,X);b.current&&(E.current=J,N.current=F,C.current=Z,S.current=fe,P.current=_e);var le=X>0?{transition:H,strokeDasharray:B}:{strokeDasharray:L};return k.createElement("path",F0({},bn(e),{className:$,d:DO(fe,_e,J,F,Z),ref:b,style:MO(MO({},le),e.style)}))})},fZ=["option","shapeType","activeClassName"];function hZ(t,e){if(t==null)return{};var r,n,a=mZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function mZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){pZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pZ(t,e,r){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xZ(t,e){return G0(G0({},e),t)}function bZ(t,e){return t==="symbols"}function LO(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return k.createElement(YP,r);case"trapezoid":return k.createElement(dZ,r);case"sector":return k.createElement(ZP,r);case"symbols":if(bZ(e))return k.createElement(AI,r);break;case"curve":return k.createElement(mu,r);default:return null}}function vZ(t){return k.isValidElement(t)?t.props:t}function wZ(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,a=hZ(t,fZ),s;if(k.isValidElement(e))s=k.cloneElement(e,G0(G0({},a),vZ(e)));else if(typeof e=="function")s=e(a,a.index);else if(sZ(e)&&typeof e!="boolean"){var c=xZ(e,a);s=k.createElement(LO,{shapeType:r,elementProps:c})}else{var d=a;s=k.createElement(LO,{shapeType:r,elementProps:d})}return a.isActive?k.createElement(en,{className:n},s):s}var kZ=(t,e,r)=>{var n=qt();return(a,s)=>c=>{t==null||t(a,s,c),n(OM({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},_Z=t=>{var e=qt();return(r,n)=>a=>{t==null||t(r,n,a),e(kY())}},EZ=(t,e,r)=>{var n=qt();return(a,s)=>c=>{t==null||t(a,s,c),n(_Y({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function ND(t){var{tooltipEntrySettings:e}=t,r=qt(),n=zn(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(xY(e)):a.current!==e&&r(bY({prev:a.current,next:e})),a.current=e)},[e,r,n]),k.useLayoutEffect(()=>()=>{a.current&&(r(vY(a.current)),a.current=null)},[r]),null}function SZ(t){var{legendPayload:e}=t,r=qt(),n=zn(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(UP(e)):a.current!==e&&r(BP({prev:a.current,next:e})),a.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{a.current&&(r($P(a.current)),a.current=null)},[r]),null}function NZ(t){var{legendPayload:e}=t,r=qt(),n=Re(Tt),a=k.useRef(null);return k.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(UP(e)):a.current!==e&&r(BP({prev:a.current,next:e})),a.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{a.current&&(r($P(a.current)),a.current=null)},[r]),null}var n1,jZ=()=>{var[t]=k.useState(()=>zf("uid-"));return t},TZ=(n1=yL.useId)!==null&&n1!==void 0?n1:jZ;function AZ(t,e){var r=TZ();return e||(t?"".concat(t,"-").concat(r):r)}var CZ=k.createContext(void 0),jD=t=>{var{id:e,type:r,children:n}=t,a=AZ("recharts-".concat(r),e);return k.createElement(CZ.Provider,{value:a},n(a))},OZ={cartesianItems:[],polarItems:[]},TD=Dn({name:"graphicalItems",initialState:OZ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Bt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ka(t).cartesianItems.indexOf(r);a>-1&&(t.cartesianItems[a]=n)},prepare:Bt()},removeCartesianGraphicalItem:{reducer(t,e){var r=Ka(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Bt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Bt()},removePolarGraphicalItem:{reducer(t,e){var r=Ka(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Bt()}}}),{addCartesianGraphicalItem:IZ,replaceCartesianGraphicalItem:PZ,removeCartesianGraphicalItem:RZ,addPolarGraphicalItem:MZ,removePolarGraphicalItem:DZ}=TD.actions,zZ=TD.reducer,LZ=t=>{var e=qt(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?e(IZ(t)):r.current!==t&&e(PZ({prev:r.current,next:t})),r.current=t},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(e(RZ(r.current)),r.current=null)},[e]),null},VZ=k.memo(LZ);function UZ(t){var e=qt();return k.useLayoutEffect(()=>(e(MZ(t)),()=>{e(DZ(t))}),[e,t]),null}var BZ=["key"],$Z=["onMouseEnter","onClick","onMouseLeave"],HZ=["id"],qZ=["id"];function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){FZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FZ(t,e,r){return(e=GZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZ(t){var e=KZ(t,"string");return typeof e=="symbol"?e:e+""}function KZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Do.apply(null,arguments)}function uy(t,e){if(t==null)return{};var r,n,a=YZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function YZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function WZ(t){var e=k.useMemo(()=>ED(t.children,sy),[t.children]),r=Re(n=>ZQ(n,t.id,e));return r==null?null:k.createElement(NZ,{legendPayload:r})}var XZ=k.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n.map(b=>b.tooltipPayload),getPosition:b=>{var w;return(w=n[Number(b)])===null||w===void 0?void 0:w.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:r,name:Ig(d,e),hide:f,type:m,color:c,unit:"",graphicalItemId:p}};return k.createElement(ND,{tooltipEntrySettings:g})}),QZ=(t,e)=>t>e?"start":t<e?"end":"middle",ZZ=(t,e,r)=>ta(typeof e=="function"?e(t):e,r,r*.8),JZ=(t,e,r)=>{var{top:n,left:a,width:s,height:c}=e,d=WP(s,c),f=a+ta(t.cx,s,s/2),m=n+ta(t.cy,c,c/2),p=ta(t.innerRadius,d,0),g=ZZ(r,t.outerRadius,d),b=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},eJ=(t,e)=>{var r=hn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},tJ=(t,e)=>{if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return t(e);var r=gt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,a=uy(e,BZ);return k.createElement(mu,Do({},a,{type:"linear",className:r}))},rJ=(t,e,r)=>{if(k.isValidElement(t))return k.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),k.isValidElement(n)))return n;var a=gt("recharts-pie-label-text",wD(t));return k.createElement(oy,Do({},e,{alignmentBaseline:"middle",className:a}),n)};function nJ(t){var{sectors:e,props:r,showLabels:n}=t,{label:a,labelLine:s,dataKey:c}=r;if(!n||!a||!e)return null;var d=aa(r),f=_u(a),m=_u(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((b,w)=>{var _=(b.startAngle+b.endAngle)/2,E=yr(b.cx,b.cy,b.outerRadius+p,_),N=tr(tr(tr(tr({},d),b),{},{stroke:"none"},f),{},{index:w,textAnchor:QZ(E.x,b.cx)},E),C=tr(tr(tr(tr({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:w,points:[yr(b.cx,b.cy,b.outerRadius,_),E],key:"line"});return k.createElement(Za,{zIndex:Jr.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},k.createElement(en,null,s&&tJ(s,C),rJ(a,N,zt(b,c))))});return k.createElement(en,{className:"recharts-pie-labels"},g)}function aJ(t){var{sectors:e,props:r,showLabels:n}=t,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(gD,{label:a}):k.createElement(nJ,{sectors:e,props:r,showLabels:n})}function iJ(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:c}=t,d=Re(Au),f=Re(GM),m=Re(lW),{onMouseEnter:p,onClick:g,onMouseLeave:b}=a,w=uy(a,$Z),_=kZ(p,a.dataKey,c),E=_Z(b),N=EZ(g,a.dataKey,c);return e==null||e.length===0?null:k.createElement(k.Fragment,null,e.map((C,S)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&e.length!==1)return null;var P=m==null||m===c,M=String(S)===d&&(f==null||a.dataKey===f)&&P,$=d?n:null,V=r&&M?r:$,T=tr(tr({},C),{},{stroke:C.stroke,tabIndex:-1,[_P]:S,[EP]:c});return k.createElement(en,Do({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},OI(w,C,S),{onMouseEnter:_(C,S),onMouseLeave:E(C,S),onClick:N(C,S)}),k.createElement(wZ,Do({option:s??V,index:S,shapeType:"sector",isActive:M},T)))}))}function sJ(t){var e,{pieSettings:r,displayedData:n,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:p,tooltipType:g}=r,b=Math.abs(r.minAngle),w=eJ(d,f),_=Math.abs(w),E=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,N=n.filter(V=>zt(V,m,0)!==0).length,C=(_>=360?N:N-1)*E,S=_-N*b-C,P=n.reduce((V,T)=>{var I=zt(T,m,0);return V+(Ce(I)?I:0)},0),M;if(P>0){var $;M=n.map((V,T)=>{var I=zt(V,m,0),R=zt(V,p,T),U=JZ(r,s,V),L=(Ce(I)?I:0)/P,B,H=tr(tr({},V),a&&a[T]&&a[T].props);T?B=$.endAngle+hn(w)*E*(I!==0?1:0):B=d;var X=B+hn(w)*((I!==0?b:0)+L*S),J=(B+X)/2,F=(U.innerRadius+U.outerRadius)/2,Z=[{name:R,value:I,payload:H,dataKey:m,type:g,graphicalItemId:r.id}],fe=yr(U.cx,U.cy,F,J);return $=tr(tr(tr(tr({},r.presentationProps),{},{percent:L,cornerRadius:typeof c=="string"?parseFloat(c):c,name:R,tooltipPayload:Z,midAngle:J,middleRadius:F,tooltipPosition:fe},H),U),{},{value:I,dataKey:m,startAngle:B,endAngle:X,payload:H,paddingAngle:hn(w)*E}),$})}return M}function oJ(t){var{showLabels:e,sectors:r,children:n}=t,a=k.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return k.createElement(MQ,{value:e?a:void 0},n)}function lJ(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,w=$g(e,"recharts-pie-"),_=r.current,[E,N]=k.useState(!1),C=k.useCallback(()=>{typeof b=="function"&&b(),N(!1)},[b]),S=k.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return k.createElement(oJ,{showLabels:!E,sectors:a},k.createElement(Bg,{animationId:w,begin:c,duration:d,isActive:s,easing:f,onAnimationStart:S,onAnimationEnd:C,key:w},P=>{var M,$=[],V=a&&a[0],T=(M=V==null?void 0:V.startAngle)!==null&&M!==void 0?M:0;return a==null||a.forEach((I,R)=>{var U=_&&_[R],L=R>0?$l(I,"paddingAngle",0):0;if(U){var B=Qr(U.endAngle-U.startAngle,I.endAngle-I.startAngle,P),H=tr(tr({},I),{},{startAngle:T+L,endAngle:T+B+L});$.push(H),T=H.endAngle}else{var{endAngle:X,startAngle:J}=I,F=Qr(0,X-J,P),Z=tr(tr({},I),{},{startAngle:T+L,endAngle:T+F+L});$.push(Z),T=Z.endAngle}}),r.current=$,k.createElement(en,null,k.createElement(iJ,{sectors:$,activeShape:m,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:n}))}),k.createElement(aJ,{showLabels:!E,sectors:a,props:e}),e.children)}var cJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Jr.area};function uJ(t){var{id:e}=t,r=uy(t,HZ),{hide:n,className:a,rootTabIndex:s}=t,c=k.useMemo(()=>ED(t.children,sy),[t.children]),d=Re(p=>JQ(p,e,c)),f=k.useRef(null),m=gt("recharts-pie",a);return n||d==null?(f.current=null,k.createElement(en,{tabIndex:s,className:m})):k.createElement(Za,{zIndex:t.zIndex},k.createElement(XZ,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),k.createElement(en,{tabIndex:s,className:m},k.createElement(lJ,{props:tr(tr({},r),{},{sectors:d}),previousSectorsRef:f,id:e})))}function AD(t){var e=nn(t,cJ),{id:r}=e,n=uy(e,qZ),a=aa(n);return k.createElement(jD,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(UZ,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),k.createElement(WZ,Do({},n,{id:s})),k.createElement(uJ,Do({},n,{id:s}))))}AD.displayName="Pie";var dJ=["points"];function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){fJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fJ(t,e,r){return(e=hJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hJ(t){var e=mJ(t,"string");return typeof e=="symbol"?e:e+""}function mJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(null,arguments)}function pJ(t,e){if(t==null)return{};var r,n,a=gJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function gJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yJ(t){var{option:e,dotProps:r,className:n}=t;if(k.isValidElement(e))return k.cloneElement(e,r);if(typeof e=="function")return e(r);var a=gt(n,typeof e!="boolean"?e.className:""),s=r??{},{points:c}=s,d=pJ(s,dJ);return k.createElement(yD,K0({},d,{className:a}))}function xJ(t,e){return t==null?!1:e?!0:t.length===1}function bJ(t){var{points:e,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:c,needClip:d,clipPathId:f,zIndex:m=Jr.scatter}=t;if(!xJ(e,r))return null;var p=SD(r),g=XV(r),b=e.map((_,E)=>{var N,C,S=a1(a1(a1({r:3},c),g),{},{index:E,cx:(N=_.x)!==null&&N!==void 0?N:void 0,cy:(C=_.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:_.value,payload:_.payload,points:e});return k.createElement(yJ,{key:"dot-".concat(E),option:r,dotProps:S,className:a})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),k.createElement(Za,{zIndex:m},k.createElement(en,K0({className:n},w),b))}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){vJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vJ(t,e,r){return(e=wJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=kJ(t,"string");return typeof e=="symbol"?e:e+""}function kJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CD=0,_J={xAxis:{},yAxis:{},zAxis:{}},OD=Dn({name:"cartesianAxis",initialState:_J,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Bt()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Bt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Bt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Bt()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Bt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Bt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Bt()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Bt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Bt()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,a=t.yAxis[r];if(a){var s,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==a.width&&Math.abs(n-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...c,n].slice(-3);t.yAxis[r]=$O($O({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:EJ,replaceXAxis:SJ,removeXAxis:NJ,addYAxis:jJ,replaceYAxis:TJ,removeYAxis:AJ,addZAxis:xde,replaceZAxis:bde,removeZAxis:vde,updateYAxisWidth:CJ}=OD.actions,OJ=OD.reducer,IJ=ae([Lr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),PJ=ae([IJ,Ns,js],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),zk=()=>Re(PJ),RJ=()=>Re(hW);function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){MJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e,r){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=zJ(t,"string");return typeof e=="symbol"?e:e+""}function zJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:c}=t;if(a===!1||e.x==null||e.y==null)return null;var d={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=i1(i1(i1({},d),_u(a)),u2(a)),m;return k.isValidElement(a)?m=k.cloneElement(a,f):typeof a=="function"?m=a(f):m=k.createElement(yD,f),k.createElement(en,{className:"recharts-active-dot",clipPath:c},m)};function qO(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:c=Jr.activeDot}=t,d=Re(Au),f=RJ();if(e==null||f==null)return null;var m=e.find(p=>f.includes(p.payload));return tn(m)?null:k.createElement(Za,{zIndex:c},k.createElement(LJ,{point:m,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var ID=t=>{var{chartData:e}=t,r=qt(),n=zn();return k.useEffect(()=>n?()=>{}:(r(XC(e)),()=>{r(XC(void 0))}),[e,r,n]),null},FO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PD=Dn({name:"brush",initialState:FO,reducers:{setBrushSettings(t,e){return e.payload==null?FO:e.payload}}}),{setBrushSettings:wde}=PD.actions,VJ=PD.reducer;function UJ(t){return(t%180+180)%180}var BJ=function(e){var{width:r,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=UJ(a),c=s*Math.PI/180,d=Math.atan(n/r),f=c>d&&c<Math.PI-d?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},$J={dots:[],areas:[],lines:[]},RD=Dn({name:"referenceElements",initialState:$J,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Ka(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Ka(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Ka(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:kde,removeDot:_de,addArea:Ede,removeArea:Sde,addLine:Nde,removeLine:jde}=RD.actions,HJ=RD.reducer,qJ=k.createContext(void 0),FJ=t=>{var{children:e}=t,[r]=k.useState("".concat(zf("recharts"),"-clip")),n=zk();if(n==null)return null;var{x:a,y:s,width:c,height:d}=n;return k.createElement(qJ.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function MD(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var a=t[n];a!==void 0&&r.push(a)}return r}function GJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return BJ(n,r)}function KJ(t,e,r){var n=r==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:n?a:s,end:n?a+c:s+d}:{start:n?a+c:s+d,end:n?a:s}}function Qf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function YJ(t,e){return MD(t,e+1)}function WJ(t,e,r,n,a){for(var s=(n||[]).slice(),{start:c,end:d}=e,f=0,m=1,p=c,g=function(){var _=n==null?void 0:n[f];if(_===void 0)return{v:MD(n,m)};var E=f,N,C=()=>(N===void 0&&(N=r(_,E)),N),S=_.coordinate,P=f===0||Qf(t,S,C,p,d);P||(f=0,p=c,m+=1),P&&(p=S+t*(C()/2+a),f+=m)},b;m<=s.length;)if(b=g(),b)return b.v;return[]}function XJ(t,e,r,n,a){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:d,end:f}=e,m=1;m<=c;m++){for(var p=(c-1)%m,g=d,b=!0,w=function(){var M=n[E];if(M==null)return 0;var $=E,V,T=()=>(V===void 0&&(V=r(M,$)),V),I=M.coordinate,R=E===p||Qf(t,I,T,g,f);if(!R)return b=!1,1;R&&(g=I+t*(T()/2+a))},_,E=p;E<c&&(_=w(),!(_!==0&&_===1));E+=m);if(b){for(var N=[],C=p;C<c;C+=m){var S=n[C];S!=null&&N.push(S)}return N}}return[]}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){QJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QJ(t,e,r){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eee(t,e,r,n,a){for(var s=(n||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,m=function(b){var w=s[b];if(w==null)return 1;var _=w,E,N=()=>(E===void 0&&(E=r(w,b)),E);if(b===c-1){var C=t*(_.coordinate+t*N()/2-f);s[b]=_=cn(cn({},_),{},{tickCoord:C>0?_.coordinate-C*t:_.coordinate})}else s[b]=_=cn(cn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var S=Qf(t,_.tickCoord,N,d,f);S&&(f=_.tickCoord-t*(N()/2+a),s[b]=cn(cn({},_),{},{isShow:!0}))}},p=c-1;p>=0;p--)m(p);return s}function tee(t,e,r,n,a,s){var c=(n||[]).slice(),d=c.length,{start:f,end:m}=e;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),b=t*(p.coordinate+t*g/2-m);if(c[d-1]=p=cn(cn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=Qf(t,p.tickCoord,()=>g,f,m);w&&(m=p.tickCoord-t*(g/2+a),c[d-1]=cn(cn({},p),{},{isShow:!0}))}}}for(var _=s?d-1:d,E=function(S){var P=c[S];if(P==null)return 1;var M=P,$,V=()=>($===void 0&&($=r(P,S)),$);if(S===0){var T=t*(M.coordinate-t*V()/2-f);c[S]=M=cn(cn({},M),{},{tickCoord:T<0?M.coordinate-T*t:M.coordinate})}else c[S]=M=cn(cn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var I=Qf(t,M.tickCoord,V,f,m);I&&(f=M.tickCoord+t*(V()/2+a),c[S]=cn(cn({},M),{},{isShow:!0}))}},N=0;N<_;N++)E(N);return c}function Lk(t,e,r){var{tick:n,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:p,angle:g}=t;if(!a||!a.length||!n)return[];if(Ce(f)||yh.isSsr){var b;return(b=YJ(a,Ce(f)?f:0))!==null&&b!==void 0?b:[]}var w=[],_=d==="top"||d==="bottom"?"width":"height",E=p&&_==="width"?Sf(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},N=($,V)=>{var T=typeof m=="function"?m($.value,V):$.value;return _==="width"?GJ(Sf(T,{fontSize:e,letterSpacing:r}),E,g):Sf(T,{fontSize:e,letterSpacing:r})[_]},C=a[0],S=a[1],P=a.length>=2&&C!=null&&S!=null?hn(S.coordinate-C.coordinate):1,M=KJ(s,P,_);return f==="equidistantPreserveStart"?WJ(P,M,N,a,c):f==="equidistantPreserveEnd"?XJ(P,M,N,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=tee(P,M,N,a,c,f==="preserveStartEnd"):w=eee(P,M,N,a,c),w.filter($=>$.isShow))}var ree=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,m=c+f+d+(r?n:0);return Math.round(m)}return 0},nee=["axisLine","width","height","className","hide","ticks","axisType"];function aee(t,e){if(t==null)return{};var r,n,a=iee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function iee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(null,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){see(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function see(t,e,r){return(e=oee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oee(t){var e=lee(t,"string");return typeof e=="symbol"?e:e+""}function lee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ds={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jr.axis};function cee(t){var{x:e,y:r,width:n,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var m=Jt(Jt(Jt({},f),aa(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);m=Jt(Jt({},m),{},{x1:e,y1:r+p*a,x2:e+n,y2:r+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);m=Jt(Jt({},m),{},{x1:e+g*n,y1:r,x2:e+g*n,y2:r+a})}return k.createElement("line",Yl({},m,{className:gt("recharts-cartesian-axis-line",$l(d,"className"))}))}function uee(t,e,r,n,a,s,c,d,f){var m,p,g,b,w,_,E=d?-1:1,N=t.tickSize||c,C=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,b=r+ +!d*a,g=b-E*N,_=g-E*f,w=C;break;case"left":g=b=t.coordinate,p=e+ +!d*n,m=p-E*N,w=m-E*f,_=C;break;case"right":g=b=t.coordinate,p=e+ +d*n,m=p+E*N,w=m+E*f,_=C;break;default:m=p=t.coordinate,b=r+ +d*a,g=b+E*N,_=g+E*f,w=C;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:w,y:_}}}function dee(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function fee(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function hee(t){var{option:e,tickProps:r,value:n}=t,a,s=gt(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))a=k.cloneElement(e,Jt(Jt({},r),{},{className:s}));else if(typeof e=="function")a=e(Jt(Jt({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=gt(c,wD(e))),a=k.createElement(oy,Yl({},r,{className:c}),n)}return a}var mee=k.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:p,mirror:g,x:b,y:w,width:_,height:E,tickSize:N,tickMargin:C,fontSize:S,letterSpacing:P,getTicksConfig:M,events:$,axisType:V}=t,T=Lk(Jt(Jt({},M),{},{ticks:r}),S,P),I=dee(p,g),R=fee(p,g),U=aa(M),L=_u(n),B={};typeof a=="object"&&(B=a);var H=Jt(Jt({},U),{},{fill:"none"},B),X=T.map(Z=>Jt({entry:Z},uee(Z,b,w,_,E,p,N,g,C))),J=X.map(Z=>{var{entry:fe,line:_e}=Z;return k.createElement(en,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},a&&k.createElement("line",Yl({},H,_e,{className:gt("recharts-cartesian-axis-tick-line",$l(a,"className"))})))}),F=X.map((Z,fe)=>{var _e,le,{entry:z,tick:W}=Z,ue=Jt(Jt(Jt(Jt({verticalAnchor:R},U),{},{textAnchor:I,stroke:"none",fill:s},W),{},{index:fe,payload:z,visibleTicksCount:T.length,tickFormatter:c,padding:f},m),{},{angle:(_e=(le=m==null?void 0:m.angle)!==null&&le!==void 0?le:U.angle)!==null&&_e!==void 0?_e:0}),G=Jt(Jt({},ue),L);return k.createElement(en,Yl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},OI($,z,fe)),n&&k.createElement(hee,{option:n,tickProps:G,value:"".concat(typeof c=="function"?c(z.value,fe):z.value).concat(d||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},F.length>0&&k.createElement(Za,{zIndex:Jr.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},F)),J.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},J))}),pee=k.forwardRef((t,e)=>{var{axisLine:r,width:n,height:a,className:s,hide:c,ticks:d,axisType:f}=t,m=aee(t,nee),[p,g]=k.useState(""),[b,w]=k.useState(""),_=k.useRef(null);k.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return ree({ticks:_.current,label:(N=t.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=k.useCallback(N=>{if(N){var C=N.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=C;var S=C[0];if(S){var P=window.getComputedStyle(S),M=P.fontSize,$=P.letterSpacing;(M!==p||$!==b)&&(g(M),w($))}}},[p,b]);return c||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(Za,{zIndex:t.zIndex},k.createElement(en,{className:gt("recharts-cartesian-axis",s)},k.createElement(cee,{x:t.x,y:t.y,width:n,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:aa(t)}),k.createElement(mee,{ref:E,axisType:f,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),k.createElement(hQ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},k.createElement(_Q,{label:t.label,labelRef:t.labelRef}),t.children)))}),Vk=k.forwardRef((t,e)=>{var r=nn(t,ds);return k.createElement(pee,Yl({},r,{ref:e}))});Vk.displayName="CartesianAxis";var gee=["x1","y1","x2","y2","key"],yee=["offset"],xee=["xAxisId","yAxisId"],bee=["xAxisId","yAxisId"];function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){vee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vee(t,e,r){return(e=wee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wee(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cl.apply(null,arguments)}function Y0(t,e){if(t==null)return{};var r,n,a=_ee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function _ee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Eee=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:c,ry:d}=t;return k.createElement("rect",{x:n,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DD(t){var{option:e,lineItemProps:r}=t,n;if(k.isValidElement(e))n=k.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a,{x1:s,y1:c,x2:d,y2:f,key:m}=r,p=Y0(r,gee),g=(a=aa(p))!==null&&a!==void 0?a:{},{offset:b}=g,w=Y0(g,yee);n=k.createElement("line",Cl({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:m}))}return n}function See(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Y0(t,xee),f=a.map((m,p)=>{var g=dn(dn({},d),{},{x1:e,y1:m,x2:e+r,y2:m,key:"line-".concat(p),index:p});return k.createElement(DD,{key:"line-".concat(p),option:n,lineItemProps:g})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Nee(t){var{y:e,height:r,vertical:n=!0,verticalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Y0(t,bee),f=a.map((m,p)=>{var g=dn(dn({},d),{},{x1:m,y1:e,x2:m,y2:e+r,key:"line-".concat(p),index:p});return k.createElement(DD,{option:n,lineItemProps:g,key:"line-".concat(p)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function jee(t){var{horizontalFill:e,fillOpacity:r,x:n,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var m=d.map(g=>Math.round(g+a-a)).sort((g,b)=>g-b);a!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=m[b+1],_=w==null,E=_?a+c-g:w-g;if(E<=0)return null;var N=b%e.length;return k.createElement("rect",{key:"react-".concat(b),y:g,x:n,height:E,width:s,stroke:"none",fill:e[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Tee(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!r||!r.length)return null;var m=f.map(g=>Math.round(g+a-a)).sort((g,b)=>g-b);a!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=m[b+1],_=w==null,E=_?a+c-g:w-g;if(E<=0)return null;var N=b%r.length;return k.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:d,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Aee=(t,e)=>{var{xAxis:r,width:n,height:a,offset:s}=t;return vP(Lk(dn(dn(dn({},ds),r),{},{ticks:wP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},Cee=(t,e)=>{var{yAxis:r,width:n,height:a,offset:s}=t;return vP(Lk(dn(dn(dn({},ds),r),{},{ticks:wP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},Oee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jr.grid};function zD(t){var e=CP(),r=OP(),n=AP(),a=dn(dn({},nn(t,Oee)),{},{x:Ce(t.x)?t.x:n.left,y:Ce(t.y)?t.y:n.top,width:Ce(t.width)?t.width:n.width,height:Ce(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:w}=a,_=zn(),E=Re(R=>LC(R,"xAxis",s,_)),N=Re(R=>LC(R,"yAxis",c,_));if(!Ii(m)||!Ii(p)||!Ce(d)||!Ce(f))return null;var C=a.verticalCoordinatesGenerator||Aee,S=a.horizontalCoordinatesGenerator||Cee,{horizontalPoints:P,verticalPoints:M}=a;if((!P||!P.length)&&typeof S=="function"){var $=b&&b.length,V=S({yAxis:N?dn(dn({},N),{},{ticks:$?b:N.ticks}):void 0,width:e??m,height:r??p,offset:n},$?!0:g);v0(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(P=V)}if((!M||!M.length)&&typeof C=="function"){var T=w&&w.length,I=C({xAxis:E?dn(dn({},E),{},{ticks:T?w:E.ticks}):void 0,width:e??m,height:r??p,offset:n},T?!0:g);v0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return k.createElement(Za,{zIndex:a.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Eee,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(jee,Cl({},a,{horizontalPoints:P})),k.createElement(Tee,Cl({},a,{verticalPoints:M})),k.createElement(See,Cl({},a,{offset:n,horizontalPoints:P,xAxis:E,yAxis:N})),k.createElement(Nee,Cl({},a,{offset:n,verticalPoints:M,xAxis:E,yAxis:N}))))}zD.displayName="CartesianGrid";var Iee={},LD=Dn({name:"errorBars",initialState:Iee,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:a}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Tde,replaceErrorBar:Ade,removeErrorBar:Cde}=LD.actions,Pee=LD.reducer;function VD(t,e){var r,n,a=Re(m=>Cs(m,t)),s=Re(m=>Os(m,e)),c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Or.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ir.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function Ree(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,a=zk(),{needClipX:s,needClipY:c,needClip:d}=VD(e,r);if(!d||!a)return null;var{x:f,y:m,width:p,height:g}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?f:f-p/2,y:c?m:m-g/2,width:s?p:p*2,height:c?g:g*2}))}function Mee(t){var e=_u(t),r=3,n=2;if(e!=null){var{r:a,strokeWidth:s}=e,c=Number(a),d=Number(s);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=n),{r:c,strokeWidth:d}}return{r,strokeWidth:n}}var s1={exports:{}},o1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function Dee(){if(WO)return o1;WO=1;var t=zu();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return o1.useSyncExternalStoreWithSelector=function(f,m,p,g,b){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function N($){if(!C){if(C=!0,S=$,$=g($),b!==void 0&&_.hasValue){var V=_.value;if(b(V,$))return P=V}return P=$}if(V=P,r(S,$))return V;var T=g($);return b!==void 0&&b(V,T)?(S=$,V):(S=$,P=T)}var C=!1,S,P,M=p===void 0?null:p;return[function(){return N(m())},M===null?void 0:function(){return N(M())}]},[m,p,g,b]);var E=n(f,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=E},[E]),d(E),E},o1}var XO;function zee(){return XO||(XO=1,s1.exports=Dee()),s1.exports}zee();function Lee(t){t()}function Vee(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lee(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var QO={notify(){},get:()=>[]};function Uee(t,e){let r,n=QO,a=0,s=!1;function c(E){p();const N=n.subscribe(E);let C=!1;return()=>{C||(C=!0,N(),g())}}function d(){n.notify()}function f(){_.onStateChange&&_.onStateChange()}function m(){return s}function p(){a++,r||(r=t.subscribe(f),n=Vee())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=QO)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const _={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>n};return _}var Bee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ee=Bee(),Hee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qee=Hee(),Fee=()=>$ee||qee?k.useLayoutEffect:k.useEffect,Gee=Fee();function ZO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kee(t,e){if(ZO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!ZO(t[r[a]],e[r[a]]))return!1;return!0}var l1=Symbol.for("react-redux-context"),c1=typeof globalThis<"u"?globalThis:{};function Yee(){if(!k.createContext)return{};const t=c1[l1]??(c1[l1]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var Wee=Yee();function Xee(t){const{children:e,context:r,serverState:n,store:a}=t,s=k.useMemo(()=>{const f=Uee(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=k.useMemo(()=>a.getState(),[a]);Gee(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=r||Wee;return k.createElement(d.Provider,{value:s},e)}var Qee=Xee,Zee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Jee(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Uk(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(Zee.has(n)){if(t[n]==null&&e[n]==null)continue;if(!Kee(t[n],e[n]))return!1}else if(!Jee(t[n],e[n]))return!1;return!0}function Bk(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:CD}function $k(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:CD}var UD=(t,e,r)=>SM(t,"xAxis",Bk(t,e),r),BD=(t,e,r)=>EM(t,"xAxis",Bk(t,e),r),$D=(t,e,r)=>SM(t,"yAxis",$k(t,e),r),HD=(t,e,r)=>EM(t,"yAxis",$k(t,e),r),ete=ae([Tt,UD,$D,BD,HD],(t,e,r,n,a)=>zi(t,"xAxis")?b0(e,n,!1):b0(r,a,!1)),tte=(t,e)=>e,qD=ae([nM,tte],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),FD=t=>{var e=Tt(t),r=zi(e,"xAxis");return r?"yAxis":"xAxis"},rte=(t,e)=>{var r=FD(t);return r==="yAxis"?$k(t,e):Bk(t,e)},nte=(t,e,r)=>lM(t,FD(t),rte(t,e),r),ate=ae([qD,nte],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,a=rk(t);if(!(n==null||a==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,c=s==null?void 0:s.find(d=>d.key===a);if(c!=null)return c.map(d=>[d[0],d[1]])}}}),ite=ae([Tt,UD,$D,BD,HD,ate,QG,ete,qD,sK],(t,e,r,n,a,s,c,d,f,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=c;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||a==null||n.length===0||a.length===0||d==null)){var{data:w}=f,_;if(w&&w.length>0?_=w:_=p==null?void 0:p.slice(g,b+1),_!=null)return Ete({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:_,chartBaseValue:m,bandSize:d})}}),ste=["id"],ote=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(null,arguments)}function GD(t,e){if(t==null)return{};var r,n,a=lte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function lte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e,r){return(e=ute(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W0(t,e){return t&&t!=="none"?t:e}var fte=t=>{var{dataKey:e,name:r,stroke:n,fill:a,legendType:s,hide:c}=t;return[{inactive:c,dataKey:e,type:s,color:W0(n,a),value:Ig(r,e),payload:t}]},hte=k.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:s,name:c,hide:d,unit:f,tooltipType:m,id:p}=t,g={dataDefinedOnItem:r,getPosition:Lu,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Ig(c,e),hide:d,type:m,color:W0(n,s),unit:f,graphicalItemId:p}};return k.createElement(ND,{tooltipEntrySettings:g})});function mte(t){var{clipPathId:e,points:r,props:n}=t,{needClip:a,dot:s,dataKey:c}=n,d=aa(n);return k.createElement(bJ,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:a,clipPathId:e})}function pte(t){var{showLabels:e,children:r,points:n}=t,a=n.map(s=>{var c,d,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return uu(uu({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return k.createElement(RQ,{value:e?a:void 0},r)}function e5(t){var{points:e,baseLine:r,needClip:n,clipPathId:a,props:s}=t,{layout:c,type:d,stroke:f,connectNulls:m,isRange:p}=s,{id:g}=s,b=GD(s,ste),w=aa(b),_=bn(b);return k.createElement(k.Fragment,null,(e==null?void 0:e.length)>1&&k.createElement(en,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},k.createElement(mu,zl({},_,{id:g,points:e,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&k.createElement(mu,zl({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:e})),f!=="none"&&p&&k.createElement(mu,zl({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),k.createElement(mte,{points:e,props:b,clipPathId:a}))}function gte(t){var e,r,{alpha:n,baseLine:a,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.y,f=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!st(d)||!st(f))return null;var m=n*Math.abs(d-f),p=Math.max(...s.map(g=>g.x||0));return Ce(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(g=>g.x||0),p)),Ce(p)?k.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}function yte(t){var e,r,{alpha:n,baseLine:a,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.x,f=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!st(d)||!st(f))return null;var m=n*Math.abs(d-f),p=Math.max(...s.map(g=>g.y||0));return Ce(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(g=>g.y||0),p)),Ce(p)?k.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function xte(t){var{alpha:e,layout:r,points:n,baseLine:a,strokeWidth:s}=t;return r==="vertical"?k.createElement(gte,{alpha:e,points:n,baseLine:a,strokeWidth:s}):k.createElement(yte,{alpha:e,points:n,baseLine:a,strokeWidth:s})}function bte(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=t,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:w}=n,_=k.useMemo(()=>({points:c,baseLine:d}),[c,d]),E=$g(_,"recharts-area-"),N=k2(),[C,S]=k.useState(!1),P=!C,M=k.useCallback(()=>{typeof w=="function"&&w(),S(!1)},[w]),$=k.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]);if(N==null)return null;var V=a.current,T=s.current;return k.createElement(pte,{showLabels:P,points:c},n.children,k.createElement(Bg,{animationId:E,begin:m,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:$,key:E},I=>{if(V){var R=V.length/c.length,U=I===1?c:c.map((B,H)=>{var X=Math.floor(H*R);if(V[X]){var J=V[X];return uu(uu({},B),{},{x:Qr(J.x,B.x,I),y:Qr(J.y,B.y,I)})}return B}),L;return Ce(d)?L=Qr(T,d,I):tn(d)||Ci(d)?L=Qr(T,0,I):L=d.map((B,H)=>{var X=Math.floor(H*R);if(Array.isArray(T)&&T[X]){var J=T[X];return uu(uu({},B),{},{x:Qr(J.x,B.x,I),y:Qr(J.y,B.y,I)})}return B}),I>0&&(a.current=U,s.current=L),k.createElement(e5,{points:U,baseLine:L,needClip:e,clipPathId:r,props:n})}return I>0&&(a.current=c,s.current=d),k.createElement(en,null,f&&k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(r)},k.createElement(xte,{alpha:I,points:c,baseLine:d,layout:N,strokeWidth:n.strokeWidth}))),k.createElement(en,{clipPath:"url(#animationClipPath-".concat(r,")")},k.createElement(e5,{points:c,baseLine:d,needClip:e,clipPathId:r,props:n})))}),k.createElement(gD,{label:n.label}))}function vte(t){var{needClip:e,clipPathId:r,props:n}=t,a=k.useRef(null),s=k.useRef();return k.createElement(bte,{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class wte extends k.PureComponent{render(){var{hide:e,dot:r,points:n,className:a,top:s,left:c,needClip:d,xAxisId:f,yAxisId:m,width:p,height:g,id:b,baseLine:w,zIndex:_}=this.props;if(e)return null;var E=gt("recharts-area",a),N=b,{r:C,strokeWidth:S}=Mee(r),P=SD(r),M=C*2+S,$=d?"url(#clipPath-".concat(P?"":"dots-").concat(N,")"):void 0;return k.createElement(Za,{zIndex:_},k.createElement(en,{className:E},d&&k.createElement("defs",null,k.createElement(Ree,{clipPathId:N,xAxisId:f,yAxisId:m}),!P&&k.createElement("clipPath",{id:"clipPath-dots-".concat(N)},k.createElement("rect",{x:c-M/2,y:s-M/2,width:p+M,height:g+M}))),k.createElement(vte,{needClip:d,clipPathId:N,props:this.props})),k.createElement(qO,{points:n,mainColor:W0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(w)&&k.createElement(qO,{points:w,mainColor:W0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var KD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Jr.area};function kte(t){var e,r=nn(t,KD),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:w,stroke:_,xAxisId:E,yAxisId:N}=r,C=GD(r,ote),S=Vu(),P=WM(),{needClip:M}=VD(E,N),$=zn(),{points:V,isRange:T,baseLine:I}=(e=Re(X=>ite(X,t.id,$)))!==null&&e!==void 0?e:{},R=zk();if(S!=="horizontal"&&S!=="vertical"||R==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:U,width:L,x:B,y:H}=R;return!V||!V.length?null:k.createElement(wte,zl({},C,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:c,baseLine:I,connectNulls:d,dot:f,fill:m,fillOpacity:p,height:U,hide:g,layout:S,isAnimationActive:b==="auto"?!yh.isSsr:b,isRange:T,legendType:w,needClip:M,points:V,stroke:_,width:L,left:B,top:H,xAxisId:E,yAxisId:N}))}var _te=(t,e,r,n,a)=>{var s=r??e;if(Ce(s))return s;var c=t==="horizontal"?a:n,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return s==="dataMin"?m:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function Ete(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:w}=t,_=a&&a.length,E=_te(s,c,r,d,f),N=s==="horizontal",C=!1,S=m.map((M,$)=>{var V,T,I,R;if(_)R=a[p+$];else{var U=zt(M,n);Array.isArray(U)?(R=U,C=!0):R=[E,U]}var L=(V=(T=R)===null||T===void 0?void 0:T[1])!==null&&V!==void 0?V:null,B=L==null||_&&!e&&zt(M,n)==null;if(N){var H;return{x:LT({axis:d,ticks:g,bandSize:w,entry:M,index:$}),y:B?null:(H=f.scale.map(L))!==null&&H!==void 0?H:null,value:R,payload:M}}return{x:B?null:(I=d.scale.map(L))!==null&&I!==void 0?I:null,y:LT({axis:f,ticks:b,bandSize:w,entry:M,index:$}),value:R,payload:M}}),P;return _||C?P=S.map(M=>{var $,V=Array.isArray(M.value)?M.value[0]:null;if(N){var T;return{x:M.x,y:V!=null&&M.y!=null&&(T=f.scale.map(V))!==null&&T!==void 0?T:null,payload:M.payload}}return{x:V!=null&&($=d.scale.map(V))!==null&&$!==void 0?$:null,y:M.y,payload:M.payload}}):P=N?f.scale.map(E):d.scale.map(E),{points:S,baseLine:P??0,isRange:C}}function Ste(t){var e=nn(t,KD),r=zn();return k.createElement(jD,{id:e.id,type:"area"},n=>k.createElement(k.Fragment,null,k.createElement(SZ,{legendPayload:fte(e)}),k.createElement(hte,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),k.createElement(VZ,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:o$(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),k.createElement(kte,zl({},e,{id:n}))))}var YD=k.memo(Ste,Uk);YD.displayName="Area";var Nte=["domain","range"],jte=["domain","range"];function t5(t,e){if(t==null)return{};var r,n,a=Tte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Tte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function r5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function WD(t,e){if(t===e)return!0;var{domain:r,range:n}=t,a=t5(t,Nte),{domain:s,range:c}=e,d=t5(e,jte);return!r5(r,s)||!r5(n,c)?!1:Uk(a,d)}var Ate=["type"],Cte=["dangerouslySetInnerHTML","ticks","scale"],Ote=["id","scale"];function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(null,arguments)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){Ite(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ite(t,e,r){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pte(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vw(t,e){if(t==null)return{};var r,n,a=Mte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Mte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Dte(t){var e=qt(),r=k.useRef(null),n=k2(),{type:a}=t,s=vw(t,Ate),c=Qg(n,"xAxis",a),d=k.useMemo(()=>{if(c!=null)return a5(a5({},s),{},{type:c})},[s,c]);return k.useLayoutEffect(()=>{d!=null&&(r.current===null?e(EJ(d)):r.current!==d&&e(SJ({prev:r.current,next:d})),r.current=d)},[d,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(NJ(r.current)),r.current=null)},[e]),null}var zte=t=>{var{xAxisId:e,className:r}=t,n=Re(SP),a=zn(),s="xAxis",c=Re(C=>_M(C,s,e,a)),d=Re(C=>tY(C,e)),f=Re(C=>oY(C,e)),m=Re(C=>eM(C,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,w=vw(t,Cte),{id:_,scale:E}=m,N=vw(m,Ote);return k.createElement(Vk,bw({},w,N,{x:f.x,y:f.y,width:d.width,height:d.height,className:gt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},Lte={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,angle:Or.angle,axisLine:ds.axisLine,height:Or.height,hide:!1,includeHidden:Or.includeHidden,interval:Or.interval,label:!1,minTickGap:Or.minTickGap,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,tickLine:ds.tickLine,tickSize:ds.tickSize,type:Or.type,xAxisId:0},Vte=t=>{var e=nn(t,Lte);return k.createElement(k.Fragment,null,k.createElement(Dte,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),k.createElement(zte,e))},XD=k.memo(Vte,WD);XD.displayName="XAxis";var Ute=["type"],Bte=["dangerouslySetInnerHTML","ticks","scale"],$te=["id","scale"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(null,arguments)}function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){Hte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e,r){return(e=qte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kw(t,e){if(t==null)return{};var r,n,a=Gte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Gte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Kte(t){var e=qt(),r=k.useRef(null),n=k2(),{type:a}=t,s=kw(t,Ute),c=Qg(n,"yAxis",a),d=k.useMemo(()=>{if(c!=null)return s5(s5({},s),{},{type:c})},[c,s]);return k.useLayoutEffect(()=>{d!=null&&(r.current===null?e(jJ(d)):r.current!==d&&e(TJ({prev:r.current,next:d})),r.current=d)},[d,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(AJ(r.current)),r.current=null)},[e]),null}function Yte(t){var{yAxisId:e,className:r,width:n,label:a}=t,s=k.useRef(null),c=k.useRef(null),d=Re(SP),f=zn(),m=qt(),p="yAxis",g=Re(V=>uY(V,e)),b=Re(V=>cY(V,e)),w=Re(V=>_M(V,p,e,f)),_=Re(V=>tM(V,e));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!g||Rk(a)||k.isValidElement(a)||_==null)){var V=s.current;if(V){var T=V.getCalculatedWidth();Math.round(g.width)!==Math.round(T)&&m(CJ({id:e,width:T}))}}},[w,g,m,a,e,n,_]),g==null||b==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:N,scale:C}=t,S=kw(t,Bte),{id:P,scale:M}=_,$=kw(_,$te);return k.createElement(Vk,ww({},S,$,{ref:s,labelRef:c,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:gt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:w,axisType:p}))}var Wte={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,angle:Ir.angle,axisLine:ds.axisLine,hide:!1,includeHidden:Ir.includeHidden,interval:Ir.interval,label:!1,minTickGap:Ir.minTickGap,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tick:Ir.tick,tickCount:Ir.tickCount,tickLine:ds.tickLine,tickSize:ds.tickSize,type:Ir.type,width:Ir.width,yAxisId:0},Xte=t=>{var e=nn(t,Wte);return k.createElement(k.Fragment,null,k.createElement(Kte,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),k.createElement(Yte,e))},QD=k.memo(Xte,WD);QD.displayName="YAxis";var Qte=(t,e)=>e,Hk=ae([Qte,Tt,QR,Ur,$M,Is,SW,Lr],IW),qk=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},ZD=Ta("mouseClick"),JD=hh();JD.startListening({actionCreator:ZD,effect:(t,e)=>{var r=t.payload,n=Hk(e.getState(),qk(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(EY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _w=Ta("mouseMove"),e6=hh(),wp=null;e6.startListening({actionCreator:_w,effect:(t,e)=>{var r=t.payload;wp!==null&&cancelAnimationFrame(wp);var n=qk(r);wp=requestAnimationFrame(()=>{var a=e.getState(),s=Ek(a,a.tooltip.settings.shared);if(s==="axis"){var c=Hk(a,n);(c==null?void 0:c.activeIndex)!=null?e.dispatch(PM({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(IM())}wp=null})}});function Zte(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var o5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t6=Dn({name:"rootProps",initialState:o5,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:o5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Jte=t6.reducer,{updateOptions:ere}=t6.actions,tre=null,rre={updatePolarOptions:(t,e)=>e.payload},r6=Dn({name:"polarOptions",initialState:tre,reducers:rre}),{updatePolarOptions:nre}=r6.actions,are=r6.reducer,n6=Ta("keyDown"),a6=Ta("focus"),Fk=hh();Fk.startListening({actionCreator:n6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Sk(a,Yu(r),Sh(r),jh(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Is(r);if(s==="Enter"){var m=H0(r,"axis","hover",String(a.index));e.dispatch(mw({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var p=mY(r),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=d+b*g;if(!(f==null||w>=f.length||w<0)){var _=H0(r,"axis","hover",String(w));e.dispatch(mw({active:!0,activeIndex:w.toString(),activeCoordinate:_}))}}}}}});Fk.startListening({actionCreator:a6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",c=H0(r,"axis","hover",String(s));e.dispatch(mw({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var wa=Ta("externalEvent"),i6=hh(),u1=new Map;i6.startListening({actionCreator:wa,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var a=n.type,s=u1.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:uW(d),activeDataKey:GM(d),activeIndex:Au(d),activeLabel:FM(d),activeTooltipIndex:Au(d),isTooltipActive:dW(d)};r(f,n)}finally{u1.delete(a)}});u1.set(a,c)}}});var ire=ae([Gu],t=>t.tooltipItemPayloads),sre=ae([ire,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(e)}}}),s6=Ta("touchMove"),o6=hh();o6.startListening({actionCreator:s6,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),a=Ek(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var c=Hk(n,qk({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(c==null?void 0:c.activeIndex)!=null&&e.dispatch(PM({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(_P),g=(d=m.getAttribute(EP))!==null&&d!==void 0?d:void 0,b=Ku(n).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:w}=b,_=sre(n,p,g);e.dispatch(OM({activeDataKey:w,activeIndex:p,activeCoordinate:_,activeGraphicalItemId:g}))}}}});var ore=FI({brush:VJ,cartesianAxis:OJ,chartData:cX,errorBars:Pee,graphicalItems:zZ,layout:ZB,legend:tH,options:aX,polarAxis:GQ,polarOptions:are,referenceElements:HJ,rootProps:Jte,tooltip:SY,zIndex:GW}),lre=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _B({reducer:ore,preloadedState:e,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([JD.middleware,e6.middleware,Fk.middleware,i6.middleware,o6.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(sP({type:"raf"}))},devTools:{serialize:{replacer:Zte},name:"recharts-".concat(r)}})};function l6(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,a=zn(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=lre(e,n));var c=h2;return k.createElement(Qee,{context:c,store:s.current},r)}function cre(t){var{layout:e,margin:r}=t,n=qt(),a=zn();return k.useEffect(()=>{a||(n(WB(e)),n(YB(r)))},[n,a,e,r]),null}var c6=k.memo(cre,Uk);function u6(t){var e=qt();return k.useEffect(()=>{e(ere(t))},[e,t]),null}function l5(t){var{zIndex:e,isPanorama:r}=t,n=k.useRef(null),a=qt();return k.useLayoutEffect(()=>(n.current&&a(qW({zIndex:e,element:n.current,isPanorama:r})),()=>{a(FW({zIndex:e,isPanorama:r}))}),[a,e,r]),k.createElement("g",{tabIndex:-1,ref:n})}function c5(t){var{children:e,isPanorama:r}=t,n=Re(RW);if(!n||n.length===0)return e;var a=n.filter(c=>c<0),s=n.filter(c=>c>0);return k.createElement(k.Fragment,null,a.map(c=>k.createElement(l5,{key:c,zIndex:c,isPanorama:r})),e,s.map(c=>k.createElement(l5,{key:c,zIndex:c,isPanorama:r})))}var ure=["children"];function dre(t,e){if(t==null)return{};var r,n,a=fre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function fre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(null,arguments)}var hre={width:"100%",height:"100%",display:"block"},mre=k.forwardRef((t,e)=>{var r=CP(),n=OP(),a=HP();if(!Ii(r)||!Ii(n))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,m,p;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),k.createElement(oI,X0({},c,{title:d,desc:f,role:p,tabIndex:m,width:r,height:n,style:hre,ref:e}),s)}),pre=t=>{var{children:e}=t,r=Re(Dg);if(!r)return null;var{width:n,height:a,y:s,x:c}=r;return k.createElement(oI,{width:n,height:a,x:c,y:s},e)},u5=k.forwardRef((t,e)=>{var{children:r}=t,n=dre(t,ure),a=zn();return a?k.createElement(pre,null,k.createElement(c5,{isPanorama:!0},r)):k.createElement(mre,X0({ref:e},n),k.createElement(c5,{isPanorama:!1},r))});function gre(){var t=qt(),[e,r]=k.useState(null),n=Re(h$);return k.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;st(s)&&s!==n&&t(QB(s))}},[e,t,n]),r}function d5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(r),!0).forEach(function(n){xre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xre(t,e,r){return(e=bre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jo.apply(null,arguments)}var wre=()=>(xX(),null);function Q0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var kre=k.forwardRef((t,e)=>{var r,n,a=k.useRef(null),[s,c]=k.useState({containerWidth:Q0((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Q0((n=t.style)===null||n===void 0?void 0:n.height)}),d=k.useCallback((m,p)=>{c(g=>{var b=Math.round(m),w=Math.round(p);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),f=k.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();d(p,g);var b=_=>{var E=_[0];if(E!=null){var{width:N,height:C}=E.contentRect;d(N,C)}},w=new ResizeObserver(b);w.observe(m),a.current=w}},[e,d]);return k.useEffect(()=>()=>{var m=a.current;m!=null&&m.disconnect()},[d]),k.createElement(k.Fragment,null,k.createElement(ph,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",jo({ref:f},t)))}),_re=k.forwardRef((t,e)=>{var{width:r,height:n}=t,[a,s]=k.useState({containerWidth:Q0(r),containerHeight:Q0(n)}),c=k.useCallback((f,m)=>{s(p=>{var g=Math.round(f),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),d=k.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:m,height:p}=f.getBoundingClientRect();c(m,p)}},[e,c]);return k.createElement(k.Fragment,null,k.createElement(ph,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",jo({ref:d},t)))}),Ere=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement("div",jo({ref:e},t)))}),Sre=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?k.createElement(_re,jo({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?k.createElement(Ere,jo({},t,{width:r,height:n,ref:e})):k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement("div",jo({ref:e},t)))});function Nre(t){return t?kre:Sre}var jre=k.forwardRef((t,e)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:_,onTouchStart:E,style:N,width:C,responsive:S,dispatchTouchEvents:P=!0}=t,M=k.useRef(null),$=qt(),[V,T]=k.useState(null),[I,R]=k.useState(null),U=gre(),L=v2(),B=(L==null?void 0:L.width)>0?L.width:C,H=(L==null?void 0:L.height)>0?L.height:a,X=k.useCallback(se=>{U(se),typeof e=="function"&&e(se),T(se),R(se),se!=null&&(M.current=se)},[U,e,T,R]),J=k.useCallback(se=>{$(ZD(se)),$(wa({handler:s,reactEvent:se}))},[$,s]),F=k.useCallback(se=>{$(_w(se)),$(wa({handler:m,reactEvent:se}))},[$,m]),Z=k.useCallback(se=>{$(IM()),$(wa({handler:p,reactEvent:se}))},[$,p]),fe=k.useCallback(se=>{$(_w(se)),$(wa({handler:g,reactEvent:se}))},[$,g]),_e=k.useCallback(()=>{$(a6())},[$]),le=k.useCallback(se=>{$(n6(se.key))},[$]),z=k.useCallback(se=>{$(wa({handler:c,reactEvent:se}))},[$,c]),W=k.useCallback(se=>{$(wa({handler:d,reactEvent:se}))},[$,d]),ue=k.useCallback(se=>{$(wa({handler:f,reactEvent:se}))},[$,f]),G=k.useCallback(se=>{$(wa({handler:b,reactEvent:se}))},[$,b]),pe=k.useCallback(se=>{$(wa({handler:E,reactEvent:se}))},[$,E]),Ee=k.useCallback(se=>{P&&$(s6(se)),$(wa({handler:_,reactEvent:se}))},[$,P,_]),be=k.useCallback(se=>{$(wa({handler:w,reactEvent:se}))},[$,w]),Fe=Nre(S);return k.createElement(eD.Provider,{value:V},k.createElement(nU.Provider,{value:I},k.createElement(Fe,{width:B??(N==null?void 0:N.width),height:H??(N==null?void 0:N.height),className:gt("recharts-wrapper",n),style:yre({position:"relative",cursor:"default",width:B,height:H},N),onClick:J,onContextMenu:z,onDoubleClick:W,onFocus:_e,onKeyDown:le,onMouseDown:ue,onMouseEnter:F,onMouseLeave:Z,onMouseMove:fe,onMouseUp:G,onTouchEnd:be,onTouchMove:Ee,onTouchStart:pe,ref:X},k.createElement(wre,null),r)))}),Tre=["width","height","responsive","children","className","style","compact","title","desc"];function Are(t,e){if(t==null)return{};var r,n,a=Cre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Cre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var d6=k.forwardRef((t,e)=>{var{width:r,height:n,responsive:a,children:s,className:c,style:d,compact:f,title:m,desc:p}=t,g=Are(t,Tre),b=aa(g);return f?k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement(u5,{otherAttributes:b,title:m,desc:p},s)):k.createElement(jre,{className:c,style:d,width:r,height:n,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},k.createElement(u5,{otherAttributes:b,title:m,desc:p,ref:e},k.createElement(FJ,null,s)))});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(null,arguments)}var Ore={top:5,right:5,bottom:5,left:5},Ire={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ore,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Pre=k.forwardRef(function(e,r){var n,a=nn(e.categoricalChartProps,Ire),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return k.createElement(l6,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},k.createElement(ID,{chartData:m.data}),k.createElement(c6,{layout:a.layout,margin:a.margin}),k.createElement(u6,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(d6,Ew({},a,{ref:r})))});function Rre(t){var e=qt();return k.useEffect(()=>{e(nre(t))},[e,t]),null}var Mre=["layout"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(null,arguments)}function Dre(t,e){if(t==null)return{};var r,n,a=zre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function zre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lre={top:5,right:5,bottom:5,left:5},f6={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Vre=k.forwardRef(function(e,r){var n,a=nn(e.categoricalChartProps,f6),{layout:s}=a,c=Dre(a,Mre),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return k.createElement(l6,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},k.createElement(ID,{chartData:a.data}),k.createElement(c6,{layout:s,margin:a.margin}),k.createElement(u6,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(Rre,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(d6,Sw({},c,{ref:r})))});function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){Ure(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ure(t,e,r){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bre(t){var e=$re(t,"string");return typeof e=="symbol"?e:e+""}function $re(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hre=["item"],qre=h5(h5({},f6),{},{layout:"centric",startAngle:0,endAngle:360}),Fre=k.forwardRef((t,e)=>{var r=nn(t,qre);return k.createElement(Vre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:tD,categoricalChartProps:r,ref:e})}),Gre=["axis"],Kre=k.forwardRef((t,e)=>k.createElement(Pre,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gre,tooltipPayloadSearcher:tD,categoricalChartProps:t,ref:e}));const d1=({transactions:t,vaults:e,measurements:r,contacts:n,promissoryNotes:a,onSeeAllPerformance:s})=>{const c=k.useRef(null);k.useEffect(()=>{const X=setInterval(()=>{if(c.current){const{scrollLeft:J,scrollWidth:F,clientWidth:Z}=c.current;J+Z>=F-10?c.current.scrollTo({left:0,behavior:"smooth"}):c.current.scrollTo({left:J+Z,behavior:"smooth"})}},4e3);return()=>clearInterval(X)},[]);const d=()=>{if(c.current){const{scrollLeft:X,scrollWidth:J,clientWidth:F}=c.current;X<=0?c.current.scrollTo({left:J,behavior:"smooth"}):c.current.scrollBy({left:-F,behavior:"smooth"})}},f=()=>{if(c.current){const{scrollLeft:X,scrollWidth:J,clientWidth:F}=c.current;X+F>=J-10?c.current.scrollTo({left:0,behavior:"smooth"}):c.current.scrollBy({left:F,behavior:"smooth"})}};e.reduce((X,J)=>X+J.balance,0);const m=e.filter(X=>X.type==="CASH").reduce((X,J)=>X+J.balance,0),p=e.filter(X=>X.type==="BANK"||X.type==="POS").reduce((X,J)=>X+J.balance,0),g=new Date,b=g.getMonth(),w=g.getFullYear(),_=g.toDateString(),E=t.filter(X=>X.type==="INCOME"&&!X.isStartingBalance&&new Date(X.date).toDateString()===_).reduce((X,J)=>X+J.amount,0),N=t.filter(X=>X.type==="EXPENSE"&&!X.isStartingBalance&&new Date(X.date).toDateString()===_).reduce((X,J)=>X+J.amount,0),C=t.filter(X=>{const J=new Date(X.date);return X.type==="INCOME"&&!X.isStartingBalance&&J.getMonth()===b&&J.getFullYear()===w}).reduce((X,J)=>X+J.amount,0),S=t.filter(X=>{const J=new Date(X.date);return X.type==="EXPENSE"&&!X.isStartingBalance&&J.getMonth()===b&&J.getFullYear()===w}).reduce((X,J)=>X+J.amount,0),P=t.filter(X=>X.type==="INCOME"&&!X.isStartingBalance&&new Date(X.date).getFullYear()===w).reduce((X,J)=>X+J.amount,0),M=t.filter(X=>X.type==="EXPENSE"&&!X.isStartingBalance&&new Date(X.date).getFullYear()===w).reduce((X,J)=>X+J.amount,0),$=r.filter(X=>X.status==="PENDING").length,V=r.filter(X=>X.status==="ASSEMBLY").length,T=a.filter(X=>X.status==="PENDING").length,I=n.filter(X=>X.type==="CUSTOMER").length,R=n.filter(X=>X.type==="SUPPLIER").length,U=n.reduce((X,J)=>J.balance>0?X+J.balance:X,0),L=n.reduce((X,J)=>J.balance<0?X+Math.abs(J.balance):X,0),B=[{name:"Pzt",income:4e3,expense:2400},{name:"Sal",income:3e3,expense:1398},{name:"ar",income:2e3,expense:9800},{name:"Per",income:2780,expense:3908},{name:"Cum",income:1890,expense:4800},{name:"Cmt",income:2390,expense:3800},{name:"Paz",income:3490,expense:4300}],H=[{title:"Gnlk Performans",income:E,expense:N},{title:"Aylk Performans",income:C,expense:S},{title:"Yllk Performans",income:P,expense:M}];return l.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"relative rounded-[2.5rem] overflow-hidden border border-gray-100 dark:border-slate-700 shadow-sm bg-white dark:bg-slate-800 pb-12",children:[l.jsx("button",{onClick:d,className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white/80 dark:bg-slate-800/80 backdrop-blur rounded-full flex items-center justify-center shadow-md border border-gray-100 dark:border-slate-700 z-10 text-gray-400 hover:text-indigo-600 transition-all active:scale-95",children:l.jsx(WL,{size:20})}),l.jsx("button",{onClick:f,className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white/80 dark:bg-slate-800/80 backdrop-blur rounded-full flex items-center justify-center shadow-md border border-gray-100 dark:border-slate-700 z-10 text-gray-400 hover:text-indigo-600 transition-all active:scale-95",children:l.jsx(In,{size:20})}),l.jsx("div",{ref:c,className:"flex overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:H.map((X,J)=>{const F=[{name:"Gelir",value:X.income||1,color:"#10b981"},{name:"Gider",value:X.expense||0,color:"#f43f5e"}];return l.jsx("div",{className:"min-w-full snap-center shrink-0 p-6 sm:p-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 px-6 sm:px-10",children:[l.jsxs("div",{className:"text-center md:text-left space-y-2 flex-1",children:[l.jsx("h3",{className:"text-xl font-black tracking-tight",children:X.title}),l.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:"Gelir & Gider Dalm"}),l.jsxs("div",{className:"pt-4 flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),l.jsxs("span",{className:"text-sm font-black",children:["Gelir: ",X.income.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),l.jsxs("span",{className:"text-sm font-black",children:["Gider: ",X.expense.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"h-[200px] w-full md:w-[200px]",children:l.jsx(WT,{width:"100%",height:"100%",children:l.jsxs(Fre,{children:[l.jsx(AD,{data:F,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:F.map((Z,fe)=>l.jsx(sy,{fill:Z.color,stroke:"none"},`cell-${fe}`))}),l.jsx(tO,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff"},itemStyle:{fontSize:"12px",fontWeight:"bold"}})]})})})]})},J)})}),l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 z-10",children:l.jsx("button",{onClick:s,className:"px-4 py-1.5 bg-gray-50 dark:bg-slate-900 text-indigo-600 border border-gray-200 dark:border-slate-700 rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors shadow-sm active:scale-95",children:"Tmn Gr"})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-6",children:[l.jsx(tu,{title:"Toplam Nakit",value:`${m.toLocaleString("tr-TR")} `,icon:l.jsx(uh,{size:20,className:"text-emerald-500"}),color:"bg-emerald-50 dark:bg-emerald-900/20"}),l.jsx(tu,{title:"Banka & POS",value:`${p.toLocaleString("tr-TR")} `,icon:l.jsx(_i,{size:20,className:"text-blue-500"}),color:"bg-blue-50 dark:bg-blue-900/20"}),l.jsx(tu,{title:"Bugnk Gelir",value:`${E.toLocaleString("tr-TR")} `,icon:l.jsx(Ro,{size:20,className:"text-indigo-500"}),color:"bg-indigo-50 dark:bg-indigo-900/20"}),l.jsx(tu,{title:"Bugnk Gider",value:`${N.toLocaleString("tr-TR")} `,icon:l.jsx(Mo,{size:20,className:"text-rose-500"}),color:"bg-rose-50 dark:bg-rose-900/20"}),l.jsx(tu,{title:"Bekleyen l",value:$.toString(),icon:l.jsx(Mn,{size:20,className:"text-amber-500"}),color:"bg-amber-50 dark:bg-amber-900/20"}),l.jsx(tu,{title:"Bekleyen Montaj",value:V.toString(),icon:l.jsx(e2,{size:20,className:"text-orange-500"}),color:"bg-orange-50 dark:bg-orange-900/20"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 sm:gap-8",children:[l.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h3",{className:"text-lg font-bold",children:"Performans Grafii"})}),l.jsx("div",{className:"h-[250px] sm:h-[350px]",children:l.jsx(WT,{width:"100%",height:"100%",children:l.jsxs(Kre,{data:B,children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.15}),l.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),l.jsx(zD,{strokeDasharray:"3 3",vertical:!1,stroke:"#88888815"}),l.jsx(XD,{dataKey:"name",axisLine:!1,tickLine:!1,fontSize:12,tick:{fill:"#94a3b8"},dy:10}),l.jsx(QD,{hide:!0}),l.jsx(tO,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff",fontSize:"12px"}}),l.jsx(YD,{type:"monotone",dataKey:"income",stroke:"#4f46e5",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"})]})})})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold mb-6",children:"Operasyon Takibi"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(_p,{label:"Bekleyen ller",count:$,color:"bg-amber-500",total:r.length}),l.jsx(_p,{label:"Atlyedeki ler",count:r.filter(X=>X.status==="WORKSHOP").length,color:"bg-indigo-500",total:r.length}),l.jsx(_p,{label:"Bekleyen Senetler",count:T,color:"bg-indigo-400",total:a.length}),l.jsx(_p,{label:"Tamamlanan ler",count:r.filter(X=>X.status==="COMPLETED").length,color:"bg-emerald-500",total:r.length})]}),l.jsx("div",{className:"mt-8 p-4 bg-indigo-50/50 dark:bg-indigo-900/10 rounded-2xl border border-indigo-100 dark:border-indigo-900/20",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(JL,{size:20,className:"text-indigo-600 dark:text-indigo-400 shrink-0"}),l.jsxs("p",{className:"text-sm leading-relaxed text-indigo-800 dark:text-indigo-300",children:["Sistemde denmeyi bekleyen ",l.jsx("b",{children:T})," adet senet bulunmaktadr."]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 border-t border-gray-100 dark:border-slate-700 pt-6 sm:pt-8",children:[l.jsx(kp,{title:"Kaytl Mteri",value:I.toString(),icon:l.jsx(Pl,{size:18}),color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20"}),l.jsx(kp,{title:"Tedariki Says",value:R.toString(),icon:l.jsx(rI,{size:18}),color:"text-slate-600",bgColor:"bg-slate-50 dark:bg-slate-900/20"}),l.jsx(kp,{title:"Toplam Alacak",value:`${U.toLocaleString("tr-TR")} `,icon:l.jsx(Il,{size:18}),color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20"}),l.jsx(kp,{title:"Toplam Bor",value:`${L.toLocaleString("tr-TR")} `,icon:l.jsx(fu,{size:18}),color:"text-rose-600",bgColor:"bg-rose-50 dark:bg-rose-900/20"})]})]})},tu=({title:t,value:e,icon:r,color:n,trend:a})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 sm:p-6 rounded-3xl border border-gray-100 dark:border-slate-700 flex flex-col gap-2 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-2xl flex items-center justify-center ${n} mb-2`,children:r}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:t}),l.jsx("div",{className:"flex items-baseline gap-2",children:l.jsx("p",{className:"text-base sm:text-xl font-black truncate",children:e})})]}),kp=({title:t,value:e,icon:r,color:n,bgColor:a})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-gray-50 dark:border-slate-700 flex items-center gap-4 shadow-sm",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a} ${n}`,children:r}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:t}),l.jsx("p",{className:`text-sm sm:text-lg font-black ${n}`,children:e})]})]}),_p=({label:t,count:e,color:r,total:n})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${r}`}),l.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-slate-300",children:t})]}),l.jsx("span",{className:"text-sm font-black",children:e})]}),l.jsx("div",{className:"w-full h-1.5 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${r} transition-all duration-500`,style:{width:`${n>0?e/n*100:0}%`}})})]}),m5=({measurements:t,setMeasurements:e,onGoToForm:r,onSelectMeasurement:n})=>{const[a,s]=k.useState("PENDING"),[c,d]=k.useState(null),[f,m]=k.useState(""),p=t.filter(b=>{const w=b.customerName.toLowerCase().includes(f.toLowerCase())||b.title&&b.title.toLowerCase().includes(f.toLowerCase());return c?b.status===c&&w:b.status===a&&w}),g=[{id:"PENDING",label:"BEKLEYEN"},{id:"COMPLETED",label:"BTENLER"},{id:"DEFERRED",label:"ERTELENEN"},{id:"DELETED",label:"SLNEN"}];return l.jsxs("div",{className:"space-y-4 sm:space-y-8 max-w-6xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative w-full sm:w-80 group",children:[l.jsx(sa,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:16}),l.jsx("input",{type:"text",placeholder:"Mteri ara...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl sm:rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm transition-all text-xs sm:text-sm",value:f,onChange:b=>m(b.target.value)})]}),l.jsxs("button",{onClick:r,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2 bg-indigo-600 text-white rounded-xl sm:rounded-2xl hover:bg-indigo-700 transition-all font-black shadow-lg shadow-indigo-600/20 active:scale-95 text-xs",children:[l.jsx(zr,{size:16}),"Yeni Sipari (l)"]})]}),l.jsx("div",{className:"bg-slate-100 dark:bg-slate-950 p-0.5 rounded-2xl sm:rounded-[1.5rem] flex gap-0.5 border border-gray-200 dark:border-slate-800 shadow-inner overflow-x-auto hide-scrollbar",children:g.map(b=>l.jsx("button",{onClick:()=>{s(b.id),d(null)},className:`
              flex-1 min-w-[70px] px-1 py-2 sm:py-3 rounded-[0.9rem] sm:rounded-[1.2rem] text-[8px] sm:text-[11px] font-black tracking-widest transition-all duration-300 whitespace-nowrap
              ${a===b.id&&!c?"bg-white dark:bg-slate-800 text-blue-500 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300"}
            `,children:b.label},b.id))}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 max-w-lg mx-auto w-full",children:[l.jsxs("button",{onClick:()=>d(c==="WORKSHOP"?null:"WORKSHOP"),className:`
            flex flex-col items-center justify-center gap-1.5 p-2 sm:p-5 rounded-2xl sm:rounded-[1.5rem] border-2 transition-all duration-300 group
            ${c==="WORKSHOP"?"bg-pink-500/10 border-pink-500 shadow-md shadow-pink-500/10":"bg-white dark:bg-slate-800/40 border-gray-100 dark:border-slate-800"}
          `,children:[l.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 bg-white dark:bg-slate-900 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform",children:l.jsx(mV,{className:"text-pink-500 w-3.5 h-3.5 sm:w-5 sm:h-5"})}),l.jsx("span",{className:`text-[7px] sm:text-[10px] font-black tracking-[0.1em] sm:tracking-[0.2em] uppercase ${c==="WORKSHOP"?"text-pink-500":"text-pink-500/70"}`,children:"ATLYE"})]}),l.jsxs("button",{onClick:()=>d(c==="ASSEMBLY"?null:"ASSEMBLY"),className:`
            flex flex-col items-center justify-center gap-1.5 p-2 sm:p-5 rounded-2xl sm:rounded-[1.5rem] border-2 transition-all duration-300 group
            ${c==="ASSEMBLY"?"bg-orange-500/10 border-orange-500 shadow-md shadow-orange-500/10":"bg-white dark:bg-slate-800/40 border-gray-100 dark:border-slate-800"}
          `,children:[l.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 bg-white dark:bg-slate-900 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform",children:l.jsx(e2,{className:"text-orange-500 w-3.5 h-3.5 sm:w-5 sm:h-5"})}),l.jsx("span",{className:`text-[7px] sm:text-[10px] font-black tracking-[0.1em] sm:tracking-[0.2em] uppercase ${c==="ASSEMBLY"?"text-orange-500":"text-orange-500/70"}`,children:"MONTAJ"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6 pt-1",children:p.length===0?l.jsxs("div",{className:"col-span-full py-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 opacity-20",children:l.jsx(Mn,{size:24})}),l.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[8px]",children:"Kayt bulunamad."})]}):p.map((b,w)=>{var N,C;const _=((N=b.rooms)==null?void 0:N.length)||1,E=b.rooms?b.rooms.reduce((S,P)=>S+P.windows.length,0):((C=b.windows)==null?void 0:C.length)||0;return l.jsxs("div",{onClick:()=>n(b.id),className:"bg-white dark:bg-slate-800/60 backdrop-blur-sm rounded-2xl sm:rounded-[1.8rem] border border-gray-100 dark:border-slate-700 p-4 sm:p-8 shadow-sm hover:shadow-xl transition-all group cursor-pointer animate-in fade-in slide-in-from-bottom-1 duration-300",style:{animationDelay:`${w*30}ms`},children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(ku,{size:16,className:"sm:w-5 sm:h-5"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:b.date}),l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[7px] sm:text-[8px] font-black uppercase tracking-tighter ${b.status==="COMPLETED"?"bg-emerald-500/10 text-emerald-500":b.status==="WORKSHOP"?"bg-pink-500/10 text-pink-500":b.status==="ASSEMBLY"?"bg-orange-500/10 text-orange-500":b.status==="DELETED"?"bg-rose-500/10 text-rose-500":"bg-blue-500/10 text-blue-500"}`,children:b.status})]})]}),l.jsx("h4",{className:"text-sm sm:text-xl font-black mb-0.5 group-hover:text-indigo-500 transition-colors truncate",children:b.customerName.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] sm:text-xs font-bold text-slate-500 dark:text-slate-400 mb-3 truncate",children:b.title||"l Siparii"}),l.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg text-[10px] sm:text-[11px] font-bold leading-relaxed text-slate-600 dark:text-slate-300 line-clamp-2 min-h-[36px]",children:b.details}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-50 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(t2,{size:12,className:"text-indigo-500"}),l.jsxs("span",{className:"text-[8px] sm:text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[_," Oda"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Mn,{size:12,className:"text-amber-500"}),l.jsxs("span",{className:"text-[8px] sm:text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[E," Pcr"]})]})]}),l.jsx(In,{size:14,className:"text-slate-300 group-hover:text-indigo-500 transform group-hover:translate-x-1 transition-all"})]})]},b.id)})})]})},Yre=({item:t,onChange:e,onRemove:r})=>{const n=t.product.unit.toLowerCase(),a=n.includes("metre")||["m2","m","m"].includes(n),[s,c]=k.useState(t.quantity.toString());k.useEffect(()=>{const m=a?parseFloat(s):parseInt(s,10);m!==t.quantity&&!(isNaN(m)&&t.quantity===0)&&c(t.quantity.toString())},[t.quantity,a]);const d=m=>{let p=m.target.value.replace(",",".");if(p===""||(a?/^\d*\.?\d*$/:/^\d*$/).test(p)){c(p);const b=a?parseFloat(p):parseInt(p,10);!isNaN(b)&&b>=0?e(b):p===""&&e(0)}},f=()=>{const m=a?parseFloat(s):parseInt(s,10);isNaN(m)||m<=0?r():(c(m.toString()),e(m))};return l.jsx("input",{type:"text",inputMode:a?"decimal":"numeric",className:"w-full text-center text-xl font-black leading-none bg-transparent outline-none focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-indigo-500 rounded-lg py-1 transition-all",value:s,onChange:d,onFocus:m=>m.target.select(),onBlur:f})},Wre=({products:t,setProducts:e,vaults:r,contacts:n,onSale:a,cart:s,setCart:c,discount:d,setDiscount:f,onOpenDisplay:m,groups:p,firmProfile:g})=>{var le;const[b,w]=k.useState(""),[_,E]=k.useState(((le=r[0])==null?void 0:le.id)||""),[N,C]=k.useState(""),[S,P]=k.useState("CASH"),[M,$]=k.useState(!1),[V,T]=k.useState("ALL"),[I,R]=k.useState(!1),[U,L]=k.useState(null),B=k.useMemo(()=>t.filter(z=>{const W=z.name.toLowerCase().includes(b.toLowerCase())||z.barcode===b,ue=V==="ALL"||z.groupId===V;return b.trim()!==""?W&&ue:z.isQuickSale&&ue}).sort((z,W)=>z.name.localeCompare(W.name,"tr-TR")),[t,b,V]),H=z=>{c(W=>W.find(G=>G.product.id===z.id)?W.map(G=>G.product.id===z.id?{...G,quantity:G.quantity+1}:G):[...W,{product:z,quantity:1}]),w("")},X=(z,W)=>{c(ue=>ue.map(G=>{if(G.product.id===z){const pe=Math.max(0,G.quantity+W);return{...G,quantity:pe}}return G}).filter(G=>G.quantity>0))},J=s.reduce((z,W)=>z+W.product.price*W.quantity,0),F=k.useMemo(()=>d.type==="PERCENT"?J*d.value/100:d.value,[J,d.value,d.type]),Z=Math.max(0,J-F),fe=()=>{if(s.length===0)return;if(S==="CARI"&&!N){alert("Cari sat iin ltfen bir mteri seiniz.");return}const z=d.value>0?` (skonto: ${d.value}${d.type==="PERCENT"?"%":" TL"})`:"";a({type:"INCOME",amount:Z,vaultId:_,description:`${S==="CARI"?"Cari Sat":"Pein Sat"}: ${s.map(W=>`${W.product.name.toLocaleUpperCase("tr-TR")} x${W.quantity} ${W.product.unit}`).join(", ")}${z}`,contactId:N||void 0,isCredit:S==="CARI",isSale:!0,items:s.map(W=>({productId:W.product.id,quantity:W.quantity,price:W.product.price}))}),L({cart:[...s],subtotal:J,total:Z,discount:{...d},contactId:N,paymentType:S}),c([]),f({value:0,type:"PERCENT"}),$(!1)},_e=z=>{const W=window.open("","_blank");if(!W){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}const ue=z.cart.map(se=>`
      <div class="tx-item">
        <div class="tx-desc">${se.product.name.toLocaleUpperCase("tr-TR")}</div>
        <div class="tx-details">
          <span>${se.quantity} ${se.product.unit} x ${se.product.price.toLocaleString("tr-TR")} TL</span>
          <span class="font-bold">${(se.quantity*se.product.price).toLocaleString("tr-TR")} TL</span>
        </div>
      </div>
    `).join(""),G=z.discount.type==="PERCENT"?z.subtotal*z.discount.value/100:z.discount.value;let pe="";G>0&&(pe=`
        <div class="flex-between mt-2" style="font-size: 10px;">
          <span>Ara Toplam:</span>
          <span>${z.subtotal.toLocaleString("tr-TR")} TL</span>
        </div>
        <div class="flex-between" style="font-size: 10px; color: #555;">
          <span>skonto:</span>
          <span>-${G.toLocaleString("tr-TR")} TL</span>
        </div>
      `);const Ee=n.find(se=>se.id===z.contactId),be=Ee?`
      <div class="border-bottom">
        <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
        <div class="flex-between"><span>Mteri:</span><span class="font-bold">${Ee.name.toLocaleUpperCase("tr-TR")}</span></div>
      </div>
    `:`
      <div class="border-bottom">
        <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
        <div class="flex-between"><span>Mteri:</span><span class="font-bold">Genel Mteri</span></div>
      </div>
    `,Fe=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Sat Fii</title>
        <style>
          @page { margin: 0; size: 80mm auto; }
          body {
            font-family: 'Courier New', Courier, monospace;
            color: #000;
            margin: 0;
            padding: 5mm;
            width: 80mm;
            box-sizing: border-box;
            font-size: 12px;
            line-height: 1.2;
          }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .font-bold { font-weight: bold; }
          .border-bottom { border-bottom: 1px dashed #000; margin-bottom: 5px; padding-bottom: 5px; }
          .flex-between { display: flex; justify-content: space-between; align-items: center; }
          .mt-2 { margin-top: 10px; }
          .mb-2 { margin-bottom: 10px; }
          .tx-item { margin-bottom: 5px; padding-bottom: 5px; border-bottom: 1px dotted #ccc; }
          .tx-desc { font-size: 11px; margin-bottom: 2px; word-wrap: break-word; }
          .tx-details { font-size: 10px; display: flex; justify-content: space-between; }
        </style>
      </head>
      <body>
        <div class="text-center border-bottom">
          <div class="font-bold" style="font-size: 16px; margin-bottom: 2px;">${(g==null?void 0:g.name)||"SATI F"}</div>
          <div style="font-size: 10px; letter-spacing: 1px;">SATI F</div>
        </div>
        
        ${be}

        <div class="mb-2 font-bold text-center" style="font-size: 11px; margin-top: 8px;">SATI DETAYI</div>
        
        <div class="border-bottom">
          ${ue}
        </div>

        ${pe}

        <div class="mt-2 border-bottom">
          <div class="flex-between font-bold" style="font-size: 14px;">
            <span>TOPLAM:</span>
            <span>${z.total.toLocaleString("tr-TR")} TL</span>
          </div>
          <div class="text-right" style="font-size: 10px; margin-top: 2px;">(${z.paymentType==="CARI"?"Cari Hesaba Yazld":"Pein deme"})</div>
        </div>

        <div class="text-center mt-2" style="font-size: 10px; padding-top: 5px;">
          Bizi tercih ettiiniz iin<br>teekkr ederiz.
        </div>
        
        <script>
          window.onload = () => { setTimeout(() => { window.print(); window.close(); }, 500); }
        <\/script>
      </body>
      </html>
    `;W.document.write(Fe),W.document.close()};return l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8 h-[calc(100vh-12rem)] relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"rn ismi veya barkod okutun...",className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all text-sm sm:text-base shadow-sm",value:b,onChange:z=>w(z.target.value)})]}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-indigo-600 rounded-2xl hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm text-xs font-bold active:scale-95",children:[l.jsx(eI,{size:18})," Vitrin Ynetimi"]}),l.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-3 bg-amber-500 text-white rounded-2xl font-black shadow-lg shadow-amber-500/20 active:scale-95 transition-all text-xs",children:[l.jsx(Q8,{size:18})," Mteri Ekran"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 hide-scrollbar",children:[l.jsx("button",{onClick:()=>T("ALL"),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${V==="ALL"?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:"Hepsi"}),p.map(z=>l.jsx("button",{onClick:()=>T(z.id),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${V===z.id?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:z.name},z.id))]}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-2 grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4 pb-24 lg:pb-0 custom-scrollbar content-start",children:B.length===0&&b===""?l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-400 gap-4 opacity-50",children:[l.jsx(hs,{size:64}),l.jsxs("p",{className:"font-bold text-center text-sm",children:["Hzl sat vitrinine henz rn eklemediniz.",l.jsx("br",{}),l.jsx("span",{className:"font-normal text-xs mt-2 block",children:'"Vitrin Ynetimi" butonundan rn sabitleyebilir veya arama yaparak dier rnlere ulaabilirsiniz.'})]})]}):B.map(z=>l.jsxs("button",{onClick:()=>H(z),className:"aspect-square p-3 sm:p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-3xl text-center hover:border-indigo-500 hover:shadow-xl hover:shadow-indigo-500/10 transition-all flex flex-col items-center justify-center gap-1 sm:gap-2 shadow-sm group active:scale-95",children:[l.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-gray-400 group-hover:text-indigo-500 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/20 group-hover:scale-110 transition-all shrink-0",children:l.jsx(ja,{className:"w-5 h-5 sm:w-7 sm:h-7"})}),l.jsxs("div",{className:"flex flex-col items-center justify-center w-full min-h-0 mt-1",children:[l.jsx("h5",{className:"font-black text-[10px] sm:text-xs line-clamp-2 leading-tight text-slate-700 dark:text-slate-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors mb-1",children:z.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-black text-sm sm:text-base leading-none",children:z.price.toLocaleString("tr-TR")}),l.jsx("span",{className:"text-[9px] sm:text-[10px] font-black text-indigo-600/60 dark:text-indigo-400/60 leading-none",children:""})]}),l.jsxs("p",{className:"text-[8px] sm:text-[9px] text-gray-400 uppercase font-black tracking-widest mt-1.5 opacity-70",children:["Stok: ",z.stock]})]})]},z.id))})]}),l.jsx("div",{className:`
        fixed inset-0 lg:static z-50 lg:z-auto bg-black/40 lg:bg-transparent transition-all duration-300
        ${M?"opacity-100 visible":"opacity-0 invisible lg:opacity-100 lg:visible"}
        flex items-end lg:items-stretch
      `,children:l.jsxs("div",{className:"w-full lg:w-[450px] xl:w-[550px] 2xl:w-[650px] h-[100dvh] lg:h-auto bg-white dark:bg-slate-800 lg:rounded-[2.5rem] lg:border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl lg:shadow-sm overflow-hidden ml-auto animate-in slide-in-from-right lg:animate-none duration-300",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center shrink-0 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(ru,{size:28})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Sat Sepeti"}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[s.length," Kalem rn"]})]})]}),l.jsx("button",{onClick:()=>$(!1),className:"lg:hidden p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-500 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-6 bg-gray-50/50 dark:bg-slate-900/10 custom-scrollbar",children:s.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 gap-6 opacity-30 py-20",children:[l.jsx("div",{className:"w-32 h-32 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:l.jsx(ru,{size:64})}),l.jsx("p",{className:"text-xl font-black uppercase tracking-[0.2em]",children:"Sepetiniz bo"})]}):s.map(z=>l.jsxs("div",{className:"flex flex-col gap-4 p-5 bg-white dark:bg-slate-800 rounded-3xl group transition-all border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-indigo-200",children:[l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h6",{className:"text-base font-black text-slate-800 dark:text-slate-100 mb-1",children:z.product.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 italic",children:[l.jsx(xn,{size:12})," Barkod: ",z.product.barcode,l.jsx("span",{className:"opacity-30",children:"|"}),l.jsx(Mn,{size:12})," Birim: ",z.product.unit]})]}),l.jsx("button",{onClick:()=>X(z.product.id,-z.quantity),className:"p-2 text-gray-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx($t,{size:18})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-slate-900 rounded-2xl p-1.5 border border-gray-100 dark:border-slate-800 shadow-inner",children:[l.jsx("button",{onClick:()=>X(z.product.id,-1),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors text-indigo-600 shadow-sm active:scale-90",children:l.jsx(W8,{size:16})}),l.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem]",children:[l.jsx(Yre,{item:z,onChange:W=>{c(ue=>ue.map(G=>G.product.id===z.product.id?{...G,quantity:W}:G))},onRemove:()=>{c(W=>W.filter(ue=>ue.product.id!==z.product.id))}}),l.jsx("span",{className:"text-[8px] font-black uppercase text-gray-400",children:z.product.unit})]}),l.jsx("button",{onClick:()=>X(z.product.id,1),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors text-indigo-600 shadow-sm active:scale-90",children:l.jsx(zr,{size:16})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Satr Toplam"}),l.jsxs("p",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:[(z.product.price*z.quantity).toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-xs font-bold opacity-50",children:""})]})]})]})]},z.product.id))}),l.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800 shrink-0 shadow-[0_-20px_50px_rgba(0,0,0,0.08)] relative z-20",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border border-gray-100 dark:border-slate-800 shrink-0",children:[l.jsx("button",{onClick:()=>P("CASH"),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${S==="CASH"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-400"}`,children:"Pein"}),l.jsx("button",{onClick:()=>P("CARI"),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${S==="CARI"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-400"}`,children:"Cari"})]}),S==="CASH"&&l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx("select",{className:"w-full h-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-[11px] font-black uppercase tracking-widest outline-none border border-transparent focus:border-indigo-500 transition-all appearance-none pr-10",value:_,onChange:z=>E(z.target.value),children:r.map(z=>l.jsxs("option",{value:z.id,children:[z.name," (",z.balance.toLocaleString("tr-TR")," )"]},z.id))}),l.jsx(In,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90 pointer-events-none"})]}),l.jsxs("div",{className:"relative flex-1 group",children:[l.jsxs("select",{className:`w-full h-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-[11px] font-black uppercase tracking-widest outline-none border transition-all appearance-none pr-10 ${S==="CARI"&&!N?"border-rose-300 dark:border-rose-900/50":"border-transparent focus:border-indigo-500"}`,value:N,onChange:z=>C(z.target.value),children:[l.jsx("option",{value:"",children:S==="CARI"?"Mteri Sein (Zorunlu)":"lgili Mteri (Opsiyonel)"}),n.filter(z=>z.type==="CUSTOMER").sort((z,W)=>z.name.localeCompare(W.name,"tr-TR")).map(z=>l.jsx("option",{value:z.id,children:z.name.toLocaleUpperCase("tr-TR")},z.id))]}),l.jsx(In,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90 pointer-events-none"})]})]}),l.jsxs("div",{className:"flex flex-col xl:flex-row items-stretch gap-2 xl:gap-3",children:[l.jsxs("div",{className:"flex-1 flex items-center bg-gray-50 dark:bg-slate-900 rounded-[1.5rem] border border-gray-100 dark:border-slate-800 p-1.5 min-w-[150px]",children:[l.jsx("input",{type:"number",placeholder:d.type==="PERCENT"?"% skonto Oran":" skonto Tutar",className:"w-full bg-transparent px-3 font-black outline-none text-sm xl:text-base text-slate-700 dark:text-slate-200 placeholder:text-gray-400",value:d.value||"",onChange:z=>f(W=>({...W,value:Number(z.target.value)}))}),l.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm shrink-0 border border-gray-100 dark:border-slate-700",children:[l.jsx("button",{onClick:()=>f(z=>({...z,type:"PERCENT"})),className:`p-2 rounded-lg transition-all ${d.type==="PERCENT"?"bg-indigo-600 text-white":"text-gray-400 hover:text-indigo-500"}`,children:l.jsx(Z4,{size:16})}),l.jsx("button",{onClick:()=>f(z=>({...z,type:"AMOUNT"})),className:`p-2 rounded-lg transition-all ${d.type==="AMOUNT"?"bg-indigo-600 text-white":"text-gray-400 hover:text-indigo-500"}`,children:l.jsx(xn,{size:16})})]})]}),l.jsxs("div",{className:"flex-1 bg-indigo-600 text-white px-4 py-3 rounded-[1.5rem] shadow-xl shadow-indigo-600/30 flex flex-col justify-center items-end relative overflow-hidden group min-w-[160px]",children:[l.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 -rotate-12 transition-transform group-hover:scale-110 pointer-events-none",children:l.jsx(ru,{size:60})}),l.jsxs("div",{className:"relative z-10 w-full flex justify-between items-end gap-2",children:[l.jsxs("div",{className:"flex flex-col items-start opacity-80",children:[l.jsxs("span",{className:"text-[8px] xl:text-[9px] uppercase tracking-widest font-bold",children:["Ara Toplam: ",J.toLocaleString("tr-TR")," "]}),F>0&&l.jsxs("span",{className:"text-[8px] xl:text-[9px] uppercase tracking-widest font-bold text-emerald-300",children:["skonto: -",F.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-[9px] xl:text-[10px] font-black uppercase tracking-widest block opacity-90 mb-0.5",children:"Net denecek"}),l.jsxs("span",{className:"text-xl xl:text-2xl font-black italic tracking-tighter",children:[Z.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-sm xl:text-lg opacity-60",children:""})]})]})]})]}),l.jsxs("button",{disabled:s.length===0||S==="CARI"&&!N,onClick:fe,className:"shrink-0 px-4 py-3 xl:px-6 bg-emerald-500 hover:bg-emerald-600 text-white rounded-[1.5rem] font-black shadow-xl shadow-emerald-500/30 disabled:opacity-40 disabled:grayscale active:scale-95 transition-all text-sm xl:text-base uppercase tracking-wider flex items-center justify-center gap-2",children:[l.jsx(ru,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Sat"})," Tamamla"]})]})]})})]})}),s.length>0&&!M&&l.jsx("div",{className:"fixed bottom-0 left-0 right-0 lg:hidden p-4 bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl border-t border-gray-200 dark:border-slate-800 z-40 animate-in slide-in-from-bottom duration-300 shadow-[0_-15px_40px_rgba(0,0,0,0.12)]",children:l.jsxs("button",{onClick:()=>$(!0),className:"w-full bg-indigo-600 text-white rounded-[2rem] p-5 flex items-center justify-between shadow-2xl shadow-indigo-600/30 active:scale-[0.98] transition-all",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(ru,{size:24})}),l.jsx("span",{className:"absolute -top-2 -right-2 bg-rose-500 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-indigo-600 shadow-lg",children:s.length})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"Sepet Toplam"}),l.jsxs("p",{className:"text-xl font-black italic",children:[Z.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 font-black uppercase text-xs tracking-[0.15em] italic",children:["demeye Ge",l.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(In,{size:18,className:"animate-pulse"})})]})]})}),U&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-emerald-100 dark:border-emerald-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(Vl,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lem Baarl!"}),l.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"Sat ilemi baaryla kaydedildi. Fi yazdrmak ister misiniz?"})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>L(null),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:"Kapat"}),l.jsxs("button",{onClick:()=>{_e(U),L(null)},className:"flex-1 py-4 bg-emerald-500 text-white font-black rounded-2xl shadow-xl shadow-emerald-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2",children:[l.jsx(Ul,{size:16})," Yazdr"]})]})]})}),I&&l.jsx(Xre,{products:t,setProducts:e,groups:p,onClose:()=>R(!1)})]})},Xre=({products:t,setProducts:e,groups:r,onClose:n})=>{const[a,s]=k.useState(""),[c,d]=k.useState("ALL"),f=k.useMemo(()=>t.filter(g=>{const b=g.name.toLowerCase().includes(a.toLowerCase())||g.barcode.includes(a),w=c==="ALL"||g.groupId===c;return b&&w}).sort((g,b)=>g.name.localeCompare(b.name,"tr-TR")),[t,a,c]),m=g=>{e(b=>b.map(w=>w.id===g?{...w,isQuickSale:!w.isQuickSale}:w))},p=t.filter(g=>g.isQuickSale).length;return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-2xl rounded-[2.5rem] overflow-hidden flex flex-col h-[85vh] border border-gray-100 dark:border-slate-700 shadow-2xl",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50 shrink-0",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-indigo-600 italic",children:"Vitrin Ynetimi"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Hzl Sat Ekrannda Grnecek rnleri Sein"})]}),l.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsxs("div",{className:"p-6 sm:p-8 space-y-4 shrink-0 border-b border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500",size:18}),l.jsx("input",{type:"text",placeholder:"rn ad veya barkod...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:a,onChange:g=>s(g.target.value)})]}),l.jsxs("select",{className:"w-full sm:w-auto p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm appearance-none pr-8",value:c,onChange:g=>d(g.target.value),children:[l.jsx("option",{value:"ALL",children:"Tm Gruplar"}),r.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-[10px] font-black bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 px-3 py-1 rounded-lg uppercase tracking-widest",children:["u an ",p," rn vitrinde"]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2 custom-scrollbar",children:f.length===0?l.jsxs("div",{className:"py-12 text-center text-gray-400 italic font-bold opacity-50 flex flex-col items-center gap-3",children:[l.jsx(ja,{size:48}),"rn bulunamad."]}):f.map(g=>{var b;return l.jsxs("div",{onClick:()=>m(g.id),className:`p-4 rounded-2xl border-2 flex items-center justify-between transition-all cursor-pointer ${g.isQuickSale?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-500":"bg-white dark:bg-slate-900 border-gray-50 dark:border-slate-800 hover:border-indigo-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[l.jsx("div",{className:`transition-colors shrink-0 ${g.isQuickSale?"text-indigo-600":"text-gray-300 dark:text-slate-600"}`,children:g.isQuickSale?l.jsx(wu,{size:24}):l.jsx(Df,{size:24})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-black text-sm truncate",children:g.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 mt-0.5",children:[l.jsx(xn,{size:12})," ",g.price.toLocaleString("tr-TR")," "]})]})]}),l.jsx("div",{className:"text-[10px] font-black uppercase px-2 py-1 rounded bg-gray-100 dark:bg-slate-800 text-gray-500 shrink-0",children:((b=r.find(w=>w.id===g.groupId))==null?void 0:b.name)||"Genel"})]},g.id)})}),l.jsx("div",{className:"p-6 sm:p-8 bg-gray-50 dark:bg-slate-900/50 shrink-0",children:l.jsx("button",{onClick:n,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Tamam"})})]})})},p5={},Ep={},Sp={},f1=({initialType:t,contacts:e,setContacts:r,onPayment:n,vaults:a,onSelectContact:s})=>{var V;const[c,d]=k.useState(t),[f,m]=k.useState(Sp[t]||""),[p,g]=k.useState(Ep[t]||!1),[b,w]=k.useState(null),[_,E]=k.useState(null),[N,C]=k.useState(null);k.useEffect(()=>{d(t),m(Sp[t]||""),g(Ep[t]||!1)},[t]),k.useEffect(()=>{Sp[c]=f},[f,c]),k.useEffect(()=>{Ep[c]=p},[p,c]),k.useEffect(()=>{const T=document.querySelector("main > .overflow-y-auto");if(T){setTimeout(()=>{T&&(T.scrollTop=p5[c]||0)},10);const I=()=>{p5[c]=T.scrollTop};return T.addEventListener("scroll",I,{passive:!0}),()=>T.removeEventListener("scroll",I)}},[c]);const S=k.useMemo(()=>e.filter(T=>{const I=t==="ALL"?c==="ALL"||T.type===c:T.type===t,R=T.name.toLowerCase().includes(f.toLowerCase())||T.phone.includes(f),U=p?Math.abs(T.balance)>0:!0;return I&&R&&U}).sort((T,I)=>T.name.localeCompare(I.name,"tr-TR")),[e,c,t,f,p]),P=T=>{switch(T){case"CUSTOMER":return"Mteri";case"SUPPLIER":return"Tedariki";case"PERSONNEL":return"Personel";default:return"Cari"}},M=T=>{r(I=>I.filter(R=>R.id!==T)),C(null)},$=(T,I)=>{if(I)r(R=>R.map(U=>U.id===I?{...U,name:T.name,phone:T.phone,phone2:T.phone2,address:T.address,type:T.type}:U));else{const R={name:T.name,phone:T.phone,phone2:T.phone2,address:T.address,type:T.type,id:"c"+Math.random().toString(36).substr(2,9),balance:0};r(U=>[...U,R]),T.initialBalance&&Number(T.initialBalance)>0&&n({type:T.balanceType==="DEBT"?"INCOME":"EXPENSE",amount:Number(T.initialBalance),vaultId:"",description:"Balang / Devir Bakiyesi",contactId:R.id,isCredit:!0,isSale:!1,isStartingBalance:!0})}E(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex w-full sm:w-auto gap-2 flex-1",children:[l.jsxs("div",{className:"relative w-full sm:w-96 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:`${P(t==="ALL"?c:t)} ara...`,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all shadow-sm",value:f,onChange:T=>m(T.target.value)})]}),l.jsx("button",{onClick:()=>g(!p),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-2xl border transition-all shadow-sm shrink-0 ${p?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/40 dark:border-indigo-700/50":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-500 hover:text-indigo-600"}`,title:"Sadece Bakiyesi Olanlar Gster",children:l.jsx(E8,{size:20,className:p?"fill-indigo-200 dark:fill-indigo-800":""})})]}),l.jsxs("button",{onClick:()=>E({isOpen:!0}),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all shrink-0",children:[l.jsx(zr,{size:20}),"Yeni ",P(t==="ALL"?c:t)," Kayd"]})]}),t==="ALL"&&l.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:["ALL","CUSTOMER","SUPPLIER","PERSONNEL"].map(T=>l.jsx("button",{onClick:()=>{d(T),m(Sp[T]||""),g(Ep[T]||!1)},className:`px-6 py-2 rounded-2xl text-xs font-bold whitespace-nowrap transition-all border-2 ${c===T?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-600/10":"bg-white dark:bg-slate-800 text-gray-500 border-gray-100 dark:border-slate-700 hover:border-indigo-200"}`,children:T==="ALL"?"TM KAYITLAR":T==="CUSTOMER"?"MTERLER":T==="SUPPLIER"?"TEDARKLER":"PERSONELLER"},T))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:S.map(T=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm flex flex-col gap-4 group hover:shadow-xl hover:shadow-indigo-500/5 transition-all cursor-pointer relative",onClick:()=>s(T.id),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 pr-2",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-indigo-600 transition-colors truncate",children:T.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:P(T.type)})]}),l.jsxs("div",{className:`text-lg font-black shrink-0 ${T.balance>0?"text-emerald-500":T.balance<0?"text-rose-500":"text-gray-400"}`,children:[Math.abs(T.balance).toLocaleString("tr-TR"),"",l.jsx("span",{className:"text-[10px] ml-1 opacity-60",children:T.balance>0?"(A)":T.balance<0?"(B)":""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 dark:bg-slate-900/50 px-3 py-1.5 rounded-xl w-fit",children:[l.jsx(xg,{size:14,className:"text-indigo-500"})," ",T.phone]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("button",{onClick:I=>{I.stopPropagation(),w(T)},className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-xl text-xs font-black hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:[l.jsx(ps,{size:14})," lem Yap"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2.5 bg-gray-50 dark:bg-slate-700 text-gray-400 hover:text-indigo-600 rounded-xl transition-all",onClick:I=>{I.stopPropagation(),E({isOpen:!0,contact:T})},children:l.jsx(Mr,{size:16})}),l.jsx("button",{className:"p-2.5 bg-gray-50 dark:bg-slate-700 text-gray-400 hover:text-rose-500 rounded-xl transition-all",onClick:I=>{I.stopPropagation(),C(T)},children:l.jsx($t,{size:16})})]})]})]},T.id))}),S.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-4 opacity-50",children:[l.jsx(Pl,{size:64}),l.jsx("p",{className:"font-bold",children:"Eleen kayt bulunamad"})]}),b&&l.jsx(Zf,{contact:b,vaults:a,onClose:()=>w(null),onSave:T=>{n(T),w(null)}}),(_==null?void 0:_.isOpen)&&l.jsx(Qre,{type:((V=_.contact)==null?void 0:V.type)||(t==="ALL"?c:t),isTypeLocked:t!=="ALL",contact:_.contact,onClose:()=>E(null),onSave:T=>{var I;return $(T,(I=_.contact)==null?void 0:I.id)}}),N&&l.jsx(Zre,{name:N.name,onClose:()=>C(null),onConfirm:()=>M(N.id)})]})},Qre=({type:t,isTypeLocked:e,contact:r,onClose:n,onSave:a})=>{const s=t==="ALL"?"CUSTOMER":t,[c,d]=k.useState({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phone)||"",phone2:(r==null?void 0:r.phone2)||"",address:(r==null?void 0:r.address)||"",type:(r==null?void 0:r.type)||s,initialBalance:"",balanceType:"DEBT"}),f=m=>{switch(m){case"CUSTOMER":return"Mteri";case"SUPPLIER":return"Tedariki";case"PERSONNEL":return"Personel";default:return"Cari"}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in fade-in zoom-in duration-200 overflow-hidden border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-xl font-black flex items-center gap-3 text-indigo-600",children:[r?l.jsx(Mr,{size:24}):l.jsx(r2,{size:24}),r?"Kayd Dzenle":`Yeni ${f(c.type)} Kayd`]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:l.jsx(Er,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-8 space-y-5",children:[!e&&!r&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Kayt Tr"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",value:c.type,onChange:m=>d({...c,type:m.target.value}),children:[l.jsx("option",{value:"CUSTOMER",children:"Mteri"}),l.jsx("option",{value:"SUPPLIER",children:"Tedariki"}),l.jsx("option",{value:"PERSONNEL",children:"Personel"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"sim Soyisim / nvan *"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"rn: Mehmet z",value:c.name.toLocaleUpperCase("tr-TR"),onChange:m=>d({...c,name:m.target.value.toLocaleUpperCase("tr-TR")})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Telefon *"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"05...",value:c.phone,onChange:m=>d({...c,phone:m.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"2. Telefon"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"Opsiyonel",value:c.phone2,onChange:m=>d({...c,phone2:m.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Adres Bilgisi"}),l.jsx("textarea",{rows:2,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold resize-none",placeholder:"Mahalle, Sokak, No...",value:c.address,onChange:m=>d({...c,address:m.target.value})})]}),!r&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Balang Bakiyesi"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"0.00",value:c.initialBalance,onChange:m=>d({...c,initialBalance:m.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Bakiye Durumu"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold appearance-none",value:c.balanceType,onChange:m=>d({...c,balanceType:m.target.value}),children:[l.jsx("option",{value:"DEBT",children:"Bize Borlu (+)"}),l.jsx("option",{value:"CREDIT",children:"Bizden Alacakl (-)"})]})]})]})]}),l.jsxs("div",{className:"p-8 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:n,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>{if(!c.name||!c.phone)return alert("sim ve telefon zorunludur.");a(c)},className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest",children:r?"Gncellemeleri Kaydet":"Kayd Tamamla"})]})]})})},Zre=({name:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl animate-in zoom-in duration-200 overflow-hidden border border-rose-100 dark:border-rose-900/20",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Kayd Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',t.toLocaleUpperCase("tr-TR"),'"']})," isimli kayd silmek istediinize emin misiniz? Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Hayr"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),Zf=({contact:t,vaults:e,onClose:r,onSave:n,initialData:a})=>{var P;const[s,c]=k.useState(!(a!=null&&a.isCredit)),[d,f]=k.useState((a==null?void 0:a.type)||(t.type==="CUSTOMER"?"INCOME":"EXPENSE")),[m,p]=k.useState((a==null?void 0:a.amount)||""),[g,b]=k.useState((a==null?void 0:a.vaultId)||((P=e[0])==null?void 0:P.id)||""),[w,_]=k.useState((a==null?void 0:a.description)||""),[E,N]=k.useState(a!=null&&a.date?a.date.split("T")[0]:new Date().toISOString().split("T")[0]),[C,S]=k.useState((a==null?void 0:a.isStartingBalance)||!1);return l.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-t-[2.5rem] sm:rounded-3xl overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-black text-indigo-600",children:a?"lemi Dzenle":"Hesap lemi"}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:t.name.toLocaleUpperCase("tr-TR")})]}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:l.jsx(Er,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 p-1 rounded-2xl flex gap-1 mb-2",children:[l.jsx("button",{onClick:()=>{c(!0),S(!1)},className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${s?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:"deme / Tahsilat"}),l.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${s?"text-gray-400":"bg-white dark:bg-slate-800 text-amber-600 shadow-sm"}`,children:"Cari lem"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>f("INCOME"),className:`py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${d==="INCOME"?"bg-emerald-500 text-white border-emerald-500 shadow-lg shadow-emerald-500/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500"}`,children:s?"Tahsilat (+)":"Borlandr / Art"}),l.jsx("button",{onClick:()=>f("EXPENSE"),className:`py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${d==="EXPENSE"?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500"}`,children:s?"deme (-)":"Alacaklandr / Azal"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"lem Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:E,onChange:M=>N(M.target.value)})]}),s&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Kasa / Banka Seimi"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:g,onChange:M=>b(M.target.value),children:e.map(M=>l.jsxs("option",{value:M.id,children:[M.name," (",M.balance.toLocaleString("tr-TR")," )"]},M.id))})]})]}),!s&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/20 rounded-2xl flex items-center gap-3",children:[l.jsx(Zw,{className:"text-amber-600 shrink-0",size:20}),l.jsx("p",{className:"text-[10px] font-bold text-amber-800 dark:text-amber-200 leading-tight",children:"Bu ilem kasay/bankay etkilemez, sadece cari bakiyeyi gnceller."})]}),l.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-500 cursor-pointer transition-all group",children:[l.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center transition-colors ${C?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-slate-700 text-transparent group-hover:bg-indigo-100"}`,children:l.jsx(Jw,{size:14})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-black select-none block text-slate-800 dark:text-slate-100",children:"Balang / Devir Bakiyesi"}),l.jsx("span",{className:"text-[9px] font-bold text-gray-400 select-none block uppercase tracking-widest mt-0.5",children:"Gelir/Gider istatistiklerine yansmaz"})]}),l.jsx("input",{type:"checkbox",className:"hidden",checked:C,onChange:M=>S(M.target.checked)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"lem Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-2xl font-black outline-none border-2 border-transparent focus:border-indigo-500 transition-all text-center",value:m,onChange:M=>p(M.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Aklama (Opsiyonel)"}),l.jsx("input",{placeholder:C?"Balang / Devir Bakiyesi":"lem detay...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:w,onChange:M=>_(M.target.value)})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!m,onClick:()=>n({type:d,amount:Number(m),vaultId:s?g:"",contactId:t.id,description:w||(C?"Balang / Devir Bakiyesi":`${t.name.toLocaleUpperCase("tr-TR")} ${s?d==="INCOME"?"Tahsilat":"deme":"Cari lem"}`),isCredit:!s,isStartingBalance:!s&&C,date:E}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl text-xs font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all uppercase tracking-widest disabled:opacity-50",children:a?"Gncelle":"Onayla"})]})]})})},Jre=({vaults:t,setVaults:e,transactions:r,onDeleteTransaction:n,onUpdateTransaction:a,contacts:s,onPayDebt:c,onSeeAllTransactions:d,onAddNewTransaction:f})=>{const[m,p]=k.useState(null),[g,b]=k.useState(!1),[w,_]=k.useState(!1),[E,N]=k.useState(!1),[C,S]=k.useState(!1),[P,M]=k.useState(null),[$,V]=k.useState(null),[T,I]=k.useState(null),[R,U]=k.useState(null),[L,B]=k.useState(null),[H,X]=k.useState({}),J=k.useMemo(()=>t.filter(G=>G.type==="CASH"),[t]),F=k.useMemo(()=>t.filter(G=>G.type==="BANK"&&G.isFixed),[t]),Z=k.useMemo(()=>t.filter(G=>G.type==="BANK"&&!G.isFixed),[t]),fe=k.useMemo(()=>t.filter(G=>G.type==="POS"),[t]),_e=k.useMemo(()=>t.filter(G=>G.type==="CREDIT_CARD"),[t]),le=G=>{e(pe=>pe.filter(Ee=>Ee.id!==G)),M(null)},z=G=>{e(pe=>pe.map(Ee=>Ee.id===(m==null?void 0:m.id)?{...Ee,...G}:Ee)),p(null)},W=G=>{X(pe=>({...pe,[G]:!pe[G]}))},ue=G=>G?G.replace(/(.{4})/g,"$1 ").trim():"**** **** **** ****";return l.jsxs("div",{className:"relative space-y-10 pb-24",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...J,...F,...fe].map(G=>l.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-6 rounded-[2.5rem] border border-gray-200 dark:border-slate-700 shadow-sm transition-all hover:shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${G.type==="CASH"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600":G.type==="POS"?"bg-purple-50 dark:bg-purple-900/20 text-purple-600":"bg-blue-50 dark:bg-blue-900/20 text-blue-600"} rounded-2xl flex items-center justify-center`,children:G.type==="CASH"?l.jsx(uh,{size:20}):G.type==="POS"?l.jsx(Ea,{size:20}):l.jsx(_i,{size:20})}),l.jsx("h4",{className:"font-black text-lg",children:G.name})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>p(G),className:"p-2 text-gray-300 hover:text-indigo-600 rounded-lg transition-all",children:l.jsx(Mr,{size:18})}),!G.isFixed&&l.jsx("button",{onClick:()=>M(G),className:"p-2 text-gray-300 hover:text-rose-500 rounded-lg transition-all",children:l.jsx($t,{size:18})})]})]}),l.jsxs("p",{className:"text-4xl font-black tracking-tight mb-2",children:[G.balance.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-xl font-bold opacity-30",children:G.currency})]}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:G.type==="CASH"?"NAKT KASASI":G.type==="POS"?"POS CHAZI":"BANKA HESABI"})]},G.id))}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>N(!E),className:"flex items-center justify-between w-full px-6 py-4 bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-3xl transition-all shadow-sm hover:shadow-md cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ea,{className:"text-amber-500",size:24}),l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Kredi Kartlar"}),l.jsxs("span",{className:"px-3 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 rounded-full text-xs font-black",children:[_e.length," Kart"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[E&&l.jsxs("button",{onClick:G=>{G.stopPropagation(),b(!0)},className:"flex items-center gap-1.5 px-4 py-2 bg-amber-500 text-white rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-lg shadow-amber-500/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(zr,{size:16})," Yeni Kart Ekle"]}),E?l.jsx(hj,{className:"text-gray-400"}):l.jsx(fj,{className:"text-gray-400"})]})]}),E&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-top-4 duration-300",children:_e.length===0?l.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 dark:bg-slate-800/30 rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-slate-700 text-gray-400 italic font-bold",children:"Eklenmi kredi kart bulunmuyor."}):_e.map(G=>{const pe=Math.abs(G.balance<0?G.balance:0),Ee=(G.limit||0)-pe,be=G.limit?pe/G.limit*100:0,Fe=H[G.id];return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col gap-4 relative group animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"absolute top-8 right-8 flex gap-1 z-30 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:se=>{se.stopPropagation(),p(G)},className:"p-1.5 bg-white/20 hover:bg-white/40 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Mr,{size:14})}),!G.isFixed&&l.jsx("button",{onClick:se=>{se.stopPropagation(),M(G)},className:"p-1.5 bg-white/20 hover:bg-rose-500/80 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx($t,{size:14})})]}),l.jsx("div",{className:"relative w-full h-48 perspective-[1000px] cursor-pointer shrink-0",onClick:()=>W(G.id),children:l.jsxs("div",{className:`w-full h-full relative transition-transform duration-700 [transform-style:preserve-3d] ${Fe?"[transform:rotateY(180deg)]":""}`,children:[l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-br from-slate-800 via-slate-900 to-black text-white p-6 [backface-visibility:hidden] flex flex-col justify-between shadow-xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:l.jsx(Ea,{size:80})}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("h4",{className:"font-black text-xl italic tracking-tight drop-shadow-md",children:G.name}),l.jsx("span",{className:"text-[9px] font-bold opacity-70 uppercase tracking-widest",children:"Kredi Kart"})]}),l.jsx("div",{className:"z-10 flex flex-col gap-2",children:l.jsx("div",{className:"w-10 h-8 bg-yellow-400/80 rounded-md flex items-center justify-center opacity-90 shadow-inner",children:l.jsx("div",{className:"w-6 h-4 border border-yellow-600 rounded-sm"})})}),l.jsx("div",{className:"flex justify-between items-end z-10 font-mono text-[10px] text-gray-300 uppercase drop-shadow-md mt-4",children:l.jsx("span",{children:G.name})})]}),l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-bl from-slate-700 to-slate-900 text-white [backface-visibility:hidden] [transform:rotateY(180deg)] shadow-xl border border-white/10 flex flex-col",children:[l.jsx("div",{className:"w-full h-10 bg-black/80 mt-6 shrink-0 shadow-inner"}),l.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60",children:"Kart Sahibi"}),l.jsx("span",{className:"text-[10px] sm:text-xs font-bold uppercase truncate max-w-[130px]",children:G.cardHolderName||G.name})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60 mb-1",children:"CVC"}),l.jsx("div",{className:"bg-white text-black font-mono text-xs px-2 py-0.5 rounded italic shadow-inner",children:G.cvc||"***"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[l.jsx("div",{className:"font-mono text-sm tracking-[0.2em] opacity-90 text-center",children:ue(G.cardNumber)}),l.jsxs("div",{className:"font-mono text-[10px] opacity-70",children:["SKT: ",G.expiryDate||"**/**"]})]})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-3 rounded-2xl text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Gncel Bor"}),l.jsxs("p",{className:"text-lg font-black text-rose-500",children:[pe.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-3 rounded-2xl text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Kalan Limit"}),l.jsxs("p",{className:"text-lg font-black text-emerald-500",children:[Ee.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"space-y-2 px-2",children:[l.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase",children:[l.jsx("span",{className:"text-slate-500",children:"Kullanm Oran"}),l.jsxs("span",{className:be>90?"text-rose-500":"text-amber-500",children:["%",be.toFixed(1)]})]}),l.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${be>90?"bg-rose-500":"bg-amber-500"}`,style:{width:`${be}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("button",{onClick:se=>{se.stopPropagation(),B(G)},className:"flex-1 py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-600 hover:text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:"Gemi"}),l.jsx("button",{onClick:se=>{se.stopPropagation(),U(G)},className:"flex-1 py-3 bg-amber-500 text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-md shadow-amber-500/20 active:scale-95 transition-all",children:"Bor de"})]})]},G.id)})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>S(!C),className:"flex items-center justify-between w-full px-6 py-4 bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-3xl transition-all shadow-sm hover:shadow-md cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_i,{className:"text-blue-500",size:24}),l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Banka Hesaplar"}),l.jsxs("span",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-full text-xs font-black",children:[Z.length," Hesap"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[C&&l.jsxs("button",{onClick:G=>{G.stopPropagation(),_(!0)},className:"flex items-center gap-1.5 px-4 py-2 bg-blue-500 text-white rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-lg shadow-blue-500/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(zr,{size:16})," Yeni Hesap Ekle"]}),C?l.jsx(hj,{className:"text-gray-400"}):l.jsx(fj,{className:"text-gray-400"})]})]}),C&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-top-4 duration-300",children:Z.length===0?l.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 dark:bg-slate-800/30 rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-slate-700 text-gray-400 italic font-bold",children:"Eklenmi banka hesab bulunmuyor."}):Z.map(G=>{const pe=H[G.id];return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col gap-4 relative group animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"absolute top-8 right-8 flex gap-1 z-30 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),p(G)},className:"p-1.5 bg-white/20 hover:bg-white/40 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Mr,{size:14})}),!G.isFixed&&l.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),M(G)},className:"p-1.5 bg-white/20 hover:bg-rose-500/80 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx($t,{size:14})})]}),l.jsx("div",{className:"relative w-full h-48 perspective-[1000px] cursor-pointer shrink-0",onClick:()=>W(G.id),children:l.jsxs("div",{className:`w-full h-full relative transition-transform duration-700 [transform-style:preserve-3d] ${pe?"[transform:rotateY(180deg)]":""}`,children:[l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-br from-blue-700 via-blue-800 to-indigo-900 text-white p-6 [backface-visibility:hidden] flex flex-col justify-between shadow-xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 pointer-events-none",children:l.jsx(_i,{size:80})}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("h4",{className:"font-black text-xl italic tracking-tight drop-shadow-md",children:G.name}),l.jsx("span",{className:"text-[9px] font-bold opacity-70 uppercase tracking-widest",children:"Banka Kart"})]}),l.jsx("div",{className:"z-10 flex flex-col gap-2",children:l.jsx("div",{className:"w-10 h-8 bg-gray-300/80 rounded-md flex items-center justify-center opacity-90 shadow-inner",children:l.jsx("div",{className:"w-6 h-4 border border-gray-400 rounded-sm"})})}),l.jsx("div",{className:"flex justify-between items-end z-10 font-mono text-[10px] text-blue-200 uppercase drop-shadow-md mt-4",children:l.jsx("span",{children:G.name})})]}),l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-bl from-blue-800 to-indigo-900 text-white [backface-visibility:hidden] [transform:rotateY(180deg)] shadow-xl border border-white/10 flex flex-col",children:[l.jsx("div",{className:"w-full h-10 bg-black/80 mt-6 shrink-0 shadow-inner"}),l.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60",children:"Kart Sahibi"}),l.jsx("span",{className:"text-[10px] sm:text-xs font-bold uppercase truncate max-w-[130px]",children:G.cardHolderName||G.name})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60 mb-1",children:"CVC"}),l.jsx("div",{className:"bg-white text-black font-mono text-xs px-2 py-0.5 rounded italic shadow-inner",children:G.cvc||"***"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[l.jsx("div",{className:"font-mono text-sm tracking-[0.2em] opacity-90 text-center",children:ue(G.cardNumber)}),l.jsxs("div",{className:"font-mono text-[10px] opacity-70",children:["SKT: ",G.expiryDate||"**/**"]})]})]})]})]})}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-4 rounded-2xl mt-2 text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Gncel Bakiye"}),l.jsxs("p",{className:`text-2xl font-black ${G.balance>=0?"text-emerald-500":"text-rose-500"}`,children:[G.balance.toLocaleString("tr-TR")," "]})]}),l.jsx("div",{className:"flex items-center gap-2 mt-2",children:l.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),B(G)},className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-600 hover:text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:"Gemii Gr"})})]},G.id)})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:[l.jsxs("div",{onClick:d,className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsx("h3",{className:"text-xl font-black tracking-tight uppercase italic text-indigo-600",children:"lem Gemii"}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-indigo-600 transition-colors",children:["Son Hareketler (Tmn Gr)",l.jsx(In,{size:14})]})]}),l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(na,{size:48}),"Henz bir hareket bulunmuyor."]}):r.slice(0,5).map(G=>{const pe=t.find(Fe=>Fe.id===G.vaultId),Ee=s.find(Fe=>Fe.id===G.contactId),be=Ee?Ee.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${G.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:G.type==="INCOME"?l.jsx(Ro,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:be}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:G.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(na,{size:12,className:"opacity-60"})," ",new Date(G.date).toLocaleString("tr-TR"),l.jsx("span",{className:"opacity-30 mx-1",children:"|"}),(pe==null?void 0:pe.type)==="CREDIT_CARD"||(pe==null?void 0:pe.type)==="POS"?l.jsx(Ea,{size:12,className:(pe==null?void 0:pe.type)==="POS"?"text-purple-500":"text-amber-500"}):l.jsx(ps,{size:12}),pe==null?void 0:pe.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${G.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[G.type==="INCOME"?"+":"-",G.amount.toLocaleString("tr-TR")," "]}),l.jsxs("div",{className:"flex flex-col gap-1.5 shrink-0 ml-1",children:[l.jsx("button",{onClick:()=>I(G),className:"p-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 rounded-lg transition-all shadow-sm",title:"Dzenle",children:l.jsx(Mr,{size:14})}),l.jsx("button",{onClick:()=>V(G),className:"p-1.5 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40 rounded-lg transition-all shadow-sm",title:"Sil",children:l.jsx($t,{size:14})})]})]})]},G.id)})})]}),l.jsxs("button",{onClick:f,className:"fixed bottom-10 right-10 w-20 h-20 bg-indigo-600 text-white rounded-[2rem] shadow-2xl shadow-indigo-600/30 flex flex-col items-center justify-center gap-1 group hover:scale-110 active:scale-95 transition-all z-40",children:[l.jsx(zr,{size:32,className:"group-hover:rotate-90 transition-transform duration-300"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"lem"})]}),(g||m)&&l.jsx(g5,{vault:m||void 0,initialType:"CREDIT_CARD",onClose:()=>{b(!1),p(null)},onSave:G=>{m?z(G):(e(pe=>[...pe,{...G,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),b(!1))}}),w&&l.jsx(g5,{initialType:"BANK",onClose:()=>_(!1),onSave:G=>{e(pe=>[...pe,{...G,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),_(!1)}}),R&&l.jsx(ene,{card:R,vaults:t.filter(G=>G.type!=="CREDIT_CARD"),onClose:()=>U(null),onConfirm:(G,pe)=>{c(G,R.id,pe),U(null)}}),L&&l.jsx(tne,{vault:L,transactions:r,contacts:s,onClose:()=>B(null)}),P&&l.jsx(nne,{vault:P,onClose:()=>M(null),onConfirm:()=>le(P.id)}),$&&l.jsx(rne,{transaction:$,onClose:()=>V(null),onConfirm:()=>{n($.id),V(null)}}),T&&l.jsx(Zf,{contact:s.find(G=>G.id===T.contactId)||{id:"",name:"Genel lem",phone:"",type:"CUSTOMER",balance:0},vaults:t,onClose:()=>I(null),initialData:T,onSave:G=>{a(T.id,G),I(null)}})]})},g5=({onClose:t,onSave:e,vault:r,initialType:n})=>{const[a,s]=k.useState((r==null?void 0:r.name)||""),[c,d]=k.useState((r==null?void 0:r.type)||n||"CASH"),[f,m]=k.useState((r==null?void 0:r.limit)||""),[p,g]=k.useState((r==null?void 0:r.cardHolderName)||""),[b,w]=k.useState((r==null?void 0:r.cardNumber)||""),[_,E]=k.useState((r==null?void 0:r.expiryDate)||""),[N,C]=k.useState((r==null?void 0:r.cvc)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] overflow-y-auto custom-scrollbar max-h-[90vh] p-6 sm:p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Hesab Dzenle":"Yeni Hesap/Kart"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Hesap Tr"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{id:"CASH",label:"Nakit",icon:uh},{id:"BANK",label:"Banka",icon:_i},{id:"POS",label:"POS",icon:Ea},{id:"CREDIT_CARD",label:"K. Kart",icon:Ea}].map(S=>l.jsxs("button",{disabled:!!r,onClick:()=>d(S.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${c===S.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-gray-50 dark:bg-slate-900 border-transparent text-gray-400"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(S.icon,{size:18}),l.jsx("span",{className:"text-[9px] font-bold uppercase",children:S.label})]},S.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"sim / Aklama"}),l.jsx("input",{placeholder:"rn: Nakit Kasa, Akbank...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:a,onChange:S=>s(S.target.value),autoFocus:!0})]}),c==="CREDIT_CARD"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Limiti ()"}),l.jsx("input",{type:"number",placeholder:"20000",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600",value:f,onChange:S=>m(S.target.value)})]}),(c==="CREDIT_CARD"||c==="BANK")&&l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Sahibi Ad Soyad"}),l.jsx("input",{type:"text",placeholder:"rn: MEHMET Z",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200 uppercase",value:p,onChange:S=>g(S.target.value.toLocaleUpperCase("tr-TR"))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Numaras"}),l.jsx("input",{type:"text",placeholder:"**** **** **** ****",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:b,onChange:S=>w(S.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Son Kullanma (AA/YY)"}),l.jsx("input",{type:"text",placeholder:"12/25",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:_,onChange:S=>E(S.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"CVC"}),l.jsx("input",{type:"text",placeholder:"***",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:N,onChange:S=>C(S.target.value),maxLength:4})]})]})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!a.trim(),onClick:()=>e({name:a,type:c,limit:c==="CREDIT_CARD"?Number(f):void 0,cardHolderName:c==="CREDIT_CARD"||c==="BANK"?p.trim():void 0,cardNumber:c==="CREDIT_CARD"||c==="BANK"?b:void 0,expiryDate:c==="CREDIT_CARD"||c==="BANK"?_:void 0,cvc:c==="CREDIT_CARD"||c==="BANK"?N:void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},ene=({card:t,vaults:e,onClose:r,onConfirm:n})=>{var f;const[a,s]=k.useState(((f=e[0])==null?void 0:f.id)||""),[c,d]=k.useState(Math.abs(t.balance));return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-amber-600 mb-6 italic",children:"Bor deme"}),l.jsxs("p",{className:"text-xs font-bold text-gray-400 mb-6",children:[t.name," kart iin deme yapyorsunuz."]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"deme Yaplacak Kaynak"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:m=>s(m.target.value),children:e.map(m=>l.jsxs("option",{value:m.id,children:[m.name," (",m.balance.toLocaleString("tr-TR")," )"]},m.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"deme Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-emerald-600 text-2xl text-center",value:c,onChange:m=>d(m.target.value)})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"Vazge"}),l.jsx("button",{disabled:!c||Number(c)<=0,onClick:()=>n(a,Number(c)),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},tne=({vault:t,transactions:e,contacts:r,onClose:n})=>{const a=k.useMemo(()=>e.filter(s=>s.vaultId===t.id).sort((s,c)=>new Date(c.date).getTime()-new Date(s.date).getTime()),[e,t.id]);return l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] shadow-2xl flex flex-col max-h-[80vh] overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-indigo-600",children:t.name}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"lem Gemii"})]}),l.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors bg-white dark:bg-slate-800 rounded-full shadow-sm",children:l.jsx(Er,{size:20})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar",children:a.length===0?l.jsxs("div",{className:"p-12 text-center text-gray-400 opacity-50 flex flex-col items-center gap-4",children:[l.jsx(na,{size:48}),l.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"lem bulunamad"})]}):l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map(s=>{const c=r.find(f=>f.id===s.contactId),d=c?c.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${s.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:s.type==="INCOME"?l.jsx(Ro,{size:20}):l.jsx(Mo,{size:20})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm leading-tight text-slate-800 dark:text-slate-200",children:d}),l.jsx("p",{className:"text-[10px] font-medium text-gray-500 mt-0.5",children:s.description}),l.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(na,{size:10,className:"opacity-60"})," ",new Date(s.date).toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:`font-black text-sm shrink-0 ${s.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[s.type==="INCOME"?"+":"-",s.amount.toLocaleString("tr-TR")," "]})]},s.id)})})})]})})},rne=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx($t,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),nne=({vault:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Hesab Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:['"',t.name,'" hesab silinecektir.']})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl text-xs uppercase",children:"Evet, Sil"})]})]})}),ane=({transactions:t,vaults:e,onBack:r,onDeleteTransaction:n,onUpdateTransaction:a,contacts:s})=>{const[c,d]=k.useState(""),[f,m]=k.useState("ALL"),[p,g]=k.useState(""),[b,w]=k.useState(null),[_,E]=k.useState(null),N=k.useMemo(()=>t.filter(S=>{const P=S.description.toLowerCase().includes(c.toLowerCase()),M=f==="ALL"||S.type===f,$=!p||S.date.startsWith(p);return P&&M&&$}),[t,c,f,p]),C=k.useMemo(()=>{const S=N.filter(M=>M.type==="INCOME"&&!M.isStartingBalance).reduce((M,$)=>M+$.amount,0),P=N.filter(M=>M.type==="EXPENSE"&&!M.isStartingBalance).reduce((M,$)=>M+$.amount,0);return{income:S,expense:P,net:S-P}},[N]);return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-2.5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Tm lemler"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Gelimi Filtreleme"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Il,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Gelir"}),l.jsxs("p",{className:"text-xl font-black text-emerald-500",children:[C.income.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(fu,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Gider"}),l.jsxs("p",{className:"text-xl font-black text-rose-500",children:[C.expense.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(FL,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Net"}),l.jsxs("p",{className:"text-xl font-black text-indigo-600",children:[C.net.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"lem aklamas ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:c,onChange:S=>d(S.target.value)})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(na,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"date",className:"pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:p,onChange:S=>g(S.target.value)})]}),l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent",children:["ALL","INCOME","EXPENSE"].map(S=>l.jsx("button",{onClick:()=>m(S),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f===S?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:S==="ALL"?"Tm":S==="INCOME"?"Gelir":"Gider"},S))})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:N.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(Er,{size:48}),"Filtrelere uygun ilem bulunamad."]}):N.map(S=>{const P=e.find(V=>V.id===S.vaultId),M=s.find(V=>V.id===S.contactId),$=M?M.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${S.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:S.type==="INCOME"?l.jsx(Ro,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:$}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:S.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(na,{size:12,className:"opacity-60"})," ",new Date(S.date).toLocaleString("tr-TR"),l.jsx("span",{className:"opacity-30 mx-1",children:"|"}),(P==null?void 0:P.type)==="CREDIT_CARD"?l.jsx(Ea,{size:12,className:"text-amber-500"}):l.jsx(ps,{size:12}),P==null?void 0:P.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${S.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[S.type==="INCOME"?"+":"-",S.amount.toLocaleString("tr-TR")," "]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>w(S),className:"p-2 text-gray-300 hover:text-indigo-500 rounded-lg transition-all",children:l.jsx(Mr,{size:16})}),l.jsx("button",{onClick:()=>E(S),className:"p-2 text-gray-300 hover:text-rose-500 rounded-lg transition-all",children:l.jsx($t,{size:16})})]})]})]},S.id)})})}),b&&l.jsx(Zf,{contact:s.find(S=>S.id===b.contactId)||{id:"",name:"Genel lem",phone:"",type:"CUSTOMER",balance:0},vaults:e,onClose:()=>w(null),initialData:b,onSave:S=>{a(b.id,S),w(null)}}),_&&l.jsx(ine,{transaction:_,onClose:()=>E(null),onConfirm:()=>{n(_.id),E(null)}})]})},ine=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx($t,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),sne=({vaults:t,contacts:e,onBack:r,onSave:n})=>{var R;const[a,s]=k.useState("INCOME"),[c,d]=k.useState(!1),[f,m]=k.useState(""),[p,g]=k.useState(((R=t[0])==null?void 0:R.id)||""),[b,w]=k.useState(""),[_,E]=k.useState(""),[N,C]=k.useState(""),[S,P]=k.useState(!1),[M,$]=k.useState(new Date().toISOString().split("T")[0]),V=k.useMemo(()=>e.filter(U=>U.name.toLowerCase().includes(N.toLowerCase())||U.phone.includes(N)).sort((U,L)=>U.name.localeCompare(L.name,"tr-TR")),[e,N]),T=k.useMemo(()=>e.find(U=>U.id===_),[e,_]),I=()=>{if(!f||Number(f)<=0)return alert("Ltfen geerli bir tutar giriniz.");if(!c&&!p)return alert("Ltfen bir kasa/banka seiniz.");const U=b.trim()||`${T?T.name.toLocaleUpperCase("tr-TR"):"Genel"} ${c?"Cari lem":a==="INCOME"?"Gelir":"Gider"}`;n({type:a,amount:Number(f),vaultId:c?"":p,description:U,contactId:_||void 0,isCredit:c,isSale:!1,date:M})};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Yeni lem Kayd"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Kasa & Cari Hareket Girii"})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Tr"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-1.5 rounded-[1.8rem] flex gap-2 border border-gray-100 dark:border-slate-800 shadow-inner",children:[l.jsx("button",{onClick:()=>d(!1),className:`flex-1 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${c?"text-gray-400":"bg-white dark:bg-slate-800 text-indigo-600 shadow-md"}`,children:"Kasa Giri/k"}),l.jsx("button",{onClick:()=>d(!0),className:`flex-1 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${c?"bg-white dark:bg-slate-800 text-amber-600 shadow-md":"text-gray-400"}`,children:"Cari lem"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>s("INCOME"),className:`flex flex-col items-center gap-3 p-6 rounded-[2rem] border-2 transition-all group ${a==="INCOME"?"bg-emerald-500 border-emerald-500 text-white shadow-xl shadow-emerald-500/20":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-emerald-200"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${a==="INCOME"?"bg-white/20":"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 group-hover:scale-110 transition-transform"}`,children:l.jsx(Ro,{size:28})}),l.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:c?"Borlandr (Art)":"Gelir / Tahsilat"})]}),l.jsxs("button",{onClick:()=>s("EXPENSE"),className:`flex flex-col items-center gap-3 p-6 rounded-[2rem] border-2 transition-all group ${a==="EXPENSE"?"bg-rose-500 border-rose-500 text-white shadow-xl shadow-rose-500/20":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-rose-200"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${a==="EXPENSE"?"bg-white/20":"bg-rose-50 dark:bg-rose-900/20 text-rose-500 group-hover:scale-110 transition-transform"}`,children:l.jsx(Mo,{size:28})}),l.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:c?"Alacaklandr (Azal)":"Gider / deme"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:M,onChange:U=>$(U.target.value)})]}),!c&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Kasa / Banka"}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm appearance-none",value:p,onChange:U=>g(U.target.value),children:t.map(U=>l.jsxs("option",{value:U.id,children:[U.name," (",U.balance.toLocaleString("tr-TR")," )"]},U.id))})]})]}),l.jsxs("div",{className:`space-y-2 ${c?"md:col-span-1":"md:col-span-2"}`,children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:`w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-black text-2xl transition-all text-center ${a==="INCOME"?"text-emerald-500":"text-rose-500"}`,value:f,onChange:U=>m(U.target.value),autoFocus:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lgili Kii / Hesap (Opsiyonel)"}),l.jsxs("div",{onClick:()=>P(!0),className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-200 cursor-pointer flex items-center justify-between transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pl,{size:20,className:"text-gray-400"}),l.jsx("span",{className:`font-bold text-sm ${T?"text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:T?`${T.name.toLocaleUpperCase("tr-TR")} (${T.balance.toLocaleString("tr-TR")} )`:"Bir kii sein..."})]}),T?l.jsx("button",{onClick:U=>{U.stopPropagation(),E("")},className:"p-1.5 bg-gray-200 dark:bg-slate-800 rounded-lg text-gray-500 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:14})}):l.jsx(Zw,{size:16,className:"text-gray-300"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Aklamas"}),l.jsx("textarea",{rows:2,placeholder:"lem detaylarn buraya yazn...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm resize-none transition-all",value:b,onChange:U=>w(U.target.value)})]}),l.jsxs("button",{onClick:I,disabled:!f||Number(f)<=0,className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-2xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-lg uppercase tracking-widest disabled:opacity-50",children:[l.jsx(tc,{size:24})," Kayd Tamamla"]})]})}),S&&l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] overflow-hidden flex flex-col max-h-[80vh] border border-gray-100 dark:border-slate-700 shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsx("h3",{className:"text-xl font-black text-indigo-600 italic",children:"Kii / Hesap Sein"}),l.jsx("button",{onClick:()=>P(!1),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"relative group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500",size:18}),l.jsx("input",{type:"text",placeholder:"sim veya telefon ile ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:N,onChange:U=>C(U.target.value),autoFocus:!0})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 space-y-2 custom-scrollbar",children:V.length===0?l.jsx("div",{className:"py-12 text-center text-gray-400 italic font-bold opacity-50",children:"Eleen kayt bulunamad."}):V.map(U=>l.jsxs("div",{onClick:()=>{E(U.id),P(!1)},className:`p-4 rounded-2xl border-2 flex items-center justify-between transition-all cursor-pointer ${_===U.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500":"bg-white dark:bg-slate-900 border-gray-50 dark:border-slate-800 hover:border-indigo-200"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-sm",children:U.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:U.phone})]}),l.jsxs("div",{className:"text-right flex items-center gap-3",children:[l.jsx("div",{className:"text-[10px] font-black uppercase text-gray-400 mr-1",children:U.type==="CUSTOMER"?"Mteri":U.type==="SUPPLIER"?"Tedariki":"Personel"}),l.jsxs("div",{className:`font-black text-sm ${U.balance>0?"text-emerald-500":U.balance<0?"text-rose-500":"text-gray-300"}`,children:[U.balance.toLocaleString("tr-TR")," "]}),_===U.id&&l.jsx(Jw,{size:18,className:"text-indigo-500"})]})]},U.id))})]})})]})},y5=({products:t,onSelectProduct:e,onAddProduct:r,groups:n,setProductGroups:a,setProducts:s})=>{const[c,d]=k.useState(""),[f,m]=k.useState("ALL"),[p,g]=k.useState(!1),[b,w]=k.useState(!1),[_,E]=k.useState(null),N=k.useMemo(()=>t.filter(P=>{const M=P.name.toLowerCase().includes(c.toLowerCase())||P.barcode.includes(c),$=f==="ALL"||P.groupId===f;return M&&$}).sort((P,M)=>P.name.localeCompare(M.name,"tr-TR")),[t,c,f]),C=k.useMemo(()=>{var T;const P=f==="ALL"?t:t.filter(I=>I.groupId===f);let M=P.length,$=P.reduce((I,R)=>I+Math.max(0,R.stock),0);const V=f==="ALL"?"Tm rnler":((T=n.find(I=>I.id===f))==null?void 0:T.name)||"Genel";return{varieties:M,stock:$,name:V}},[t,f,n]),S=()=>{_&&(s(P=>P.filter(M=>M.id!==_.id)),E(null))};return l.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative w-full sm:w-96 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"rn ad veya barkod ara...",className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm transition-all",value:c,onChange:P=>d(P.target.value)})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/10 rounded-2xl font-bold shadow-sm active:scale-95 transition-all text-xs",title:"Toplu Fiyat Gncelle",children:[l.jsx(Il,{size:20}),l.jsx("span",{className:"hidden lg:inline",children:"Fiyat Gncelle"})]}),l.jsx("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-500 hover:text-indigo-600 rounded-2xl font-bold shadow-sm active:scale-95 transition-all text-xs",title:"Gruplar Ynet",children:l.jsx(eI,{size:20})}),l.jsxs("button",{onClick:r,className:"flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zr,{size:20})," Yeni rn Ekle"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2 hide-scrollbar",children:[l.jsxs("button",{onClick:()=>m("ALL"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${f==="ALL"?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-indigo-200"}`,children:[l.jsx(hs,{size:16})," Hepsi"]}),n.map(P=>l.jsx("button",{onClick:()=>m(P.id),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${f===P.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-indigo-200"}`,children:P.name},P.id))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between bg-white dark:bg-slate-800 p-4 sm:px-6 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-sm gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-lg flex items-center justify-center shrink-0",children:l.jsx(hs,{size:16})}),l.jsx("h3",{className:"font-black text-sm uppercase tracking-widest text-slate-700 dark:text-slate-200",children:C.name})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-[10px] sm:text-xs font-black uppercase tracking-widest bg-gray-50 dark:bg-slate-900 px-3 sm:px-4 py-2 rounded-xl border border-gray-100 dark:border-slate-800 self-start sm:self-auto",children:[l.jsxs("span",{className:"text-indigo-500",children:[C.varieties," eit"]}),l.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),l.jsxs("span",{className:"text-emerald-500",children:[C.stock.toLocaleString("tr-TR")," Stok"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map(P=>{var $;const M=(($=n.find(V=>V.id===P.groupId))==null?void 0:$.name)||"Genel";return l.jsxs("div",{onClick:()=>e(P.id),className:"bg-white dark:bg-slate-800 p-5 rounded-3xl border border-gray-200 dark:border-slate-700 shadow-sm hover:shadow-xl hover:shadow-indigo-500/5 transition-all group cursor-pointer flex gap-5 items-center relative overflow-hidden",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-gray-400 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 group-hover:text-indigo-500 transition-colors shrink-0",children:l.jsx(ja,{size:32})}),l.jsxs("div",{className:"flex-1 min-w-0 py-1 mt-3 sm:mt-0",children:[l.jsx("p",{className:"text-[9px] font-black text-indigo-500 dark:text-indigo-400 uppercase tracking-[0.2em] mb-1",children:M}),l.jsx("h4",{className:"font-black text-lg truncate mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors leading-tight",children:P.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-black",children:[l.jsx(xn,{size:14}),l.jsxs("span",{children:[P.price.toLocaleString("tr-TR"),"  / ",P.unit]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-[10px] font-black uppercase tracking-tight ${P.stock<20?"bg-rose-50 text-rose-500 dark:bg-rose-900/20":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20"}`,children:[l.jsx(Pf,{size:12}),"Stok: ",P.stock," ",P.unit]})})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 shrink-0 relative z-20",children:[l.jsx("button",{onClick:V=>{V.stopPropagation(),E(P)},className:"p-2 text-gray-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",title:"rn Sil",children:l.jsx($t,{size:20})}),l.jsx("div",{className:"text-gray-300 group-hover:text-indigo-400 transform group-hover:translate-x-1 transition-all flex justify-center",children:l.jsx(In,{size:24})})]})]},P.id)})}),N.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-4 opacity-50",children:[l.jsx(ja,{size:64}),l.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Eleen rn bulunamad"})]}),p&&l.jsx(lne,{groups:n,setGroups:a,setProducts:s,onClose:()=>g(!1)}),b&&l.jsx(one,{groups:n,onUpdate:P=>{s(M=>M.map($=>{if(P.targetGroupId==="ALL"||$.groupId===P.targetGroupId){let T=$.price;const I=P.value;if(P.type==="PERCENT"){const R=$.price*I/100;T=P.operation==="INCREASE"?$.price+R:$.price-R}else T=P.operation==="INCREASE"?$.price+I:$.price-I;return{...$,price:Math.max(0,T)}}return $})),w(!1)},onClose:()=>w(!1)}),_&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"rn Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',_.name.toLocaleUpperCase("tr-TR"),'"']})," isimli rn kalc olarak silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>E(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:S,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},one=({groups:t,onClose:e,onUpdate:r})=>{var _;const[n,a]=k.useState("INCREASE"),[s,c]=k.useState("PERCENT"),[d,f]=k.useState(""),[m,p]=k.useState("ALL"),[g,b]=k.useState(!1),w=()=>{if(!d||Number(d)<=0)return alert("Ltfen geerli bir tutar girin.");b(!0)};return g?l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-amber-100 dark:border-amber-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black italic",children:"Fiyatlar Gncellensin mi?"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsx("span",{className:"font-bold text-indigo-600",children:m==="ALL"?"Tm rnler":(_=t.find(E=>E.id===m))==null?void 0:_.name})," grubundaki rnlerin fiyatlar ",l.jsx("span",{className:"font-bold text-amber-600",children:n==="INCREASE"?"artrlacaktr":"azaltlacaktr"}),".",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz. Devam etmek istiyor musunuz?"]})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:()=>r({operation:n,type:s,value:Number(d),targetGroupId:m}),className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Gncelle"})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-2 sm:p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 flex flex-col max-h-[95vh]",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("h3",{className:"text-xl font-black text-indigo-600 flex items-center gap-3 italic",children:[l.jsx(UL,{size:24})," Toplu Fiyat Gncelle"]}),l.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsxs("div",{className:"p-6 sm:p-8 space-y-8 flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"lem Yn"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>a("INCREASE"),className:`flex items-center justify-center gap-2 py-4 rounded-2xl border-2 transition-all font-black text-xs uppercase tracking-widest ${n==="INCREASE"?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:[l.jsx(Il,{size:18})," Zam Yap"]}),l.jsxs("button",{onClick:()=>a("DECREASE"),className:`flex items-center justify-center gap-2 py-4 rounded-2xl border-2 transition-all font-black text-xs uppercase tracking-widest ${n==="DECREASE"?"bg-rose-500 border-rose-500 text-white shadow-lg":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:[l.jsx(fu,{size:18})," ndirim Yap"]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Hesaplama Tr"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>c("PERCENT"),className:`flex items-center justify-center gap-2 py-4 rounded-2xl border-2 transition-all font-black text-xs uppercase tracking-widest ${s==="PERCENT"?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:[l.jsx(Z4,{size:18})," Yzde (%)"]}),l.jsxs("button",{onClick:()=>c("AMOUNT"),className:`flex items-center justify-center gap-2 py-4 rounded-2xl border-2 transition-all font-black text-xs uppercase tracking-widest ${s==="AMOUNT"?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:[l.jsx(xn,{size:18})," Sabit Tutar (TL)"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Uygulanacak rn Grubu"}),l.jsxs("div",{className:"relative",children:[l.jsx(hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsxs("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm appearance-none",value:m,onChange:E=>p(E.target.value),children:[l.jsx("option",{value:"ALL",children:"Tm rnler"}),t.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Uygulanacak Deer"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",placeholder:s==="PERCENT"?"rn: 10":"rn: 50",className:"w-full p-6 bg-gray-50 dark:bg-slate-900 rounded-[2rem] border-4 border-transparent focus:border-indigo-500 outline-none font-black text-3xl transition-all text-center placeholder:text-slate-300",value:d,onChange:E=>f(E.target.value)}),l.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300",children:s==="PERCENT"?"%":""})]}),l.jsx("p",{className:"text-center text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-2",children:n==="INCREASE"?"Fiyatlara Eklenecek":"Fiyatlardan Dlecek"})]})]}),l.jsxs("div",{className:"p-6 sm:p-8 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:w,className:`flex-[2] py-5 rounded-3xl font-black shadow-xl active:scale-95 transition-all text-sm uppercase tracking-widest italic flex items-center justify-center gap-3 ${n==="INCREASE"?"bg-indigo-600 shadow-indigo-600/20 text-white":"bg-rose-50 shadow-rose-500/20 text-white"}`,children:"Fiyatlar Gncelle"})]})]})})},lne=({groups:t,setGroups:e,setProducts:r,onClose:n})=>{const[a,s]=k.useState(""),[c,d]=k.useState(null),[f,m]=k.useState(""),[p,g]=k.useState(null),b=()=>{if(!a.trim())return;const E={id:"g"+Math.random().toString(36).substr(2,9),name:a.trim()};e(N=>[...N,E]),s("")},w=()=>{if(!p)return;const E=p.id;e(N=>N.filter(C=>C.id!==E)),r(N=>N.map(C=>C.groupId===E?{...C,groupId:void 0}:C)),g(null)},_=E=>{f.trim()&&(e(N=>N.map(C=>C.id===E?{...C,name:f.trim()}:C)),d(null))};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-2 sm:p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2rem] sm:rounded-[2.5rem] shadow-2xl animate-in zoom-in duration-200 overflow-hidden border border-gray-100 dark:border-slate-700 flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-5 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("h3",{className:"text-lg sm:text-xl font-black text-indigo-600 flex items-center gap-3 italic truncate pr-4",children:[l.jsx(hs,{size:24,className:"shrink-0"})," rn Gruplar"]}),l.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors shrink-0",children:l.jsx(Er,{size:24})})]}),l.jsxs("div",{className:"p-5 sm:p-8 space-y-6 flex-1 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Yeni Grup Olutur"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{className:"flex-1 p-3 sm:p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-xl sm:rounded-2xl outline-none font-bold transition-all text-sm min-w-0",placeholder:"Grup ismi...",value:a,onChange:E=>s(E.target.value),onKeyDown:E=>E.key==="Enter"&&b()}),l.jsx("button",{onClick:b,className:"px-4 sm:px-6 bg-indigo-600 text-white rounded-xl sm:rounded-2xl font-black active:scale-95 transition-all text-xs uppercase tracking-widest shadow-lg shadow-indigo-600/20 shrink-0",children:"Ekle"})]})]}),l.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 block mb-2",children:["Kaytl Gruplar (",t.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map(E=>l.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-slate-900 rounded-xl sm:rounded-2xl border border-transparent hover:border-indigo-200 transition-all group",children:[c===E.id?l.jsx("input",{className:"flex-1 bg-white dark:bg-slate-800 p-2 rounded-lg font-bold text-sm outline-none border-2 border-indigo-500 min-w-0",value:f,onChange:N=>m(N.target.value),autoFocus:!0,onKeyDown:N=>N.key==="Enter"&&_(E.id)}):l.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-200 truncate pr-2",children:E.name}),l.jsx("div",{className:"flex gap-1 shrink-0",children:c===E.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>_(E.id),className:"p-2 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-xl transition-all",children:l.jsx(tc,{size:18})}),l.jsx("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-all",children:l.jsx(Er,{size:18})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{d(E.id),m(E.name)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-all sm:opacity-0 group-hover:opacity-100",children:l.jsx(Mr,{size:16})}),l.jsx("button",{onClick:()=>g(E),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all sm:opacity-0 group-hover:opacity-100",children:l.jsx($t,{size:16})})]})})]},E.id))})]})]}),l.jsx("div",{className:"p-5 sm:p-8 bg-gray-50 dark:bg-slate-900/50",children:l.jsx("button",{onClick:n,className:"w-full py-3 sm:py-4 bg-white dark:bg-slate-800 text-gray-500 dark:text-slate-300 rounded-xl sm:rounded-2xl font-black uppercase tracking-widest text-xs border border-gray-100 dark:border-slate-700 active:scale-[0.98] transition-all",children:"Kapat"})}),p&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Grubu Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',p.name,'"']})," grubunu silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu gruba ait rnler otomatik olarak ",l.jsx("span",{className:"font-bold text-indigo-600",children:"Genel"})," kategorisine tanacaktr."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>g(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:w,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})})},cne=({bills:t,setBills:e,onPay:r,vaults:n})=>{const[a,s]=k.useState(""),[c,d]=k.useState(!1),[f,m]=k.useState(null),[p,g]=k.useState(null),[b,w]=k.useState(null),_=k.useMemo(()=>t.filter(C=>C.name.toLowerCase().includes(a.toLowerCase())||C.institution.toLowerCase().includes(a.toLowerCase())||C.subscriberNumber.includes(a)).sort((C,S)=>C.status==="UNPAID"&&S.status==="PAID"?-1:C.status==="PAID"&&S.status==="UNPAID"?1:0),[t,a]),E=k.useMemo(()=>{const C=t.filter(P=>P.status==="UNPAID").reduce((P,M)=>P+M.amount+(M.amount2||0),0),S=t.filter(P=>P.status==="PAID").reduce((P,M)=>P+M.amount+(M.amount2||0),0);return{unpaidTotal:C,paidTotal:S}},[t]),N=C=>{e(S=>S.map(P=>P.id===C.id?C:P)),m(null),g(null)};return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(yg,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bekleyen Toplam"}),l.jsxs("p",{className:"text-2xl font-black text-amber-600",children:[E.unpaidTotal.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Vl,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bu Ay denen"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:[E.paidTotal.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white dark:bg-slate-800 p-4 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"relative flex-1 group w-full",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Fatura, Kurum veya Abone No ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:a,onChange:C=>s(C.target.value)})]}),l.jsxs("button",{onClick:()=>d(!0),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zr,{size:18})," Yeni Fatura Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.length===0?l.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(Rf,{size:64}),"Henz eklenmi fatura bulunmuyor."]}):_.map(C=>{var M;const S=C.amount+(C.amount2||0),P=C.status==="PAID";return l.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border-2 shadow-sm hover:shadow-xl transition-all group relative overflow-hidden ${P?"border-emerald-500/20":"border-gray-100 dark:border-slate-700"}`,children:[P&&l.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-emerald-500/10 flex items-center justify-center rounded-full",children:l.jsx(Vl,{size:32,className:"text-emerald-500 translate-x-[-10px] translate-y-[10px]"})}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${P?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-amber-50 dark:bg-amber-900/20 text-amber-500"}`,children:l.jsx(_i,{size:24})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:"font-black text-lg truncate group-hover:text-indigo-600 transition-colors",children:C.name}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest truncate",children:C.institution})]}),l.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:()=>m(C),className:"p-2 text-gray-400 hover:text-indigo-600 rounded-lg",children:l.jsx(Mr,{size:16})})})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(j8,{size:16,className:"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:"Abone No:"}),l.jsx("span",{className:"text-slate-900 dark:text-white",children:C.subscriberNumber})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(na,{size:16,className:"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:P?"deme Tarihi:":"Son deme:"}),l.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(P?C.paidDate:C.dueDate).toLocaleDateString("tr-TR")})]}),C.amount2!==void 0&&C.amount2>0&&l.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase text-amber-600 bg-amber-50 dark:bg-amber-900/10 p-2 rounded-xl",children:[l.jsx("span",{children:"2. Dnem Borcu"}),l.jsxs("span",{children:[C.amount2.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-end justify-between pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:P?"denen Tutar":"Toplam Tutar"}),l.jsxs("p",{className:`text-3xl font-black ${P?"text-emerald-600 dark:text-emerald-400":"text-amber-600"}`,children:[S.toLocaleString("tr-TR")," "]})]}),P?l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsxs("button",{onClick:()=>g(C),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase shadow-lg shadow-indigo-600/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(Mf,{size:12})," Yeni Dnem"]}),l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-50 dark:bg-slate-900 rounded-full border border-gray-100 dark:border-slate-700",children:[l.jsx(ps,{size:12,className:"text-emerald-500"}),l.jsx("span",{className:"text-[10px] font-bold",children:(M=n.find($=>$.id===C.vaultId))==null?void 0:M.name})]})]}):l.jsxs("div",{className:"flex flex-col items-end gap-2 w-full max-w-[140px]",children:[l.jsxs("button",{onClick:()=>g(C),className:"w-full flex items-center justify-center gap-1.5 px-4 py-2 bg-amber-500 text-white rounded-xl text-[10px] font-black uppercase shadow-lg shadow-amber-500/20 active:scale-95 transition-all",children:[l.jsx(zr,{size:14})," Bor Ekle"]}),l.jsx("button",{onClick:()=>w(C),className:"w-full px-4 py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-600/20 active:scale-95 transition-all",children:"imdi de"})]})]}),l.jsx("button",{onClick:()=>e($=>$.filter(V=>V.id!==C.id)),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx($t,{size:16})})]},C.id)})}),c&&l.jsx(x5,{onClose:()=>d(!1),onSave:C=>{e(S=>[{...C,id:Math.random().toString(36).substr(2,9),status:"UNPAID"},...S]),d(!1)}}),f&&l.jsx(x5,{bill:f,onClose:()=>m(null),onSave:C=>N({...f,...C})}),p&&l.jsx(une,{bill:p,onClose:()=>g(null),onSave:C=>N({...p,...C,status:"UNPAID",paidDate:void 0,vaultId:void 0})}),b&&l.jsx(dne,{bill:b,vaults:n,onClose:()=>w(null),onConfirm:C=>{r(b.id,C),w(null)}})]})},x5=({onClose:t,onSave:e,bill:r})=>{var s,c;const[n,a]=k.useState({name:(r==null?void 0:r.name)||"",institution:(r==null?void 0:r.institution)||"",subscriberNumber:(r==null?void 0:r.subscriberNumber)||"",amount:((s=r==null?void 0:r.amount)==null?void 0:s.toString())||"",amount2:((c=r==null?void 0:r.amount2)==null?void 0:c.toString())||"",dueDate:(r==null?void 0:r.dueDate)||new Date().toISOString().split("T")[0]});return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Faturay Dzenle":"Yeni Fatura Kayd"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Fatura Ad (rn: Ocak Elektrik)"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Fatura aklamas...",value:n.name,onChange:d=>a({...n,name:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kurum Ad (rn: EnerjiSA, SK)"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Kurum ad...",value:n.institution,onChange:d=>a({...n,institution:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Abone Numaras"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Abone no...",value:n.subscriberNumber,onChange:d=>a({...n,subscriberNumber:d.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"1. Dnem Borcu ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600 transition-all text-sm",placeholder:"0.00",value:n.amount,onChange:d=>a({...n,amount:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"2. Dnem Borcu ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-rose-500 transition-all text-sm",placeholder:"Opsiyonel",value:n.amount2,onChange:d=>a({...n,amount2:d.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Vade / Son deme"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:n.dueDate,onChange:d=>a({...n,dueDate:d.target.value})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!n.name||!n.institution||!n.amount,onClick:()=>e({...n,amount:Number(n.amount),amount2:n.amount2?Number(n.amount2):void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},une=({bill:t,onClose:e,onSave:r})=>{var p;const n=t.status==="UNPAID",[a,s]=k.useState(n?t.amount.toString():""),[c,d]=k.useState(n&&((p=t.amount2)==null?void 0:p.toString())||""),[f,m]=k.useState(n?t.dueDate:new Date().toISOString().split("T")[0]);return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-12 h-12 ${n?"bg-amber-50 dark:bg-amber-900/20 text-amber-600":"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600"} rounded-2xl flex items-center justify-center`,children:n?l.jsx(t8,{size:24}):l.jsx(Mf,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase italic tracking-tighter",children:n?"Bor Gncelleme":"Yeni Dnem Borcu"}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[t.institution," - ",t.name]})]})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"1. Dnem Borcu ()"}),l.jsx("input",{type:"number",placeholder:"0.00",autoFocus:!n,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-emerald-500 outline-none font-black text-xl text-emerald-600 transition-all text-center",value:a,onChange:g=>s(g.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"2. Dnem Borcu (Opsiyonel)"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-amber-500 outline-none font-black text-xl text-amber-600 transition-all text-center",value:c,onChange:g=>d(g.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Vade Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all",value:f,onChange:g=>m(g.target.value)})]})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{disabled:!a||Number(a)<=0,onClick:()=>r({amount:Number(a),amount2:c?Number(c):0,dueDate:f}),className:`flex-[2] py-4 ${n?"bg-amber-600":"bg-indigo-600"} text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-[10px] uppercase tracking-widest disabled:opacity-50`,children:n?"Bilgileri Gncelle":"Borcu Kaydet"})]})]})})},dne=({bill:t,vaults:e,onClose:r,onConfirm:n})=>{var d;const[a,s]=k.useState(((d=e[0])==null?void 0:d.id)||""),c=t.amount+(t.amount2||0);return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-emerald-600 mb-6 italic",children:"Fatura demesi"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-6 rounded-3xl mb-8 border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:t.institution}),l.jsx("h4",{className:"text-xl font-black mb-4",children:t.name}),l.jsxs("div",{className:"space-y-1",children:[t.amount2!==void 0&&t.amount2>0&&l.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-500",children:[l.jsxs("span",{children:["1. Dnem: ",t.amount.toLocaleString("tr-TR")," "]}),l.jsxs("span",{children:["2. Dnem: ",t.amount2.toLocaleString("tr-TR")," "]})]}),l.jsxs("p",{className:"text-3xl font-black text-emerald-600",children:[c.toLocaleString("tr-TR")," "]})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"denecek Kasa / Banka"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:f=>s(f.target.value),children:e.map(f=>l.jsxs("option",{value:f.id,children:[f.name," (",f.balance.toLocaleString("tr-TR")," )"]},f.id))})]})}),l.jsxs("div",{className:"flex gap-4 mt-10",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>n(a),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},fne=({notes:t,setNotes:e,vaults:r,contacts:n,onPay:a,onUnpay:s,onDelete:c,onUpdate:d})=>{const[f,m]=k.useState(""),[p,g]=k.useState(!1),[b,w]=k.useState(null),[_,E]=k.useState(null),N=k.useMemo(()=>t.filter(S=>{var P;return S.contactName.toLowerCase().includes(f.toLowerCase())||((P=S.description)==null?void 0:P.toLowerCase().includes(f.toLowerCase()))}).sort((S,P)=>S.status==="PENDING"&&P.status==="PAID"?-1:S.status==="PAID"&&P.status==="PENDING"?1:new Date(S.dueDate).getTime()-new Date(P.dueDate).getTime()),[t,f]),C=k.useMemo(()=>{const S=t.filter(M=>M.status==="PENDING").reduce((M,$)=>M+$.amount,0),P=t.filter(M=>M.status==="PAID").reduce((M,$)=>M+$.amount,0);return{pendingTotal:S,paidTotal:P}},[t]);return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(yg,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bekleyen Senetler"}),l.jsxs("p",{className:"text-2xl font-black text-amber-600",children:[C.pendingTotal.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Vl,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"denen Senetler"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:[C.paidTotal.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white dark:bg-slate-800 p-4 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"relative flex-1 group w-full",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Kii veya aklama ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:f,onChange:S=>m(S.target.value)})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zr,{size:18})," Yeni Senet Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.length===0?l.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(j1,{size:64}),"Henz eklenmi senet bulunmuyor."]}):N.map(S=>{const P=S.status==="PAID";return l.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border-2 shadow-sm hover:shadow-xl transition-all group relative overflow-hidden ${P?"border-emerald-500/20":"border-gray-100 dark:border-slate-700"}`,children:[P&&l.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-emerald-500/10 flex items-center justify-center rounded-full",children:l.jsx(w8,{size:32,className:"text-emerald-500 translate-x-[-10px] translate-y-[10px]"})}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${P?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-amber-50 dark:bg-amber-900/20 text-amber-500"}`,children:l.jsx(ku,{size:24})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:"font-black text-lg truncate group-hover:text-indigo-600 transition-colors",children:S.contactName.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest truncate",children:S.description||"Senet demesi"})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[!P&&l.jsx("button",{onClick:()=>w(S),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all",children:l.jsx(Mr,{size:16})}),l.jsx("button",{onClick:()=>c(S.id),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:l.jsx($t,{size:16})})]})]}),l.jsx("div",{className:"space-y-4 mb-8",children:l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(na,{size:16,className:"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:P?"deme Tarihi:":"Vade Tarihi:"}),l.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(P?S.paidDate:S.dueDate).toLocaleDateString("tr-TR")})]})}),l.jsxs("div",{className:"flex items-end justify-between pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:P?"denen":"Senet Tutar"}),l.jsxs("p",{className:`text-3xl font-black ${P?"text-emerald-600 dark:text-emerald-400":"text-amber-600"}`,children:[S.amount.toLocaleString("tr-TR")," "]})]}),P?l.jsxs("button",{onClick:()=>s(S.id),className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all active:scale-95 group/undo",children:[l.jsx(LV,{size:14,className:"group-hover/undo:-rotate-45 transition-transform"})," Geri Al"]}):l.jsx("button",{onClick:()=>E(S),className:"px-6 py-3 bg-emerald-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-600/20 active:scale-95 transition-all",children:"de"})]})]},S.id)})}),p&&l.jsx(b5,{contacts:n,onClose:()=>g(!1),onSave:S=>{e(P=>[{...S,id:Math.random().toString(36).substr(2,9),status:"PENDING"},...P]),g(!1)}}),b&&l.jsx(b5,{contacts:n,note:b,onClose:()=>w(null),onSave:S=>{d({...b,...S}),w(null)}}),_&&l.jsx(hne,{note:_,vaults:r,onClose:()=>E(null),onConfirm:S=>{a(_.id,S),E(null)}})]})},b5=({contacts:t,onClose:e,onSave:r,note:n})=>{const[a,s]=k.useState({contactId:(n==null?void 0:n.contactId)||"",amount:(n==null?void 0:n.amount.toString())||"",dueDate:(n==null?void 0:n.dueDate)||new Date().toISOString().split("T")[0],description:(n==null?void 0:n.description)||""}),c=t.find(d=>d.id===a.contactId);return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:n?"Senet Dzenle":"Yeni Senet Kayd"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kii / Tedariki"}),l.jsxs("select",{disabled:!!n,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm disabled:opacity-50",value:a.contactId,onChange:d=>s({...a,contactId:d.target.value}),children:[l.jsx("option",{value:"",children:"Seiniz..."}),t.slice().sort((d,f)=>d.name.localeCompare(f.name,"tr-TR")).map(d=>l.jsx("option",{value:d.id,children:d.name.toLocaleUpperCase("tr-TR")},d.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Tutar ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600 transition-all text-sm",placeholder:"0.00",value:a.amount,onChange:d=>s({...a,amount:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Vade Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:a.dueDate,onChange:d=>s({...a,dueDate:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Aklama"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"lem detay...",value:a.description,onChange:d=>s({...a,description:d.target.value})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!a.contactId||!a.amount,onClick:()=>r({...a,amount:Number(a.amount),contactName:(c==null?void 0:c.name.toLocaleUpperCase("tr-TR"))||(n==null?void 0:n.contactName.toLocaleUpperCase("tr-TR"))||""}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:n?"Gncelle":"Kayd Tamamla"})]})]})})},hne=({note:t,vaults:e,onClose:r,onConfirm:n})=>{var c;const[a,s]=k.useState(((c=e[0])==null?void 0:c.id)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-emerald-600 mb-6 italic",children:"Senet demesi"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-6 rounded-3xl mb-8 border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:t.contactName.toLocaleUpperCase("tr-TR")}),l.jsx("h4",{className:"text-xl font-black mb-4",children:t.description||"Senet demesi"}),l.jsxs("p",{className:"text-3xl font-black text-emerald-600",children:[t.amount.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"deme Yaplacak Kasa"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:d=>s(d.target.value),children:e.map(d=>l.jsxs("option",{value:d.id,children:[d.name," (",d.balance.toLocaleString("tr-TR")," )"]},d.id))})]}),l.jsxs("div",{className:"flex gap-4 mt-10",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>n(a),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},mne=({contact:t,transactions:e,vaults:r,promissoryNotes:n,firmProfile:a,onBack:s,onPayment:c,onDeleteTransaction:d,onUpdateTransaction:f,onPayPromissoryNote:m,onUnpayPromissoryNote:p,onDeletePromissoryNote:g,onUpdatePromissoryNote:b})=>{const[w,_]=k.useState(!1),[E,N]=k.useState(null),[C,S]=k.useState(null),[P,M]=k.useState(null),[$,V]=k.useState(null),T=J=>J.replace(/\D/g,""),I=()=>{window.location.href=`tel:${T(t.phone)}`},R=()=>{window.open(`https://wa.me/9${T(t.phone)}`,"_blank")},U=()=>{if(!t.address)return alert("Adres bilgisi bulunamad.");window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.address)}`,"_blank")},L=()=>{if(t.balance<=0){alert("Bu mterinin gecikmi bir borcu bulunmamaktadr.");return}const J=`Sayn ${t.name}, ${a.name}'e Gecikmede ${t.balance.toLocaleString("tr-TR")} TL Borcunuz Bulunmaktadr. Ltfen En Ksa Srede deme Yapnz. deme Yaptysanz Bu Mesaj Dikkate Almaynz.

deme Bilgilerimiz:
Alc: ${a.bankAccountHolder}
Banka: ${a.bankName}
IBAN: ${a.iban}`,F=`https://wa.me/9${T(t.phone)}?text=${encodeURIComponent(J)}`;window.open(F,"_blank")},B=()=>{const J=`${a.name} deme Bilgileri:

Alc: ${a.bankAccountHolder}
Banka: ${a.bankName}
IBAN: ${a.iban}`,F=`https://wa.me/9${T(t.phone)}?text=${encodeURIComponent(J)}`;window.open(F,"_blank")},H=J=>{d(J),N(null)},X=()=>{const J=window.open("","_blank");if(!J){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}const F=e.map(le=>{const W=`${le.type==="INCOME"?"+":"-"}${le.amount.toLocaleString("tr-TR")} TL`,ue=new Date(le.date).toLocaleDateString("tr-TR");return`
        <div class="tx-item">
          <div class="tx-desc">${le.description}</div>
          <div class="tx-details">
            <span>${ue}</span>
            <span class="font-bold">${W}</span>
          </div>
        </div>
      `}).join(""),Z=t.balance>0?"SZN BORCUNUZ":t.balance<0?"SZN ALACAINIZ":"KAPALI",fe=Math.abs(t.balance).toLocaleString("tr-TR")+" TL",_e=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Hesap zeti - ${t.name}</title>
        <style>
          @page { margin: 0; size: 80mm auto; }
          body {
            font-family: 'Courier New', Courier, monospace;
            color: #000;
            margin: 0;
            padding: 5mm;
            width: 80mm;
            box-sizing: border-box;
            font-size: 12px;
            line-height: 1.2;
          }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .font-bold { font-weight: bold; }
          .border-bottom { border-bottom: 1px dashed #000; margin-bottom: 5px; padding-bottom: 5px; }
          .flex-between { display: flex; justify-content: space-between; align-items: center; }
          .mt-2 { margin-top: 10px; }
          .mb-2 { margin-bottom: 10px; }
          .tx-item { margin-bottom: 5px; padding-bottom: 5px; border-bottom: 1px dotted #ccc; }
          .tx-desc { font-size: 11px; margin-bottom: 2px; word-wrap: break-word; }
          .tx-details { font-size: 10px; display: flex; justify-content: space-between; }
        </style>
      </head>
      <body>
        <div class="text-center border-bottom">
          <div class="font-bold" style="font-size: 16px; margin-bottom: 2px;">${a.name}</div>
          <div style="font-size: 10px; letter-spacing: 1px;">HESAP ZET</div>
        </div>
        
        <div class="border-bottom">
          <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
          <div class="flex-between"><span>Sayn:</span><span class="font-bold">${t.name.toLocaleUpperCase("tr-TR")}</span></div>
        </div>

        <div class="mb-2 font-bold text-center" style="font-size: 11px; margin-top: 8px;">LEM HAREKETLER</div>
        
        <div class="border-bottom">
          ${F||'<div class="text-center" style="font-size: 10px; padding: 10px 0;">Kaytl ilem bulunmamaktadr.</div>'}
        </div>

        <div class="mt-2 border-bottom">
          <div class="flex-between font-bold" style="font-size: 14px;">
            <span>BAKYE:</span>
            <span>${fe}</span>
          </div>
          <div class="text-right" style="font-size: 10px; margin-top: 2px;">(${Z})</div>
        </div>

        <div class="text-center mt-2" style="font-size: 10px; padding-top: 5px;">
          Bizi tercih ettiiniz iin<br>teekkr ederiz.
        </div>
        
        <script>
          window.onload = () => { setTimeout(() => { window.print(); window.close(); }, 500); }
        <\/script>
      </body>
      </html>
    `;J.document.write(_e),J.document.close()};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 transition-colors font-bold",children:[l.jsx(Oa,{size:20}),l.jsx("span",{className:"text-sm",children:"Listeye Dn"})]}),l.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-slate-800 text-indigo-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-md active:scale-95 transition-all font-black text-xs uppercase tracking-widest",children:[l.jsx(Ul,{size:16}),"Hesap zeti Yazdr"]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden transition-all",children:l.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8",children:[l.jsxs("div",{className:"space-y-4 flex-1",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("h2",{className:"text-3xl font-black tracking-tight",children:t.name.toLocaleUpperCase("tr-TR")}),l.jsx("button",{onClick:I,className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 rounded-full hover:scale-110 transition-transform shadow-sm",children:l.jsx(sV,{size:20})})]}),l.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-full w-fit",children:t.type==="CUSTOMER"?"Mteri":t.type==="SUPPLIER"?"Tedariki":"Personel"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[l.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2.5 bg-green-500 text-white rounded-2xl text-xs font-black shadow-lg shadow-green-500/20 hover:bg-green-600 transition-all",children:[l.jsx(F8,{size:16})," WhatsApp"]}),l.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2.5 bg-rose-500 text-white rounded-2xl text-xs font-black shadow-lg shadow-rose-500/20 hover:bg-rose-600 transition-all",children:[l.jsx(T1,{size:16})," Konum Al"]}),l.jsxs("button",{onClick:L,className:`flex items-center gap-2 px-4 py-2.5 rounded-2xl text-xs font-black transition-all shadow-lg ${t.balance>0?"bg-orange-500 text-white shadow-orange-500/20 hover:bg-orange-600":"bg-gray-100 dark:bg-slate-700 text-gray-400 opacity-50 cursor-not-allowed"}`,children:[l.jsx(J4,{size:16})," Bor Hatrlat"]}),l.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 text-white rounded-2xl text-xs font-black shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 transition-all",children:[l.jsx(Ea,{size:16})," IBAN Payla"]})]})]}),l.jsxs("div",{className:"w-full sm:w-auto p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] flex flex-col items-center sm:items-end border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Gncel Bakiye"}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:`text-4xl font-black ${t.balance>0?"text-emerald-500":t.balance<0?"text-rose-500":"text-gray-400"}`,children:Math.abs(t.balance).toLocaleString("tr-TR")}),l.jsx("span",{className:"text-xl font-bold opacity-40",children:""})]}),l.jsx("p",{className:`text-[10px] mt-2 font-black uppercase px-3 py-1 rounded-lg ${t.balance>0?"bg-emerald-50 text-emerald-600":t.balance<0?"bg-rose-50 text-rose-600":"bg-gray-100 text-gray-400"}`,children:t.balance>0?"Alacaklyz":t.balance<0?"Borluyuz":"Bakiye Kapal"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-400 shrink-0",children:l.jsx(xg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"letiim Numaralar"}),l.jsx("p",{className:"font-bold text-sm",children:t.phone}),t.phone2&&l.jsx("p",{className:"font-bold text-sm text-gray-400",children:t.phone2})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-400 shrink-0",children:l.jsx(T1,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Adres Bilgisi"}),l.jsx("p",{className:"font-bold text-sm leading-relaxed",children:t.address||"Adres belirtilmemi."})]})]})]})]})}),l.jsxs("button",{onClick:()=>_(!0),className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-2xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-lg",children:[l.jsx(zr,{size:24})," Yeni Hesap lemi Kaydet"]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:[l.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h3",{className:"font-black text-lg tracking-tight",children:"Hesap Hareketleri"}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 dark:bg-slate-900 rounded-full text-[10px] font-bold text-gray-400 uppercase",children:["Toplam ",e.length," Kayt"]})]}),l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:e.length===0?l.jsxs("div",{className:"p-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30",children:[l.jsx(na,{size:48}),l.jsx("p",{className:"font-black uppercase tracking-widest text-xs",children:"Henz bir hareket bulunmuyor."})]}):e.map(J=>{var F;return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-900/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${J.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:J.isCredit?l.jsx(Zw,{size:20,className:"text-amber-500"}):J.type==="INCOME"?l.jsx(Ro,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{className:"cursor-pointer",onClick:()=>S(J),children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base group-hover:text-indigo-600 transition-colors",children:J.description}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[l.jsx(yg,{size:12,className:"text-gray-300"}),new Date(J.date).toLocaleString("tr-TR"),J.isCredit&&l.jsx("span",{className:"text-[10px] text-amber-500 font-black ml-1 uppercase",children:"(Cari lem)"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("p",{className:`font-black text-base sm:text-lg ${J.type==="INCOME"?J.isCredit?"text-amber-500":"text-emerald-500":J.isCredit?"text-amber-500":"text-rose-500"}`,children:[J.type==="INCOME"?"+":"-",J.amount.toLocaleString("tr-TR")," "]}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-tighter",children:J.isCredit?"Kasay Etkilemez":((F=r.find(Z=>Z.id===J.vaultId))==null?void 0:F.name)||"Bilinmeyen Kasa"})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>S(J),className:"p-2 text-gray-300 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all",children:l.jsx(Mr,{size:16})}),l.jsx("button",{onClick:()=>N(J.id),className:"p-2 text-gray-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:l.jsx($t,{size:16})})]})]})]},J.id)})})]}),w&&l.jsx(Zf,{contact:t,vaults:r,onClose:()=>_(!1),onSave:J=>{c(J),_(!1)}}),C&&l.jsx(Zf,{contact:t,vaults:r,onClose:()=>S(null),initialData:C,onSave:J=>{f(C.id,J),S(null)}}),E&&e.find(J=>J.id===E)&&l.jsx(pne,{transaction:e.find(J=>J.id===E),onClose:()=>N(null),onConfirm:()=>H(E)})]})},pne=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx($t,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),gne=({initialData:t,contacts:e,onAddContact:r,onSave:n,onCancel:a})=>{const[s,c]=k.useState(""),[d,f]=k.useState([]),[m,p]=k.useState(""),[g,b]=k.useState(""),[w,_]=k.useState(!1),E=k.useRef(null),[N,C]=k.useState(""),[S,P]=k.useState(""),[M,$]=k.useState([{id:"w1",label:"Pencere 1",width:"",height:"",description:""}]),[V,T]=k.useState(!1);k.useEffect(()=>{t&&(c(t.customerId),p(t.notes||""),t.rooms&&t.rooms.length>0?f(t.rooms):t.windows&&t.windows.length>0&&f([{id:"r_"+Math.random().toString(36).substr(2,9),title:t.title||"Oda 1",windows:t.windows,notes:""}]))},[t]);const I=k.useMemo(()=>e.filter(F=>F.type==="CUSTOMER"&&F.name.toLowerCase().includes(g.toLowerCase())).sort((F,Z)=>F.name.localeCompare(Z.name,"tr-TR")),[e,g]),R=k.useMemo(()=>e.find(F=>F.id===s),[e,s]),U=()=>{const F=M.length+1,Z="w"+Math.random().toString(36).substr(2,9);$([...M,{id:Z,label:`Pencere ${F}`,width:"",height:"",description:""}])},L=F=>{M.length>1&&$(M.filter(Z=>Z.id!==F))},B=(F,Z,fe)=>{$(M.map(_e=>_e.id===F?{..._e,[Z]:fe}:_e))},H=()=>{if(!N.trim()){alert("Ltfen oday eklemek iin bir oda ismi giriniz.");return}const F={id:Math.random().toString(36).substr(2,9),title:N.trim(),windows:[...M],notes:S.trim()};f([...d,F]),C(""),P(""),$([{id:"w1",label:"Pencere 1",width:"",height:"",description:""}])},X=F=>{f(d.filter(Z=>Z.id!==F))},J=()=>{if(!s){alert("Ltfen bir mteri seiniz.");return}const F=[...d];if(N.trim()||M.some(le=>le.width||le.height)){if(!N.trim()){alert("Ltfen ak olan oda iin bir isim girin veya temizleyin.");return}F.push({id:Math.random().toString(36).substr(2,9),title:N.trim(),windows:[...M],notes:S.trim()})}if(F.length===0){alert("Ltfen en az bir oda ve l ekleyiniz.");return}const Z=e.find(le=>le.id===s),fe=F.map(le=>`${le.title} (${le.windows.length} Pencere)`).join(", "),_e={customerId:s,customerName:(Z==null?void 0:Z.name)||"",title:`${Z==null?void 0:Z.name} - l Siparii`,details:fe,notes:m.trim(),status:(t==null?void 0:t.status)||"PENDING",rooms:F};n([_e])};return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx(Oa,{size:18})," Vazge"]}),l.jsxs("div",{className:"flex gap-3",children:[d.length>0&&l.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl border border-indigo-100 dark:border-indigo-900/40 text-xs font-black uppercase",children:[l.jsx(pj,{size:16})," ",d.length," Oda Listede"]}),l.jsxs("button",{onClick:J,disabled:!s||d.length===0&&!N.trim(),className:`flex items-center gap-2 px-8 py-3 rounded-2xl font-black transition-all ${s&&(d.length>0||N.trim())?"bg-emerald-600 text-white shadow-xl shadow-emerald-600/20 active:scale-95":"bg-gray-300 dark:bg-slate-700 text-gray-500 cursor-not-allowed shadow-none"}`,children:[l.jsx(tc,{size:20})," ly Kaydet"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[l.jsx("div",{className:"xl:col-span-8 space-y-8",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 space-y-8",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mteri Seimi *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{ref:E,type:"text",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 outline-none font-bold transition-all border-transparent focus:border-indigo-500",placeholder:"Mteri Sein veya Arayn...",value:w?g:R?R.name.toLocaleUpperCase("tr-TR"):"",onChange:F=>{b(F.target.value),_(!0),s&&c("")},onFocus:()=>{_(!0),b("")},onBlur:()=>{setTimeout(()=>_(!1),200)}}),w&&l.jsx("div",{className:"absolute z-50 w-full mt-2 max-h-60 overflow-y-auto bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-2xl shadow-xl custom-scrollbar",children:I.length===0?l.jsx("div",{className:"p-4 text-center text-sm text-gray-500 font-bold",children:"Mteri bulunamad"}):I.map(F=>l.jsx("div",{className:"p-4 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer text-sm font-bold transition-colors border-b last:border-0 border-gray-50 dark:border-slate-700/50",onMouseDown:Z=>{var fe;Z.preventDefault(),c(F.id),_(!1),b(""),(fe=E.current)==null||fe.blur()},children:F.name.toLocaleUpperCase("tr-TR")},F.id))})]}),!t&&l.jsx("button",{onClick:()=>T(!0),className:"p-4 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl hover:bg-indigo-600 hover:text-white transition-all shadow-sm",title:"Hzl Mteri Ekle",children:l.jsx(r2,{size:24})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Genel Sipari Notu (Opsiyonel)"}),l.jsx("input",{placeholder:"Mteriye veya siparie ait genel not...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all",value:m,onChange:F=>p(F.target.value)})]}),l.jsxs("div",{className:"pt-8 border-t border-gray-100 dark:border-slate-700 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-xl font-black text-indigo-600 flex items-center gap-2 uppercase tracking-tighter italic",children:[l.jsx(Mn,{size:24})," YEN ODA EKLE"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Oda smi"}),l.jsx("input",{placeholder:"rn: Salon, Mutfak, Yatak Odas...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-black text-lg transition-all",value:N,onChange:F=>C(F.target.value)})]}),l.jsxs("div",{className:"space-y-4 bg-gray-50/50 dark:bg-slate-900/10 p-2 sm:p-4 rounded-3xl border border-gray-100 dark:border-slate-800",children:[M.map((F,Z)=>l.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-sm",children:Z+1}),l.jsx("input",{className:"bg-transparent border-none text-sm font-black text-slate-700 dark:text-slate-200 uppercase tracking-widest outline-none w-48 focus:text-indigo-600",value:F.label,onChange:fe=>B(F.id,"label",fe.target.value)})]}),M.length>1&&l.jsx("button",{onClick:()=>L(F.id),className:"text-gray-400 hover:text-rose-500 p-2 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx($t,{size:18})})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"En (cm)"}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-black text-center shadow-inner",value:F.width,onChange:fe=>B(F.id,"width",fe.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Boy (cm)"}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-black text-center shadow-inner",value:F.height,onChange:fe=>B(F.id,"height",fe.target.value)})]}),l.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Model / Kuma"}),l.jsx("input",{placeholder:"rn: Kruvaze, Stor...",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-bold shadow-inner text-sm",value:F.description,onChange:fe=>B(F.id,"description",fe.target.value)})]})]})]},F.id)),l.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 text-[10px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 py-3 rounded-2xl hover:bg-indigo-100 transition-all border-2 border-dashed border-indigo-200 dark:border-indigo-900/40",children:[l.jsx(zr,{size:16})," Pencere Ekle"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Odaya Ait zel Not"}),l.jsx("textarea",{rows:2,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm resize-none",value:S,onChange:F=>P(F.target.value)})]}),l.jsxs("button",{onClick:H,className:"w-full py-5 bg-indigo-600 text-white rounded-3xl font-black shadow-xl shadow-indigo-600/20 flex items-center justify-center gap-3 hover:bg-indigo-700 active:scale-95 transition-all uppercase tracking-widest text-sm italic",children:[l.jsx(pj,{size:24})," Oday Kayda Ekle"]})]})]})})}),l.jsx("div",{className:"xl:col-span-4 space-y-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white min-h-[400px] flex flex-col shadow-2xl sticky top-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-indigo-400 italic",children:"Odalar Listesi"}),l.jsxs("div",{className:"px-3 py-1 bg-white/10 rounded-full text-[10px] font-black",children:[d.length," ODA"]})]}),l.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:d.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 opacity-20 text-center space-y-4",children:[l.jsx(Mn,{size:48}),l.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest leading-relaxed",children:["Henz oday listeye eklemediniz.",l.jsx("br",{}),'Sol taraftaki formu doldurup "Oday Kayda Ekle" butonuna basnz.']})]}):d.map((F,Z)=>l.jsxs("div",{className:"bg-white/5 border border-white/10 p-5 rounded-2xl group relative animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("button",{onClick:()=>X(F.id),className:"absolute -top-2 -right-2 w-8 h-8 bg-rose-500 text-white rounded-full flex items-center justify-center shadow-lg transform scale-0 group-hover:scale-100 transition-transform",children:l.jsx(Er,{size:16})}),l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h5",{className:"font-black text-base truncate pr-4 text-indigo-300 italic",children:F.title}),l.jsxs("span",{className:"text-[10px] font-black bg-white/10 px-2 py-0.5 rounded uppercase tracking-tighter",children:[F.windows.length," Pencere"]})]}),l.jsxs("div",{className:"space-y-1.5 opacity-60",children:[F.windows.slice(0,3).map(fe=>l.jsxs("div",{className:"text-[10px] font-bold truncate",children:[" ",fe.label,": ",fe.width||"0","x",fe.height||"0"]},fe.id)),F.windows.length>3&&l.jsxs("div",{className:"text-[8px] font-black italic",children:["+ ",F.windows.length-3," daha..."]})]})]},F.id))}),d.length>0&&l.jsx("div",{className:"mt-8 pt-6 border-t border-white/10 space-y-4",children:l.jsxs("div",{className:"flex justify-between items-center px-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest",children:"TOPLAM"}),l.jsxs("span",{className:"text-xl font-black text-emerald-400 italic",children:[d.length," ODA"]})]})})]})})]}),V&&l.jsx(yne,{onClose:()=>T(!1),onSave:F=>{const Z=r(F);c(Z.id),T(!1)}})]})},yne=({onClose:t,onSave:e})=>{const[r,n]=k.useState({name:"",phone:"",phone2:"",address:"",type:"CUSTOMER",initialBalance:"",balanceType:"DEBT"}),a=()=>{if(!r.name||!r.phone){alert("Ltfen isim ve telefon bilgilerini doldurunuz.");return}e(r)};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl shadow-2xl animate-in fade-in zoom-in duration-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-xl font-black flex items-center gap-2",children:[l.jsx(r2,{className:"text-indigo-600",size:24}),"Hzl Mteri Kayd"]}),l.jsx("button",{onClick:t,children:l.jsx(Er,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"sim Soyisim *"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"rn: Aye Fatma",value:r.name.toLocaleUpperCase("tr-TR"),onChange:s=>n({...r,name:s.target.value.toLocaleUpperCase("tr-TR")})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Telefon *"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"05...",value:r.phone,onChange:s=>n({...r,phone:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"2. Telefon"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"Opsiyonel",value:r.phone2,onChange:s=>n({...r,phone2:s.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Adres Bilgisi"}),l.jsx("textarea",{rows:2,className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm resize-none",placeholder:"Mahalle, Sokak, No...",value:r.address,onChange:s=>n({...r,address:s.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Balang Bakiye"}),l.jsx("input",{type:"number",className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"0.00",value:r.initialBalance,onChange:s=>n({...r,initialBalance:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Durum"}),l.jsxs("select",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm appearance-none",value:r.balanceType,onChange:s=>n({...r,balanceType:s.target.value}),children:[l.jsx("option",{value:"DEBT",children:"Bize Borlu (+)"}),l.jsx("option",{value:"CREDIT",children:"Bizden Alacakl (-)"})]})]})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:t,className:"flex-1 py-3 text-gray-400 font-black uppercase text-[10px] tracking-widest",children:"ptal"}),l.jsx("button",{onClick:a,className:"flex-[2] py-3 bg-indigo-600 text-white rounded-xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all uppercase text-[10px] tracking-widest",children:"Kayd Tamamla"})]})]})})},xne=({measurement:t,onClose:e})=>{const r=[];(t.rooms&&t.rooms.length>0?t.rooms:[{id:"legacy",title:t.title||"",windows:t.windows||[],notes:t.notes||""}]).forEach(S=>{S.windows.forEach(P=>{r.push({width:P.width,height:P.height,desc:`${S.title?S.title+" - ":""}${P.label}
${P.description||""}`.trim()})})});const[a,s]=k.useState(()=>{const S=[...r];for(;S.length===0||S.length%9!==0;)S.push({width:"",height:"",desc:""});return S}),[c,d]=k.useState(t.customerName.trim()),[f,m]=k.useState(t.date),[p,g]=k.useState(t.notes||""),[b,w]=k.useState(""),[_,E]=k.useState(""),N=(S,P,M)=>{s($=>$.map((V,T)=>T===S?{...V,[P]:M}:V))},C=()=>{const S=window.open("","_blank");if(!S){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}let P="";const M=a.length/9;for(let V=0;V<M;V++){const T=a.slice(V*9,V*9+9);P+=`
            <div class="print-page">
                <table class="header-table">
                    <tr>
                        <td class="logo-cell">
                            <div style="position: relative; display: inline-block; width: 80px; height: 50px; margin-bottom: 2px;">
                              <svg viewBox="0 0 100 100" width="45" height="45" style="position: absolute; left: 0px; top: 0;">
                                 <circle cx="50" cy="50" r="45" fill="none" stroke="black" stroke-width="5"/>
                                 <path d="M 35 5 Q 50 50 35 95 M 65 5 Q 50 50 65 95 M 50 5 V 95 M 5 50 H 95" fill="none" stroke="black" stroke-width="3"/>
                              </svg>
                              <svg viewBox="0 0 100 100" width="35" height="35" style="position: absolute; right: 0; bottom: 0; background: white;">
                                 <path d="M 10 80 H 90 V 65 H 75 V 30 C 75 20 65 20 50 20 H 20 V 40 H 45 V 65 H 10 Z" fill="none" stroke="black" stroke-width="4" stroke-linejoin="round"/>
                                 <circle cx="75" cy="45" r="8" fill="none" stroke="black" stroke-width="4"/>
                                 <line x1="25" y1="40" x2="25" y2="65" stroke="black" stroke-width="4"/>
                                 <path d="M 75 53 L 75 75" stroke="black" stroke-width="2"/>
                              </svg>
                              <div class="header-badge">ATLYE F</div>
                            </div>
                            <div class="logo-text-main">EMR PERDE</div>
                            <div class="logo-text-sub">EV TEKSTL</div>
                        </td>
                        <td style="width: 28%;">
                            <div class="field-value">${c.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 15%; text-align: center;">
                            <div class="box-title">TESLM</div>
                            <div class="field-value center-val">${f.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 17%; text-align: center;">
                            <div class="box-title">NOT:</div>
                            <div class="field-value">${p.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 14%; text-align: center;">
                            <div class="box-title">METRAJ</div>
                            <div class="field-value center-val">${b.replace(/\n/g,"<br/>")}</div>
                        </td>
                    </tr>
                </table>

                <div class="main-grid">
                    ${T.map(I=>`
                        <div class="seven-box">
                            <svg width="100%" height="100%" preserveAspectRatio="none">
                                <path d="M 0 5 L 100 5 L 20 100" fill="none" stroke="black" stroke-width="4" vector-effect="non-scaling-stroke" stroke-linecap="square" />
                            </svg>
                            <div class="win-width">${I.width}</div>
                            <div class="win-height">${I.height}</div>
                            <div class="win-desc">${I.desc.replace(/\n/g,"<br/>")}</div>
                        </div>
                    `).join("")}
                    <div class="toplam-box">
                        <div class="toplam-title">TOPLAM</div>
                        <div class="field-value center-val" style="font-size:18px;">${_.replace(/\n/g,"<br/>")}</div>
                    </div>
                </div>
            </div>
            `}const $=`
        <!DOCTYPE html>
        <html lang="tr">
        <head>
          <meta charset="UTF-8">
          <title>Atlye Fii</title>
          <style>
            @page { size: landscape; margin: 5mm; }
            body { font-family: 'Arial', sans-serif; color: black; margin: 0; padding: 0; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .print-page { page-break-after: always; width: 100%; height: 100%; box-sizing: border-box; padding-bottom: 5mm; }
            .print-page:last-child { page-break-after: auto; }

            .header-table { width: 100%; border-collapse: collapse; border: 4px solid black; margin-bottom: 12mm; table-layout: fixed; }
            .header-table td { border: 4px solid black; height: 38mm; position: relative; padding: 2mm; vertical-align: top; }
            .logo-cell { width: 26%; text-align: center; padding: 2mm !important; }

            .header-badge { position: absolute; right: -8px; top: 15px; border: 2px solid black; background: white; padding: 2px 4px; font-size: 9px; font-weight: 900; letter-spacing:0.5px; }
            .logo-text-main { font-weight: 900; font-size: 28px; font-style: italic; line-height: 1; letter-spacing: -0.5px; margin-top:2px; }
            .logo-text-sub { font-weight: 900; font-size: 13px; letter-spacing: 0.5px; margin-top: 1px; }

            .box-title { border: 2px solid black; border-top: none; display: inline-block; padding: 1px 8px; font-weight: 900; font-style: italic; font-size: 15px; background: white; margin: 0 auto; margin-top: -3mm; }
            .field-value { font-size: 16px; font-weight: bold; margin-top: 6px; overflow: hidden; white-space: pre-wrap; line-height:1.3; }
            .center-val { text-align: center; }

            .main-grid { display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(2, 1fr); gap: 18mm 15mm; height: 130mm; }
            .seven-box { position: relative; width: 100%; height: 100%; }
            .seven-box svg { position: absolute; top: 0; left: 0; overflow: visible; }
            .win-width { position: absolute; top: -10mm; left: 10%; width: 80%; text-align: center; font-size: 28px; font-weight: 900; }
            .win-height { position: absolute; top: 35%; right: 0; width: 50%; text-align: center; font-size: 28px; font-weight: 900; }
            .win-desc { position: absolute; bottom: -12mm; left: 0; width: 65%; text-align: left; font-size: 12px; font-weight: bold; line-height: 1.1; }

            .toplam-box { border: 4px solid black; display: flex; flex-direction: column; }
            .toplam-title { font-weight: 900; font-size: 20px; font-style: italic; text-align: center; padding: 4px; border-bottom: 2px solid transparent;}
          </style>
        </head>
        <body>
          ${P}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
              }, 300);
            };
          <\/script>
        </body>
        </html>
        `;S.document.write($),S.document.close()};return l.jsxs("div",{className:"fixed inset-0 z-[120] bg-slate-900/90 backdrop-blur-sm flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 shadow-md shrink-0",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-black text-indigo-600",children:"Atlye Fii nizleme & Dzenleme"}),l.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-xl font-bold text-sm hover:bg-gray-200 transition-colors",children:"ptal"}),l.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-xl font-black shadow-lg active:scale-95 text-sm uppercase tracking-widest",children:[l.jsx(Ul,{size:18})," Yazdr"]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-200 dark:bg-slate-900 p-4 sm:p-8 flex flex-col items-center gap-8 custom-scrollbar",children:Array.from({length:a.length/9}).map((S,P)=>{const M=a.slice(P*9,P*9+9);return l.jsxs("div",{className:"w-full max-w-[297mm] bg-white text-black p-[8mm] shadow-xl shrink-0 flex flex-col relative",style:{aspectRatio:"297/210"},children:[l.jsx("div",{className:"absolute top-2 right-2 text-[10px] text-rose-500 font-bold opacity-50 select-none",children:"Ekrandaki alanlara tklayarak metinleri dzenleyebilirsiniz."}),l.jsxs("div",{className:"flex border-[4px] border-black w-full h-[18%] mb-[6%]",children:[l.jsxs("div",{className:"w-[26%] border-r-[4px] border-black relative flex flex-col items-center justify-center p-1 sm:p-2",children:[l.jsxs("div",{className:"relative w-[60px] h-[35px] sm:w-[80px] sm:h-[45px] mb-1",children:[l.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",style:{position:"absolute",left:0,top:0,width:"50%",height:"100%"},children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"black",strokeWidth:"5"}),l.jsx("path",{d:"M 35 5 Q 50 50 35 95 M 65 5 Q 50 50 65 95 M 50 5 V 95 M 5 50 H 95",fill:"none",stroke:"black",strokeWidth:"3"})]}),l.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",style:{position:"absolute",right:0,bottom:0,width:"45%",height:"80%",background:"white"},children:[l.jsx("path",{d:"M 10 80 H 90 V 65 H 75 V 30 C 75 20 65 20 50 20 H 20 V 40 H 45 V 65 H 10 Z",fill:"none",stroke:"black",strokeWidth:"4",strokeLinejoin:"round"}),l.jsx("circle",{cx:"75",cy:"45",r:"8",fill:"none",stroke:"black",strokeWidth:"4"}),l.jsx("line",{x1:"25",y1:"40",x2:"25",y2:"65",stroke:"black",strokeWidth:"4"}),l.jsx("path",{d:"M 75 53 L 75 75",stroke:"black",strokeWidth:"2"})]}),l.jsx("div",{className:"absolute right-[-10px] top-[10px] border-[1.5px] border-black bg-white px-1 py-0.5 text-[6px] sm:text-[8px] font-black",children:"ATLYE F"})]}),l.jsx("div",{className:"font-black italic text-lg sm:text-2xl leading-none tracking-tighter",children:"EMR PERDE"}),l.jsx("div",{className:"font-black text-[8px] sm:text-[11px] tracking-widest mt-0.5",children:"EV TEKSTL"})]}),l.jsx("div",{className:"w-[28%] border-r-[4px] border-black p-2",children:l.jsx("textarea",{className:"w-full h-full resize-none outline-none font-bold bg-transparent text-xs sm:text-sm placeholder-gray-300",value:c,onChange:$=>d($.target.value),placeholder:"Mteri Ad / Tel"})}),l.jsxs("div",{className:"w-[15%] border-r-[4px] border-black flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"TESLM"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent text-center p-1 mt-4 text-xs sm:text-sm",value:f,onChange:$=>m($.target.value)})]}),l.jsxs("div",{className:"w-[17%] border-r-[4px] border-black flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"NOT:"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent p-1 mt-4 text-[9px] sm:text-[11px]",value:p,onChange:$=>g($.target.value)})]}),l.jsxs("div",{className:"w-[14%] flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"METRAJ"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent text-center p-1 mt-4 text-xs sm:text-sm",value:b,onChange:$=>w($.target.value)})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-5 grid-rows-2 gap-x-[10mm] gap-y-[10mm]",children:[M.map(($,V)=>{const T=P*9+V;return l.jsxs("div",{className:"relative w-full h-full min-h-[60px]",children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full overflow-visible",preserveAspectRatio:"none",children:l.jsx("path",{d:"M 0 5 L 100 5 L 20 100",fill:"none",stroke:"black",strokeWidth:"4",vectorEffect:"non-scaling-stroke",strokeLinecap:"square"})}),l.jsx("input",{className:"absolute top-[-1.5rem] left-[10%] w-[80%] text-center font-black text-lg sm:text-xl bg-transparent outline-none border-b border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 transition-colors",value:$.width,onChange:I=>N(T,"width",I.target.value),placeholder:"En"}),l.jsx("input",{className:"absolute top-[35%] right-0 w-[50%] text-center font-black text-lg sm:text-xl bg-transparent outline-none border-b border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 transition-colors",value:$.height,onChange:I=>N(T,"height",I.target.value),placeholder:"Boy"}),l.jsx("textarea",{className:"absolute bottom-[-1.5rem] left-0 w-[65%] text-[8px] sm:text-[10px] leading-tight font-bold bg-transparent outline-none resize-none h-[2rem] border border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 overflow-hidden transition-colors",value:$.desc,onChange:I=>N(T,"desc",I.target.value),placeholder:"Aklama"})]},V)}),l.jsxs("div",{className:"border-[4px] border-black flex flex-col bg-white",children:[l.jsx("div",{className:"font-black italic text-center text-[10px] sm:text-sm p-1",children:"TOPLAM"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none bg-transparent p-1 text-center font-bold text-sm sm:text-base",value:_,onChange:$=>E($.target.value)})]})]})]},P)})})]})},bne=({measurement:t,onBack:e,onUpdateStatus:r,onEdit:n,onDelete:a,onCustomerClick:s,workshopBarcodeTemplate:c,firmProfile:d})=>{const[f,m]=k.useState(!1),p={PENDING:{label:"Bekleyen",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",icon:yg},WORKSHOP:{label:"Atlye",color:"text-pink-600",bg:"bg-pink-50 dark:bg-pink-900/20",icon:Rf},ASSEMBLY:{label:"Montaj",color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",icon:e2},DEFERRED:{label:"Ertelenen",color:"text-slate-600",bg:"bg-slate-50 dark:bg-slate-900/20",icon:l8},COMPLETED:{label:"Tamamlanan",color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",icon:Vl},DELETED:{label:"Silindi",color:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",icon:$t}},g=p[t.status],b=t.rooms&&t.rooms.length>0?t.rooms:[{id:"legacy",title:t.title||"Oda",windows:t.windows||[],notes:t.notes||""}],w=b.reduce((N,C)=>N+C.windows.length,0),_=()=>{m(!0)},E=()=>{if(!c||!d)return;const N=window.open("","_blank");if(!N){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}const C=[];b.forEach(M=>{M.windows.forEach($=>{C.push({roomTitle:M.title,winLabel:$.label,width:$.width,height:$.height,desc:$.description,id:$.id})})});let S="";C.forEach(M=>{const $=c.elements.map(V=>{let T="";return V.type==="TEXT_STORE"?T=d.name:V.type==="TEXT_CUSTOMER"?T=t.customerName:V.type==="TEXT_ROOM"?T=M.roomTitle:V.type==="TEXT_WINDOW_LABEL"?T=M.winLabel:V.type==="TEXT_WIDTH"?T=`En: ${M.width}`:V.type==="TEXT_HEIGHT"?T=`Boy: ${M.height}`:V.type==="TEXT_DESC"?T=M.desc:V.type==="TEXT_NOTES"?T=t.notes:V.type==="TEXT_DATE"?T=t.date:V.type==="CUSTOM_TEXT"?T=V.content||"":(V.type==="BARCODE_MEASUREMENT"||V.type==="BARCODE")&&(T=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${t.id.substring(0,8)}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
          position: absolute;
          left: ${V.x}mm;
          top: ${V.y}mm;
          width: ${V.width}mm;
          height: ${V.height}mm;
          font-size: ${V.fontSize}pt;
          font-weight: ${V.fontWeight};
          text-align: ${V.textAlign};
          display: flex;
          justify-content: ${V.textAlign==="center"?"center":V.textAlign==="right"?"flex-end":"flex-start"};
          align-items: center;
          overflow: hidden;
          white-space: nowrap;
          line-height: 1.1;
          ${V.backgroundColor?`background-color: ${V.backgroundColor};`:""}
          ${V.color?`color: ${V.color};`:""}
          ${V.borderRadius?`border-radius: ${V.borderRadius}px;`:""}
          ${V.padding?`padding: ${V.padding}mm;`:""}
        `}">${T}</div>`}).join("");S+=`<div class="label-page">${$}</div>`});const P=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Pencere Etiketleri - ${t.customerName}</title>
          <style>
            @page {
              size: ${c.width}mm ${c.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${c.width}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
            }
            .label-page {
              width: ${c.width}mm;
              height: ${c.height}mm;
              position: relative;
              page-break-after: always;
              overflow: hidden;
            }
            .label-page:last-child {
              page-break-after: auto;
            }
          </style>
        </head>
        <body>
          ${S}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
              }, 500);
            };
          <\/script>
        </body>
      </html>
    `;N.document.write(P),N.document.close()};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Listeye Dn"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:E,className:"p-2.5 bg-white dark:bg-slate-800 text-amber-600 hover:text-amber-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",title:"Pencere Etiketleri (Barkod) Yazdr",children:l.jsx(xn,{size:18})}),l.jsx("button",{onClick:_,className:"p-2.5 bg-white dark:bg-slate-800 text-indigo-600 hover:text-indigo-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",title:"Sabit Atlye Fii Yazdr (Grsel Tasarm)",children:l.jsx(Ul,{size:18})}),l.jsx("button",{onClick:n,className:"p-2.5 bg-white dark:bg-slate-800 text-gray-400 hover:text-indigo-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:l.jsx(Mr,{size:18})}),l.jsx("button",{onClick:a,className:"p-2.5 bg-white dark:bg-slate-800 text-gray-400 hover:text-rose-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:l.jsx($t,{size:18})})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest ${g.bg} ${g.color}`,children:[l.jsx(g.icon,{size:14})," ",g.label]}),l.jsx("h2",{className:"text-3xl sm:text-4xl font-black",children:t.title||`${t.customerName.toLocaleUpperCase("tr-TR")} - l Siparii`}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-center text-sm text-gray-500 font-bold",children:[l.jsxs("button",{onClick:()=>s==null?void 0:s(t.customerId),className:"flex items-center gap-1.5 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors cursor-pointer",title:"Mteri Cari Hesabna Git",children:[l.jsx(ku,{size:16,className:"text-indigo-500"})," ",t.customerName.toLocaleUpperCase("tr-TR")]}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(na,{size:16,className:"text-indigo-500"})," ",t.date]}),l.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-md text-xs font-black",children:[l.jsx(t2,{size:14})," ",b.length," Oda, ",w," Pencere"]})]})]})}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2 mb-12 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-[2rem]",children:["PENDING","WORKSHOP","ASSEMBLY","DEFERRED","COMPLETED"].map(N=>l.jsxs("button",{onClick:()=>r(N),className:`flex flex-col items-center gap-2 p-4 rounded-2xl transition-all border-2 ${t.status===N?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-transparent text-gray-400 hover:border-indigo-300"}`,children:[Qw.createElement(p[N].icon,{size:18}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:p[N].label})]},N))}),l.jsxs("div",{className:"space-y-10",children:[l.jsx("div",{className:"space-y-8",children:b.map((N,C)=>{var S;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-black text-indigo-600 flex items-center gap-3 bg-indigo-50/50 dark:bg-indigo-900/10 p-4 rounded-2xl",children:[l.jsx(Mn,{size:24})," ",N.title,N.notes&&l.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-2 italic",children:["- ",N.notes]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(S=N.windows)==null?void 0:S.map((P,M)=>l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-gray-100 dark:border-slate-700 group hover:border-indigo-200 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-sm",children:M+1}),l.jsx("h4",{className:"font-black uppercase text-sm tracking-widest",children:P.label})]}),l.jsxs("div",{className:"flex gap-8",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Genilik"}),l.jsxs("p",{className:"text-2xl font-black",children:[P.width," ",l.jsx("span",{className:"text-sm font-bold text-gray-400",children:"cm"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ykseklik"}),l.jsxs("p",{className:"text-2xl font-black",children:[P.height," ",l.jsx("span",{className:"text-sm font-bold text-gray-400",children:"cm"})]})]})]}),P.description&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Model / Kuma"}),l.jsx("p",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:P.description})]})]},P.id))})]},N.id)})}),t.notes&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-black text-cyan-600 flex items-center gap-2",children:[l.jsx(Rf,{size:24})," Sipari Genel Notlar"]}),l.jsx("div",{className:"p-6 bg-cyan-50 dark:bg-cyan-900/10 rounded-3xl border border-cyan-100 dark:border-cyan-900/20",children:l.jsx("p",{className:"text-sm font-bold leading-relaxed whitespace-pre-wrap",children:t.notes})})]})]})]})}),f&&l.jsx(xne,{measurement:t,onClose:()=>m(!1)})]})},vne=({product:t,onBack:e,onEdit:r,onDelete:n,onUpdate:a,groups:s,barcodeTemplate:c,firmProfile:d,transactions:f})=>{var T;const[m,p]=k.useState(!1),[g,b]=k.useState(""),[w,_]=k.useState("IN"),[E,N]=k.useState(!1),C=((T=s.find(I=>I.id===t.groupId))==null?void 0:T.name)||"Genel",S=t.price-t.purchasePrice,{thirtyDayQuantity:P,thirtyDayRevenue:M}=k.useMemo(()=>{const I=new Date;I.setDate(I.getDate()-30);let R=0,U=0;const L=t.name.toLocaleUpperCase("tr-TR").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),B=new RegExp(`(?:^|[:]\\s*|[,]\\s*)${L} x([\\d.]+)`,"i");return f.forEach(H=>{if(H.isSale&&new Date(H.date)>=I)if(H.items){const X=H.items.find(J=>J.productId===t.id);X&&(R+=X.quantity,U+=X.quantity*X.price)}else{const X=H.description.match(B);if(X&&X[1]){const J=parseFloat(X[1]);isNaN(J)||(R+=J,U+=J*t.price)}}}),{thirtyDayQuantity:R,thirtyDayRevenue:U}},[f,t.id,t.name,t.price]),$=()=>{const I=window.open("","_blank");if(!I){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}const R=c.elements.map(L=>{let B="";return L.type==="TEXT_STORE"?B=d.name:L.type==="TEXT_PRODUCT"?B=t.name.toLocaleUpperCase("tr-TR"):L.type==="TEXT_PRICE"?B=`${t.price.toLocaleString("tr-TR")} `:L.type==="CUSTOM_TEXT"?B=L.content||"":L.type==="BARCODE_TEXT"?B=t.barcode:L.type==="BARCODE"&&(B=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${t.barcode}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
        position: absolute;
        left: ${L.x}mm;
        top: ${L.y}mm;
        width: ${L.width}mm;
        height: ${L.height}mm;
        font-size: ${L.fontSize}pt;
        font-weight: ${L.fontWeight};
        text-align: ${L.textAlign};
        display: flex;
        justify-content: ${L.textAlign==="center"?"center":L.textAlign==="right"?"flex-end":"flex-start"};
        align-items: center;
        overflow: hidden;
        white-space: ${L.type==="TEXT_PRODUCT"?"normal":"nowrap"};
        line-height: 1.1;
        ${L.backgroundColor?`background-color: ${L.backgroundColor};`:""}
        ${L.color?`color: ${L.color};`:""}
        ${L.borderRadius?`border-radius: ${L.borderRadius}px;`:""}
        ${L.padding?`padding: ${L.padding}mm;`:""}
      `}">${B}</div>`}).join(""),U=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Etiket - ${t.barcode}</title>
          <style>
            @page {
              size: ${c.width}mm ${c.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${c.width}mm;
              height: ${c.height}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
              position: relative;
            }
          </style>
        </head>
        <body>
          ${R}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
                window.close();
              }, 500);
            };
          <\/script>
        </body>
      </html>
    `;I.document.write(U),I.document.close()},V=()=>{const I=Number(g);if(isNaN(I)||I<=0)return;const R=w==="IN"?t.stock+I:Math.max(0,t.stock-I);a({...t,stock:R}),b(""),N(!0),setTimeout(()=>N(!1),2e3)};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," rn Listesine Dn"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:$,className:"p-3 bg-white dark:bg-slate-800 text-indigo-600 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-indigo-600 hover:shadow-lg hover:shadow-indigo-500/10 transition-all active:scale-90 shadow-sm",title:"Barkod Etiketi Yazdr",children:l.jsx(Ul,{size:20})}),l.jsx("button",{onClick:()=>p(!0),className:"p-3 bg-white dark:bg-slate-800 text-rose-500 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-rose-500 hover:shadow-lg hover:shadow-rose-500/10 transition-all active:scale-90 shadow-sm",title:"rn Sil",children:l.jsx($t,{size:20})}),l.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 text-amber-600 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-amber-600 hover:shadow-lg hover:shadow-amber-500/10 transition-all active:scale-90 shadow-sm",title:"rn Dzenle",children:l.jsx(Mr,{size:20})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden transition-all",children:[l.jsxs("div",{className:"p-8 sm:p-12 flex flex-col md:flex-row gap-8 md:items-center",children:[l.jsx("div",{className:"w-32 h-32 sm:w-48 sm:h-48 bg-indigo-50 dark:bg-indigo-900/20 rounded-[2.5rem] flex items-center justify-center text-indigo-600 shrink-0",children:l.jsx(ja,{size:80})}),l.jsxs("div",{className:"flex-1 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(hs,{size:14,className:"text-indigo-500"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-indigo-500",children:C})]}),l.jsx("h2",{className:"text-3xl sm:text-4xl font-black italic tracking-tighter uppercase",children:t.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[l.jsxs("span",{className:"flex items-center gap-2 px-4 py-1.5 bg-gray-100 dark:bg-slate-900 rounded-full text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[l.jsx(Na,{size:14})," ",t.barcode]}),l.jsxs("span",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${t.stock<20?"bg-rose-50 text-rose-500 dark:bg-rose-900/20":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20"}`,children:[l.jsx(Pf,{size:14})," ",t.stock," ",t.unit," Stokta"]})]})]}),l.jsxs("div",{className:"flex items-baseline gap-4",children:[l.jsxs("span",{className:"text-4xl sm:text-5xl font-black text-indigo-600 dark:text-indigo-400 italic",children:[t.price.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-2xl opacity-50 italic",children:""})]}),l.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:["Sat Fiyat / ",t.unit]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"p-8 border-r border-gray-50 dark:border-slate-700 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(p8,{size:16,className:"text-amber-500"})," Finansal zet"]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Al Fiyat"}),l.jsxs("span",{className:"text-sm font-black text-amber-600",children:[t.purchasePrice.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-800",children:[l.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Birim Kr"}),l.jsxs("span",{className:`text-sm font-black ${S>=0?"text-emerald-500":"text-rose-500"}`,children:[S.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"p-8 border-r border-gray-50 dark:border-slate-700 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(A8,{size:16})," Stok Bilgisi"]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-bold",children:"Mevcut Stok"}),l.jsxs("span",{className:"text-lg font-black",children:[t.stock," ",t.unit]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-500 ${t.stock<20?"bg-rose-500":"bg-indigo-500"}`,style:{width:`${Math.min(100,t.stock/100*100)}%`}})})]})]}),l.jsxs("div",{className:"p-8 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(ru,{size:16})," Sat zeti"]}),l.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[l.jsx("span",{className:"text-xs font-bold",children:"Son 30 Gn Sat"}),l.jsxs("span",{className:"text-sm font-black text-slate-500",children:[P," ",t.unit]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold",children:"Toplam Ciro"}),l.jsxs("span",{className:"text-sm font-black text-emerald-500",children:[M.toLocaleString("tr-TR")," "]})]})]})})]})]}),l.jsxs("div",{className:"p-8 sm:p-12 bg-indigo-50/30 dark:bg-indigo-950/20 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[l.jsxs("div",{className:"shrink-0 flex flex-col gap-1",children:[l.jsxs("h4",{className:"text-lg font-black italic text-indigo-600 flex items-center gap-2 uppercase tracking-tighter",children:[l.jsx(Pf,{size:24})," Stok Ynetimi"]}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Manuel Stok Girii/k"})]}),l.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 sm:grid-cols-12 gap-4",children:[l.jsxs("div",{className:"sm:col-span-5 flex bg-white dark:bg-slate-900 p-1.5 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-inner",children:[l.jsxs("button",{onClick:()=>_("IN"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${w==="IN"?"bg-emerald-500 text-white shadow-lg":"text-gray-400 hover:text-emerald-500"}`,children:[l.jsx(u8,{size:16})," Stok Girii"]}),l.jsxs("button",{onClick:()=>_("OUT"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${w==="OUT"?"bg-rose-500 text-white shadow-lg":"text-gray-400 hover:text-rose-500"}`,children:[l.jsx(s8,{size:16})," Stok k"]})]}),l.jsx("div",{className:"sm:col-span-4 relative group",children:l.jsx("input",{type:"number",placeholder:`Miktar (${t.unit})...`,className:"w-full h-full p-4 bg-white dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-center text-lg shadow-sm transition-all",value:g,onChange:I=>b(I.target.value)})}),l.jsx("div",{className:"sm:col-span-3",children:l.jsx("button",{disabled:!g||Number(g)<=0,onClick:V,className:`w-full h-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2 ${w==="IN"?"bg-emerald-600 text-white shadow-emerald-600/20 disabled:opacity-40":"bg-rose-600 text-white shadow-rose-600/20 disabled:opacity-40"}`,children:E?l.jsx(n8,{size:18,className:"animate-bounce"}):"Gncelle"})})]})]}),E&&l.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest mt-4 text-center animate-pulse",children:"STOK BAARIYLA GNCELLEND"})]})]}),m&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"rn Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',t.name.toLocaleUpperCase("tr-TR"),'"']})," isimli rn kalc olarak silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:n,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},wne=({product:t,onSave:e,onCancel:r,groups:n,units:a,setUnits:s})=>{const[c,d]=k.useState({id:"",name:"",barcode:"",purchasePrice:0,price:0,stock:0,unit:"Adet",groupId:"",isQuickSale:!1}),[f,m]=k.useState(!1),[p,g]=k.useState("");k.useEffect(()=>{var E;d(t?{...t,isQuickSale:t.isQuickSale??!1}:{id:"p"+Math.random().toString(36).substr(2,9),name:"",barcode:"",purchasePrice:0,price:0,stock:0,unit:a[0]||"Adet",groupId:((E=n[0])==null?void 0:E.id)||"",isQuickSale:!1})},[t,n,a]);const b=()=>{const E=Math.floor(1e5+Math.random()*9e5).toString();d(N=>({...N,barcode:E}))},w=E=>{if(E.preventDefault(),!c.name||!c.barcode){alert("Ltfen rn ad ve barkod bilgilerini giriniz.");return}e(c)},_=()=>{p.trim()&&!a.includes(p.trim())&&(s(E=>[...E,p.trim()]),d(E=>({...E,unit:p.trim()})),g(""),m(!1))};return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Vazge"]}),l.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(tc,{size:20})," rn Kaydet"]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("form",{onSubmit:w,className:"p-8 sm:p-12 space-y-10",children:[l.jsxs("div",{className:"flex items-center gap-6 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(ja,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:t?"rn Bilgilerini Gncelle":"Yeni rn Kayd"}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Ltfen rn detaylarn eksiksiz giriniz."})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"rn Grubu"}),l.jsxs("div",{className:"relative",children:[l.jsx(hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsxs("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all appearance-none",value:c.groupId,onChange:E=>d({...c,groupId:E.target.value}),children:[l.jsx("option",{value:"",children:"Grup Sein..."}),n.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Birim"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all appearance-none",value:c.unit,onChange:E=>d({...c,unit:E.target.value}),children:a.map(E=>l.jsx("option",{value:E,children:E},E))})]}),l.jsx("button",{type:"button",onClick:()=>m(!0),className:"p-4 bg-gray-100 dark:bg-slate-700 text-gray-500 rounded-2xl hover:text-indigo-600 transition-all shadow-sm",title:"Birim Ekle",children:l.jsx(zr,{size:20})})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"rn Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(ja,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{placeholder:"rn: Tl Perde - Vizon Sk Pile",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all",value:c.name,onChange:E=>d({...c,name:E.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Barkod Numaras"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Na,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{placeholder:"EAN-13 veya zel Kod",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all",value:c.barcode,onChange:E=>d({...c,barcode:E.target.value})})]}),l.jsxs("button",{type:"button",onClick:b,className:"px-4 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl hover:bg-indigo-600 hover:text-white transition-all shadow-sm flex items-center gap-2 font-black text-[10px] uppercase tracking-widest",title:"Barkod ret",children:[l.jsx(nI,{size:18})," ret"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Al Fiyat ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(xn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-amber-500 outline-none font-black text-amber-600",value:c.purchasePrice||"",onChange:E=>d({...c,purchasePrice:Number(E.target.value)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sat Fiyat ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(xn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-black text-indigo-600",value:c.price||"",onChange:E=>d({...c,price:Number(E.target.value)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mevcut Stok Miktar"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold",value:c.stock||"",onChange:E=>d({...c,stock:Number(E.target.value)})}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-[10px] text-gray-400 uppercase tracking-widest pointer-events-none",children:c.unit})]})]}),l.jsx("div",{className:"space-y-2 md:col-span-2 pt-2",children:l.jsxs("label",{className:"flex items-center gap-3 p-5 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-500 cursor-pointer transition-all group",children:[l.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center transition-colors ${c.isQuickSale?"bg-indigo-600 text-white shadow-md":"bg-gray-200 dark:bg-slate-700 text-transparent group-hover:bg-indigo-100"}`,children:l.jsx(Jw,{size:16})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-black select-none block text-slate-800 dark:text-slate-100",children:"Hzl Sat Ekrannda Gster"}),l.jsx("span",{className:"text-[10px] font-bold text-gray-400 select-none block uppercase tracking-widest mt-0.5",children:"rn hzl sat vitrinine sabitler"})]}),l.jsx("input",{type:"checkbox",className:"hidden",checked:c.isQuickSale||!1,onChange:E=>d({...c,isQuickSale:E.target.checked})})]})})]})]})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-50 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-lg font-black text-indigo-600 italic flex items-center gap-2",children:[l.jsx(Mn,{size:20})," Yeni Birim Tanmla"]}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsx("div",{className:"p-8 space-y-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Birim Ad"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",placeholder:"rn: Rulo, Litre...",value:p,onChange:E=>g(E.target.value),autoFocus:!0,onKeyDown:E=>E.key==="Enter"&&_()})]})}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 text-gray-400 font-black uppercase text-[10px] tracking-widest",children:"ptal"}),l.jsx("button",{onClick:_,className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-[10px] uppercase tracking-widest",children:"Birimi Kaydet"})]})]})})]})},v5=new BroadcastChannel("customer_display_sync"),kne=({cart:t,discount:e,onBack:r,isExternal:n})=>{const[a,s]=k.useState(t),[c,d]=k.useState(e||{value:0,type:"PERCENT"});k.useEffect(()=>{const b=w=>{w.data.type==="UPDATE_DISPLAY"&&(s(w.data.cart),w.data.discount&&d(w.data.discount))};return v5.addEventListener("message",b),()=>v5.removeEventListener("message",b)},[]);const f=a.reduce((b,w)=>b+w.product.price*w.quantity,0),m=c.type==="PERCENT"?f*c.value/100:c.value,p=Math.max(0,f-m),g=new Date().toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"});return l.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white z-[100] flex flex-col p-8 sm:p-12 overflow-hidden select-none",children:[l.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-slate-800 hover:text-white transition-colors z-50",children:l.jsx(Er,{size:24})}),l.jsxs("div",{className:"flex justify-between items-start mb-16",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h1",{className:"text-5xl font-black tracking-tighter text-indigo-500 uppercase italic",children:"Emr Perde eyiz"}),l.jsx("p",{className:"text-xl font-bold text-slate-500 uppercase tracking-[0.3em] ml-1",children:"Mteri Bilgi Ekran"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Ho Geldiniz"}),l.jsx("p",{className:"text-4xl font-black",children:g})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-8 min-h-0",children:[l.jsxs("div",{className:"col-span-12 lg:col-span-8 bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-10 flex flex-col min-h-0 relative shadow-2xl",children:[l.jsx("h2",{className:"text-2xl font-black text-slate-500 uppercase tracking-widest mb-8",children:"Alveri Sepeti"}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-4 space-y-6 custom-scrollbar",children:a.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[l.jsx("div",{className:"w-48 h-48 bg-slate-800 rounded-full flex items-center justify-center mb-10 text-indigo-500",children:l.jsx(kV,{size:80})}),l.jsxs("h3",{className:"text-5xl font-black uppercase text-center leading-tight",children:["Sradaki mterimiz",l.jsx("br",{}),"iin hazrz"]})]}):a.map((b,w)=>l.jsxs("div",{className:"flex items-center justify-between group animate-in slide-in-from-bottom-4 duration-300",style:{animationDelay:`${w*50}ms`},children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-3xl flex items-center justify-center text-4xl font-black text-indigo-500 shadow-inner",children:b.quantity}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black mb-1 text-slate-100",children:b.product.name}),l.jsxs("p",{className:"text-xl font-bold text-slate-500 uppercase tracking-widest",children:["Birim: ",b.product.price.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"text-4xl font-black text-white",children:[(b.product.price*b.quantity).toLocaleString("tr-TR")," "]})]},b.product.id))})]}),l.jsxs("div",{className:"col-span-12 lg:col-span-4 flex flex-col gap-8",children:[l.jsxs("div",{className:"bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-8 flex flex-col gap-4 shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center text-slate-400",children:[l.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Ara Toplam"}),l.jsxs("span",{className:"text-2xl font-black",children:["",f.toLocaleString("tr-TR")]})]}),m>0&&l.jsxs("div",{className:"flex justify-between items-center text-rose-400 animate-in fade-in zoom-in duration-300",children:[l.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"skonto"}),l.jsxs("span",{className:"text-2xl font-black",children:["- ",m.toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:"flex-1 bg-emerald-600 rounded-[3rem] p-10 flex flex-col items-center justify-center text-center shadow-2xl shadow-emerald-600/20 border border-emerald-500/50 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),l.jsx("span",{className:"relative z-10 text-2xl font-black text-emerald-950 uppercase tracking-widest mb-4",children:"denecek Tutar"}),l.jsxs("div",{className:"relative z-10 text-7xl lg:text-8xl font-black text-white flex items-start justify-center gap-2 w-full truncate",children:[l.jsx("span",{className:"text-4xl mt-2 opacity-80",children:""}),p.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-8 flex flex-col items-center justify-center text-center shadow-xl",children:[l.jsxs("p",{className:"text-xl font-black text-slate-400 uppercase leading-relaxed",children:["Bizi tercih ettiiniz iin",l.jsx("br",{}),"teekkr ederiz."]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse delay-150"})]})]})]})]}),l.jsx("div",{className:"mt-12 text-center",children:l.jsx("p",{className:"text-[10px] font-black text-slate-700 uppercase tracking-[1em] ml-[1em]",children:"EMR PERDE EYZ MAAZA YNETM SSTEM"})})]})},_ne=({products:t,groups:e})=>{var p;const[r,n]=k.useState(""),[a,s]=k.useState(null),c=k.useRef(null);k.useEffect(()=>{var g;(g=c.current)==null||g.focus()},[]);const d=g=>{const b=g.trim();if(!b){s(null);return}const w=t.find(_=>_.barcode===b);s(w||null)},f=()=>{var g;n(""),s(null),(g=c.current)==null||g.focus()},m=a?((p=e.find(g=>g.id===a.groupId))==null?void 0:p.name)||"Genel":"";return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-xl overflow-hidden relative group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 -rotate-12 group-hover:rotate-0 transition-transform duration-500",children:l.jsx(Na,{size:120})}),l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-600/20",children:l.jsx(sa,{size:28})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"rn Sorgulama"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Barkod Okutun veya Manuel Girin"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:c,type:"text",placeholder:"Barkodu okutun...",className:"w-full p-6 bg-gray-50 dark:bg-slate-900 rounded-[2rem] border-4 border-transparent focus:border-indigo-500 outline-none font-black text-3xl transition-all shadow-inner placeholder:text-slate-300 dark:placeholder:text-slate-700",value:r,onChange:g=>{n(g.target.value),d(g.target.value)},onKeyDown:g=>{g.key==="Enter"&&d(r)}}),r&&l.jsx("button",{onClick:f,className:"absolute right-6 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-slate-800 text-gray-400 hover:text-rose-500 rounded-full shadow-md transition-all active:scale-90",children:l.jsx(Er,{size:24})})]}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-100 dark:bg-slate-900 text-slate-500 rounded-2xl text-[10px] font-black uppercase tracking-widest border border-transparent hover:border-slate-200 transition-all",children:[l.jsx(HL,{size:18})," Kamera ile Tara"]}),l.jsxs("button",{onClick:()=>{var g;return(g=c.current)==null?void 0:g.focus()},className:"flex items-center gap-2 px-6 py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-2xl text-[10px] font-black uppercase tracking-widest border border-indigo-100 dark:border-indigo-900/30 transition-all",children:[l.jsx(Mf,{size:18})," Yeniden Odakla"]})]})]})]}),l.jsx("div",{className:"min-h-[400px]",children:r?a?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[3rem] border border-emerald-500/20 shadow-2xl shadow-emerald-500/5 overflow-hidden animate-in zoom-in duration-300",children:[l.jsxs("div",{className:"bg-emerald-500 p-8 text-white flex justify-between items-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 rotate-12",children:l.jsx(xn,{size:100})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(hs,{size:14,className:"text-emerald-900/40"}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-900/50",children:m})]}),l.jsx("h4",{className:"text-3xl font-black italic uppercase tracking-tighter",children:a.name})]}),l.jsx("div",{className:"relative z-10 w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(ja,{size:32})})]}),l.jsxs("div",{className:"p-10 space-y-10",children:[l.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.4em] italic",children:"Sat Fiyat"}),l.jsxs("p",{className:"text-8xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter italic",children:[a.price.toLocaleString("tr-TR")," ",l.jsxs("span",{className:"text-4xl opacity-50",children:[" / ",a.unit]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 text-center",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Gncel Stok"}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(Pf,{size:24,className:a.stock<10?"text-rose-500":"text-emerald-500"}),l.jsxs("span",{className:`text-3xl font-black ${a.stock<10?"text-rose-500":"text-slate-800 dark:text-white"}`,children:[a.stock," ",l.jsx("span",{className:"text-sm font-bold opacity-40 uppercase",children:a.unit})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 text-center",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Barkod No"}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(Na,{size:24,className:"text-indigo-500"}),l.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:a.barcode})]})]})]})]}),l.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 text-center",children:l.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.5em] animate-pulse",children:"SSTEM KAYDI AKTF"})})]}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[3rem] border border-rose-500/20 p-12 text-center space-y-6 shadow-2xl animate-in shake duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto",children:l.jsx(Er,{size:48,strokeWidth:3})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black text-rose-600 uppercase italic",children:"rn Bulunamad!"}),l.jsxs("p",{className:"text-slate-500 mt-2 font-bold leading-relaxed",children:[l.jsx("span",{className:"bg-rose-50 dark:bg-rose-900/30 px-3 py-1 rounded-lg text-rose-600 font-black",children:r}),l.jsx("br",{}),"barkod numarasna ait bir rn sistemde kaytl deil."]})]}),l.jsx("button",{onClick:f,className:"px-10 py-4 bg-slate-900 text-white dark:bg-white dark:text-slate-900 rounded-2xl font-black uppercase tracking-widest active:scale-95 transition-all text-xs",children:"Tekrar Dene"})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-300 dark:text-slate-700 gap-6 opacity-40",children:[l.jsx(Na,{size:80,strokeWidth:1}),l.jsx("p",{className:"text-xl font-black uppercase tracking-[0.3em] italic text-center",children:"Okuma Bekleniyor..."})]})})]})},Ene=()=>{};var w5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Sne=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],c=t[r++],d=t[r++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const s=t[r++],c=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},m6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let b=(d&15)<<2|m>>6,w=m&63;f||(w=64,c||(b=64)),n.push(r[p],r[g],r[b],r[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],d=a<t.length?r[t.charAt(a)]:0;++a;const m=a<t.length?r[t.charAt(a)]:64;++a;const g=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||d==null||m==null||g==null)throw new Nne;const b=s<<2|d>>4;if(n.push(b),m!==64){const w=d<<4&240|m>>2;if(n.push(w),g!==64){const _=m<<6&192|g;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jne=function(t){const e=h6(t);return m6.encodeByteArray(e,!0)},Z0=function(t){return jne(t).replace(/\./g,"")},p6=function(t){try{return m6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=()=>Tne().__FIREBASE_DEFAULTS__,Cne=()=>{if(typeof process>"u"||typeof w5>"u")return;const t=w5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},One=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p6(t[1]);return e&&JSON.parse(e)},dy=()=>{try{return Ene()||Ane()||Cne()||One()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g6=t=>{var e,r;return(r=(e=dy())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Ine=t=>{const e=g6(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},y6=()=>{var t;return(t=dy())==null?void 0:t.config},x6=t=>{var e;return(e=dy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Z0(JSON.stringify(r)),Z0(JSON.stringify(c)),""].join(".")}const Nf={};function Mne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nf))Nf[e]?t.emulator.push(e):t.prod.push(e);return t}function Dne(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let k5=!1;function v6(t,e){if(typeof window>"u"||typeof document>"u"||!Wu(window.location.host)||Nf[t]===e||Nf[t]||k5)return;Nf[t]=e;function r(b){return`__firebase__banner__${b}`}const n="__firebase__banner",s=Mne().prod.length>0;function c(){const b=document.getElementById(n);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{k5=!0,c()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=Dne(n),w=r("text"),_=document.getElementById(w)||document.createElement("span"),E=r("learnmore"),N=document.getElementById(E)||document.createElement("a"),C=r("preprendIcon"),S=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const P=b.element;d(P),p(N,E);const M=m();f(S,C),P.append(S,_,N,M),document.body.appendChild(P)}s?(_.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Lne(){var e;const t=(e=dy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Une(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $ne(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hne(){return!Lne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qne(){try{return typeof indexedDB=="object"}catch{return!1}}function Fne(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne="FirebaseError";class Ps extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Gne,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Kne(s,n):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,d,n)}}function Kne(t,e){return t.replace(Yne,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const Yne=/\{\$([^}]+)}/g;function Wne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],c=e[a];if(_5(s)&&_5(c)){if(!Wl(s,c))return!1}else if(s!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function _5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function bf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function vf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Xne(t,e){const r=new Qne(t,e);return r.subscribe.bind(r)}class Qne{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Zne(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=h1),a.error===void 0&&(a.error=h1),a.complete===void 0&&(a.complete=h1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zne(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function h1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Pne;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tae(e))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=Sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sl){return this.instances.has(e)}getOptions(e=Sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);n===d&&c.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&e(s,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:eae(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Sl){return this.component?this.component.multipleInstances?e:Sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eae(t){return t===Sl?void 0:t}function tae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Jne(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const nae={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},aae=nt.INFO,iae={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},sae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=iae[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gk{constructor(e){this.name=e,this._logLevel=aae,this._logHandler=sae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const oae=(t,e)=>e.some(r=>t instanceof r);let E5,S5;function lae(){return E5||(E5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cae(){return S5||(S5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w6=new WeakMap,Nw=new WeakMap,k6=new WeakMap,m1=new WeakMap,Kk=new WeakMap;function uae(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{r(To(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&w6.set(r,t)}).catch(()=>{}),Kk.set(e,t),e}function dae(t){if(Nw.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});Nw.set(t,e)}let jw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k6.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return To(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fae(t){jw=t(jw)}function hae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(p1(this),e,...r);return k6.set(n,e.sort?e.sort():[e]),To(n)}:cae().includes(t)?function(...e){return t.apply(p1(this),e),To(w6.get(this))}:function(...e){return To(t.apply(p1(this),e))}}function mae(t){return typeof t=="function"?hae(t):(t instanceof IDBTransaction&&dae(t),oae(t,lae())?new Proxy(t,jw):t)}function To(t){if(t instanceof IDBRequest)return uae(t);if(m1.has(t))return m1.get(t);const e=mae(t);return e!==t&&(m1.set(t,e),Kk.set(e,t)),e}const p1=t=>Kk.get(t);function pae(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=To(c);return n&&c.addEventListener("upgradeneeded",f=>{n(To(c.result),f.oldVersion,f.newVersion,To(c.transaction),f)}),r&&c.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const gae=["get","getKey","getAll","getAllKeys","count"],yae=["put","add","delete","clear"],g1=new Map;function N5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g1.get(e))return g1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=yae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||gae.includes(r)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[r](...d),a&&f.done]))[0]};return g1.set(e,s),s}fae(t=>({...t,get:(e,r,n)=>N5(e,r)||t.get(e,r,n),has:(e,r)=>!!N5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tw="@firebase/app",j5="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Gk("@firebase/app"),vae="@firebase/app-compat",wae="@firebase/analytics-compat",kae="@firebase/analytics",_ae="@firebase/app-check-compat",Eae="@firebase/app-check",Sae="@firebase/auth",Nae="@firebase/auth-compat",jae="@firebase/database",Tae="@firebase/data-connect",Aae="@firebase/database-compat",Cae="@firebase/functions",Oae="@firebase/functions-compat",Iae="@firebase/installations",Pae="@firebase/installations-compat",Rae="@firebase/messaging",Mae="@firebase/messaging-compat",Dae="@firebase/performance",zae="@firebase/performance-compat",Lae="@firebase/remote-config",Vae="@firebase/remote-config-compat",Uae="@firebase/storage",Bae="@firebase/storage-compat",$ae="@firebase/firestore",Hae="@firebase/ai",qae="@firebase/firestore-compat",Fae="firebase",Gae="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="[DEFAULT]",Kae={[Tw]:"fire-core",[vae]:"fire-core-compat",[kae]:"fire-analytics",[wae]:"fire-analytics-compat",[Eae]:"fire-app-check",[_ae]:"fire-app-check-compat",[Sae]:"fire-auth",[Nae]:"fire-auth-compat",[jae]:"fire-rtdb",[Tae]:"fire-data-connect",[Aae]:"fire-rtdb-compat",[Cae]:"fire-fn",[Oae]:"fire-fn-compat",[Iae]:"fire-iid",[Pae]:"fire-iid-compat",[Rae]:"fire-fcm",[Mae]:"fire-fcm-compat",[Dae]:"fire-perf",[zae]:"fire-perf-compat",[Lae]:"fire-rc",[Vae]:"fire-rc-compat",[Uae]:"fire-gcs",[Bae]:"fire-gcs-compat",[$ae]:"fire-fst",[qae]:"fire-fst-compat",[Hae]:"fire-vertex","fire-js":"fire-js",[Fae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map,Yae=new Map,Cw=new Map;function T5(t,e){try{t.container.addComponent(e)}catch(r){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Cu(t){const e=t.name;if(Cw.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Cw.set(e,t);for(const r of J0.values())T5(r,t);for(const r of Yae.values())T5(r,t);return!0}function Yk(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function qa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Ah("app","Firebase",Wae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=Gae;function _6(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Aw,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Ao.create("bad-app-name",{appName:String(a)});if(r||(r=y6()),!r)throw Ao.create("no-options");const s=J0.get(a);if(s){if(Wl(r,s.options)&&Wl(n,s.config))return s;throw Ao.create("duplicate-app",{appName:a})}const c=new rae(a);for(const f of Cw.values())c.addComponent(f);const d=new Xae(r,n,c);return J0.set(a,d),d}function E6(t=Aw){const e=J0.get(t);if(!e&&t===Aw&&y6())return _6();if(!e)throw Ao.create("no-app",{appName:t});return e}function Co(t,e,r){let n=Kae[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${n}" with version "${e}":`];a&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Cu(new Xl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae="firebase-heartbeat-database",Zae=1,Jf="firebase-heartbeat-store";let y1=null;function S6(){return y1||(y1=pae(Qae,Zae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),y1}async function Jae(t){try{const r=(await S6()).transaction(Jf),n=await r.objectStore(Jf).get(N6(t));return await r.done,n}catch(e){if(e instanceof Ps)ks.warn(e.message);else{const r=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(r.message)}}}async function A5(t,e){try{const n=(await S6()).transaction(Jf,"readwrite");await n.objectStore(Jf).put(e,N6(t)),await n.done}catch(r){if(r instanceof Ps)ks.warn(r.message);else{const n=Ao.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ks.warn(n.message)}}}function N6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=1024,tie=30;class rie{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new aie(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C5();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>tie){const c=iie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=C5(),{heartbeatsToSend:n,unsentEntries:a}=nie(this._heartbeatsCache.heartbeats),s=Z0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ks.warn(r),""}}}function C5(){return new Date().toISOString().substring(0,10)}function nie(t,e=eie){const r=[];let n=t.slice();for(const a of t){const s=r.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),O5(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),O5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class aie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qne()?Fne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Jae(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return A5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return A5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function O5(t){return Z0(JSON.stringify({version:2,heartbeats:t})).length}function iie(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t){Cu(new Xl("platform-logger",e=>new xae(e),"PRIVATE")),Cu(new Xl("heartbeat",e=>new rie(e),"PRIVATE")),Co(Tw,j5,t),Co(Tw,j5,"esm2020"),Co("fire-js","")}sie("");function j6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oie=j6,T6=new Ah("auth","Firebase",j6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Gk("@firebase/auth");function lie(t,...e){eg.logLevel<=nt.WARN&&eg.warn(`Auth (${Xu}): ${t}`,...e)}function Gp(t,...e){eg.logLevel<=nt.ERROR&&eg.error(`Auth (${Xu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,...e){throw Wk(t,...e)}function Si(t,...e){return Wk(t,...e)}function A6(t,e,r){const n={...oie(),[e]:r};return new Ah("auth","Firebase",n).create(e,{appName:t.name})}function Oo(t){return A6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return T6.create(t,...e)}function $e(t,e,...r){if(!t)throw Wk(e,...r)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gp(e),new Error(e)}function _s(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cie(){return I5()==="http:"||I5()==="https:"}function I5(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cie()||Une()||"connection"in navigator)?navigator.onLine:!0}function die(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r){this.shortDelay=e,this.longDelay=r,_s(r>e,"Short delay should be less than long delay!"),this.isMobile=zne()||Bne()}get(){return uie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e){_s(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mie=new Oh(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Go(t,e,r,n,a={}){return O6(t,a,async()=>{let s={},c={};n&&(e==="GET"?c=n:s={body:JSON.stringify(n)});const d=Ch({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...s};return Vne()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(m.credentials="include"),C6.fetch()(await I6(t,t.config.apiHost,r,d),m)})}async function O6(t,e,r){t._canInitEmulator=!1;const n={...fie,...e};try{const a=new gie(t),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Np(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Np(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Np(t,"user-disabled",c);const p=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw A6(t,p,m);Xa(t,p)}}catch(a){if(a instanceof Ps)throw a;Xa(t,"network-request-failed",{message:String(a)})}}async function fy(t,e,r,n,a={}){const s=await Go(t,e,r,n,a);return"mfaPendingCredential"in s&&Xa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function I6(t,e,r,n){const a=`${e}${r}?${n}`,s=t,c=s.config.emulator?Xk(t.config,a):`${t.config.apiScheme}://${a}`;return hie.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function pie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Si(this.auth,"network-request-failed")),mie.get())})}}function Np(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Si(t,e,n);return a.customData._tokenResponse=r,a}function P5(t){return t!==void 0&&t.enterprise!==void 0}class yie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return pie(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xie(t,e){return Go(t,"GET","/v2/recaptchaConfig",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bie(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function tg(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vie(t,e=!1){const r=Ca(t),n=await r.getIdToken(e),a=Qk(n);$e(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:jf(x1(a.auth_time)),issuedAtTime:jf(x1(a.iat)),expirationTime:jf(x1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x1(t){return Number(t)*1e3}function Qk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Gp("JWT malformed, contained fewer than 3 sections"),null;try{const a=p6(r);return a?JSON.parse(a):(Gp("Failed to decode base64 JWT payload"),null)}catch(a){return Gp("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function R5(t){const e=Qk(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ps&&wie(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function wie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(t){var g;const e=t.auth,r=await t.getIdToken(),n=await eh(t,tg(e,{idToken:r}));$e(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?P6(a.providerUserInfo):[],c=Eie(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Iw(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function _ie(t){const e=Ca(t);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Eie(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function P6(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sie(t,e){const r=await O6(t,{},async()=>{const n=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await I6(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:n};return t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(f.credentials="include"),C6.fetch()(c,f)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Nie(t,e){return Go(t,"POST","/v2/accounts:revokeToken",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const r=R5(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await Sie(e,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,c=new gu;return n&&($e(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&($e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&($e(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fa{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new kie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Iw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return $e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return vie(this,e)}reload(){return _ie(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Fa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await rg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qa(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await eh(this,bie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,c=r.photoURL??void 0,d=r.tenantId??void 0,f=r._redirectEventId??void 0,m=r.createdAt??void 0,p=r.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=r;$e(g&&E,e,"internal-error");const N=gu.fromJSON(this.name,E);$e(typeof g=="string",e,"internal-error"),go(n,e.name),go(a,e.name),$e(typeof b=="boolean",e,"internal-error"),$e(typeof w=="boolean",e,"internal-error"),go(s,e.name),go(c,e.name),go(d,e.name),go(f,e.name),go(m,e.name),go(p,e.name);const C=new Fa({uid:g,auth:e,email:a,emailVerified:b,displayName:n,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:N,createdAt:m,lastLoginAt:p});return _&&Array.isArray(_)&&(C.providerData=_.map(S=>({...S}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,r,n=!1){const a=new gu;a.updateFromServerResponse(r);const s=new Fa({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await rg(s),s}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];$e(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?P6(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new gu;d.updateFromIdToken(n);const f=new Fa({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Iw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Map;function cs(t){_s(t instanceof Function,"Expected a class definition");let e=M5.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}R6.type="NONE";const D5=R6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e,r){return`firebase:${t}:${e}:${r}`}class yu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=Kp(this.userKey,a.apiKey,s),this.fullPersistenceKey=Kp("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await tg(this.auth,{idToken:e}).catch(()=>{});return r?Fa._fromGetAccountInfoResponse(this.auth,r,e):null}return Fa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yu(cs(D5),e,n);const a=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=a[0]||cs(D5);const c=Kp(n,e.config.apiKey,e.name);let d=null;for(const m of r)try{const p=await m._get(c);if(p){let g;if(typeof p=="string"){const b=await tg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await Fa._fromGetAccountInfoResponse(e,b,p)}else g=Fa._fromJSON(e,p);m!==s&&(d=g),s=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new yu(s,e,n):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(r.map(async m=>{if(m!==s)try{await m._remove(c)}catch{}})),new yu(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U6(e))return"Blackberry";if(B6(e))return"Webos";if(D6(e))return"Safari";if((e.includes("chrome/")||z6(e))&&!e.includes("edge/"))return"Chrome";if(V6(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function M6(t=mn()){return/firefox\//i.test(t)}function D6(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z6(t=mn()){return/crios\//i.test(t)}function L6(t=mn()){return/iemobile/i.test(t)}function V6(t=mn()){return/android/i.test(t)}function U6(t=mn()){return/blackberry/i.test(t)}function B6(t=mn()){return/webos/i.test(t)}function Zk(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jie(t=mn()){var e;return Zk(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Tie(){return $ne()&&document.documentMode===10}function $6(t=mn()){return Zk(t)||V6(t)||B6(t)||U6(t)||/windows phone/i.test(t)||L6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e=[]){let r;switch(t){case"Browser":r=z5(mn());break;case"Worker":r=`${z5(mn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cie(t,e={}){return Go(t,"GET","/v2/passwordPolicy",ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=6;class Iie{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Oie,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L5(this),this.idTokenSubscription=new L5(this),this.beforeStateQueue=new Aie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cs(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await yu.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await tg(this,{idToken:e}),n=await Fa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(qa(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=n==null?void 0:n._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(n=f.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=die()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qa(this.app))return Promise.reject(Oo(this));const r=e?Ca(e):null;return r&&$e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qa(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qa(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cie(this),r=new Iie(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ah("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Nie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cs(e)||this._popupRedirectResolver;$e(r,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[cs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof r=="function"){const f=e.addObserver(r,n,a);return()=>{c=!0,f()}}else{const f=e.addObserver(r);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(qa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&lie(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qu(t){return Ca(t)}class L5{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xne(r=>this.observer=r)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rie(t){hy=t}function q6(t){return hy.loadJS(t)}function Mie(){return hy.recaptchaEnterpriseScript}function Die(){return hy.gapiScript}function zie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lie{constructor(){this.enterprise=new Vie}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Vie{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Uie="recaptcha-enterprise",F6="NO_RECAPTCHA";class Bie{constructor(e){this.type=Uie,this.auth=Qu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{xie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new yie(f);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function a(s,c,d){const f=window.grecaptcha;P5(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(m=>{c(m)}).catch(()=>{c(F6)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lie().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{n(this.auth).then(d=>{if(!r&&P5(window.grecaptcha))a(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Mie();f.length!==0&&(f+=d),q6(f).then(()=>{a(d,s,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function V5(t,e,r,n=!1,a=!1){const s=new Bie(t);let c;if(a)c=F6;else try{c=await s.verify(r)}catch{c=await s.verify(r,!0)}const d={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function U5(t,e,r,n,a){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await V5(t,e,r,r==="getOobCode");return n(t,c)}else return n(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await V5(t,e,r,r==="getOobCode");return n(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t,e){const r=Yk(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(Wl(s,e??{}))return a;Xa(a,"already-initialized")}return r.initialize({options:e})}function Hie(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function qie(t,e,r){const n=Qu(t);$e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,s=G6(e),{host:c,port:d}=Fie(e),f=d===null?"":`:${d}`,m={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){$e(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),$e(Wl(m,n.config.emulator)&&Wl(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Wu(c)?(b6(`${s}//${c}${f}`),v6("Auth",!0)):Gie()}function G6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fie(t){const e=G6(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:B5(n.substr(s.length+1))}}else{const[s,c]=n.split(":");return{host:s,port:B5(c)}}}function B5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gie(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,r){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function Kie(t,e){return Go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yie(t,e){return fy(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wie(t,e){return fy(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function Xie(t,e){return fy(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Jk{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new th(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new th(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U5(e,r,"signInWithPassword",Yie);case"emailLink":return Wie(e,{email:this._email,oobCode:this._password});default:Xa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U5(e,n,"signUpPassword",Kie);case"emailLink":return Xie(e,{idToken:r,email:this._email,oobCode:this._password});default:Xa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e){return fy(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie="http://localhost";class Ql extends Jk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Xa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const c=new Ql(n,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return xu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,xu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,xu(e,r)}buildRequest(){const e={requestUri:Qie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ch(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jie(t){const e=bf(vf(t)).link,r=e?bf(vf(e)).deep_link_id:null,n=bf(vf(t)).deep_link_id;return(n?bf(vf(n)).link:null)||n||r||e||t}class e_{constructor(e){const r=bf(vf(e)),n=r.apiKey??null,a=r.oobCode??null,s=Zie(r.mode??null);$e(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Jie(e);try{return new e_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,r){return th._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=e_.parseLink(r);return $e(n,"argument-error"),th._fromEmailAndCode(e,n.code,n.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends K6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ih{constructor(){super("facebook.com")}static credential(e){return Ql._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ql._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wo.credential(r,n)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Ih{constructor(){super("github.com")}static credential(e){return Ql._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Ih{constructor(){super("twitter.com")}static credential(e,r){return Ql._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _o.credential(r,n)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const s=await Fa._fromIdTokenResponse(e,n,a),c=$5(n);return new Ou({user:s,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=$5(n);return new Ou({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function $5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Ps{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,ng.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new ng(e,r,n,a)}}function Y6(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ng._fromErrorAndOperation(t,s,e,n):s})}async function ese(t,e,r=!1){const n=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ou._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(t,e,r=!1){const{auth:n}=t;if(qa(n.app))return Promise.reject(Oo(n));const a="reauthenticate";try{const s=await eh(t,Y6(n,a,e,t),r);$e(s.idToken,n,"internal-error");const c=Qk(s.idToken);$e(c,n,"internal-error");const{sub:d}=c;return $e(t.uid===d,n,"user-mismatch"),Ou._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xa(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e,r=!1){if(qa(t.app))return Promise.reject(Oo(t));const n="signIn",a=await Y6(t,n,e),s=await Ou._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(s.user),s}async function rse(t,e){return W6(Qu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nse(t){const e=Qu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ase(t,e,r){return qa(t.app)?Promise.reject(Oo(t)):rse(Ca(t),Zu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nse(t),n})}function ise(t,e,r,n){return Ca(t).onIdTokenChanged(e,r,n)}function sse(t,e,r){return Ca(t).beforeAuthStateChanged(e,r)}function ose(t,e,r,n){return Ca(t).onAuthStateChanged(e,r,n)}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse=1e3,cse=10;class Q6 extends X6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},s=this.storage.getItem(n);Tie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cse):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q6.type="LOCAL";const use=Q6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6 extends X6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Z6.type="SESSION";const J6=Z6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new my(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:s}=r.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const d=Array.from(c).map(async m=>m(r.origin,s)),f=await dse(d);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:f})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}my.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const m=t_("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(g){const b=g;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(b.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:r},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function hse(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function mse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gse(){return e3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebaseLocalStorageDb",yse=1,ig="firebaseLocalStorage",r3="fbase_key";class Ph{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function py(t,e){return t.transaction([ig],e?"readwrite":"readonly").objectStore(ig)}function xse(){const t=indexedDB.deleteDatabase(t3);return new Ph(t).toPromise()}function Pw(){const t=indexedDB.open(t3,yse);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ig,{keyPath:r3})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ig)?e(n):(n.close(),await xse(),e(await Pw()))})})}async function H5(t,e,r){const n=py(t,!0).put({[r3]:e,value:r});return new Ph(n).toPromise()}async function bse(t,e){const r=py(t,!1).get(e),n=await new Ph(r).toPromise();return n===void 0?null:n.value}function q5(t,e){const r=py(t,!0).delete(e);return new Ph(r).toPromise()}const vse=800,wse=3;class n3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wse)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=my._getInstance(gse()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await mse(),!this.activeServiceWorker)return;this.sender=new fse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pw();return await H5(e,ag,"1"),await q5(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>H5(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bse(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>q5(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=py(a,!1).getAll();return new Ph(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n3.type="LOCAL";const kse=n3;new Oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(t,e){return e?cs(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends Jk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return xu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Ese(t){return W6(t.auth,new r_(t),t.bypassAuthState)}function Sse(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),tse(r,new r_(t),t.bypassAuthState)}async function Nse(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),ese(r,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r,n,a,s=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ese;case"linkViaPopup":case"linkViaRedirect":return Nse;case"reauthViaPopup":case"reauthViaRedirect":return Sse;default:Xa(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jse=new Oh(2e3,1e4);class du extends a3{constructor(e,r,n,a,s){super(e,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,du.currentPopupAction&&du.currentPopupAction.cancel(),du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,du.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jse.get())};e()}}du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tse="pendingRedirect",Yp=new Map;class Ase extends a3{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Yp.get(this.auth._key());if(!e){try{const n=await Cse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cse(t,e){const r=Pse(e),n=Ise(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function Ose(t,e){Yp.set(t._key(),e)}function Ise(t){return cs(t._redirectPersistence)}function Pse(t){return Kp(Tse,t.config.apiKey,t.name)}async function Rse(t,e,r=!1){if(qa(t.app))return Promise.reject(Oo(t));const n=Qu(t),a=_se(n,e),c=await new Ase(n,a,r).execute();return c&&!r&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=600*1e3;class Dse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zse(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!i3(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Si(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mse&&this.cachedEventUids.clear(),this.cachedEventUids.has(F5(e))}saveEventToCache(e){this.cachedEventUids.add(F5(e)),this.lastProcessedEventTime=Date.now()}}function F5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Use=/^https?/;async function Bse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lse(t);for(const r of e)try{if($se(r))return}catch{}Xa(t,"unauthorized-domain")}function $se(t){const e=Ow(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&c.hostname===n}if(!Use.test(r))return!1;if(Vse.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hse=new Oh(3e4,6e4);function G5(){const t=Ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function qse(t){return new Promise((e,r)=>{var a,s,c;function n(){G5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G5(),r(Si(t,"network-request-failed"))},timeout:Hse.get()})}if((s=(a=Ni().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=Ni().gapi)!=null&&c.load)n();else{const d=zie("iframefcb");return Ni()[d]=()=>{gapi.load?n():r(Si(t,"network-request-failed"))},q6(`${Die()}?onload=${d}`).catch(f=>r(f))}}).catch(e=>{throw Wp=null,e})}let Wp=null;function Fse(t){return Wp=Wp||qse(t),Wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=new Oh(5e3,15e3),Kse="__/auth/iframe",Yse="emulator/auth/iframe",Wse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qse(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Xk(e,Yse):`https://${t.config.authDomain}/${Kse}`,n={apiKey:e.apiKey,appName:t.name,v:Xu},a=Xse.get(t.config.apiHost);a&&(n.eid=a);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ch(n).slice(1)}`}async function Zse(t){const e=await Fse(t),r=Ni().gapi;return $e(r,t,"internal-error"),e.open({where:document.body,url:Qse(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wse,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const c=Si(t,"network-request-failed"),d=Ni().setTimeout(()=>{s(c)},Gse.get());function f(){Ni().clearTimeout(d),a(n)}n.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eoe=500,toe=600,roe="_blank",noe="http://localhost";class K5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aoe(t,e,r,n=eoe,a=toe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const f={...Jse,width:n.toString(),height:a.toString(),top:s,left:c},m=mn().toLowerCase();r&&(d=z6(m)?roe:r),M6(m)&&(e=e||noe,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[w,_])=>`${b}${w}=${_},`,"");if(jie(m)&&d!=="_self")return ioe(e||"",d),new K5(null);const g=window.open(e||"",d,p);$e(g,t,"popup-blocked");try{g.focus()}catch{}return new K5(g)}function ioe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe="__/auth/handler",ooe="emulator/auth/handler",loe=encodeURIComponent("fac");async function Y5(t,e,r,n,a,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Xu,eventId:a};if(e instanceof K6){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Wne(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Ih){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),m=f?`#${loe}=${encodeURIComponent(f)}`:"";return`${coe(t)}?${Ch(d).slice(1)}${m}`}function coe({config:t}){return t.emulator?Xk(t,ooe):`https://${t.authDomain}/${soe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="webStorageSupport";class uoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J6,this._completeRedirectFn=Rse,this._overrideRedirectResult=Ose}async _openPopup(e,r,n,a){var c;_s((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await Y5(e,r,n,Ow(),a);return aoe(e,s,t_())}async _openRedirect(e,r,n,a){await this._originValidation(e);const s=await Y5(e,r,n,Ow(),a);return hse(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(_s(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Zse(e),n=new Dse(e);return r.register("authEvent",a=>($e(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(b1,{type:b1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[b1];s!==void 0&&r(!!s),Xa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Bse(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return $6()||D6()||Zk()}}const doe=uoe;var W5="@firebase/auth",X5="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hoe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function moe(t){Cu(new Xl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H6(t)},m=new Pie(n,a,s,f);return Hie(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Cu(new Xl("auth-internal",e=>{const r=Qu(e.getProvider("auth").getImmediate());return(n=>new foe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(W5,X5,hoe(t)),Co(W5,X5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=300,goe=x6("authIdTokenMaxAge")||poe;let Q5=null;const yoe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>goe)return;const a=r==null?void 0:r.token;Q5!==a&&(Q5=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xoe(t=E6()){const e=Yk(t,"auth");if(e.isInitialized())return e.getImmediate();const r=$ie(t,{popupRedirectResolver:doe,persistence:[kse,use,J6]}),n=x6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const c=yoe(s.toString());sse(r,c,()=>c(r.currentUser)),ise(r,d=>c(d))}}const a=g6("auth");return a&&qie(r,`http://${a}`),r}function boe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Rie({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const s=Si("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",boe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});moe("Browser");const voe=({onLogin:t})=>{const[e,r]=k.useState(""),[n,a]=k.useState(""),[s,c]=k.useState(!1),[d,f]=k.useState(!1),[m,p]=k.useState(!1),[g,b]=k.useState("");k.useEffect(()=>{const _=localStorage.getItem("remembered_user");_&&(r(_),c(!0))},[]);const w=_=>{_.preventDefault(),p(!0),b(""),ase(Nl,e,n).then(E=>{s?localStorage.setItem("remembered_user",e):localStorage.removeItem("remembered_user"),t()}).catch(E=>{const N=E.code,C=E.message;console.error("Firebase Auth Error:",N,C),b(N==="auth/invalid-credential"||N==="auth/user-not-found"||N==="auth/wrong-password"?"Kullanc ad veya ifre hatal.":"Bir hata olutu. Ltfen tekrar deneyin.")}).finally(()=>{p(!1)})};return l.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-between bg-gray-50 dark:bg-slate-950 p-4 sm:p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-600/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),l.jsxs("div",{className:"text-center space-y-2 pt-4 sm:pt-8 z-10 animate-in fade-in slide-in-from-top-4 duration-500",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-600/30 mx-auto mb-4 transform rotate-12 transition-transform hover:rotate-0 duration-300",children:l.jsx(vV,{size:32})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-black italic uppercase tracking-tighter",children:"Emr Perde & eyiz"}),l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.4em]",children:"Ynetim Paneli Girii"})]}),l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 p-6 sm:p-8 rounded-[2.5rem] shadow-2xl border border-gray-100 dark:border-slate-800 z-10 animate-in fade-in zoom-in duration-500 my-4",children:[l.jsxs("form",{onSubmit:w,className:"space-y-4 sm:space-y-5",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-2 block",children:"Kullanc Ad (E-posta)"}),l.jsxs("div",{className:"relative group",children:[l.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:18}),l.jsx("input",{type:"email",placeholder:"kullanici@emrperde.com",className:"w-full pl-11 pr-4 py-3 sm:py-3.5 bg-gray-50 dark:bg-slate-800 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all shadow-inner text-sm",value:e,onChange:_=>r(_.target.value),required:!0})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-2 block",children:"Parola"}),l.jsxs("div",{className:"relative group",children:[l.jsx(z8,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:18}),l.jsx("input",{type:d?"text":"password",placeholder:"",className:"w-full pl-11 pr-11 py-3 sm:py-3.5 bg-gray-50 dark:bg-slate-800 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all shadow-inner text-sm",value:n,onChange:_=>a(_.target.value),required:!0}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500",children:d?l.jsx(y8,{size:18}):l.jsx(b8,{size:18})})]})]}),l.jsx("div",{className:"flex items-center justify-between px-1",children:l.jsxs("button",{type:"button",onClick:()=>c(!s),className:"flex items-center gap-2 group cursor-pointer",children:[l.jsx("div",{className:`transition-colors ${s?"text-indigo-600":"text-gray-300 dark:text-slate-600"}`,children:s?l.jsx(wu,{size:18}):l.jsx(Df,{size:18})}),l.jsx("span",{className:"text-[11px] font-bold text-gray-500 dark:text-slate-400 select-none",children:"Beni Hatrla"})]})}),g&&l.jsx("p",{className:"text-xs text-red-500 text-center font-bold",children:g}),l.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50 mt-2",children:m?l.jsx("div",{className:"w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:["Giri Yap ",l.jsx(In,{size:16})]})})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 dark:border-slate-800 text-center space-y-3",children:[l.jsx("p",{className:"text-[9px] font-black text-indigo-500/60 dark:text-indigo-400/50 uppercase tracking-widest italic leading-relaxed px-2",children:"Bu Uygulama Emr Perde & eyiz'e Ait Bir Maaza Ynetim Uygulamasdr"}),l.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-slate-700 uppercase tracking-widest italic",children:" 2020 Tm Haklar Sakldr"})]})]}),l.jsx("div",{className:"pb-4 sm:pb-8 text-center animate-pulse z-10 shrink-0",children:l.jsx("p",{className:"text-[10px] font-black text-gray-300 dark:text-slate-800 uppercase tracking-[0.3em]",children:"GostaSoftware"})})]})},woe=({firmData:t,onUpdate:e,onLogout:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(!1),d=f=>{f.preventDefault(),e(n),c(!0),setTimeout(()=>c(!1),3e3)};return l.jsx("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(_i,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Firma Profili"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Maaza ve deme Bilgileri"})]})]}),l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Firma / Maaza Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.name,onChange:f=>a({...n,name:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Yetkili Ad Soyad"}),l.jsxs("div",{className:"relative",children:[l.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.owner,onChange:f=>a({...n,owner:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"letiim Hatt"}),l.jsxs("div",{className:"relative",children:[l.jsx(xg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.phone,onChange:f=>a({...n,phone:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Maaza Adresi"}),l.jsxs("div",{className:"relative",children:[l.jsx(T1,{className:"absolute left-4 top-4 text-gray-400",size:18}),l.jsx("textarea",{rows:3,className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all resize-none",value:n.address,onChange:f=>a({...n,address:f.target.value})})]})]})]}),l.jsxs("div",{className:"pt-6 space-y-6",children:[l.jsxs("h4",{className:"text-sm font-black text-indigo-500 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(mj,{size:18})," Banka & deme Bilgileri"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Banka Hesab Alc Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",placeholder:"rn: Mehmet z",value:n.bankAccountHolder,onChange:f=>a({...n,bankAccountHolder:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Banka Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(mj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.bankName,onChange:f=>a({...n,bankName:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"IBAN Numaras"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ea,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all uppercase",value:n.iban,onChange:f=>a({...n,iban:f.target.value})})]})]})]})]}),l.jsxs("div",{className:"pt-6 flex items-center gap-4",children:[l.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-indigo-600 text-white rounded-3xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-sm uppercase tracking-widest flex items-center justify-center gap-3",children:[l.jsx(tc,{size:20})," Deiiklikleri Kaydet"]}),s&&l.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 font-black text-xs uppercase tracking-widest animate-in fade-in slide-in-from-left-2",children:[l.jsx(Vl,{size:20})," Kaydedildi"]})]})]}),l.jsx("div",{className:"mt-12 pt-8 border-t border-rose-50 dark:border-rose-900/10",children:l.jsxs("button",{onClick:r,className:"w-full py-4 bg-rose-50 dark:bg-rose-900/10 text-rose-600 rounded-3xl font-black active:scale-95 transition-all text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-3 border-2 border-rose-100 dark:border-rose-900/20 hover:bg-rose-500 hover:text-white hover:border-rose-500",children:[l.jsx(V8,{size:18})," Sistemden Gvenli k"]})})]})})})},koe=({onNavigate:t})=>l.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(tI,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Sistem ve Modl Ayarlar"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("button",{onClick:()=>t("PRODUCT_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-emerald-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(ja,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:"rn Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"Grup, birim ynetimi ve toplu barkod yazdrma ilemleri."})]}),l.jsx(In,{size:20,className:"text-gray-300 group-hover:text-emerald-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("VAULT_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-blue-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(ps,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Kasa Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"Sistemdeki kasalar ve deme hesaplarn ynetin."})]}),l.jsx(In,{size:20,className:"text-gray-300 group-hover:text-blue-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("BARCODE_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-indigo-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(Na,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:"rn Barkod Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"rnler iin barkod etiketi tasarmn ve kat boyutlarn zelletirin."})]}),l.jsx(In,{size:20,className:"text-gray-300 group-hover:text-indigo-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("WORKSHOP_BARCODE_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-amber-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(Mn,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-amber-600 dark:group-hover:text-amber-400 transition-colors",children:"Atlye Fii (Barkod) Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"l siparilerinde her bir pencere iin kartlacak etiket/barkod tasarmn zelletirin."})]}),l.jsx(In,{size:20,className:"text-gray-300 group-hover:text-amber-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]})]})]})})}),Qn=8,_oe=({template:t,onSave:e,onCancel:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(null),d=k.useRef(null),[f,m]=k.useState(null),p=n.elements.find(S=>S.id===s),g=(S,P,M,$)=>{S.stopPropagation(),c(P),m({id:P,startX:S.clientX,startY:S.clientY,initialElX:M,initialElY:$})},b=S=>{if(!f)return;const P=(S.clientX-f.startX)/Qn,M=(S.clientY-f.startY)/Qn;let $=f.initialElX+P,V=f.initialElY+M;const T=n.elements.find(I=>I.id===f.id);T&&($=Math.max(0,Math.min($,n.width-T.width)),V=Math.max(0,Math.min(V,n.height-T.height))),a(I=>({...I,elements:I.elements.map(R=>R.id===f.id?{...R,x:Math.round($*10)/10,y:Math.round(V*10)/10}:R)}))},w=()=>{m(null)},_=S=>{s&&a(P=>({...P,elements:P.elements.map(M=>M.id===s?{...M,...S}:M)}))},E=()=>{s&&(a(S=>({...S,elements:S.elements.filter(P=>P.id!==s)})),c(null))},N=S=>{const P={id:Math.random().toString(36).substring(2,9),type:S,x:2,y:2,width:30,height:6,fontSize:8,fontWeight:"bold",textAlign:"left"};S==="BARCODE"?(P.width=50,P.height=15):S==="TEXT_PRICE"&&(P.width=15,P.height=6,P.backgroundColor="#000000",P.color="#ffffff",P.borderRadius=4,P.textAlign="center"),a(M=>({...M,elements:[...M.elements,P]})),c(P.id)},C=S=>S.type==="TEXT_STORE"?"FRMA ADI":S.type==="TEXT_PRODUCT"?"rnek rn Ad":S.type==="TEXT_PRICE"?"99.99 ":S.type==="BARCODE_TEXT"?"8691234567890":S.type==="CUSTOM_TEXT"?S.content||"Yeni Metin":S.type==="BARCODE"?l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-400 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded",children:[l.jsx(Na,{size:32}),l.jsx("span",{className:"text-[8px] uppercase mt-1",children:"Barkod Alan"})]}):"";return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>e(n),className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(tc,{size:20})," Tasarm Kaydet"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-8 flex flex-col items-center justify-center min-h-[500px] overflow-hidden",children:[l.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-indigo-600",children:"Etiket Tasarm"}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Srkle brak ile dzenleyin"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase bg-gray-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-slate-800",children:[l.jsx(r0,{size:14})," Ebat: ",n.width,"x",n.height," mm"]})]}),l.jsx("div",{className:"flex-1 w-full flex items-center justify-center bg-gray-50 dark:bg-slate-900 rounded-3xl border-2 border-dashed border-gray-200 dark:border-slate-700 p-8",children:l.jsxs("div",{ref:d,onMouseMove:b,onMouseUp:w,onMouseLeave:w,className:"relative bg-white shadow-2xl overflow-hidden",style:{width:n.width*Qn,height:n.height*Qn,cursor:f?"grabbing":"default"},onClick:()=>c(null),children:[l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(#f0f0f0 1px, transparent 1px), linear-gradient(90deg, #f0f0f0 1px, transparent 1px)",backgroundSize:`${Qn}px ${Qn}px`,opacity:.5,pointerEvents:"none"}}),n.elements.map(S=>l.jsxs("div",{onMouseDown:P=>g(P,S.id,S.x,S.y),onClick:P=>{P.stopPropagation(),c(S.id)},className:`absolute cursor-grab active:cursor-grabbing flex items-center overflow-hidden transition-shadow ${s===S.id?"ring-2 ring-indigo-500 shadow-lg z-10":"hover:ring-1 hover:ring-indigo-300 z-0"}`,style:{left:S.x*Qn,top:S.y*Qn,width:S.width*Qn,height:S.height*Qn,fontSize:S.fontSize*(Qn/3),fontWeight:S.fontWeight,justifyContent:S.textAlign==="center"?"center":S.textAlign==="right"?"flex-end":"flex-start",backgroundColor:S.backgroundColor||"transparent",color:S.color||"#000",borderRadius:S.borderRadius?S.borderRadius*(Qn/4):0,padding:S.padding?S.padding*Qn:0,border:S.type!=="BARCODE"?"1px dashed rgba(0,0,0,0.1)":"none"},children:[s===S.id&&l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center shadow z-20 pointer-events-none",children:l.jsx(Q4,{size:12})}),l.jsx("span",{className:"truncate w-full leading-tight",style:{textAlign:S.textAlign},children:C(S)})]},S.id))]})}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-4 italic",children:"* Ekranda grnen ller, yazc ktsndaki mm deerleri ile birebir orantldr."})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6",children:[l.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx(zr,{size:16})," Etikete Ekle"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>N("TEXT_STORE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(n0,{size:16})," Firma Ad"]}),l.jsxs("button",{onClick:()=>N("TEXT_PRODUCT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(xn,{size:16})," rn Ad"]}),l.jsxs("button",{onClick:()=>N("TEXT_PRICE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(xn,{size:16})," Sat Fiyat"]}),l.jsxs("button",{onClick:()=>N("BARCODE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Na,{size:16})," Barkod izgisi"]}),l.jsxs("button",{onClick:()=>N("BARCODE_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(n0,{size:16})," Barkod No"]}),l.jsxs("button",{onClick:()=>N("CUSTOM_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Mr,{size:16})," Serbest Metin"]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6 relative overflow-hidden",children:p?l.jsxs("div",{className:"space-y-5 animate-in fade-in duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-slate-700 pb-3",children:[l.jsxs("h4",{className:"text-xs font-black text-indigo-600 uppercase tracking-widest",children:[p.type.replace("_"," ")," Ayarlar"]}),l.jsx("button",{onClick:E,className:"p-1.5 text-gray-400 hover:text-rose-500 bg-gray-50 dark:bg-slate-900 rounded-lg transition-colors",children:l.jsx($t,{size:16})})]}),p.type==="CUSTOM_TEXT"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Metin erii"}),l.jsx("input",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.content||"",onChange:S=>_({content:S.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"X Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.x,onChange:S=>_({x:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Y Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.y,onChange:S=>_({y:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Genilik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.width,onChange:S=>_({width:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Ykseklik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.height,onChange:S=>_({height:Number(S.target.value)})})]})]}),p.type!=="BARCODE"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Font Boyutu (pt)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.fontSize,onChange:S=>_({fontSize:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Kalnlk"}),l.jsxs("select",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold appearance-none",value:p.fontWeight,onChange:S=>_({fontWeight:S.target.value}),children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"bold",children:"Kaln"}),l.jsx("option",{value:"900",children:"Ekstra Kaln"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Hizalama"}),l.jsx("div",{className:"flex gap-1 bg-gray-50 dark:bg-slate-900 p-1 rounded-xl",children:["left","center","right"].map(S=>l.jsx("button",{onClick:()=>_({textAlign:S}),className:`flex-1 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all ${p.textAlign===S?"bg-white dark:bg-slate-800 shadow text-indigo-600":"text-gray-400"}`,children:S==="left"?"SOL":S==="center"?"ORTA":"SA"},S))})]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-slate-700 space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Arka Plan Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.backgroundColor||"#ffffff",onChange:S=>_({backgroundColor:S.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Yaz Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.color||"#000000",onChange:S=>_({color:S.target.value})})]})]})})]}):l.jsxs("div",{className:"text-center py-10 text-gray-400 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(Mr,{size:32}),l.jsxs("p",{className:"text-xs font-black uppercase tracking-widest",children:["zelliklerini dzenlemek iin",l.jsx("br",{}),"bir eleman sein."]})]})})]})]})]})},Zn=6,Eoe=({template:t,onSave:e,onCancel:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(null),d=k.useRef(null),[f,m]=k.useState(null),p=n.elements.find(S=>S.id===s),g=(S,P,M,$)=>{S.stopPropagation(),c(P),m({id:P,startX:S.clientX,startY:S.clientY,initialElX:M,initialElY:$})},b=S=>{if(!f)return;const P=(S.clientX-f.startX)/Zn,M=(S.clientY-f.startY)/Zn;let $=f.initialElX+P,V=f.initialElY+M;const T=n.elements.find(I=>I.id===f.id);T&&($=Math.max(0,Math.min($,n.width-T.width)),V=Math.max(0,Math.min(V,n.height-T.height))),a(I=>({...I,elements:I.elements.map(R=>R.id===f.id?{...R,x:Math.round($*10)/10,y:Math.round(V*10)/10}:R)}))},w=()=>{m(null)},_=S=>{s&&a(P=>({...P,elements:P.elements.map(M=>M.id===s?{...M,...S}:M)}))},E=()=>{s&&(a(S=>({...S,elements:S.elements.filter(P=>P.id!==s)})),c(null))},N=S=>{const P={id:Math.random().toString(36).substring(2,9),type:S,x:5,y:5,width:40,height:8,fontSize:12,fontWeight:"bold",textAlign:"left"};S==="BARCODE_MEASUREMENT"?(P.width=80,P.height=15):(S==="TEXT_STORE"||S==="TEXT_CUSTOMER"||S==="TEXT_ROOM")&&(P.width=90,P.textAlign="center"),a(M=>({...M,elements:[...M.elements,P]})),c(P.id)},C=S=>S.type==="TEXT_STORE"?"FRMA ADI":S.type==="TEXT_CUSTOMER"?"Ahmet Ylmaz":S.type==="TEXT_ROOM"?"Yatak Odas":S.type==="TEXT_WINDOW_LABEL"?"Pencere 1":S.type==="TEXT_WIDTH"?"En: 250":S.type==="TEXT_HEIGHT"?"Boy: 265":S.type==="TEXT_DESC"?"Kruvaze Tl Sk Pile":S.type==="TEXT_NOTES"?"Backlar uzun braklacak":S.type==="TEXT_DATE"?"14.05.2024":S.type==="CUSTOM_TEXT"?S.content||"Yeni Metin":S.type==="BARCODE_MEASUREMENT"||S.type==="BARCODE"?l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-400 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded",children:[l.jsx(Na,{size:32}),l.jsx("span",{className:"text-[8px] uppercase mt-1",children:"Sipari Barkodu"})]}):"";return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>e(n),className:"flex items-center gap-2 px-8 py-3 bg-amber-500 text-white rounded-2xl font-black shadow-xl shadow-amber-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(tc,{size:20})," Tasarm Kaydet"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-8 flex flex-col items-center justify-center min-h-[500px] overflow-hidden",children:[l.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-amber-600",children:"Atlye Fii (Barkod) Tasarm"}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Srkle brak ile dzenleyin"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase bg-gray-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-slate-800",children:[l.jsx(r0,{size:14})," Ebat: ",n.width,"x",n.height," mm"]})]}),l.jsx("div",{className:"flex-1 w-full flex items-center justify-center bg-gray-50 dark:bg-slate-900 rounded-3xl border-2 border-dashed border-gray-200 dark:border-slate-700 p-8 overflow-auto",children:l.jsxs("div",{ref:d,onMouseMove:b,onMouseUp:w,onMouseLeave:w,className:"relative bg-white shadow-2xl overflow-hidden shrink-0",style:{width:n.width*Zn,height:n.height*Zn,cursor:f?"grabbing":"default"},onClick:()=>c(null),children:[l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(#f0f0f0 1px, transparent 1px), linear-gradient(90deg, #f0f0f0 1px, transparent 1px)",backgroundSize:`${Zn}px ${Zn}px`,opacity:.5,pointerEvents:"none"}}),n.elements.map(S=>l.jsxs("div",{onMouseDown:P=>g(P,S.id,S.x,S.y),onClick:P=>{P.stopPropagation(),c(S.id)},className:`absolute cursor-grab active:cursor-grabbing flex items-center overflow-hidden transition-shadow ${s===S.id?"ring-2 ring-amber-500 shadow-lg z-10":"hover:ring-1 hover:ring-amber-300 z-0"}`,style:{left:S.x*Zn,top:S.y*Zn,width:S.width*Zn,height:S.height*Zn,fontSize:S.fontSize*(Zn/3),fontWeight:S.fontWeight,justifyContent:S.textAlign==="center"?"center":S.textAlign==="right"?"flex-end":"flex-start",backgroundColor:S.backgroundColor||"transparent",color:S.color||"#000",borderRadius:S.borderRadius?S.borderRadius*(Zn/4):0,padding:S.padding?S.padding*Zn:0,border:S.type!=="BARCODE"&&S.type!=="BARCODE_MEASUREMENT"?"1px dashed rgba(0,0,0,0.1)":"none"},children:[s===S.id&&l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center shadow z-20 pointer-events-none",children:l.jsx(Q4,{size:12})}),l.jsx("span",{className:"truncate w-full leading-tight",style:{textAlign:S.textAlign},children:C(S)})]},S.id))]})}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-4 italic",children:"* Bu etiketler, her bir pencere iin ayr ayr yazdrlacaktr."})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6",children:[l.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx(zr,{size:16})," Etikete Ekle"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>N("TEXT_STORE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(n0,{size:16})," Firma Ad"]}),l.jsxs("button",{onClick:()=>N("TEXT_CUSTOMER"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(n0,{size:16})," Mteri"]}),l.jsxs("button",{onClick:()=>N("TEXT_ROOM"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(xn,{size:16})," Oda Ad"]}),l.jsxs("button",{onClick:()=>N("TEXT_WINDOW_LABEL"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(xn,{size:16})," Pencere Ad"]}),l.jsxs("button",{onClick:()=>N("TEXT_WIDTH"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Mn,{size:16})," Genilik"]}),l.jsxs("button",{onClick:()=>N("TEXT_HEIGHT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Mn,{size:16})," Ykseklik"]}),l.jsxs("button",{onClick:()=>N("TEXT_DESC"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(yj,{size:16})," Model/Kuma"]}),l.jsxs("button",{onClick:()=>N("TEXT_NOTES"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(yj,{size:16})," Sipari Notu"]}),l.jsxs("button",{onClick:()=>N("TEXT_DATE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(na,{size:16})," Tarih"]}),l.jsxs("button",{onClick:()=>N("BARCODE_MEASUREMENT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Na,{size:16})," Barkod"]}),l.jsxs("button",{onClick:()=>N("CUSTOM_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2 col-span-2",children:[l.jsx(Mr,{size:16})," Serbest Metin"]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6 relative overflow-hidden",children:p?l.jsxs("div",{className:"space-y-5 animate-in fade-in duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-slate-700 pb-3",children:[l.jsxs("h4",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:[p.type.replace("_"," ")," Ayarlar"]}),l.jsx("button",{onClick:E,className:"p-1.5 text-gray-400 hover:text-rose-500 bg-gray-50 dark:bg-slate-900 rounded-lg transition-colors",children:l.jsx($t,{size:16})})]}),p.type==="CUSTOM_TEXT"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Metin erii"}),l.jsx("input",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.content||"",onChange:S=>_({content:S.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"X Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.x,onChange:S=>_({x:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Y Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.y,onChange:S=>_({y:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Genilik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.width,onChange:S=>_({width:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Ykseklik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.height,onChange:S=>_({height:Number(S.target.value)})})]})]}),p.type!=="BARCODE"&&p.type!=="BARCODE_MEASUREMENT"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Font Boyutu (pt)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.fontSize,onChange:S=>_({fontSize:Number(S.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Kalnlk"}),l.jsxs("select",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold appearance-none",value:p.fontWeight,onChange:S=>_({fontWeight:S.target.value}),children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"bold",children:"Kaln"}),l.jsx("option",{value:"900",children:"Ekstra Kaln"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Hizalama"}),l.jsx("div",{className:"flex gap-1 bg-gray-50 dark:bg-slate-900 p-1 rounded-xl",children:["left","center","right"].map(S=>l.jsx("button",{onClick:()=>_({textAlign:S}),className:`flex-1 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all ${p.textAlign===S?"bg-white dark:bg-slate-800 shadow text-amber-600":"text-gray-400"}`,children:S==="left"?"SOL":S==="center"?"ORTA":"SA"},S))})]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-slate-700 space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Arka Plan Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.backgroundColor||"#ffffff",onChange:S=>_({backgroundColor:S.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Yaz Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.color||"#000000",onChange:S=>_({color:S.target.value})})]})]})})]}):l.jsxs("div",{className:"text-center py-10 text-gray-400 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(Mr,{size:32}),l.jsxs("p",{className:"text-xs font-black uppercase tracking-widest",children:["zelliklerini dzenlemek iin",l.jsx("br",{}),"bir eleman sein."]})]})})]})]})]})},Soe=({products:t,setProducts:e,groups:r,setGroups:n,units:a,setUnits:s,barcodeTemplate:c,firmProfile:d,onBack:f})=>{const[m,p]=k.useState("GROUPS"),[g,b]=k.useState(""),[w,_]=k.useState(null),E=()=>{if(!g.trim())return;const le={id:"g"+Math.random().toString(36).substr(2,9),name:g.trim()};n(z=>[...z,le]),b("")},N=()=>{if(!w)return;const le=w.id;n(z=>z.filter(W=>W.id!==le)),e(z=>z.map(W=>W.groupId===le?{...W,groupId:void 0}:W)),_(null)},[C,S]=k.useState(""),[P,M]=k.useState(null),$=()=>{!C.trim()||a.includes(C.trim())||(s(le=>[...le,C.trim()]),S(""))},V=()=>{P&&(s(le=>le.filter(z=>z!==P)),e(le=>le.map(z=>z.unit===P?{...z,unit:"Adet"}:z)),M(null))},[T,I]=k.useState(""),[R,U]=k.useState(new Set),[L,B]=k.useState({}),H=k.useMemo(()=>t.filter(le=>le.name.toLowerCase().includes(T.toLowerCase())||le.barcode.includes(T)).sort((le,z)=>le.name.localeCompare(z.name,"tr-TR")),[t,T]),X=k.useMemo(()=>{let le=t.length,z=0,W=0,ue=0;return t.forEach(G=>{const pe=Math.max(0,G.stock);z+=pe,W+=(G.purchasePrice||0)*pe,ue+=(G.price||0)*pe}),{totalVarieties:le,totalStock:z,totalPurchaseValue:W,totalSalesValue:ue}},[t]),J=()=>{R.size===H.length&&H.length>0?U(new Set):U(new Set(H.map(le=>le.id)))},F=le=>{const z=new Set(R);z.has(le)?z.delete(le):z.add(le),U(z)},Z=le=>{const z=window.open("","_blank");if(!z){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}let W="";le.forEach(G=>{for(let pe=0;pe<G.count;pe++){const Ee=c.elements.map(be=>{let Fe="";return be.type==="TEXT_STORE"?Fe=d.name:be.type==="TEXT_PRODUCT"?Fe=G.product.name:be.type==="TEXT_PRICE"?Fe=`${G.product.price.toLocaleString("tr-TR")} `:be.type==="CUSTOM_TEXT"?Fe=be.content||"":be.type==="BARCODE_TEXT"?Fe=G.product.barcode:be.type==="BARCODE"&&(Fe=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${G.product.barcode}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
            position: absolute;
            left: ${be.x}mm;
            top: ${be.y}mm;
            width: ${be.width}mm;
            height: ${be.height}mm;
            font-size: ${be.fontSize}pt;
            font-weight: ${be.fontWeight};
            text-align: ${be.textAlign};
            display: flex;
            justify-content: ${be.textAlign==="center"?"center":be.textAlign==="right"?"flex-end":"flex-start"};
            align-items: center;
            overflow: hidden;
            white-space: ${be.type==="TEXT_PRODUCT"?"normal":"nowrap"};
            line-height: 1.1;
            ${be.backgroundColor?`background-color: ${be.backgroundColor};`:""}
            ${be.color?`color: ${be.color};`:""}
            ${be.borderRadius?`border-radius: ${be.borderRadius}px;`:""}
            ${be.padding?`padding: ${be.padding}mm;`:""}
          `}">${Fe}</div>`}).join("");W+=`<div class="label-page">${Ee}</div>`}});const ue=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Toplu Etiket Yazdrma</title>
          <style>
            @page {
              size: ${c.width}mm ${c.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${c.width}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
            }
            .label-page {
              width: ${c.width}mm;
              height: ${c.height}mm;
              position: relative;
              page-break-after: always;
              overflow: hidden;
            }
            .label-page:last-child {
              page-break-after: auto;
            }
          </style>
        </head>
        <body>
          ${W}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
                window.close();
              }, 1000);
            };
          <\/script>
        </body>
      </html>
    `;z.document.write(ue),z.document.close()},fe=()=>{const le=Array.from(R).map(z=>{const W=t.find(ue=>ue.id===z);return W?{product:W,count:L[z]||1}:null}).filter(z=>z!==null);Z(le)},_e=()=>{const le=H.map(z=>({product:z,count:L[z.id]||1}));Z(le)};return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-emerald-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-8 sm:p-12 border-b border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center text-emerald-600 shrink-0",children:l.jsx(ja,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"rn Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Grup, Birim ve Barkod lemleri"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(ja,{size:14,className:"text-indigo-500"})," Toplam Stok"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-slate-700 dark:text-slate-200 truncate",children:[X.totalVarieties," ",l.jsx("span",{className:"text-xs sm:text-sm font-bold opacity-50",children:"eit"})," / ",X.totalStock.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-xs sm:text-sm font-bold opacity-50",children:"Kalem"})]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-amber-500"})," Toplam Maliyet"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-amber-600 truncate",children:[X.totalPurchaseValue.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(Il,{size:14,className:"text-emerald-500"})," Toplam Sat Deeri"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-emerald-600 truncate",children:[X.totalSalesValue.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(xn,{size:14,className:"text-indigo-500"})," Beklenen Kr"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-indigo-600 truncate",children:[(X.totalSalesValue-X.totalPurchaseValue).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar",children:[l.jsxs("button",{onClick:()=>p("GROUPS"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="GROUPS"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(hs,{size:18})," rn Gruplar"]}),l.jsxs("button",{onClick:()=>p("UNITS"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="UNITS"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(Mn,{size:18})," rn Birimleri"]}),l.jsxs("button",{onClick:()=>p("BARCODES"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="BARCODES"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(Ul,{size:18})," Barkod Yazdrma"]})]})]}),l.jsxs("div",{className:"p-8 sm:p-12 flex-1",children:[m==="GROUPS"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{className:"flex-1 p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all",placeholder:"Yeni rn grubu ad...",value:g,onChange:le=>b(le.target.value),onKeyDown:le=>le.key==="Enter"&&E()}),l.jsxs("button",{onClick:E,className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest flex items-center justify-center gap-2",children:[l.jsx(zr,{size:18})," Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-4 border-t border-gray-50 dark:border-slate-700",children:r.length===0?l.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 font-bold italic",children:"Sistemde kaytl grup bulunmamaktadr."}):l.jsxs(l.Fragment,{children:[r.map(le=>{const z=t.filter(Ee=>Ee.groupId===le.id),W=z.length;let ue=0,G=0,pe=0;return z.forEach(Ee=>{const be=Math.max(0,Ee.stock);ue+=be,G+=(Ee.purchasePrice||0)*be,pe+=(Ee.price||0)*be}),l.jsxs("div",{className:"flex items-start justify-between p-5 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-transparent hover:border-gray-200 dark:hover:border-slate-700 transition-all shadow-sm",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-black text-base block text-indigo-600 dark:text-indigo-400 mb-3",children:le.name}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"eit / Kalem"}),l.jsxs("p",{className:"font-black text-sm text-slate-700 dark:text-slate-200",children:[W," ",l.jsx("span",{className:"text-xs opacity-50",children:"/"})," ",ue.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Beklenen Kr"}),l.jsxs("p",{className:"font-black text-sm text-emerald-600",children:[(pe-G).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-[10px] font-black text-slate-500 bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-amber-500"})," Maliyet: ",G.toLocaleString("tr-TR")," "]}),l.jsx("span",{className:"hidden sm:block opacity-30",children:"|"}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Il,{size:14,className:"text-emerald-500"})," Sat: ",pe.toLocaleString("tr-TR")," "]})]})]}),l.jsx("button",{onClick:()=>_(le),className:"p-2 ml-4 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all shrink-0 mt-1",children:l.jsx($t,{size:18})})]},le.id)}),(()=>{const le=t.filter(pe=>!pe.groupId);if(le.length===0)return null;const z=le.length;let W=0,ue=0,G=0;return le.forEach(pe=>{const Ee=Math.max(0,pe.stock);W+=Ee,ue+=(pe.purchasePrice||0)*Ee,G+=(pe.price||0)*Ee}),l.jsx("div",{className:"flex items-start justify-between p-5 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-transparent transition-all shadow-sm opacity-80 grayscale-[20%]",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-black text-base block text-slate-500 dark:text-slate-400 mb-3",children:"Genel (Grupsuz rnler)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"eit / Kalem"}),l.jsxs("p",{className:"font-black text-sm text-slate-700 dark:text-slate-200",children:[z," ",l.jsx("span",{className:"text-xs opacity-50",children:"/"})," ",W.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Beklenen Kr"}),l.jsxs("p",{className:"font-black text-sm text-emerald-600",children:[(G-ue).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-[10px] font-black text-slate-500 bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-amber-500"})," Maliyet: ",ue.toLocaleString("tr-TR")," "]}),l.jsx("span",{className:"hidden sm:block opacity-30",children:"|"}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Il,{size:14,className:"text-emerald-500"})," Sat: ",G.toLocaleString("tr-TR")," "]})]})]})})})()]})})]}),m==="UNITS"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{className:"flex-1 p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all",placeholder:"Yeni rn birimi (rn: Rulo, M2, Paket)...",value:C,onChange:le=>S(le.target.value),onKeyDown:le=>le.key==="Enter"&&$()}),l.jsxs("button",{onClick:$,className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest flex items-center justify-center gap-2",children:[l.jsx(zr,{size:18})," Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t border-gray-50 dark:border-slate-700",children:a.length===0?l.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 font-bold italic",children:"Sistemde kaytl ek birim bulunmamaktadr."}):a.map(le=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-gray-200 dark:hover:border-slate-700 transition-all",children:[l.jsx("span",{className:"font-black text-sm uppercase tracking-widest",children:le}),l.jsx("button",{onClick:()=>M(le),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx($t,{size:18})})]},le))})]}),m==="BARCODES"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"rn ad veya barkod ara...",value:T,onChange:le=>I(le.target.value)})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col h-[500px]",children:[l.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[l.jsxs("button",{onClick:J,className:"flex items-center gap-3 group",children:[l.jsx("div",{className:`transition-colors ${R.size===H.length&&H.length>0?"text-emerald-600":"text-gray-300 dark:text-slate-600"}`,children:R.size===H.length&&H.length>0?l.jsx(wu,{size:20}):l.jsx(Df,{size:20})}),l.jsx("span",{className:"text-xs font-black text-gray-500 uppercase tracking-widest select-none",children:"Tmn Se"})]}),l.jsxs("span",{className:"text-xs font-black text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1 rounded-full uppercase tracking-widest",children:[R.size," Seili"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:H.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 gap-4 text-center",children:[l.jsx(Na,{size:48}),l.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"rn bulunamad"})]}):H.map(le=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 hover:bg-gray-50 dark:hover:bg-slate-900/50 rounded-2xl transition-colors group border border-transparent hover:border-gray-100 dark:hover:border-slate-700 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("button",{onClick:()=>F(le.id),className:"shrink-0 text-gray-300 dark:text-slate-600 hover:text-emerald-500 transition-colors",children:R.has(le.id)?l.jsx(wu,{size:20,className:"text-emerald-600"}):l.jsx(Df,{size:20})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h5",{className:"font-black text-sm truncate",children:le.name}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 mt-0.5",children:[l.jsx(Na,{size:12})," ",le.barcode,l.jsx("span",{className:"opacity-50",children:"|"}),l.jsx(xn,{size:12})," ",le.price.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 shrink-0 sm:ml-4 pl-10 sm:pl-0",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Adet:"}),l.jsx("input",{type:"number",min:"1",className:"w-20 p-2.5 bg-gray-100 dark:bg-slate-800 rounded-xl text-center font-black outline-none focus:ring-2 focus:ring-emerald-500 transition-all text-sm",value:L[le.id]||1,onChange:z=>B(W=>({...W,[le.id]:Math.max(1,parseInt(z.target.value)||1)}))})]})]},le.id))}),l.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 dark:bg-slate-900 border-t border-gray-100 dark:border-slate-700 shrink-0 flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:fe,disabled:R.size===0,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 disabled:grayscale",children:[l.jsx(Ul,{size:18})," Seilenleri Yazdr"]}),l.jsxs("button",{onClick:_e,disabled:H.length===0,className:"flex-1 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 disabled:grayscale",children:[l.jsx(t2,{size:18})," Tmn Yazdr (",H.length,")"]})]})]})]})]})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Grubu Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',w.name,'"']})," grubunu silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu gruba ait rnler otomatik olarak ",l.jsx("span",{className:"font-bold text-indigo-600",children:"Genel"})," kategorisine tanacaktr."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>_(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:N,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),P&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Birimi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',P,'"']})," birimini silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu birime sahip rnler ",l.jsx("span",{className:"font-bold text-indigo-600",children:"Adet"})," olarak gncellenecektir."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>M(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:V,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},Noe=({vaults:t,setVaults:e,onBack:r})=>{const[n,a]=k.useState(!1),[s,c]=k.useState(null),[d,f]=k.useState(null),m=g=>{s?(e(b=>b.map(w=>w.id===s.id?{...w,...g}:w)),c(null)):(e(b=>[...b,{...g,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),a(!1))},p=()=>{d&&(e(g=>g.filter(b=>b.id!==d.id)),f(null))};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zr,{size:18})," Yeni Kasa Ekle"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[l.jsx("div",{className:"p-8 sm:p-12 border-b border-gray-50 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600 shrink-0",children:l.jsx(ps,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Kasa Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Sistemdeki Kasalar ve Hesaplar Ynetin"})]})]})}),l.jsx("div",{className:"p-8 sm:p-12",children:l.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-indigo-200 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${g.type==="CASH"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":g.type==="POS"?"bg-purple-50 dark:bg-purple-900/20 text-purple-500":g.type==="CREDIT_CARD"?"bg-amber-50 dark:bg-amber-900/20 text-amber-500":"bg-blue-50 dark:bg-blue-900/20 text-blue-500"}`,children:g.type==="CASH"?l.jsx(uh,{size:24}):g.type==="POS"||g.type==="CREDIT_CARD"?l.jsx(Ea,{size:24}):l.jsx(_i,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-black text-base",children:g.name}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[g.type==="CASH"?"Nakit Kasa":g.type==="POS"?"POS Cihaz":g.type==="CREDIT_CARD"?"Kredi Kart":"Banka Hesab",g.isFixed&&"  Sabit"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>c(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-all",children:l.jsx(Mr,{size:18})}),!g.isFixed&&l.jsx("button",{onClick:()=>f(g),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx($t,{size:18})})]})]},g.id))})})]}),(n||s)&&l.jsx(joe,{vault:s||void 0,onClose:()=>{a(!1),c(null)},onSave:m}),d&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Hesab Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:['"',d.name,'" hesab silinecektir.']})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>f(null),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs",children:"ptal"}),l.jsx("button",{onClick:p,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl text-xs uppercase",children:"Evet, Sil"})]})]})})]})},joe=({onClose:t,onSave:e,vault:r})=>{const[n,a]=k.useState((r==null?void 0:r.name)||""),[s,c]=k.useState((r==null?void 0:r.type)||"CASH"),[d,f]=k.useState((r==null?void 0:r.limit)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Hesab Dzenle":"Yeni Hesap/Kart"}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Hesap Tr"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{id:"CASH",label:"Nakit",icon:uh},{id:"BANK",label:"Banka",icon:_i},{id:"POS",label:"POS",icon:Ea},{id:"CREDIT_CARD",label:"K. Kart",icon:Ea}].map(m=>l.jsxs("button",{disabled:!!r,onClick:()=>c(m.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${s===m.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-gray-50 dark:bg-slate-900 border-transparent text-gray-400"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(m.icon,{size:18}),l.jsx("span",{className:"text-[9px] font-bold uppercase",children:m.label})]},m.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"sim / Aklama"}),l.jsx("input",{placeholder:"rn: Nakit Kasa, Akbank...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n,onChange:m=>a(m.target.value),autoFocus:!0})]}),s==="CREDIT_CARD"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Limiti ()"}),l.jsx("input",{type:"number",placeholder:"20000",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600",value:d,onChange:m=>f(m.target.value)})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!n.trim(),onClick:()=>e({name:n,type:s,limit:s==="CREDIT_CARD"?Number(d):void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},Toe=({contacts:t})=>{const[e,r]=k.useState(""),[n,a]=k.useState("ALL"),[s,c]=k.useState(""),[d,f]=k.useState(new Set),m=k.useMemo(()=>t.filter(_=>_.phone&&_.phone.trim()!==""),[t]),p=k.useMemo(()=>m.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())),[m,s]),g=k.useMemo(()=>n==="ALL"?m.sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")):n==="CUSTOMERS"?m.filter(_=>_.type==="CUSTOMER").sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")):m.filter(_=>d.has(_.id)).sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")),[m,n,d]),b=_=>{const E=new Set(d);E.has(_)?E.delete(_):E.add(_),f(E)},w=(_,E)=>{if(!e.trim()){alert("Ltfen bir mesaj yazn.");return}const N=_.replace(/\D/g,"");let C=N;N.length===10&&N.startsWith("5")&&(C="90"+N);const S=e.replace(/\{\{isim\}\}/g,E),P=encodeURIComponent(S);window.open(`https://wa.me/${C}?text=${P}`,"_blank")};return l.jsx("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-8 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-green-50 dark:bg-green-900/30 rounded-2xl flex items-center justify-center text-green-600",children:l.jsx(X4,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Sms / WhatsApp Gnder"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Carilerinize Hzl Mesaj Gnderin"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1 flex justify-between",children:["Mesaj erii",l.jsxs("span",{className:"text-indigo-500 lowercase normal-case italic",children:["pucu: Kii adn eklemek iin ","{{isim}}"," yazn"]})]}),l.jsx("textarea",{rows:6,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-green-500 outline-none font-bold transition-all text-sm resize-none",placeholder:"Merhaba {{isim}}, kampanyamzdan haberdar msnz?...",value:e,onChange:_=>r(_.target.value)})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Hedef Kitle Seimi"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("button",{onClick:()=>a("ALL"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="ALL"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(Pl,{size:20})," Tm Cariler"]}),l.jsxs("button",{onClick:()=>a("CUSTOMERS"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="CUSTOMERS"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(Pl,{size:20})," Sadece Mteriler"]}),l.jsxs("button",{onClick:()=>a("SELECTED"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="SELECTED"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(wu,{size:20})," zel Seim"]})]})]}),n==="SELECTED"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-green-500 outline-none font-bold transition-all text-sm",placeholder:"Cari ara...",value:s,onChange:_=>c(_.target.value)})]}),l.jsx("div",{className:"h-64 overflow-y-auto bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700 p-2 custom-scrollbar",children:p.map(_=>l.jsxs("div",{onClick:()=>b(_.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-colors ${d.has(_.id)?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"hover:bg-white dark:hover:bg-slate-800"}`,children:[l.jsx("div",{className:`transition-colors ${d.has(_.id)?"text-green-600":"text-gray-300"}`,children:d.has(_.id)?l.jsx(wu,{size:18}):l.jsx(Df,{size:18})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-sm truncate",children:_.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:_.phone})]})]},_.id))})]})]}),l.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-700 p-6 max-h-[800px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"font-black text-green-600 uppercase tracking-widest text-sm",children:"Gnderim Listesi"}),l.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 px-3 py-1 rounded-full text-[10px] font-black",children:[g.length," Kii"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar pr-2",children:g.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-50 gap-2",children:[l.jsx(Pl,{size:32}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Gnderilecek Kii Yok"})]}):g.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[l.jsx("p",{className:"font-bold text-sm truncate",children:_.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[l.jsx(xg,{size:10})," ",_.phone]})]}),l.jsx("button",{onClick:()=>w(_.phone,_.name),disabled:!e.trim(),className:"shrink-0 p-2.5 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 active:scale-95 transition-all disabled:opacity-50 disabled:grayscale",title:"WhatsApp ile Gnder",children:l.jsx(J4,{size:16})})]},_.id))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-700",children:l.jsx("p",{className:"text-[9px] font-bold text-gray-400 italic text-center leading-relaxed",children:'Web tarayc gvenlik kurallar gerei mesajlar tek tek onaynzla gnderilmektedir. Listedeki "Gnder" butonlarna srayla tklayabilirsiniz.'})})]})]})]})})},Aoe=({transactions:t,contacts:e,onBack:r})=>{const[n,a]=k.useState(""),[s,c]=k.useState("ALL"),[d,f]=k.useState("ALL"),[m,p]=k.useState(()=>{const S=new Date;return`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(S.getDate()).padStart(2,"0")}`}),[g,b]=k.useState(()=>{const S=new Date;return`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}`}),[w,_]=k.useState(()=>new Date().getFullYear().toString()),E=k.useMemo(()=>t.filter(S=>{const P=e.find(U=>U.id===S.contactId),V=`${P?P.name.toLocaleUpperCase("tr-TR"):"GENEL LEM"} ${S.description}`.toLowerCase().includes(n.toLowerCase()),T=s==="ALL"||S.type===s,I=!S.isStartingBalance;let R=!0;if(d!=="ALL"){const U=new Date(S.date);if(d==="DAILY"){if(m){const[L,B,H]=m.split("-");R=U.getFullYear()===parseInt(L)&&U.getMonth()===parseInt(B)-1&&U.getDate()===parseInt(H)}}else if(d==="MONTHLY"){if(g){const[L,B]=g.split("-");R=U.getFullYear()===parseInt(L)&&U.getMonth()===parseInt(B)-1}}else d==="YEARLY"&&w&&(R=U.getFullYear()===parseInt(w))}return V&&T&&R&&I}).sort((S,P)=>new Date(P.date).getTime()-new Date(S.date).getTime()),[t,e,n,s,d,m,g,w]),N=E.filter(S=>S.type==="INCOME").reduce((S,P)=>S+P.amount,0),C=E.filter(S=>S.type==="EXPENSE").reduce((S,P)=>S+P.amount,0);return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-2.5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Performans Detaylar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Detayl Al / Sat Verileri"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Ro,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Toplam Al/Gelir"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-500",children:[N.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Toplam Sat/Gider"}),l.jsxs("p",{className:"text-2xl font-black text-rose-500",children:[C.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:l.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Kii veya ilem ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:n,onChange:S=>a(S.target.value)})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 items-center",children:[l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent overflow-x-auto hide-scrollbar",children:["ALL","DAILY","MONTHLY","YEARLY"].map(S=>l.jsx("button",{onClick:()=>f(S),className:`px-4 sm:px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${d===S?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:S==="ALL"?"Tm":S==="DAILY"?"Gnlk":S==="MONTHLY"?"Aylk":"Yllk"},S))}),d!=="ALL"&&l.jsxs("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent shrink-0",children:[d==="DAILY"&&l.jsx("input",{type:"date",value:m,onChange:S=>p(S.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200"}),d==="MONTHLY"&&l.jsx("input",{type:"month",value:g,onChange:S=>b(S.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200"}),d==="YEARLY"&&l.jsx("select",{value:w,onChange:S=>_(S.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200 appearance-none pr-6 cursor-pointer",children:Array.from({length:15},(S,P)=>new Date().getFullYear()-P).map(S=>l.jsx("option",{value:S,children:S},S))})]}),l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent overflow-x-auto hide-scrollbar",children:["ALL","INCOME","EXPENSE"].map(S=>l.jsx("button",{onClick:()=>c(S),className:`px-4 sm:px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===S?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:S==="ALL"?"Tm":S==="INCOME"?"Al/Gelir":"Sat/Gider"},S))})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:E.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(na,{size:48}),"Kayt bulunamad."]}):E.map(S=>{const P=e.find($=>$.id===S.contactId),M=P?P.name.toLocaleUpperCase("tr-TR"):"GENEL LEM";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${S.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:S.type==="INCOME"?l.jsx(Ro,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:M}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:S.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(na,{size:12,className:"opacity-60"})," ",new Date(S.date).toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${S.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[S.type==="INCOME"?"+":"-",S.amount.toLocaleString("tr-TR")," "]})]},S.id)})})})]})};var Coe="firebase",Ooe="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co(Coe,Ooe,"app");var Z5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,s3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function R(){}R.prototype=I.prototype,T.F=I.prototype,T.prototype=new R,T.prototype.constructor=T,T.D=function(U,L,B){for(var H=Array(arguments.length-2),X=2;X<arguments.length;X++)H[X-2]=arguments[X];return I.prototype[L].apply(U,H)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,I,R){R||(R=0);const U=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)U[L]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(L=0;L<16;++L)U[L]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=T.g[0],R=T.g[1],L=T.g[2];let B=T.g[3],H;H=I+(B^R&(L^B))+U[0]+3614090360&4294967295,I=R+(H<<7&4294967295|H>>>25),H=B+(L^I&(R^L))+U[1]+3905402710&4294967295,B=I+(H<<12&4294967295|H>>>20),H=L+(R^B&(I^R))+U[2]+606105819&4294967295,L=B+(H<<17&4294967295|H>>>15),H=R+(I^L&(B^I))+U[3]+3250441966&4294967295,R=L+(H<<22&4294967295|H>>>10),H=I+(B^R&(L^B))+U[4]+4118548399&4294967295,I=R+(H<<7&4294967295|H>>>25),H=B+(L^I&(R^L))+U[5]+1200080426&4294967295,B=I+(H<<12&4294967295|H>>>20),H=L+(R^B&(I^R))+U[6]+2821735955&4294967295,L=B+(H<<17&4294967295|H>>>15),H=R+(I^L&(B^I))+U[7]+4249261313&4294967295,R=L+(H<<22&4294967295|H>>>10),H=I+(B^R&(L^B))+U[8]+1770035416&4294967295,I=R+(H<<7&4294967295|H>>>25),H=B+(L^I&(R^L))+U[9]+2336552879&4294967295,B=I+(H<<12&4294967295|H>>>20),H=L+(R^B&(I^R))+U[10]+4294925233&4294967295,L=B+(H<<17&4294967295|H>>>15),H=R+(I^L&(B^I))+U[11]+2304563134&4294967295,R=L+(H<<22&4294967295|H>>>10),H=I+(B^R&(L^B))+U[12]+1804603682&4294967295,I=R+(H<<7&4294967295|H>>>25),H=B+(L^I&(R^L))+U[13]+4254626195&4294967295,B=I+(H<<12&4294967295|H>>>20),H=L+(R^B&(I^R))+U[14]+2792965006&4294967295,L=B+(H<<17&4294967295|H>>>15),H=R+(I^L&(B^I))+U[15]+1236535329&4294967295,R=L+(H<<22&4294967295|H>>>10),H=I+(L^B&(R^L))+U[1]+4129170786&4294967295,I=R+(H<<5&4294967295|H>>>27),H=B+(R^L&(I^R))+U[6]+3225465664&4294967295,B=I+(H<<9&4294967295|H>>>23),H=L+(I^R&(B^I))+U[11]+643717713&4294967295,L=B+(H<<14&4294967295|H>>>18),H=R+(B^I&(L^B))+U[0]+3921069994&4294967295,R=L+(H<<20&4294967295|H>>>12),H=I+(L^B&(R^L))+U[5]+3593408605&4294967295,I=R+(H<<5&4294967295|H>>>27),H=B+(R^L&(I^R))+U[10]+38016083&4294967295,B=I+(H<<9&4294967295|H>>>23),H=L+(I^R&(B^I))+U[15]+3634488961&4294967295,L=B+(H<<14&4294967295|H>>>18),H=R+(B^I&(L^B))+U[4]+3889429448&4294967295,R=L+(H<<20&4294967295|H>>>12),H=I+(L^B&(R^L))+U[9]+568446438&4294967295,I=R+(H<<5&4294967295|H>>>27),H=B+(R^L&(I^R))+U[14]+3275163606&4294967295,B=I+(H<<9&4294967295|H>>>23),H=L+(I^R&(B^I))+U[3]+4107603335&4294967295,L=B+(H<<14&4294967295|H>>>18),H=R+(B^I&(L^B))+U[8]+1163531501&4294967295,R=L+(H<<20&4294967295|H>>>12),H=I+(L^B&(R^L))+U[13]+2850285829&4294967295,I=R+(H<<5&4294967295|H>>>27),H=B+(R^L&(I^R))+U[2]+4243563512&4294967295,B=I+(H<<9&4294967295|H>>>23),H=L+(I^R&(B^I))+U[7]+1735328473&4294967295,L=B+(H<<14&4294967295|H>>>18),H=R+(B^I&(L^B))+U[12]+2368359562&4294967295,R=L+(H<<20&4294967295|H>>>12),H=I+(R^L^B)+U[5]+4294588738&4294967295,I=R+(H<<4&4294967295|H>>>28),H=B+(I^R^L)+U[8]+2272392833&4294967295,B=I+(H<<11&4294967295|H>>>21),H=L+(B^I^R)+U[11]+1839030562&4294967295,L=B+(H<<16&4294967295|H>>>16),H=R+(L^B^I)+U[14]+4259657740&4294967295,R=L+(H<<23&4294967295|H>>>9),H=I+(R^L^B)+U[1]+2763975236&4294967295,I=R+(H<<4&4294967295|H>>>28),H=B+(I^R^L)+U[4]+1272893353&4294967295,B=I+(H<<11&4294967295|H>>>21),H=L+(B^I^R)+U[7]+4139469664&4294967295,L=B+(H<<16&4294967295|H>>>16),H=R+(L^B^I)+U[10]+3200236656&4294967295,R=L+(H<<23&4294967295|H>>>9),H=I+(R^L^B)+U[13]+681279174&4294967295,I=R+(H<<4&4294967295|H>>>28),H=B+(I^R^L)+U[0]+3936430074&4294967295,B=I+(H<<11&4294967295|H>>>21),H=L+(B^I^R)+U[3]+3572445317&4294967295,L=B+(H<<16&4294967295|H>>>16),H=R+(L^B^I)+U[6]+76029189&4294967295,R=L+(H<<23&4294967295|H>>>9),H=I+(R^L^B)+U[9]+3654602809&4294967295,I=R+(H<<4&4294967295|H>>>28),H=B+(I^R^L)+U[12]+3873151461&4294967295,B=I+(H<<11&4294967295|H>>>21),H=L+(B^I^R)+U[15]+530742520&4294967295,L=B+(H<<16&4294967295|H>>>16),H=R+(L^B^I)+U[2]+3299628645&4294967295,R=L+(H<<23&4294967295|H>>>9),H=I+(L^(R|~B))+U[0]+4096336452&4294967295,I=R+(H<<6&4294967295|H>>>26),H=B+(R^(I|~L))+U[7]+1126891415&4294967295,B=I+(H<<10&4294967295|H>>>22),H=L+(I^(B|~R))+U[14]+2878612391&4294967295,L=B+(H<<15&4294967295|H>>>17),H=R+(B^(L|~I))+U[5]+4237533241&4294967295,R=L+(H<<21&4294967295|H>>>11),H=I+(L^(R|~B))+U[12]+1700485571&4294967295,I=R+(H<<6&4294967295|H>>>26),H=B+(R^(I|~L))+U[3]+2399980690&4294967295,B=I+(H<<10&4294967295|H>>>22),H=L+(I^(B|~R))+U[10]+4293915773&4294967295,L=B+(H<<15&4294967295|H>>>17),H=R+(B^(L|~I))+U[1]+2240044497&4294967295,R=L+(H<<21&4294967295|H>>>11),H=I+(L^(R|~B))+U[8]+1873313359&4294967295,I=R+(H<<6&4294967295|H>>>26),H=B+(R^(I|~L))+U[15]+4264355552&4294967295,B=I+(H<<10&4294967295|H>>>22),H=L+(I^(B|~R))+U[6]+2734768916&4294967295,L=B+(H<<15&4294967295|H>>>17),H=R+(B^(L|~I))+U[13]+1309151649&4294967295,R=L+(H<<21&4294967295|H>>>11),H=I+(L^(R|~B))+U[4]+4149444226&4294967295,I=R+(H<<6&4294967295|H>>>26),H=B+(R^(I|~L))+U[11]+3174756917&4294967295,B=I+(H<<10&4294967295|H>>>22),H=L+(I^(B|~R))+U[2]+718787259&4294967295,L=B+(H<<15&4294967295|H>>>17),H=R+(B^(L|~I))+U[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(L+(H<<21&4294967295|H>>>11))&4294967295,T.g[2]=T.g[2]+L&4294967295,T.g[3]=T.g[3]+B&4294967295}n.prototype.v=function(T,I){I===void 0&&(I=T.length);const R=I-this.blockSize,U=this.C;let L=this.h,B=0;for(;B<I;){if(L==0)for(;B<=R;)a(this,T,B),B+=this.blockSize;if(typeof T=="string"){for(;B<I;)if(U[L++]=T.charCodeAt(B++),L==this.blockSize){a(this,U),L=0;break}}else for(;B<I;)if(U[L++]=T[B++],L==this.blockSize){a(this,U),L=0;break}}this.h=L,this.o+=I},n.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;I=this.o*8;for(var R=T.length-8;R<T.length;++R)T[R]=I&255,I/=256;for(this.v(T),T=Array(16),I=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)T[I++]=this.g[R]>>>U&255;return T};function s(T,I){var R=d;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=I(T)}function c(T,I){this.h=I;const R=[];let U=!0;for(let L=T.length-1;L>=0;L--){const B=T[L]|0;U&&B==I||(R[L]=B,U=!1)}this.g=R}var d={};function f(T){return-128<=T&&T<128?s(T,function(I){return new c([I|0],I<0?-1:0)}):new c([T|0],T<0?-1:0)}function m(T){if(isNaN(T)||!isFinite(T))return g;if(T<0)return N(m(-T));const I=[];let R=1;for(let U=0;T>=R;U++)I[U]=T/R|0,R*=4294967296;return new c(I,0)}function p(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return N(p(T.substring(1),I));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(I,8));let U=g;for(let B=0;B<T.length;B+=8){var L=Math.min(8,T.length-B);const H=parseInt(T.substring(B,B+L),I);L<8?(L=m(Math.pow(I,L)),U=U.j(L).add(m(H))):(U=U.j(R),U=U.add(m(H)))}return U}var g=f(0),b=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(E(this))return-N(this).m();let T=0,I=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);T+=(U>=0?U:4294967296+U)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(E(this))return"-"+N(this).toString(T);const I=m(Math.pow(T,6));var R=this;let U="";for(;;){const L=M(R,I).g;R=C(R,L.j(I));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(T);if(R=L,_(R))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(let I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=C(this,T),E(T)?-1:_(T)?0:1};function N(T){const I=T.g.length,R=[];for(let U=0;U<I;U++)R[U]=~T.g[U];return new c(R,~T.h).add(b)}t.abs=function(){return E(this)?N(this):this},t.add=function(T){const I=Math.max(this.g.length,T.g.length),R=[];let U=0;for(let L=0;L<=I;L++){let B=U+(this.i(L)&65535)+(T.i(L)&65535),H=(B>>>16)+(this.i(L)>>>16)+(T.i(L)>>>16);U=H>>>16,B&=65535,H&=65535,R[L]=H<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function C(T,I){return T.add(N(I))}t.j=function(T){if(_(this)||_(T))return g;if(E(this))return E(T)?N(this).j(N(T)):N(N(this).j(T));if(E(T))return N(this.j(N(T)));if(this.l(w)<0&&T.l(w)<0)return m(this.m()*T.m());const I=this.g.length+T.g.length,R=[];for(var U=0;U<2*I;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<T.g.length;L++){const B=this.i(U)>>>16,H=this.i(U)&65535,X=T.i(L)>>>16,J=T.i(L)&65535;R[2*U+2*L]+=H*J,S(R,2*U+2*L),R[2*U+2*L+1]+=B*J,S(R,2*U+2*L+1),R[2*U+2*L+1]+=H*X,S(R,2*U+2*L+1),R[2*U+2*L+2]+=B*X,S(R,2*U+2*L+2)}for(T=0;T<I;T++)R[T]=R[2*T+1]<<16|R[2*T];for(T=I;T<2*I;T++)R[T]=0;return new c(R,0)};function S(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function P(T,I){this.g=T,this.h=I}function M(T,I){if(_(I))throw Error("division by zero");if(_(T))return new P(g,g);if(E(T))return I=M(N(T),I),new P(N(I.g),N(I.h));if(E(I))return I=M(T,N(I)),new P(N(I.g),I.h);if(T.g.length>30){if(E(T)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var R=b,U=I;U.l(T)<=0;)R=$(R),U=$(U);var L=V(R,1),B=V(U,1);for(U=V(U,2),R=V(R,2);!_(U);){var H=B.add(U);H.l(T)<=0&&(L=L.add(R),B=H),U=V(U,1),R=V(R,1)}return I=C(T,L.j(I)),new P(L,I)}for(L=g;T.l(I)>=0;){for(R=Math.max(1,Math.floor(T.m()/I.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=m(R),H=B.j(I);E(H)||H.l(T)>0;)R-=U,B=m(R),H=B.j(I);_(B)&&(B=b),L=L.add(B),T=C(T,H)}return new P(L,T)}t.B=function(T){return M(this,T).h},t.and=function(T){const I=Math.max(this.g.length,T.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)&T.i(U);return new c(R,this.h&T.h)},t.or=function(T){const I=Math.max(this.g.length,T.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)|T.i(U);return new c(R,this.h|T.h)},t.xor=function(T){const I=Math.max(this.g.length,T.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)^T.i(U);return new c(R,this.h^T.h)};function $(T){const I=T.g.length+1,R=[];for(let U=0;U<I;U++)R[U]=T.i(U)<<1|T.i(U-1)>>>31;return new c(R,T.h)}function V(T,I){const R=I>>5;I%=32;const U=T.g.length-R,L=[];for(let B=0;B<U;B++)L[B]=I>0?T.i(B+R)>>>I|T.i(B+R+1)<<32-I:T.i(B+R);return new c(L,T.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,s3=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=p,Io=c}).apply(typeof Z5<"u"?Z5:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o3,wf,l3,Xp,Rw,c3,u3,d3;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var j=0;j<y.length;++j){var O=y[j];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=r(this);function a(y,j){if(j)e:{var O=n;y=y.split(".");for(var q=0;q<y.length-1;q++){var ee=y[q];if(!(ee in O))break e;O=O[ee]}y=y[y.length-1],q=O[y],j=j(q),j!=q&&j!=null&&e(O,y,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(j){var O=[],q;for(q in j)Object.prototype.hasOwnProperty.call(j,q)&&O.push([q,j[q]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var j=typeof y;return j=="object"&&y!=null||j=="function"}function f(y,j,O){return y.call.apply(y.bind,arguments)}function m(y,j,O){return m=f,m.apply(null,arguments)}function p(y,j){var O=Array.prototype.slice.call(arguments,1);return function(){var q=O.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,j){function O(){}O.prototype=j.prototype,y.Z=j.prototype,y.prototype=new O,y.prototype.constructor=y,y.Ob=function(q,ee,oe){for(var Se=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Se[Xe-2]=arguments[Xe];return j.prototype[ee].apply(q,Se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const j=y.length;if(j>0){const O=Array(j);for(let q=0;q<j;q++)O[q]=y[q];return O}return[]}function _(y,j){for(let q=1;q<arguments.length;q++){const ee=arguments[q];var O=typeof ee;if(O=O!="object"?O:ee?Array.isArray(ee)?"array":O:"null",O=="array"||O=="object"&&typeof ee.length=="number"){O=y.length||0;const oe=ee.length||0;y.length=O+oe;for(let Se=0;Se<oe;Se++)y[O+Se]=ee[Se]}else y.push(ee)}}class E{constructor(j,O){this.i=j,this.j=O,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function N(y){c.setTimeout(()=>{throw y},0)}function C(){var y=T;let j=null;return y.g&&(j=y.g,y.g=y.g.next,y.g||(y.h=null),j.next=null),j}class S{constructor(){this.h=this.g=null}add(j,O){const q=P.get();q.set(j,O),this.h?this.h.next=q:this.g=q,this.h=q}}var P=new E(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,O){this.h=j,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let $,V=!1,T=new S,I=()=>{const y=Promise.resolve(void 0);$=()=>{y.then(R)}};function R(){for(var y;y=C();){try{y.h.call(y.g)}catch(O){N(O)}var j=P;j.j(y),j.h<100&&(j.h++,y.next=j.g,j.g=y)}V=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,j){this.type=y,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,j=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};c.addEventListener("test",O,j),c.removeEventListener("test",O,j)}catch{}return y})();function H(y){return/^[\s\xa0]*$/.test(y)}function X(y,j){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,j)}g(X,L),X.prototype.init=function(y,j){const O=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=j,j=y.relatedTarget,j||(O=="mouseover"?j=y.fromElement:O=="mouseout"&&(j=y.toElement)),this.relatedTarget=j,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),F=0;function Z(y,j,O,q,ee){this.listener=y,this.proxy=null,this.src=j,this.type=O,this.capture=!!q,this.ha=ee,this.key=++F,this.da=this.fa=!1}function fe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function _e(y,j,O){for(const q in y)j.call(O,y[q],q,y)}function le(y,j){for(const O in y)j.call(void 0,y[O],O,y)}function z(y){const j={};for(const O in y)j[O]=y[O];return j}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(y,j){let O,q;for(let ee=1;ee<arguments.length;ee++){q=arguments[ee];for(O in q)y[O]=q[O];for(let oe=0;oe<W.length;oe++)O=W[oe],Object.prototype.hasOwnProperty.call(q,O)&&(y[O]=q[O])}}function G(y){this.src=y,this.g={},this.h=0}G.prototype.add=function(y,j,O,q,ee){const oe=y.toString();y=this.g[oe],y||(y=this.g[oe]=[],this.h++);const Se=Ee(y,j,q,ee);return Se>-1?(j=y[Se],O||(j.fa=!1)):(j=new Z(j,this.src,oe,!!q,ee),j.fa=O,y.push(j)),j};function pe(y,j){const O=j.type;if(O in y.g){var q=y.g[O],ee=Array.prototype.indexOf.call(q,j,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(q,ee,1),oe&&(fe(j),y.g[O].length==0&&(delete y.g[O],y.h--))}}function Ee(y,j,O,q){for(let ee=0;ee<y.length;++ee){const oe=y[ee];if(!oe.da&&oe.listener==j&&oe.capture==!!O&&oe.ha==q)return ee}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Fe={};function se(y,j,O,q,ee){if(Array.isArray(j)){for(let oe=0;oe<j.length;oe++)se(y,j[oe],O,q,ee);return null}return O=Ln(O),y&&y[J]?y.J(j,O,d(q)?!!q.capture:!1,ee):Be(y,j,O,!1,q,ee)}function Be(y,j,O,q,ee,oe){if(!j)throw Error("Invalid event type");const Se=d(ee)?!!ee.capture:!!ee;let Xe=At(y);if(Xe||(y[be]=Xe=new G(y)),O=Xe.add(j,O,q,Se,oe),O.proxy)return O;if(q=Le(),O.proxy=q,q.src=y,q.listener=O,y.addEventListener)B||(ee=Se),ee===void 0&&(ee=!1),y.addEventListener(j.toString(),q,ee);else if(y.attachEvent)y.attachEvent(We(j.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Le(){function y(O){return j.call(y.src,y.listener,O)}const j=It;return y}function ye(y,j,O,q,ee){if(Array.isArray(j))for(var oe=0;oe<j.length;oe++)ye(y,j[oe],O,q,ee);else q=d(q)?!!q.capture:!!q,O=Ln(O),y&&y[J]?(y=y.i,oe=String(j).toString(),oe in y.g&&(j=y.g[oe],O=Ee(j,O,q,ee),O>-1&&(fe(j[O]),Array.prototype.splice.call(j,O,1),j.length==0&&(delete y.g[oe],y.h--)))):y&&(y=At(y))&&(j=y.g[j.toString()],y=-1,j&&(y=Ee(j,O,q,ee)),(O=y>-1?j[y]:null)&&ft(O))}function ft(y){if(typeof y!="number"&&y&&!y.da){var j=y.src;if(j&&j[J])pe(j.i,y);else{var O=y.type,q=y.proxy;j.removeEventListener?j.removeEventListener(O,q,y.capture):j.detachEvent?j.detachEvent(We(O),q):j.addListener&&j.removeListener&&j.removeListener(q),(O=At(j))?(pe(O,y),O.h==0&&(O.src=null,j[be]=null)):fe(y)}}}function We(y){return y in Fe?Fe[y]:Fe[y]="on"+y}function It(y,j){if(y.da)y=!0;else{j=new X(j,this);const O=y.listener,q=y.ha||y.src;y.fa&&ft(y),y=O.call(q,j)}return y}function At(y){return y=y[be],y instanceof G?y:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ln(y){return typeof y=="function"?y:(y[jr]||(y[jr]=function(j){return y.handleEvent(j)}),y[jr])}function Ct(){U.call(this),this.i=new G(this),this.M=this,this.G=null}g(Ct,U),Ct.prototype[J]=!0,Ct.prototype.removeEventListener=function(y,j,O,q){ye(this,y,j,O,q)};function Lt(y,j){var O,q=y.G;if(q)for(O=[];q;q=q.G)O.push(q);if(y=y.M,q=j.type||j,typeof j=="string")j=new L(j,y);else if(j instanceof L)j.target=j.target||y;else{var ee=j;j=new L(q,y),ue(j,ee)}ee=!0;let oe,Se;if(O)for(Se=O.length-1;Se>=0;Se--)oe=j.g=O[Se],ee=ze(oe,q,!0,j)&&ee;if(oe=j.g=y,ee=ze(oe,q,!0,j)&&ee,ee=ze(oe,q,!1,j)&&ee,O)for(Se=0;Se<O.length;Se++)oe=j.g=O[Se],ee=ze(oe,q,!1,j)&&ee}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var y=this.i;for(const j in y.g){const O=y.g[j];for(let q=0;q<O.length;q++)fe(O[q]);delete y.g[j],y.h--}}this.G=null},Ct.prototype.J=function(y,j,O,q){return this.i.add(String(y),j,!1,O,q)},Ct.prototype.K=function(y,j,O,q){return this.i.add(String(y),j,!0,O,q)};function ze(y,j,O,q){if(j=y.i.g[String(j)],!j)return!0;j=j.concat();let ee=!0;for(let oe=0;oe<j.length;++oe){const Se=j[oe];if(Se&&!Se.da&&Se.capture==O){const Xe=Se.listener,ir=Se.ha||Se.src;Se.fa&&pe(y.i,Se),ee=Xe.call(ir,q)!==!1&&ee}}return ee&&!q.defaultPrevented}function nd(y,j){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=m(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(y,j||0)}function Ko(y){y.g=nd(()=>{y.g=null,y.i&&(y.i=!1,Ko(y))},y.l);const j=y.h;y.h=null,y.m.apply(null,j)}class Br extends U{constructor(j,O){super(),this.m=j,this.l=O,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(y){U.call(this),this.h=y,this.g={}}g(Li,U);var Rs=[];function Ms(y){_e(y.g,function(j,O){this.g.hasOwnProperty(O)&&ft(j)},y),y.g={}}Li.prototype.N=function(){Li.Z.N.call(this),Ms(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,ad=c.JSON.parse,Yo=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Ds(){}function Wo(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){L.call(this,"d")}g(Ft,L);function an(){L.call(this,"c")}g(an,L);var Gt={},cc=null;function zs(){return cc=cc||new Ct}Gt.Ia="serverreachability";function Xo(y){L.call(this,Gt.Ia,y)}g(Xo,L);function Vn(y){const j=zs();Lt(j,new Xo(j))}Gt.STAT_EVENT="statevent";function Ja(y,j){L.call(this,Gt.STAT_EVENT,y),this.stat=j}g(Ja,L);function Kt(y){const j=zs();Lt(j,new Ja(j,y))}Gt.Ja="timingevent";function kn(y,j){L.call(this,Gt.Ja,y),this.size=j}g(kn,L);function Un(y,j){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},j)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function id(y,j,O,q,ee,oe){y.info(function(){if(y.g)if(oe){var Se="",Xe=oe.split("&");for(let ht=0;ht<Xe.length;ht++){var ir=Xe[ht].split("=");if(ir.length>1){const Vt=ir[0];ir=ir[1];const ua=Vt.split("_");Se=ua.length>=2&&ua[1]=="type"?Se+(Vt+"="+ir+"&"):Se+(Vt+"=redacted&")}}}else Se=null;else Se=oe;return"XMLHTTP REQ ("+q+") [attempt "+ee+"]: "+j+`
`+O+`
`+Se})}function uc(y,j,O,q,ee,oe,Se){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ee+"]: "+j+`
`+O+`
`+oe+" "+Se})}function Bn(y,j,O,q){y.info(function(){return"XMLHTTP TEXT ("+j+"): "+we(y,O)+(q?" "+q:"")})}function re(y,j){y.info(function(){return"TIMEOUT: "+j})}_n.prototype.info=function(){};function we(y,j){if(!y.g)return j;if(!j)return null;try{const oe=JSON.parse(j);if(oe){for(y=0;y<oe.length;y++)if(Array.isArray(oe[y])){var O=oe[y];if(!(O.length<2)){var q=O[1];if(Array.isArray(q)&&!(q.length<1)){var ee=q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Se=1;Se<q.length;Se++)q[Se]=""}}}}return nr(oe)}catch{return j}}var xe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oe;function Pe(){}g(Pe,Ds),Pe.prototype.g=function(){return new XMLHttpRequest},Oe=new Pe;function ar(y){return encodeURIComponent(String(y))}function qe(y){var j=1;y=y.split(":");const O=[];for(;j>0&&y.length;)O.push(y.shift()),j--;return y.length&&O.push(y.join(":")),O}function sn(y,j,O,q){this.j=y,this.i=j,this.l=O,this.S=q||1,this.V=new Li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var cr={},Tr={};function ei(y,j,O){y.M=1,y.A=Qo(dr(j)),y.u=O,y.R=!0,dc(y,null)}function dc(y,j){y.F=Date.now(),ti(y),y.B=dr(y.A);var O=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),pc(O.i,"t",q),y.C=0,O=y.j.L,y.h=new $r,y.g=Jh(y.j,O?j:null,!y.u),y.P>0&&(y.O=new Br(m(y.Y,y,y.g),y.P)),j=y.V,O=y.g,q=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Rs[0]=ee.toString()),ee=Rs);for(let oe=0;oe<ee.length;oe++){const Se=se(O,ee[oe],q||j.handleEvent,!1,j.h||j);if(!Se)break;j.g[Se.key]=Se}j=y.J?z(y.J):{},y.u?(y.v||(y.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,j)):(y.v="GET",y.g.ea(y.B,y.v,null,j)),Vn(),id(y.i,y.v,y.B,y.l,y.S,y.u)}sn.prototype.ba=function(y){y=y.target;const j=this.O;j&&Ma(y)==3?j.j():this.Y(y)},sn.prototype.Y=function(y){try{if(y==this.g)e:{const Xe=Ma(this.g),ir=this.g.ya(),ht=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||Hr(this.g)))){this.K||Xe!=4||ir==7||(ir==8||ht<=0?Vn(3):Vn(2)),ri(this);var j=this.g.ca();this.X=j;var O=Ty(this);if(this.o=j==200,uc(this.i,this.v,this.B,this.l,this.S,Xe,j),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ee=this.g;if((q=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(q)){var oe=q;break t}}oe=null}if(y=oe)Bn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,y);else{this.o=!1,this.m=3,Kt(12),$n(this),oa(this);break e}}if(this.R){y=!0;let Vt;for(;!this.K&&this.C<O.length;)if(Vt=Uh(this,O),Vt==Tr){Xe==4&&(this.m=4,Kt(14),y=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==cr){this.m=4,Kt(15),Bn(this.i,this.l,O,"[Invalid Chunk]"),y=!1;break}else Bn(this.i,this.l,Vt,null),ni(this,Vt);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||O.length!=0||this.h.h||(this.m=1,Kt(16),y=!1),this.o=this.o&&y,!y)Bn(this.i,this.l,O,"[Invalid Chunked Response]"),$n(this),oa(this);else if(O.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),vd(Se),Se.P=!0,Kt(11))}}else Bn(this.i,this.l,O,null),ni(this,O);Xe==4&&$n(this),this.o&&!this.K&&(Xe==4?Wh(this.j,this):(this.o=!1,ti(this)))}else Ui(this.g),j==400&&O.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),$n(this),oa(this)}}}catch{}finally{}};function Ty(y){if(!Vh(y))return y.g.la();const j=Hr(y.g);if(j==="")return"";let O="";const q=j.length,ee=Ma(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return $n(y),oa(y),"";y.h.i=new c.TextDecoder}for(let oe=0;oe<q;oe++)y.h.h=!0,O+=y.h.i.decode(j[oe],{stream:!(ee&&oe==q-1)});return j.length=0,y.h.g+=O,y.C=0,y.h.g}function Vh(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Uh(y,j){var O=y.C,q=j.indexOf(`
`,O);return q==-1?Tr:(O=Number(j.substring(O,q)),isNaN(O)?cr:(q+=1,q+O>j.length?Tr:(j=j.slice(q,q+O),y.C=q+O,j)))}sn.prototype.cancel=function(){this.K=!0,$n(this)};function ti(y){y.T=Date.now()+y.H,fc(y,y.H)}function fc(y,j){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Un(m(y.aa,y),j)}function ri(y){y.D&&(c.clearTimeout(y.D),y.D=null)}sn.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(re(this.i,this.B),this.M!=2&&(Vn(),Kt(17)),$n(this),this.m=2,oa(this)):fc(this,this.T-y)};function oa(y){y.j.I==0||y.K||Wh(y.j,y)}function $n(y){ri(y);var j=y.O;j&&typeof j.dispose=="function"&&j.dispose(),y.O=null,Ms(y.V),y.g&&(j=y.g,y.g=null,j.abort(),j.dispose())}function ni(y,j){try{var O=y.j;if(O.I!=0&&(O.g==y||ii(O.h,y))){if(!y.L&&ii(O.h,y)&&O.I==3){try{var q=O.Ba.g.parse(j)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ee=q;if(ee[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<y.F)vc(O),Fs(O);else break e;al(O),Kt(18)}}else O.xa=ee[1],0<O.xa-O.K&&ee[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Un(m(O.Va,O),6e3));ai(O.h)<=1&&O.ta&&(O.ta=void 0)}else di(O,11)}else if((y.L||O.g==y)&&vc(O),!H(j))for(ee=O.Ba.g.parse(j),j=0;j<ee.length;j++){let ht=ee[j];const Vt=ht[0];if(!(Vt<=O.K))if(O.K=Vt,ht=ht[1],O.I==2)if(ht[0]=="c"){O.M=ht[1],O.ba=ht[2];const ua=ht[3];ua!=null&&(O.ka=ua,O.j.info("VER="+O.ka));const fi=ht[4];fi!=null&&(O.za=fi,O.j.info("SVER="+O.za));const Da=ht[5];Da!=null&&typeof Da=="number"&&Da>0&&(q=1.5*Da,O.O=q,O.j.info("backChannelRequestTimeoutMs_="+q)),q=O;const za=y.g;if(za){const il=za.g?za.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var oe=q.h;oe.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ld(oe,oe.h),oe.h=null))}if(q.G){const wc=za.g?za.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(q.wa=wc,yt(q.J,q.G,wc))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-y.F,O.j.info("Handshake RTT: "+O.T+"ms")),q=O;var Se=y;if(q.na=Zh(q,q.L?q.ba:null,q.W),Se.L){cd(q.h,Se);var Xe=Se,ir=q.O;ir&&(Xe.H=ir),Xe.D&&(ri(Xe),ti(Xe)),q.g=Se}else Kh(q);O.i.length>0&&ui(O)}else ht[0]!="stop"&&ht[0]!="close"||di(O,7);else O.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?di(O,7):xd(O):ht[0]!="noop"&&O.l&&O.l.qa(ht),O.A=0)}}Vn(4)}catch{}}var ur=class{constructor(y,j){this.g=y,this.map=j}};function sd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function od(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ai(y){return y.h?1:y.g?y.g.size:0}function ii(y,j){return y.h?y.h==j:y.g?y.g.has(j):!1}function ld(y,j){y.g?y.g.add(j):y.h=j}function cd(y,j){y.h&&y.h==j?y.h=null:y.g&&y.g.has(j)&&y.g.delete(j)}sd.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ud(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let j=y.i;for(const O of y.g.values())j=j.concat(O.G);return j}return w(y.i)}var Bh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hc(y,j){if(y){y=y.split("&");for(let O=0;O<y.length;O++){const q=y[O].indexOf("=");let ee,oe=null;q>=0?(ee=y[O].substring(0,q),oe=y[O].substring(q+1)):ee=y[O],j(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Hn(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;y instanceof Hn?(this.l=y.l,Ar(this,y.j),this.o=y.o,this.g=y.g,Ls(this,y.u),this.h=y.h,dd(this,Fh(y.i)),this.m=y.m):y&&(j=String(y).match(Bh))?(this.l=!1,Ar(this,j[1]||"",!0),this.o=si(j[2]||""),this.g=si(j[3]||"",!0),Ls(this,j[4]),this.h=si(j[5]||"",!0),dd(this,j[6]||"",!0),this.m=si(j[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}Hn.prototype.toString=function(){const y=[];var j=this.j;j&&y.push(Zo(j,mc,!0),":");var O=this.g;return(O||j=="file")&&(y.push("//"),(j=this.o)&&y.push(Zo(j,mc,!0),"@"),y.push(ar(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&y.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(Zo(O,O.charAt(0)=="/"?fd:$h,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",Zo(O,Hh)),y.join("")},Hn.prototype.resolve=function(y){const j=dr(this);let O=!!y.j;O?Ar(j,y.j):O=!!y.o,O?j.o=y.o:O=!!y.g,O?j.g=y.g:O=y.u!=null;var q=y.h;if(O)Ls(j,y.u);else if(O=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ee=j.h.lastIndexOf("/");ee!=-1&&(q=j.h.slice(0,ee+1)+q)}if(ee=q,ee==".."||ee==".")q="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){q=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let Se=0;Se<ee.length;){const Xe=ee[Se++];Xe=="."?q&&Se==ee.length&&oe.push(""):Xe==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),q&&Se==ee.length&&oe.push("")):(oe.push(Xe),q=!0)}q=oe.join("/")}else q=ee}return O?j.h=q:O=y.i.toString()!=="",O?dd(j,Fh(y.i)):O=!!y.m,O&&(j.m=y.m),j};function dr(y){return new Hn(y)}function Ar(y,j,O){y.j=O?si(j,!0):j,y.j&&(y.j=y.j.replace(/:$/,""))}function Ls(y,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);y.u=j}else y.u=null}function dd(y,j,O){j instanceof Us?(y.i=j,gc(y.i,y.l)):(O||(j=Zo(j,Vs)),y.i=new Us(j,y.l))}function yt(y,j,O){y.i.set(j,O)}function Qo(y){return yt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function si(y,j){return y?j?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Zo(y,j,O){return typeof y=="string"?(y=encodeURI(y).replace(j,En),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function En(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var mc=/[#\/\?@]/g,$h=/[#\?:]/g,fd=/[#\?]/g,Vs=/[#\?@]/g,Hh=/#/g;function Us(y,j){this.h=this.g=null,this.i=y||null,this.j=!!j}function Sn(y){y.g||(y.g=new Map,y.h=0,y.i&&hc(y.i,function(j,O){y.add(decodeURIComponent(j.replace(/\+/g," ")),O)}))}t=Us.prototype,t.add=function(y,j){Sn(this),this.i=null,y=Bs(this,y);let O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(j),this.h+=1,this};function qh(y,j){Sn(y),j=Bs(y,j),y.g.has(j)&&(y.i=null,y.h-=y.g.get(j).length,y.g.delete(j))}function hd(y,j){return Sn(y),j=Bs(y,j),y.g.has(j)}t.forEach=function(y,j){Sn(this),this.g.forEach(function(O,q){O.forEach(function(ee){y.call(j,ee,q,this)},this)},this)};function md(y,j){Sn(y);let O=[];if(typeof j=="string")hd(y,j)&&(O=O.concat(y.g.get(Bs(y,j))));else for(y=Array.from(y.g.values()),j=0;j<y.length;j++)O=O.concat(y[j]);return O}t.set=function(y,j){return Sn(this),this.i=null,y=Bs(this,y),hd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[j]),this.h+=1,this},t.get=function(y,j){return y?(y=md(this,y),y.length>0?String(y[0]):j):j};function pc(y,j,O){qh(y,j),O.length>0&&(y.i=null,y.g.set(Bs(y,j),w(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],j=Array.from(this.g.keys());for(let q=0;q<j.length;q++){var O=j[q];const ee=ar(O);O=md(this,O);for(let oe=0;oe<O.length;oe++){let Se=ee;O[oe]!==""&&(Se+="="+ar(O[oe])),y.push(Se)}}return this.i=y.join("&")};function Fh(y){const j=new Us;return j.i=y.i,y.g&&(j.g=new Map(y.g),j.h=y.h),j}function Bs(y,j){return j=String(j),y.j&&(j=j.toLowerCase()),j}function gc(y,j){j&&!y.j&&(Sn(y),y.i=null,y.g.forEach(function(O,q){const ee=q.toLowerCase();q!=ee&&(qh(this,q),pc(this,ee,O))},y)),y.j=j}function Pa(y,j){const O=new _n;if(c.Image){const q=new Image;q.onload=p(la,O,"TestLoadImage: loaded",!0,j,q),q.onerror=p(la,O,"TestLoadImage: error",!1,j,q),q.onabort=p(la,O,"TestLoadImage: abort",!1,j,q),q.ontimeout=p(la,O,"TestLoadImage: timeout",!1,j,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else j(!1)}function pd(y,j){const O=new _n,q=new AbortController,ee=setTimeout(()=>{q.abort(),la(O,"TestPingServer: timeout",!1,j)},1e4);fetch(y,{signal:q.signal}).then(oe=>{clearTimeout(ee),oe.ok?la(O,"TestPingServer: ok",!0,j):la(O,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ee),la(O,"TestPingServer: error",!1,j)})}function la(y,j,O,q,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),q(O)}catch{}}function $s(){this.g=new Yo}function oi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(oi,Ds),oi.prototype.g=function(){return new Jo(this.i,this.h)};function Jo(y,j){Ct.call(this),this.H=y,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Jo,Ct),t=Jo.prototype,t.open=function(y,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=j,this.readyState=1,Ra(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(j.body=y),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function yc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var j=y.value?y.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!y.done}))&&(this.response=this.responseText+=j)}y.done?Hs(this):Ra(this),this.readyState==3&&yc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Hs(this))},t.Na=function(y){this.g&&(this.response=y,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ra(y)}t.setRequestHeader=function(y,j){this.A.append(y,j)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],j=this.h.entries();for(var O=j.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=j.next();return y.join(`\r
`)};function Ra(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ca(y){let j="";return _e(y,function(O,q){j+=q,j+=":",j+=O,j+=`\r
`}),j}function el(y,j,O){e:{for(q in O){var q=!1;break e}q=!0}q||(O=ca(O),typeof y=="string"?O!=null&&ar(O):yt(y,j,O))}function wt(y){Ct.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(wt,Ct);var li=/^https?$/i,gd=["POST","PUT"];t=wt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,j,O,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);j=j?j.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(y),!0),this.B=!1}catch(oe){tl(this,oe);return}if(y=O||"",O=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ee in q)O.set(ee,q[ee]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const oe of q.keys())O.set(oe,q.get(oe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(O.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(gd,j,void 0)>=0)||q||ee||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Se]of O)this.g.setRequestHeader(oe,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(oe){tl(this,oe)}};function tl(y,j){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=j,y.o=5,yd(y),Vi(y)}function yd(y){y.A||(y.A=!0,Lt(y,"complete"),Lt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Lt(this,"complete"),Lt(this,"abort"),Vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?rl(this):this.Xa())},t.Xa=function(){rl(this)};function rl(y){if(y.h&&typeof s<"u"){if(y.v&&Ma(y)==4)setTimeout(y.Ca.bind(y),0);else if(Lt(y,"readystatechange"),Ma(y)==4){y.h=!1;try{const oe=y.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var O;if(!(O=j)){var q;if(q=oe===0){let Se=String(y.D).match(Bh)[1]||null;!Se&&c.self&&c.self.location&&(Se=c.self.location.protocol.slice(0,-1)),q=!li.test(Se?Se.toLowerCase():"")}O=q}if(O)Lt(y,"complete"),Lt(y,"success");else{y.o=6;try{var ee=Ma(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",yd(y)}}finally{Vi(y)}}}}function Vi(y,j){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const O=y.g;y.g=null,j||Lt(y,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ma(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ma(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var j=this.g.responseText;return y&&j.indexOf(y)==0&&(j=j.substring(y.length)),ad(j)}};function Hr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(y){const j={};y=(y.g&&Ma(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(H(y[q]))continue;var O=qe(y[q]);const ee=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const oe=j[ee]||[];j[ee]=oe,oe.push(O)}le(j,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(y,j,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||j}function qs(y){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,y),this.Za=ci("retryDelaySeedMs",1e4,y),this.Ta=ci("forwardChannelMaxRetries",2,y),this.va=ci("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new sd(y&&y.concurrentRequestLimit),this.Ba=new $s,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(y,j,O,q){Kt(0),this.W=y,this.H=j||{},O&&q!==void 0&&(this.H.OSID=O,this.H.OAID=q),this.F=this.X,this.J=Zh(this,null,this.W),ui(this)};function xd(y){if(xc(y),y.I==3){var j=y.V++,O=dr(y.J);if(yt(O,"SID",y.M),yt(O,"RID",j),yt(O,"TYPE","terminate"),nl(y,O),j=new sn(y,y.j,j),j.M=2,j.A=Qo(dr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!O&&c.Image&&(new Image().src=j.A,O=!0),O||(j.g=Jh(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ti(j)}Qh(y)}function Fs(y){y.g&&(vd(y),y.g.cancel(),y.g=null)}function xc(y){Fs(y),y.v&&(c.clearTimeout(y.v),y.v=null),vc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function ui(y){if(!od(y.h)&&!y.m){y.m=!0;var j=y.Ea;$||I(),V||($(),V=!0),T.add(j,y),y.D=0}}function bc(y,j){return ai(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=j.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Un(m(y.Ea,y,j),Xh(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new sn(this,this.j,y);let oe=this.o;if(this.U&&(oe?(oe=z(oe),ue(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var j=0,O=0;O<this.i.length;O++){t:{var q=this.i[O];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(j+=q,j>4096){j=O;break e}if(j===4096||O===this.i.length-1){j=O+1;break e}}j=1e3}else j=1e3;j=Gh(this,ee,j),O=dr(this.J),yt(O,"RID",y),yt(O,"CVER",22),this.G&&yt(O,"X-HTTP-Session-Id",this.G),nl(this,O),oe&&(this.R?j="headers="+ar(ca(oe))+"&"+j:this.u&&el(O,this.u,oe)),ld(this.h,ee),this.Ra&&yt(O,"TYPE","init"),this.S?(yt(O,"$req",j),yt(O,"SID","null"),ee.U=!0,ei(ee,O,null)):ei(ee,O,j),this.I=2}}else this.I==3&&(y?bd(this,y):this.i.length==0||od(this.h)||bd(this))};function bd(y,j){var O;j?O=j.l:O=y.V++;const q=dr(y.J);yt(q,"SID",y.M),yt(q,"RID",O),yt(q,"AID",y.K),nl(y,q),y.u&&y.o&&el(q,y.u,y.o),O=new sn(y,y.j,O,y.D+1),y.u===null&&(O.J=y.o),j&&(y.i=j.G.concat(y.i)),j=Gh(y,O,1e3),O.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ld(y.h,O),ei(O,q,j)}function nl(y,j){y.H&&_e(y.H,function(O,q){yt(j,q,O)}),y.l&&_e({},function(O,q){yt(j,q,O)})}function Gh(y,j,O){O=Math.min(y.i.length,O);const q=y.l?m(y.l.Ka,y.l,y):null;e:{var ee=y.i;let Xe=-1;for(;;){const ir=["count="+O];Xe==-1?O>0?(Xe=ee[0].g,ir.push("ofs="+Xe)):Xe=0:ir.push("ofs="+Xe);let ht=!0;for(let Vt=0;Vt<O;Vt++){var oe=ee[Vt].g;const ua=ee[Vt].map;if(oe-=Xe,oe<0)Xe=Math.max(0,ee[Vt].g-100),ht=!1;else try{oe="req"+oe+"_"||"";try{var Se=ua instanceof Map?ua:Object.entries(ua);for(const[fi,Da]of Se){let za=Da;d(Da)&&(za=nr(Da)),ir.push(oe+fi+"="+encodeURIComponent(za))}}catch(fi){throw ir.push(oe+"type="+encodeURIComponent("_badmap")),fi}}catch{q&&q(ua)}}if(ht){Se=ir.join("&");break e}}Se=void 0}return y=y.i.splice(0,O),j.G=y,Se}function Kh(y){if(!y.g&&!y.v){y.Y=1;var j=y.Da;$||I(),V||($(),V=!0),T.add(j,y),y.A=0}}function al(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Un(m(y.Da,y),Xh(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Yh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Un(m(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Fs(this),Yh(this))};function vd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function Yh(y){y.g=new sn(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var j=dr(y.na);yt(j,"RID","rpc"),yt(j,"SID",y.M),yt(j,"AID",y.K),yt(j,"CI",y.F?"0":"1"),!y.F&&y.ia&&yt(j,"TO",y.ia),yt(j,"TYPE","xmlhttp"),nl(y,j),y.u&&y.o&&el(j,y.u,y.o),y.O&&(y.g.H=y.O);var O=y.g;y=y.ba,O.M=1,O.A=Qo(dr(j)),O.u=null,O.R=!0,dc(O,y)}t.Va=function(){this.C!=null&&(this.C=null,Fs(this),al(this),Kt(19))};function vc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function Wh(y,j){var O=null;if(y.g==j){vc(y),vd(y),y.g=null;var q=2}else if(ii(y.h,j))O=j.G,cd(y.h,j),q=1;else return;if(y.I!=0){if(j.o)if(q==1){O=j.u?j.u.length:0,j=Date.now()-j.F;var ee=y.D;q=zs(),Lt(q,new kn(q,O)),ui(y)}else Kh(y);else if(ee=j.m,ee==3||ee==0&&j.X>0||!(q==1&&bc(y,j)||q==2&&al(y)))switch(O&&O.length>0&&(j=y.h,j.i=j.i.concat(O)),ee){case 1:di(y,5);break;case 4:di(y,10);break;case 3:di(y,6);break;default:di(y,2)}}}function Xh(y,j){let O=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(O*=2),O*j}function di(y,j){if(y.j.info("Error code "+j),j==2){var O=m(y.bb,y),q=y.Ua;const ee=!q;q=new Hn(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ar(q,"https"),Qo(q),ee?Pa(q.toString(),O):pd(q.toString(),O)}else Kt(2);y.I=0,y.l&&y.l.pa(j),Qh(y),xc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Qh(y){if(y.I=0,y.ja=[],y.l){const j=ud(y.h);(j.length!=0||y.i.length!=0)&&(_(y.ja,j),_(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function Zh(y,j,O){var q=O instanceof Hn?dr(O):new Hn(O);if(q.g!="")j&&(q.g=j+"."+q.g),Ls(q,q.u);else{var ee=c.location;q=ee.protocol,j=j?j+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new Hn(null);q&&Ar(oe,q),j&&(oe.g=j),ee&&Ls(oe,ee),O&&(oe.h=O),q=oe}return O=y.G,j=y.wa,O&&j&&yt(q,O,j),yt(q,"VER",y.ka),nl(y,q),q}function Jh(y,j,O){if(j&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=y.Aa&&!y.ma?new wt(new oi({ab:O})):new wt(y.ma),j.Fa(y.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function em(){}t=em.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gs(){}Gs.prototype.g=function(y,j){return new pn(y,j)};function pn(y,j){Ct.call(this),this.g=new qs(j),this.l=y,this.h=j&&j.messageUrlParams||null,y=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(y?y["X-WebChannel-Content-Type"]=j.messageContentType:y={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(y?y["X-WebChannel-Client-Profile"]=j.sa:y={"X-WebChannel-Client-Profile":j.sa}),this.g.U=y,(y=j&&j.Qb)&&!H(y)&&(this.g.u=y),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!H(j)&&(this.g.G=j,y=this.h,y!==null&&j in y&&(y=this.h,j in y&&delete y[j])),this.j=new Bi(this)}g(pn,Ct),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){xd(this.g)},pn.prototype.o=function(y){var j=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.v&&(O={},O.__data__=nr(y),y=O);j.i.push(new ur(j.Ya++,y)),j.I==3&&ui(j)},pn.prototype.N=function(){this.g.l=null,delete this.j,xd(this.g),delete this.g,pn.Z.N.call(this)};function tm(y){Ft.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var j=y.__sm__;if(j){e:{for(const O in j){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,j=j!==null&&y in j?j[y]:void 0),this.data=j}else this.data=y}g(tm,Ft);function rm(){an.call(this),this.status=1}g(rm,an);function Bi(y){this.g=y}g(Bi,em),Bi.prototype.ra=function(){Lt(this.g,"a")},Bi.prototype.qa=function(y){Lt(this.g,new tm(y))},Bi.prototype.pa=function(y){Lt(this.g,new rm)},Bi.prototype.oa=function(){Lt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,d3=function(){return new Gs},u3=function(){return zs()},c3=Gt,Rw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Xp=xe,Ne.COMPLETE="complete",l3=Ne,Wo.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,wf=Wo,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,o3=wt}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="12.9.0";function Ioe(t){Ju=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Gk("@firebase/firestore");function au(){return Zl.logLevel}function je(t,...e){if(Zl.logLevel<=nt.DEBUG){const r=e.map(n_);Zl.debug(`Firestore (${Ju}): ${t}`,...r)}}function Es(t,...e){if(Zl.logLevel<=nt.ERROR){const r=e.map(n_);Zl.error(`Firestore (${Ju}): ${t}`,...r)}}function Jl(t,...e){if(Zl.logLevel<=nt.WARN){const r=e.map(n_);Zl.warn(`Firestore (${Ju}): ${t}`,...r)}}function n_(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,f3(t,n,r)}function f3(t,e,r){let n=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Es(n),new Error(n)}function pt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||f3(e,a,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ps{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Poe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(un.UNAUTHENTICATED)))}shutdown(){}}class Roe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Moe{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){pt(this.o===void 0,42304);let n=this.i;const a=f=>this.i!==n?(n=this.i,r(f)):Promise.resolve();let s=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Po,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Po)}}),0),c()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(pt(typeof n.accessToken=="string",31837,{l:n}),new h3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class Doe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zoe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Doe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Loe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){pt(this.o===void 0,3512);const n=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const a=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(pt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new J5(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Voe(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function at(t,e){return t<e?-1:t>e?1:0}function Mw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),s=e.charAt(n);if(a!==s)return v1(a)===v1(s)?at(a,s):v1(a)?1:-1}return at(t.length,e.length)}const Uoe=55296,Boe=57343;function v1(t){const e=t.charCodeAt(0);return e>=Uoe&&e<=Boe}function Iu(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="__name__";class vi{constructor(e,r,n){r===void 0?r=0:r>e.length&&He(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&He(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=vi.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return at(e.length,r.length)}static compareSegments(e,r){const n=vi.isNumericId(e),a=vi.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?vi.extractNumericId(e).compare(vi.extractNumericId(r)):Mw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Yt extends vi{construct(e,r,n){return new Yt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new Yt(r)}static emptyPath(){return new Yt([])}}const $oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends vi{construct(e,r,n){return new Zr(e,r,n)}static isValidIdentifier(e){return $oe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e4}static keyField(){return new Zr([e4])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Me(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Me(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(n+=d,a++):(s(),a++)}if(s(),c)throw new Me(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(r)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Yt.fromString(e))}static fromName(e){return new Ve(Yt.fromString(e).popFirst(5))}static empty(){return new Ve(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Yt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t,e,r){if(!r)throw new Me(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qoe(t,e,r,n){if(e===!0&&n===!0)throw new Me(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function t4(t){if(!Ve.isDocumentKey(t))throw new Me(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function i_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=i_(t);throw new Me(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Rh(t,e){if(!m3(t))throw new Me(ve.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const c=t[n];if(a&&typeof c!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Me(ve.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=-62135596800,n4=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*n4);return new Dt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<r4)throw new Me(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n4}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rh(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:xr("string",Dt._jsonSchemaVersion),seconds:xr("number"),nanoseconds:xr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Dt(0,0))}static max(){return new Ge(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function Foe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ge.fromTimestamp(n===1e9?new Dt(r+1,0):new Dt(r,n));return new zo(a,Ve.empty(),e)}function Goe(t){return new zo(t.readTime,t.key,nh)}class zo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new zo(Ge.min(),Ve.empty(),nh)}static max(){return new zo(Ge.max(),Ve.empty(),nh)}}function Koe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Woe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==Yoe)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ge(((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ge?r:ge.resolve(r)}catch(r){return ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ge.reject(r)}static resolve(e){return new ge(((r,n)=>{r(e)}))}static reject(e){return new ge(((r,n)=>{n(e)}))}static waitFor(e){return new ge(((r,n)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&r()}),(f=>n(f)))})),c=!0,s===a&&r()}))}static or(e){let r=ge.resolve(!1);for(const n of e)r=r.next((a=>a?ge.resolve(a):n()));return r}static forEach(e,r){const n=[];return e.forEach(((a,s)=>{n.push(r.call(this,a,s))})),this.waitFor(n)}static mapArray(e,r){return new ge(((n,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const m=f;r(e[m]).next((p=>{c[m]=p,++d,d===s&&n(c)}),(p=>a(p)))}}))}static doWhile(e,r){return new ge(((n,a)=>{const s=()=>{e()===!0?r().next((()=>{s()}),a):n()};s()}))}}function Xoe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function td(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-1;function yy(t){return t==null}function sg(t){return t===0&&1/t==-1/0}function Qoe(t){return typeof t=="number"&&Number.isInteger(t)&&!sg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="";function Zoe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=a4(e)),e=Joe(t.get(r),e);return a4(e)}function Joe(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case p3:r+="";break;default:r+=s}}return r}function a4(t){return t+p3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ic(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function g3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){this.comparator=e,this.root=r||Xr.EMPTY}insert(e,r){return new Wt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??Xr.RED,this.left=a??Xr.EMPTY,this.right=s??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new Xr(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Xr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1;Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new Xr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new s4(this.data.getIterator())}getIteratorFrom(e){return new s4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class s4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new Ga([])}unionWith(e){let r=new _r(Zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ga(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y3("Invalid base64 string: "+s):s}})(e);return new rn(r)}static fromUint8Array(e){const r=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new rn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ele=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const r=ele.exec(t);if(pt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:lr(t.seconds),nanos:lr(t.nanos)}}function lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="server_timestamp",b3="__type__",v3="__previous_value__",w3="__local_write_time__";function o_(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[b3])==null?void 0:n.stringValue)===x3}function xy(t){const e=t.mapValue.fields[v3];return o_(e)?xy(e):e}function ah(t){const e=Lo(t.mapValue.fields[w3].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(e,r,n,a,s,c,d,f,m,p,g){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=p,this.apiKey=g}}const Dw="(default)";class ih{constructor(e,r){this.projectId=e,this.database=r||Dw}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Dw}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}function rle(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Me(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="__type__",nle="__max__",Ap={mapValue:{}},_3="__vector__",og="value";function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:ile(t)?9007199254740991:ale(t)?10:11:He(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const r=Uo(t);if(r!==Uo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Lo(a.timestampValue),d=Lo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Vo(a.bytesValue).isEqual(Vo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return lr(a.geoPointValue.latitude)===lr(s.geoPointValue.latitude)&&lr(a.geoPointValue.longitude)===lr(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return lr(a.integerValue)===lr(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=lr(a.doubleValue),d=lr(s.doubleValue);return c===d?sg(c)===sg(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Iu(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(i4(c)!==i4(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ri(c[f],d[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function sh(t,e){return(t.values||[]).find((r=>Ri(r,e)))!==void 0}function Pu(t,e){if(t===e)return 0;const r=Uo(t),n=Uo(e);if(r!==n)return at(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=lr(s.integerValue||s.doubleValue),f=lr(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return o4(t.timestampValue,e.timestampValue);case 4:return o4(ah(t),ah(e));case 5:return Mw(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Vo(s),f=Vo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const p=at(d[m],f[m]);if(p!==0)return p}return at(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=at(lr(s.latitude),lr(c.latitude));return d!==0?d:at(lr(s.longitude),lr(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l4(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var b,w,_,E;const d=s.fields||{},f=c.fields||{},m=(b=d[og])==null?void 0:b.arrayValue,p=(w=f[og])==null?void 0:w.arrayValue,g=at(((_=m==null?void 0:m.values)==null?void 0:_.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return g!==0?g:l4(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Ap.mapValue&&c===Ap.mapValue)return 0;if(s===Ap.mapValue)return 1;if(c===Ap.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),m=c.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const b=Mw(f[g],p[g]);if(b!==0)return b;const w=Pu(d[f[g]],m[p[g]]);if(w!==0)return w}return at(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:r})}}function o4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const r=Lo(t),n=Lo(e),a=at(r.seconds,n.seconds);return a!==0?a:at(r.nanos,n.nanos)}function l4(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Pu(r[a],n[a]);if(s)return s}return at(r.length,n.length)}function Ru(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Lo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Vo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Ve.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=zw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const c of n)s?s=!1:a+=",",a+=`${c}:${zw(r.fields[c])}`;return a+"}"})(t.mapValue):He(61005,{value:t})}function Qp(t){switch(Uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xy(t);return e?16+Qp(e):16;case 5:return 2*t.stringValue.length;case 6:return Vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,s)=>a+Qp(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let a=0;return ic(n.fields,((s,c)=>{a+=s.length+Qp(c)})),a})(t.mapValue);default:throw He(13486,{value:t})}}function Lw(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function c4(t){return!!t&&"nullValue"in t}function u4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zp(t){return!!t&&"mapValue"in t}function ale(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[k3])==null?void 0:n.stringValue)===_3}function Tf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ic(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Tf(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tf(t.arrayValue.values[r]);return e}return{...t}}function ile(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.value=e}static empty(){return new ka({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Zp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tf(r)}setAll(e){let r=Zr.emptyPath(),n={},a=[];e.forEach(((c,d)=>{if(!r.isImmediateParentOf(d)){const f=this.getFieldsMap(r);this.applyChanges(f,n,a),n={},a=[],r=d.popLast()}c?n[d.lastSegment()]=Tf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());Zp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Zp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){ic(r,((a,s)=>e[a]=s));for(const a of n)delete e[a]}clone(){return new ka(Tf(this.value))}}function E3(t){const e=[];return ic(t.fields,((r,n)=>{const a=new Zr([r]);if(Zp(n)){const s=E3(n.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new Ga(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,r,n,a,s,c,d){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ge.min(),Ge.min(),Ge.min(),ka.empty(),0)}static newFoundDocument(e,r,n,a){return new fn(e,1,r,Ge.min(),n,a,0)}static newNoDocument(e,r){return new fn(e,2,r,Ge.min(),Ge.min(),ka.empty(),0)}static newUnknownDocument(e,r){return new fn(e,3,r,Ge.min(),Ge.min(),ka.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ka.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,r){this.position=e,this.inclusive=r}}function d4(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?n=Ve.comparator(Ve.fromName(c.referenceValue),r.key):n=Pu(c,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function f4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ri(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,r="asc"){this.field=e,this.dir=r}}function sle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{}class kr extends S3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new lle(e,r,n):r==="array-contains"?new dle(e,n):r==="in"?new fle(e,n):r==="not-in"?new hle(e,n):r==="array-contains-any"?new mle(e,n):new kr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new cle(e,n):new ule(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Pu(r,this.value)):r!==null&&Uo(this.value)===Uo(r)&&this.matchesComparison(Pu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends S3{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Mi(e,r)}matches(e){return N3(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N3(t){return t.op==="and"}function j3(t){return ole(t)&&N3(t)}function ole(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function Vw(t){if(t instanceof kr)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(j3(t))return t.filters.map((e=>Vw(e))).join(",");{const e=t.filters.map((r=>Vw(r))).join(",");return`${t.op}(${e})`}}function T3(t,e){return t instanceof kr?(function(n,a){return a instanceof kr&&n.op===a.op&&n.field.isEqual(a.field)&&Ri(n.value,a.value)})(t,e):t instanceof Mi?(function(n,a){return a instanceof Mi&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((s,c,d)=>s&&T3(c,a.filters[d])),!0):!1})(t,e):void He(19439)}function A3(t){return t instanceof kr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ru(r.value)}`})(t):t instanceof Mi?(function(r){return r.op.toString()+" {"+r.getFilters().map(A3).join(" ,")+"}"})(t):"Filter"}class lle extends kr{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class cle extends kr{constructor(e,r){super(e,"in",r),this.keys=C3("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class ule extends kr{constructor(e,r){super(e,"not-in",r),this.keys=C3("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function C3(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>Ve.fromName(n.referenceValue)))}class dle extends kr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return l_(r)&&sh(r.arrayValue,this.value)}}class fle extends kr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&sh(this.value.arrayValue,r)}}class hle extends kr{constructor(e,r){super(e,"not-in",r)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!sh(this.value.arrayValue,r)}}class mle extends kr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!l_(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>sh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e,r=null,n=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function h4(t,e=null,r=[],n=[],a=null,s=null,c=null){return new ple(t,e,r,n,a,s,c)}function c_(t){const e=Ye(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>Vw(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),yy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Ru(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Ru(n))).join(",")),e.Te=r}return e.Te}function u_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!sle(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!T3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f4(t.startAt,e.startAt)&&f4(t.endAt,e.endAt)}function Uw(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,r=null,n=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gle(t,e,r,n,a,s,c,d){return new by(t,e,r,n,a,s,c,d)}function d_(t){return new by(t)}function m4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yle(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function xle(t){return t.collectionGroup!==null}function Af(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new _r(Zr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new cg(s,n))})),r.has(Zr.keyField().canonicalString())||e.Ie.push(new cg(Zr.keyField(),n))}return e.Ie}function ji(t){const e=Ye(t);return e.Ee||(e.Ee=ble(e,Af(t))),e.Ee}function ble(t,e){if(t.limitType==="F")return h4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new cg(a.field,s)}));const r=t.endAt?new lg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new lg(t.startAt.position,t.startAt.inclusive):null;return h4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Bw(t,e,r){return new by(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function vy(t,e){return u_(ji(t),ji(e))&&t.limitType===e.limitType}function O3(t){return`${c_(ji(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>A3(a))).join(", ")}]`),yy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>Ru(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>Ru(a))).join(",")),`Target(${n})`})(ji(t))}; limitType=${t.limitType})`}function wy(t,e){return e.isFoundDocument()&&(function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ve.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,a){for(const s of Af(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(c,d,f){const m=d4(c,d,f);return c.inclusive?m<=0:m<0})(n.startAt,Af(n),a)||n.endAt&&!(function(c,d,f){const m=d4(c,d,f);return c.inclusive?m>=0:m>0})(n.endAt,Af(n),a))})(t,e)}function vle(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I3(t){return(e,r)=>{let n=!1;for(const a of Af(t)){const s=wle(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function wle(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):(function(s,c,d){const f=c.data.field(s),m=d.data.field(s);return f!==null&&m!==null?Pu(f,m):He(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,((r,n)=>{for(const[a,s]of n)e(a,s)}))}isEmpty(){return g3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=new Wt(Ve.comparator);function Ss(){return kle}const P3=new Wt(Ve.comparator);function kf(...t){let e=P3;for(const r of t)e=e.insert(r.key,r);return e}function R3(t){let e=P3;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Ol(){return Cf()}function M3(){return Cf()}function Cf(){return new sc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _le=new Wt(Ve.comparator),Ele=new _r(Ve.comparator);function it(...t){let e=Ele;for(const r of t)e=e.add(r);return e}const Sle=new _r(at);function Nle(){return Sle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sg(e)?"-0":e}}function D3(t){return{integerValue:""+t}}function jle(t,e){return Qoe(e)?D3(e):f_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this._=void 0}}function Tle(t,e,r){return t instanceof ug?(function(a,s){const c={fields:{[b3]:{stringValue:x3},[w3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&o_(s)&&(s=xy(s)),s&&(c.fields[v3]=s),{mapValue:c}})(r,e):t instanceof oh?L3(t,e):t instanceof lh?V3(t,e):(function(a,s){const c=z3(a,s),d=p4(c)+p4(a.Ae);return Lw(c)&&Lw(a.Ae)?D3(d):f_(a.serializer,d)})(t,e)}function Ale(t,e,r){return t instanceof oh?L3(t,e):t instanceof lh?V3(t,e):r}function z3(t,e){return t instanceof dg?(function(n){return Lw(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class ug extends ky{}class oh extends ky{constructor(e){super(),this.elements=e}}function L3(t,e){const r=U3(e);for(const n of t.elements)r.some((a=>Ri(a,n)))||r.push(n);return{arrayValue:{values:r}}}class lh extends ky{constructor(e){super(),this.elements=e}}function V3(t,e){let r=U3(e);for(const n of t.elements)r=r.filter((a=>!Ri(a,n)));return{arrayValue:{values:r}}}class dg extends ky{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function p4(t){return lr(t.integerValue||t.doubleValue)}function U3(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cle(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof oh&&a instanceof oh||n instanceof lh&&a instanceof lh?Iu(n.elements,a.elements,Ri):n instanceof dg&&a instanceof dg?Ri(n.Ae,a.Ae):n instanceof ug&&a instanceof ug})(t.transform,e.transform)}class Ole{constructor(e,r){this.version=e,this.transformResults=r}}class fs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _y{}function B3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H3(t.key,fs.none()):new Mh(t.key,t.data,fs.none());{const r=t.data,n=ka.empty();let a=new _r(Zr.comparator);for(let s of e.fields)if(!a.has(s)){let c=r.field(s);c===null&&s.length>1&&(s=s.popLast(),c=r.field(s)),c===null?n.delete(s):n.set(s,c),a=a.add(s)}return new oc(t.key,n,new Ga(a.toArray()),fs.none())}}function Ile(t,e,r){t instanceof Mh?(function(a,s,c){const d=a.value.clone(),f=y4(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,r):t instanceof oc?(function(a,s,c){if(!Jp(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=y4(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll($3(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,r):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,r)}function Of(t,e,r,n){return t instanceof Mh?(function(s,c,d,f){if(!Jp(s.precondition,c))return d;const m=s.value.clone(),p=x4(s.fieldTransforms,f,c);return m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,r,n):t instanceof oc?(function(s,c,d,f){if(!Jp(s.precondition,c))return d;const m=x4(s.fieldTransforms,f,c),p=c.data;return p.setAll($3(s)),p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(s,c,d){return Jp(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,r)}function Ple(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=z3(n.transform,a||null);s!=null&&(r===null&&(r=ka.empty()),r.set(n.field,s))}return r||null}function g4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Iu(n,a,((s,c)=>Cle(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mh extends _y{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oc extends _y{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $3(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function y4(t,e,r){const n=new Map;pt(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let a=0;a<r.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);n.set(s.field,Ale(c,d,r[a]))}return n}function x4(t,e,r){const n=new Map;for(const a of t){const s=a.transform,c=r.data.field(a.field);n.set(a.field,Tle(s,c,e))}return n}class H3 extends _y{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rle extends _y{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Ile(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Of(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Of(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=M3();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=r.has(a.key)?null:d;const f=B3(c,d);f!==null&&n.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),it())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,((r,n)=>g4(r,n)))&&Iu(this.baseMutations,e.baseMutations,((r,n)=>g4(r,n)))}}class h_{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){pt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=(function(){return _le})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,n[c].version);return new h_(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dle{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,lt;function Lle(t){switch(t){case ve.OK:return He(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function q3(t){if(t===void 0)return Es("GRPC error has no .code"),ve.UNKNOWN;switch(t){case gr.OK:return ve.OK;case gr.CANCELLED:return ve.CANCELLED;case gr.UNKNOWN:return ve.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ve.INTERNAL;case gr.UNAVAILABLE:return ve.UNAVAILABLE;case gr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case gr.NOT_FOUND:return ve.NOT_FOUND;case gr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case gr.ABORTED:return ve.ABORTED;case gr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case gr.DATA_LOSS:return ve.DATA_LOSS;default:return He(39323,{code:t})}}(lt=gr||(gr={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vle(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule=new Io([4294967295,4294967295],0);function b4(t){const e=Vle().encode(t),r=new s3;return r.update(e),new Uint8Array(r.digest())}function v4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Io([r,n],0),new Io([a,s],0)]}class m_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new _f(`Invalid padding: ${r}`);if(n<0)throw new _f(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new _f(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Io.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(Io.fromNumber(n)));return a.compare(Ule)===1&&(a=new Io([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=b4(e),[n,a]=v4(r);for(let s=0;s<this.hashCount;s++){const c=this.ye(n,a,s);if(!this.we(c))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new m_(s,a,r);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const r=b4(e),[n,a]=v4(r);for(let s=0;s<this.hashCount;s++){const c=this.ye(n,a,s);this.be(c)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ey(Ge.min(),a,new Wt(at),Ss(),it())}}class Dh{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Dh(n,r,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r,n,a){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=a}}class F3{constructor(e,r){this.targetId=e,this.Ce=r}}class G3{constructor(e,r,n=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class w4{constructor(){this.ve=0,this.Fe=k4(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),r=it(),n=it();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:He(38017,{changeType:s})}})),new Dh(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=k4()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ble{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.He=Cp(),this.Je=Cp(),this.Ze=new Wt(at)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const s=a.target;if(Uw(s))if(n===0){const c=new Ve(s.path);this.et(r,c,fn.newNoDocument(c,Ge.min()))}else pt(n===1,20013,{expectedCount:n});else{const c=this._t(r);if(c!==n){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(r);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,m)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let c,d;try{c=Vo(n).toUint8Array()}catch(f){if(f instanceof y3)return Jl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new m_(c,a,s)}catch(f){return Jl(f instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(r,s,null),a++)})),a}Tt(e){const r=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&Uw(d.target)){const f=new Ve(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,fn.newNoDocument(f,e))}s.Be&&(r.set(c,s.ke()),s.Ke())}}));let n=it();this.Je.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new Ey(e,r,this.Ze,this.je,n);return this.je=Ss(),this.He=Cp(),this.Je=Cp(),this.Ze=new Wt(at),a}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.qe(r,1):a.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new w4,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new _r(at),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new _r(at),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w4),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Cp(){return new Wt(Ve.comparator)}function k4(){return new Wt(Ve.comparator)}const $le={asc:"ASCENDING",desc:"DESCENDING"},Hle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qle={and:"AND",or:"OR"};class Fle{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $w(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gle(t,e){return fg(t,e.toTimestamp())}function Ti(t){return pt(!!t,49232),Ge.fromTimestamp((function(r){const n=Lo(r);return new Dt(n.seconds,n.nanos)})(t))}function p_(t,e){return Hw(t,e).canonicalString()}function Hw(t,e){const r=(function(a){return new Yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Y3(t){const e=Yt.fromString(t);return pt(J3(e),10190,{key:e.toString()}),e}function qw(t,e){return p_(t.databaseId,e.path)}function w1(t,e){const r=Y3(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(X3(r))}function W3(t,e){return p_(t.databaseId,e)}function Kle(t){const e=Y3(t);return e.length===4?Yt.emptyPath():X3(e)}function Fw(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X3(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _4(t,e,r){return{name:qw(t,e),fields:r.value.mapValue.fields}}function Yle(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:He(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(pt(p===void 0||typeof p=="string",58123),rn.fromBase64String(p||"")):(pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),rn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const p=m.code===void 0?ve.UNKNOWN:q3(m.code);return new Me(p,m.message||"")})(c);r=new G3(n,a,s,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=w1(t,n.document.name),s=Ti(n.document.updateTime),c=n.document.createTime?Ti(n.document.createTime):Ge.min(),d=new ka({mapValue:{fields:n.document.fields}}),f=fn.newFoundDocument(a,s,c,d),m=n.targetIds||[],p=n.removedTargetIds||[];r=new e0(m,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=w1(t,n.document),s=n.readTime?Ti(n.readTime):Ge.min(),c=fn.newNoDocument(a,s),d=n.removedTargetIds||[];r=new e0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=w1(t,n.document),s=n.removedTargetIds||[];r=new e0([],s,a,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,c=new zle(a,s),d=n.targetId;r=new F3(d,c)}}return r}function Wle(t,e){let r;if(e instanceof Mh)r={update:_4(t,e.key,e.value)};else if(e instanceof H3)r={delete:qw(t,e.key)};else if(e instanceof oc)r={update:_4(t,e.key,e.data),updateMask:ace(e.fieldMask)};else{if(!(e instanceof Rle))return He(16599,{dt:e.type});r={verify:qw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,c){const d=c.transform;if(d instanceof ug)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dg)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:Gle(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),r}function Xle(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((r=>(function(a,s){let c=a.updateTime?Ti(a.updateTime):Ti(s);return c.isEqual(Ge.min())&&(c=Ti(s)),new Ole(c,a.transformResults||[])})(r,e)))):[]}function Qle(t,e){return{documents:[W3(t,e.path)]}}function Zle(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=W3(t,a);const s=(function(m){if(m.length!==0)return Z3(Mi.create(m,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const c=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:su(b.field),direction:tce(b.dir)}})(p)))})(e.orderBy);c&&(r.structuredQuery.orderBy=c);const d=$w(t,e.limit);return d!==null&&(r.structuredQuery.limit=d),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:r,parent:a}}function Jle(t){let e=Kle(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){pt(n===1,65062);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=(function(g){const b=Q3(g);return b instanceof Mi&&j3(b)?b.getFilters():[b]})(r.where));let c=[];r.orderBy&&(c=(function(g){return g.map((b=>(function(_){return new cg(ou(_.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(b)))})(r.orderBy));let d=null;r.limit&&(d=(function(g){let b;return b=typeof g=="object"?g.value:g,yy(b)?null:b})(r.limit));let f=null;r.startAt&&(f=(function(g){const b=!!g.before,w=g.values||[];return new lg(w,b)})(r.startAt));let m=null;return r.endAt&&(m=(function(g){const b=!g.before,w=g.values||[];return new lg(w,b)})(r.endAt)),gle(e,a,c,s,d,"F",f,m)}function ece(t,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:a})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Q3(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ou(r.unaryFilter.field);return kr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ou(r.unaryFilter.field);return kr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ou(r.unaryFilter.field);return kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ou(r.unaryFilter.field);return kr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(r){return kr.create(ou(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Mi.create(r.compositeFilter.filters.map((n=>Q3(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(r.compositeFilter.op))})(t):He(30097,{filter:t})}function tce(t){return $le[t]}function rce(t){return Hle[t]}function nce(t){return qle[t]}function su(t){return{fieldPath:t.canonicalString()}}function ou(t){return Zr.fromServerFormat(t.fieldPath)}function Z3(t){return t instanceof kr?(function(r){if(r.op==="=="){if(u4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NAN"}};if(c4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(u4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NOT_NAN"}};if(c4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(r.field),op:rce(r.op),value:r.value}}})(t):t instanceof Mi?(function(r){const n=r.getFilters().map((a=>Z3(a)));return n.length===1?n[0]:{compositeFilter:{op:nce(r.op),filters:n}}})(t):He(54877,{filter:t})}function ace(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function J3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function ez(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,r,n,a,s=Ge.min(),c=Ge.min(),d=rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(e){this.yt=e}}function sce(t){const e=Jle({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(){this.Sn=new lce}addToCollectionParentIndex(e,r){return this.Sn.add(r),ge.resolve()}getCollectionParents(e,r){return ge.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return ge.resolve()}deleteFieldIndex(e,r){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,r){return ge.resolve()}getDocumentsMatchingTarget(e,r){return ge.resolve(null)}getIndexType(e,r){return ge.resolve(0)}getFieldIndexes(e,r){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,r){return ge.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,r){return ge.resolve(zo.min())}updateCollectionGroup(e,r,n){return ge.resolve()}updateIndexEntries(e,r){return ge.resolve()}}class lce{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new _r(Yt.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new _r(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tz=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(tz,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="LruGarbageCollector",cce=1048576;function N4([t,e],[r,n]){const a=at(t,r);return a===0?at(e,n):a}class uce{constructor(e){this.Pr=e,this.buffer=new _r(N4),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();N4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class dce{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){je(S4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){td(r)?je(S4,"Ignoring IndexedDB error during garbage collection: ",r):await ed(r)}await this.Ar(3e5)}))}}class fce{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return ge.resolve(gy.ce);const n=new uce(r);return this.Vr.forEachTarget(e,(a=>n.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>n.Er(a))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(E4)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E4):this.gr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,a,s,c,d,f,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(n=g,d=Date.now(),this.removeTargets(e,n,r)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(m=Date.now(),au()<=nt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(m-f)+`ms
Total Duration: ${m-p}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function hce(t,e){return new fce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(){this.changes=new sc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gce{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&Of(n.mutation,a,Ga.empty(),Dt.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,it()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=it()){const a=Ol();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((s=>{let c=kf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,r){const n=Ol();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,it())))}populateOverlays(e,r,n){const a=[];return n.forEach((s=>{r.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{r.set(c,d)}))}))}computeViews(e,r,n,a){let s=Ss();const c=Cf(),d=(function(){return Cf()})();return r.forEach(((f,m)=>{const p=n.get(m.key);a.has(m.key)&&(p===void 0||p.mutation instanceof oc)?s=s.insert(m.key,m):p!==void 0?(c.set(m.key,p.mutation.getFieldMask()),Of(p.mutation,m,p.mutation.getFieldMask(),Dt.now())):c.set(m.key,Ga.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((m,p)=>c.set(m,p))),r.forEach(((m,p)=>d.set(m,new pce(p,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,r){const n=Cf();let a=new Wt(((c,d)=>c-d)),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=r.get(f);if(m===null)return;let p=n.get(f)||Ga.empty();p=d.applyToLocalView(m,p),n.set(f,p);const g=(a.get(d.batchId)||it()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,p=f.value,g=M3();p.forEach((b=>{if(!s.has(b)){const w=B3(r.get(b),n.get(b));w!==null&&g.set(b,w),s=s.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ge.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return yle(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):xle(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):ge.resolve(Ol());let d=nh,f=s;return c.next((m=>ge.forEach(m,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?ge.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,f,m,it()))).next((p=>({batchId:d,changes:R3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next((n=>{let a=kf();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let c=kf();return this.indexManager.getCollectionParents(e,s).next((d=>ge.forEach(d,(f=>{const m=(function(g,b){return new by(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,n,a).next((p=>{p.forEach(((g,b)=>{c=c.insert(g,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a)))).next((c=>{s.forEach(((f,m)=>{const p=m.getKey();c.get(p)===null&&(c=c.insert(p,fn.newInvalidDocument(p)))}));let d=kf();return c.forEach(((f,m)=>{const p=s.get(f);p!==void 0&&Of(p.mutation,m,Ga.empty(),Dt.now()),wy(r,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return ge.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Ti(a.createTime)}})(r)),ge.resolve()}getNamedQuery(e,r){return ge.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,(function(a){return{name:a.name,query:sce(a.bundledQuery),readTime:Ti(a.readTime)}})(r)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(){this.overlays=new Wt(Ve.comparator),this.Lr=new Map}getOverlay(e,r){return ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ol();return ge.forEach(r,(a=>this.getOverlay(e,a).next((s=>{s!==null&&n.set(a,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,s)=>{this.bt(e,r,s)})),ge.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Lr.get(n);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(n)),ge.resolve()}getOverlaysForCollection(e,r,n){const a=Ol(),s=r.length+1,c=new Ve(r.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!r.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>n&&a.set(f.getKey(),f)}return ge.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Wt(((m,p)=>m-p));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===r&&m.largestBatchId>n){let p=s.get(m.largestBatchId);p===null&&(p=Ol(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=Ol(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=a)););return ge.resolve(d)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(n.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new Dle(r,n));let s=this.Lr.get(r);s===void 0&&(s=it(),this.Lr.set(r,s)),this.Lr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.kr=new _r(Rr.Kr),this.qr=new _r(Rr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new Rr(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new Rr(e,r))}Qr(e,r){e.forEach((n=>this.removeReference(n,r)))}Gr(e){const r=new Ve(new Yt([])),n=new Rr(r,e),a=new Rr(r,e+1),s=[];return this.qr.forEachInRange([n,a],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new Ve(new Yt([])),n=new Rr(r,e),a=new Rr(r,e+1);let s=it();return this.qr.forEachInRange([n,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const r=new Rr(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Rr{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return Ve.comparator(e.key,r.key)||at(e.Hr,r.Hr)}static Ur(e,r){return at(e.Hr,r.Hr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new _r(Rr.Kr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Mle(s,r,n,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Rr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,r){return ge.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.Xr(n),s=a<0?0:a;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?s_:this.Yn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Rr(r,0),a=new Rr(r,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([n,a],(c=>{const d=this.Zr(c.Hr);s.push(d)})),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _r(at);return r.forEach((a=>{const s=new Rr(a,0),c=new Rr(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(d=>{n=n.add(d.Hr)}))})),ge.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Ve.isDocumentKey(s)||(s=s.child(""));const c=new Rr(new Ve(s),0);let d=new _r(at);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Hr)),!0)}),c),ge.resolve(this.Yr(d))}Yr(e){const r=[];return e.forEach((n=>{const a=this.Zr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){pt(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return ge.forEach(r.mutations,(a=>{const s=new Rr(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,r){const n=new Rr(r,0),a=this.Jr.firstAfterOrEqual(n);return ge.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.ti=e,this.docs=(function(){return new Wt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,c=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ge.resolve(n?n.document.mutableCopy():fn.newInvalidDocument(r))}getEntries(e,r){let n=Ss();return r.forEach((a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():fn.newInvalidDocument(a))})),ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=Ss();const c=r.path,d=new Ve(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:p}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Koe(Goe(p),n)<=0||(a.has(p.key)||wy(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,r,n,a){He(9500)}ni(e,r){return ge.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new kce(this)}getSize(e){return ge.resolve(this.size)}}class kce extends mce{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(n)})),ge.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e){this.persistence=e,this.ri=new sc((r=>c_(r)),u_),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new g_,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,r){return this.ri.forEach(((n,a)=>r(a))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),ge.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new Mu(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,ge.resolve()}updateTargetData(e,r){return this.lr(r),ge.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=r&&n.get(d.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ge.waitFor(s).next((()=>a))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return ge.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),ge.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),ge.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return ge.resolve(n)}containsKey(e,r){return ge.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,r){this._i={},this.overlays={},this.ai=new gy(0),this.ui=!1,this.ui=!0,this.ci=new bce,this.referenceDelegate=e(this),this.li=new _ce(this),this.indexManager=new oce,this.remoteDocumentCache=(function(a){return new wce(a)})((n=>this.referenceDelegate.hi(n))),this.serializer=new ice(r),this.Pi=new yce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new xce,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new vce(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const a=new Ece(this.ai.next());return this.referenceDelegate.Ti(),n(a).next((s=>this.referenceDelegate.Ii(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ei(e,r){return ge.or(Object.values(this._i).map((n=>()=>n.containsKey(e,r))))}}class Ece extends Woe{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.Ri=new g_,this.Ai=null}static Vi(e){return new y_(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),ge.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),ge.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ge.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach((a=>this.di.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((s=>this.di.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,(n=>{const a=Ve.fromPath(n);return this.mi(e,a).next((s=>{s||r.removeEntry(a,Ge.min())}))})).next((()=>(this.Ai=null,r.apply(e))))}updateLimboDocument(e,r){return this.mi(e,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(e){return 0}mi(e,r){return ge.or([()=>ge.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class hg{constructor(e,r){this.persistence=e,this.fi=new sc((n=>Zoe(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=hce(this,r)}static Vi(e,r){return new hg(e,r)}Ti(){}Ii(e){return ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((a=>n+a))))}pr(e){let r=0;return this.mr(e,(n=>{r++})).next((()=>r))}mr(e,r){return ge.forEach(this.fi,((n,a)=>this.wr(e,n,a).next((s=>s?ge.resolve():r(a)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,r).next((d=>{d||(n++,s.removeEntry(c,Ge.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Qp(e.data.value)),r}wr(e,r,n){return ge.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.fi.get(r);return ge.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=a}static Es(e,r){let n=it(),a=it();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new x_(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Hne()?8:Xoe(mn())>0?6:4})()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.gs(e,r).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,r,a,n).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new Sce;return this.ys(e,r,c).next((d=>{if(s.result=d,this.As)return this.ws(e,r,c,d.size)}))})).next((()=>s.result))}ws(e,r,n,a){return n.documentReadCount<this.Vs?(au()<=nt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",iu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(au()<=nt.DEBUG&&je("QueryEngine","Query:",iu(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(au()<=nt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",iu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(r))):ge.resolve())}gs(e,r){if(m4(r))return ge.resolve(null);let n=ji(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Bw(r,null,"F"),n=ji(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const c=it(...s);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((f=>{const m=this.bs(r,d);return this.Ss(r,m,c,f.readTime)?this.gs(e,Bw(r,null,"F")):this.Ds(e,m,r,f)}))))})))))}ps(e,r,n,a){return m4(r)||a.isEqual(Ge.min())?ge.resolve(null):this.fs.getDocuments(e,n).next((s=>{const c=this.bs(r,s);return this.Ss(r,c,n,a)?ge.resolve(null):(au()<=nt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),iu(r)),this.Ds(e,c,r,Foe(a,nh)).next((d=>d)))}))}bs(e,r){let n=new _r(I3(e));return r.forEach(((a,s)=>{wy(e,s)&&(n=n.add(s))})),n}Ss(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}ys(e,r,n){return au()<=nt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",iu(r)),this.fs.getDocumentsMatchingQuery(e,r,zo.min(),n)}Ds(e,r,n,a){return this.fs.getDocumentsMatchingQuery(e,n,a).next((s=>(r.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LocalStore",jce=3e8;class Tce{constructor(e,r,n,a){this.persistence=e,this.Cs=r,this.serializer=a,this.vs=new Wt(at),this.Fs=new sc((s=>c_(s)),u_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gce(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.vs)))}}function Ace(t,e,r,n){return new Tce(t,e,r,n)}async function nz(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((s=>(a=s,r.Os(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const c=[],d=[];let f=it();for(const m of a){c.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}for(const m of s){d.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}return r.localDocuments.getDocuments(n,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function Cce(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),s=r.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,p){const g=m.batch,b=g.keys();let w=ge.resolve();return b.forEach((_=>{w=w.next((()=>p.getEntry(f,_))).next((E=>{const N=m.docVersions.get(_);pt(N!==null,48541),E.version.compareTo(N)<0&&(g.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),p.addEntry(E)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let f=it();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function az(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.li.getLastRemoteSnapshotVersion(r)))}function Oce(t,e){const r=Ye(t),n=e.snapshotVersion;let a=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=r.xs.newChangeBuffer({trackRemovals:!0});a=r.vs;const d=[];e.targetChanges.forEach(((p,g)=>{const b=a.get(g);if(!b)return;d.push(r.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>r.li.addMatchingKeys(s,p.addedDocuments,g))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(rn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,n)),a=a.insert(g,w),(function(E,N,C){return E.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=jce?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,w,p)&&d.push(r.li.updateTargetData(s,w))}));let f=Ss(),m=it();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(Ice(s,c,e.documentUpdates).next((p=>{f=p.Bs,m=p.Ls}))),!n.isEqual(Ge.min())){const p=r.li.getLastRemoteSnapshotVersion(s).next((g=>r.li.setTargetsMetadata(s,s.currentSequenceNumber,n)));d.push(p)}return ge.waitFor(d).next((()=>c.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,f,m))).next((()=>f))})).then((s=>(r.vs=a,s)))}function Ice(t,e,r){let n=it(),a=it();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let c=Ss();return r.forEach(((d,f)=>{const m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):je(b_,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function Pce(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=s_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Rce(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.li.getTargetData(n,e).next((s=>s?(a=s,ge.resolve(a)):r.li.allocateTargetId(n).next((c=>(a=new So(e,c,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.vs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n}))}async function Gw(t,e,r){const n=Ye(t),a=n.vs.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(c=>n.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!td(c))throw c;je(b_,`Failed to update sequence numbers for target ${e}: ${c}`)}n.vs=n.vs.remove(e),n.Fs.delete(a.target)}function j4(t,e,r){const n=Ye(t);let a=Ge.min(),s=it();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,p){const g=Ye(f),b=g.Fs.get(p);return b!==void 0?ge.resolve(g.vs.get(b)):g.li.getTargetData(m,p)})(n,c,ji(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>n.Cs.getDocumentsMatchingQuery(c,e,r?a:Ge.min(),r?s:it()))).next((d=>(Mce(n,vle(e),d),{documents:d,ks:s})))))}function Mce(t,e,r){let n=t.Ms.get(e)||Ge.min();r.forEach(((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Ms.set(e,n)}class T4{constructor(){this.activeTargetIds=Nle()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dce{constructor(){this.vo=new T4,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new T4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="ConnectivityMonitor";class C4{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){je(A4,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){je(A4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function Kw(){return Op===null?Op=(function(){return 268435456+Math.round(2147483648*Math.random())})():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="RestConnection",Lce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Vce{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.$o=this.databaseId.database===Dw?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,r,n,a,s){const c=Kw(),d=this.Qo(e,r.toUriEncodedString());je(k1,`Sending RPC '${e}' ${c}:`,d,n);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,s);const{host:m}=new URL(d),p=Wu(m);return this.zo(e,d,f,n,p).then((g=>(je(k1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Jl(k1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",n),g}))}jo(e,r,n,a,s,c){return this.Wo(e,r,n,a,s)}Go(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ju})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,s)=>e[s]=a)),n&&n.headers.forEach(((a,s)=>e[s]=a))}Qo(e,r){const n=Lce[e];let a=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uce{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection",pf=(t,e,r)=>{t.listen(e,(n=>{try{r(n)}catch(a){setTimeout((()=>{throw a}),0)}}))};class bu extends Vce{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bu.c_){const e=u3();pf(e,c3.STAT_EVENT,(r=>{r.stat===Rw.PROXY?je(ln,"STAT_EVENT: detected buffering proxy"):r.stat===Rw.NOPROXY&&je(ln,"STAT_EVENT: detected no buffering proxy")})),bu.c_=!0}}zo(e,r,n,a,s){const c=Kw();return new Promise(((d,f)=>{const m=new o3;m.setWithCredentials(!0),m.listenOnce(l3.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Xp.NO_ERROR:const g=m.getResponseJson();je(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case Xp.TIMEOUT:je(ln,`RPC '${e}' ${c} timed out`),f(new Me(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const b=m.getStatus();if(je(ln,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w==null?void 0:w.error;if(_&&_.status&&_.message){const E=(function(C){const S=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(S)>=0?S:ve.UNKNOWN})(_.status);f(new Me(E,_.message))}else f(new Me(ve.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Me(ve.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{je(ln,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);je(ln,`RPC '${e}' ${c} sending request:`,a),m.send(r,"POST",p,n,15)}))}T_(e,r,n){const a=Kw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const m=s.join("");je(ln,`Creating RPC '${e}' stream ${a}: ${m}`,d);const p=c.createWebChannel(m,d);this.I_(p);let g=!1,b=!1;const w=new Uce({Ho:_=>{b?je(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,_):(g||(je(ln,`Opening RPC '${e}' stream ${a} transport.`),p.open(),g=!0),je(ln,`RPC '${e}' stream ${a} sending:`,_),p.send(_))},Jo:()=>p.close()});return pf(p,wf.EventType.OPEN,(()=>{b||(je(ln,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),pf(p,wf.EventType.CLOSE,(()=>{b||(b=!0,je(ln,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(p))})),pf(p,wf.EventType.ERROR,(_=>{b||(b=!0,Jl(ln,`RPC '${e}' stream ${a} transport errored. Name:`,_.name,"Message:",_.message),w.o_(new Me(ve.UNAVAILABLE,"The operation could not be completed")))})),pf(p,wf.EventType.MESSAGE,(_=>{var E;if(!b){const N=_.data[0];pt(!!N,16349);const C=N,S=(C==null?void 0:C.error)||((E=C[0])==null?void 0:E.error);if(S){je(ln,`RPC '${e}' stream ${a} received error:`,S);const P=S.status;let M=(function(T){const I=gr[T];if(I!==void 0)return q3(I)})(P),$=S.message;P==="NOT_FOUND"&&$.includes("database")&&$.includes("does not exist")&&$.includes(this.databaseId.database)&&Jl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=ve.INTERNAL,$="Unknown error status: "+P+" with message "+S.message),b=!0,w.o_(new Me(M,$)),p.close()}else je(ln,`RPC '${e}' stream ${a} received:`,N),w.__(N)}})),bu.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((r=>r===e))}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(t){return new bu(t)}function _1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){return new Fle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bu.c_=!1;class iz{constructor(e,r,n=1e3,a=1.5,s=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=a,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="PersistentStream";class sz{constructor(e,r,n,a,s,c,d,f){this.Ci=e,this.b_=n,this.S_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iz(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(Es(r.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{e((()=>{const a=new Me(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(O4,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget((()=>this.D_===e?r():(je(O4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $ce extends sz{constructor(e,r,n,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,c),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Yle(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Ge.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Ti(c.readTime):Ge.min()})(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=Fw(this.serializer),r.addTarget=(function(s,c){let d;const f=c.target;if(d=Uw(f)?{documents:Qle(s,f)}:{query:Zle(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=K3(s,c.resumeToken);const m=$w(s,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=fg(s,c.snapshotVersion.toTimestamp());const m=$w(s,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const n=ece(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=Fw(this.serializer),r.removeTarget=e,this.K_(r)}}class Hce extends sz{constructor(e,r,n,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Xle(e.writeResults,e.commitTime),n=Ti(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Fw(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Wle(this.serializer,n)))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{}class Fce extends qce{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Me(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,Hw(r,n),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(ve.UNKNOWN,s.toString())}))}jo(e,r,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Hw(r,n),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(ve.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Gce(t,e,r,n){return new Fce(t,e,r,n)}class Kce{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(r),this.aa=!1):je("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RemoteStore";class Yce{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{n.enqueueAndForget((async()=>{lc(this)&&(je(ec,"Restarting streams for network reachability change."),await(async function(f){const m=Ye(f);m.Ea.add(4),await zh(m),m.Va.set("Unknown"),m.Ea.delete(4),await Ny(m)})(this))}))})),this.Va=new Kce(n,a)}}async function Ny(t){if(lc(t))for(const e of t.Ra)await e(!0)}async function zh(t){for(const e of t.Ra)await e(!1)}function oz(t,e){const r=Ye(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),__(r)?k_(r):rd(r).O_()&&w_(r,e))}function v_(t,e){const r=Ye(t),n=rd(r);r.Ia.delete(e),n.O_()&&lz(r,e),r.Ia.size===0&&(n.O_()?n.L_():lc(r)&&r.Va.set("Unknown"))}function w_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}rd(t).Z_(e)}function lz(t,e){t.da.$e(e),rd(t).X_(e)}function k_(t){t.da=new Ble({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.Va.ua()}function __(t){return lc(t)&&!rd(t).x_()&&t.Ia.size>0}function lc(t){return Ye(t).Ea.size===0}function cz(t){t.da=void 0}async function Wce(t){t.Va.set("Online")}async function Xce(t){t.Ia.forEach(((e,r)=>{w_(t,e)}))}async function Qce(t,e){cz(t),__(t)?(t.Va.ha(e),k_(t)):t.Va.set("Unknown")}async function Zce(t,e,r){if(t.Va.set("Online"),e instanceof G3&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(n){je(ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await mg(t,n)}else if(e instanceof e0?t.da.Xe(e):e instanceof F3?t.da.st(e):t.da.tt(e),!r.isEqual(Ge.min()))try{const n=await az(t.localStore);r.compareTo(n)>=0&&await(function(s,c){const d=s.da.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(rn.EMPTY_BYTE_STRING,p.snapshotVersion)),lz(s,f);const g=new So(p.target,f,m,p.sequenceNumber);w_(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,r)}catch(n){je(ec,"Failed to raise snapshot:",n),await mg(t,n)}}async function mg(t,e,r){if(!td(e))throw e;t.Ea.add(1),await zh(t),t.Va.set("Offline"),r||(r=()=>az(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(ec,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Ny(t)}))}function uz(t,e){return e().catch((r=>mg(t,r,e)))}async function jy(t){const e=Ye(t),r=Bo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s_;for(;Jce(e);)try{const a=await Pce(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,eue(e,a)}catch(a){await mg(e,a)}dz(e)&&fz(e)}function Jce(t){return lc(t)&&t.Ta.length<10}function eue(t,e){t.Ta.push(e);const r=Bo(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function dz(t){return lc(t)&&!Bo(t).x_()&&t.Ta.length>0}function fz(t){Bo(t).start()}async function tue(t){Bo(t).ra()}async function rue(t){const e=Bo(t);for(const r of t.Ta)e.ea(r.mutations)}async function nue(t,e,r){const n=t.Ta.shift(),a=h_.from(n,e,r);await uz(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await jy(t)}async function aue(t,e){e&&Bo(t).Y_&&await(async function(n,a){if((function(c){return Lle(c)&&c!==ve.ABORTED})(a.code)){const s=n.Ta.shift();Bo(n).B_(),await uz(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a))),await jy(n)}})(t,e),dz(t)&&fz(t)}async function I4(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),je(ec,"RemoteStore received new credentials");const n=lc(r);r.Ea.add(3),await zh(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Ny(r)}async function iue(t,e){const r=Ye(t);e?(r.Ea.delete(2),await Ny(r)):e||(r.Ea.add(2),await zh(r),r.Va.set("Unknown"))}function rd(t){return t.ma||(t.ma=(function(r,n,a){const s=Ye(r);return s.sa(),new $ce(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Wce.bind(null,t),Yo:Xce.bind(null,t),t_:Qce.bind(null,t),J_:Zce.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),__(t)?k_(t):t.Va.set("Unknown")):(await t.ma.stop(),cz(t))}))),t.ma}function Bo(t){return t.fa||(t.fa=(function(r,n,a){const s=Ye(r);return s.sa(),new Hce(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tue.bind(null,t),t_:aue.bind(null,t),ta:rue.bind(null,t),na:nue.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await jy(t)):(await t.fa.stop(),t.Ta.length>0&&(je(ec,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const c=Date.now()+n,d=new E_(e,r,c,a,s);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(t,e){if(Es("AsyncQueue",`${e}: ${t}`),td(t))return new Me(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=kf(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new vu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.ga=new Wt(Ve.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Du{constructor(e,r,n,a,s,c,d,f,m){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,r,n,a,s){const c=[];return r.forEach((d=>{c.push({type:0,doc:d})})),new Du(e,r,vu.emptySet(r),c,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oue{constructor(){this.queries=R4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Ye(r),s=a.queries;a.queries=R4(),s.forEach(((c,d)=>{for(const f of d.ba)f.onError(n)}))})(this,new Me(ve.ABORTED,"Firestore shutting down"))}}function R4(){return new sc((t=>O3(t)),vy)}async function lue(t,e){const r=Ye(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.Sa()&&e.Da()&&(n=2):(s=new sue,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(a,!0);break;case 1:s.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(c){const d=S_(c,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(d)}r.queries.set(a,s),s.ba.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&N_(r)}async function cue(t,e){const r=Ye(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?a=e.Da()?0:1:!s.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function uue(t,e){const r=Ye(t);let n=!1;for(const a of e){const s=a.query,c=r.queries.get(s);if(c){for(const d of c.ba)d.Fa(a)&&(n=!0);c.wa=a}}n&&N_(r)}function due(t,e,r){const n=Ye(t),a=n.queries.get(e);if(a)for(const s of a.ba)s.onError(r);n.queries.delete(e)}function N_(t){t.Ca.forEach((e=>{e.next()}))}var Yw,M4;(M4=Yw||(Yw={})).Ma="default",M4.Cache="cache";class fue{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Du(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.key=e}}class mz{constructor(e){this.key=e}}class hue{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=I3(e),this.tu=new vu(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new P4,a=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const b=a.get(p),w=wy(this.query,g)?g:null,_=!!b&&this.mutatedKeys.has(b.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;b&&w?b.data.isEqual(w.data)?_!==E&&(n.track({type:3,doc:w}),N=!0):this.su(b,w)||(n.track({type:2,doc:w}),N=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(d=!0)):!b&&w?(n.track({type:0,doc:w}),N=!0):b&&!w&&(n.track({type:1,doc:b}),N=!0,(f||m)&&(d=!0)),N&&(w?(c=c.add(w),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{tu:c,iu:n,Ss:d,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,_){const E=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:N})}};return E(w)-E(_)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(n),a=a??!1;const d=r&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new Du(this.query,e.tu,s,c,e.mutatedKeys,f===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P4,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return e.forEach((n=>{this.Ya.has(n)||r.push(new mz(n))})),this.Ya.forEach((n=>{e.has(n)||r.push(new hz(n))})),r}cu(e){this.Za=e.ks,this.Ya=it();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const j_="SyncEngine";class mue{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class pue{constructor(e){this.key=e,this.hu=!1}}class gue{constructor(e,r,n,a,s,c){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new sc((d=>O3(d)),vy),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wt(Ve.comparator),this.Au=new Map,this.Vu=new g_,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yue(t,e,r=!0){const n=vz(t);let a;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await pz(n,e,r,!0),a}async function xue(t,e){const r=vz(t);await pz(r,e,!0,!1)}async function pz(t,e,r,n){const a=await Rce(t.localStore,ji(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,r);let d;return n&&(d=await bue(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&r&&oz(t.remoteStore,a),d}async function bue(t,e,r,n,a){t.pu=(g,b,w)=>(async function(E,N,C,S){let P=N.view.ru(C);P.Ss&&(P=await j4(E.localStore,N.query,!1).then((({documents:T})=>N.view.ru(T,P))));const M=S&&S.targetChanges.get(N.targetId),$=S&&S.targetMismatches.get(N.targetId)!=null,V=N.view.applyChanges(P,E.isPrimaryClient,M,$);return z4(E,N.targetId,V.au),V.snapshot})(t,g,b,w);const s=await j4(t.localStore,e,!0),c=new hue(e,s.ks),d=c.ru(s.documents),f=Dh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,f);z4(t,r,m.au);const p=new mue(e,r,c);return t.Tu.set(e,p),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),m.snapshot}async function vue(t,e,r){const n=Ye(t),a=n.Tu.get(e),s=n.Iu.get(a.targetId);if(s.length>1)return n.Iu.set(a.targetId,s.filter((c=>!vy(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Gw(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&v_(n.remoteStore,a.targetId),Ww(n,a.targetId)})).catch(ed)):(Ww(n,a.targetId),await Gw(n.localStore,a.targetId,!0))}async function wue(t,e){const r=Ye(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),v_(r.remoteStore,n.targetId))}async function kue(t,e,r){const n=Aue(t);try{const a=await(function(c,d){const f=Ye(c),m=Dt.now(),p=d.reduce(((w,_)=>w.add(_.key)),it());let g,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let _=Ss(),E=it();return f.xs.getEntries(w,p).next((N=>{_=N,_.forEach(((C,S)=>{S.isValidDocument()||(E=E.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,_))).next((N=>{g=N;const C=[];for(const S of d){const P=Ple(S,g.get(S.key).overlayedDocument);P!=null&&C.push(new oc(S.key,P,E3(P.value.mapValue),fs.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,C,d)})).next((N=>{b=N;const C=N.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(w,N.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:R3(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let m=c.du[c.currentUser.toKey()];m||(m=new Wt(at)),m=m.insert(d,f),c.du[c.currentUser.toKey()]=m})(n,a.batchId,r),await Lh(n,a.changes),await jy(n.remoteStore)}catch(a){const s=S_(a,"Failed to persist write");r.reject(s)}}async function gz(t,e){const r=Ye(t);try{const n=await Oce(r.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=r.Au.get(s);c&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?pt(c.hu,14607):a.removedDocuments.size>0&&(pt(c.hu,42227),c.hu=!1))})),await Lh(r,n,e)}catch(n){await ed(n)}}function D4(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Ye(c);f.onlineState=d;let m=!1;f.queries.forEach(((p,g)=>{for(const b of g.ba)b.va(d)&&(m=!0)})),m&&N_(f)})(n.eventManager,e),a.length&&n.Pu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _ue(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),s=a&&a.key;if(s){let c=new Wt(Ve.comparator);c=c.insert(s,fn.newNoDocument(s,Ge.min()));const d=it().add(s),f=new Ey(Ge.min(),new Map,new Wt(at),c,d);await gz(n,f),n.Ru=n.Ru.remove(s),n.Au.delete(e),T_(n)}else await Gw(n.localStore,e,!1).then((()=>Ww(n,e,r))).catch(ed)}async function Eue(t,e){const r=Ye(t),n=e.batch.batchId;try{const a=await Cce(r.localStore,e);xz(r,n,null),yz(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Lh(r,a)}catch(a){await ed(a)}}async function Sue(t,e,r){const n=Ye(t);try{const a=await(function(c,d){const f=Ye(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return f.mutationQueue.lookupMutationBatch(m,d).next((g=>(pt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(m,g)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>f.localDocuments.getDocuments(m,p)))}))})(n.localStore,e);xz(n,e,r),yz(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Lh(n,a)}catch(a){await ed(a)}}function yz(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function xz(t,e,r){const n=Ye(t);let a=n.du[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.du[n.currentUser.toKey()]=a}}function Ww(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((n=>{t.Vu.containsKey(n)||bz(t,n)}))}function bz(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(v_(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),T_(t))}function z4(t,e,r){for(const n of r)n instanceof hz?(t.Vu.addReference(n.key,e),Nue(t,n)):n instanceof mz?(je(j_,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||bz(t,n.key)):He(19791,{wu:n})}function Nue(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(je(j_,"New document in limbo: "+r),t.Eu.add(n),T_(t))}function T_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ve(Yt.fromString(e)),n=t.fu.next();t.Au.set(n,new pue(r)),t.Ru=t.Ru.insert(r,n),oz(t.remoteStore,new So(ji(d_(r.path)),n,"TargetPurposeLimboResolution",gy.ce))}}async function Lh(t,e,r){const n=Ye(t),a=[],s=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,f)=>{c.push(n.pu(f,e,r).then((m=>{var p;if((m||r)&&n.isPrimaryClient){const g=m?!m.fromCache:(p=r==null?void 0:r.targetChanges.get(f.targetId))==null?void 0:p.current;n.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){a.push(m);const g=x_.Es(f.targetId,m);s.push(g)}})))})),await Promise.all(c),n.Pu.J_(a),await(async function(f,m){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ge.forEach(m,(b=>ge.forEach(b.Ts,(w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w))).next((()=>ge.forEach(b.Is,(w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))))))}catch(g){if(!td(g))throw g;je(b_,"Failed to update sequence numbers: "+g)}for(const g of m){const b=g.targetId;if(!g.fromCache){const w=p.vs.get(b),_=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(_);p.vs=p.vs.insert(b,E)}}})(n.localStore,s))}async function jue(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){je(j_,"User change. New user:",e.toKey());const n=await nz(r.localStore,e);r.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Me(ve.CANCELLED,c))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lh(r,n.Ns)}}function Tue(t,e){const r=Ye(t),n=r.Au.get(e);if(n&&n.hu)return it().add(n.key);{let a=it();const s=r.Iu.get(e);if(!s)return a;for(const c of s){const d=r.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function vz(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_ue.bind(null,e),e.Pu.J_=uue.bind(null,e.eventManager),e.Pu.yu=due.bind(null,e.eventManager),e}function Aue(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sue.bind(null,e),e}class pg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Ace(this.persistence,new Nce,e.initialUser,this.serializer)}Cu(e){return new rz(y_.Vi,this.serializer)}Du(e){return new Dce}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pg.provider={build:()=>new pg};class Cue extends pg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){pt(this.persistence.referenceDelegate instanceof hg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new dce(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new rz((n=>hg.Vi(n,r)),this.serializer)}}class Xw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>D4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=jue.bind(null,this.syncEngine),await iue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oue})()}createDatastore(e){const r=Sy(e.databaseInfo.databaseId),n=Bce(e.databaseInfo);return Gce(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,s,c,d){return new Yce(n,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(r=>D4(this.syncEngine,r,0)),(function(){return C4.v()?new C4:new zce})())}createSyncEngine(e,r){return(function(a,s,c,d,f,m,p){const g=new gue(a,s,c,d,f,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){const s=Ye(a);je(ec,"RemoteStore shutting down."),s.Ea.add(5),await zh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Xw.provider={build:()=>new Xw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class Iue{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async c=>{je($o,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(je($o,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=S_(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function E1(t,e){t.asyncQueue.verifyOperationInProgress(),je($o,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await nz(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function L4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Pue(t);je($o,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>I4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>I4(e.remoteStore,a))),t._onlineComponents=e}async function Pue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je($o,"Using user provided OfflineComponentProvider");try{await E1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ve.FAILED_PRECONDITION||a.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;Jl("Error using user provided cache. Falling back to memory cache: "+r),await E1(t,new pg)}}else je($o,"Using default OfflineComponentProvider"),await E1(t,new Cue(void 0));return t._offlineComponents}async function wz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je($o,"Using user provided OnlineComponentProvider"),await L4(t,t._uninitializedComponentsProvider._online)):(je($o,"Using default OnlineComponentProvider"),await L4(t,new Xw))),t._onlineComponents}function Rue(t){return wz(t).then((e=>e.syncEngine))}async function Mue(t){const e=await wz(t),r=e.eventManager;return r.onListen=yue.bind(null,e.syncEngine),r.onUnlisten=vue.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=xue.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wue.bind(null,e.syncEngine),r}function Due(t,e,r={}){const n=new Po;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,m){const p=new Oue({next:b=>{p.Nu(),c.enqueueAndForget((()=>cue(s,g)));const w=b.docs.has(d);!w&&b.fromCache?m.reject(new Me(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new Me(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new fue(d_(d.path),p,{includeMetadataChanges:!0,Ka:!0});return lue(s,g)})(await Mue(t),t.asyncQueue,e,r,n))),n.promise}function zue(t,e){const r=new Po;return t.asyncQueue.enqueueAndForget((async()=>kue(await Rue(t),e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue="ComponentProvider",V4=new Map;function Vue(t,e,r,n,a){return new tle(t,e,r,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,kz(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="firestore.googleapis.com",U4=!0;class B4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_z,this.ssl=U4}else this.host=e.host,this.ssl=e.ssl??U4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cce)throw new Me(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qoe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kz(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Me(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Me(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Me(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A_{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Poe;switch(n.type){case"firstParty":return new zoe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=V4.get(r);n&&(je(Lue,"Removing Datastore"),V4.delete(r),n.terminate())})(this),Promise.resolve()}}function Uue(t,e,r,n={}){var m;t=rh(t,A_);const a=Wu(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${r}`;a&&(b6(`https://${d}`),v6("Firestore",!0)),s.host!==_z&&s.host!==d&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:n};if(!Wl(f,c)&&(t._setSettings(f),n.mockUserToken)){let p,g;if(typeof n.mockUserToken=="string")p=n.mockUserToken,g=un.MOCK_USER;else{p=Rne(n.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new Me(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new un(b)}t._authCredentials=new Roe(new h3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new C_(this.firestore,e,this._query)}}class Dr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}toJSON(){return{type:Dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Rh(r,Dr._jsonSchema))return new Dr(e,n||null,new Ve(Yt.fromString(r.referencePath)))}}Dr._jsonSchemaVersion="firestore/documentReference/1.0",Dr._jsonSchema={type:xr("string",Dr._jsonSchemaVersion),referencePath:xr("string")};class ch extends C_{constructor(e,r,n){super(e,r,d_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Ve(e))}withConverter(e){return new ch(this.firestore,e,this._path)}}function S1(t,e,...r){if(t=Ca(t),arguments.length===1&&(e=a_.newId()),Hoe("doc","path",e),t instanceof A_){const n=Yt.fromString(e,...r);return t4(n),new Dr(t,null,new Ve(n))}{if(!(t instanceof Dr||t instanceof ch))throw new Me(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Yt.fromString(e,...r));return t4(n),new Dr(t.firestore,t instanceof ch?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="AsyncQueue";class H4{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iz(this,"async_queue_retry"),this._c=()=>{const n=_1();n&&je($4,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=_1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=_1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Po;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!td(e))throw e;je($4,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",q4(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=E_.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&He(47125,{Pc:q4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function q4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class O_ extends A_{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new H4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H4(e),this._firestoreClient=void 0,await e}}}function Bue(t,e){const r=typeof t=="object"?t:E6(),n=typeof t=="string"?t:e,a=Yk(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=Ine("firestore");s&&Uue(a,...s)}return a}function Ez(t){if(t._terminated)throw new Me(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$ue(t),t._firestoreClient}function $ue(t){var n,a,s,c;const e=t._freezeSettings(),r=Vue(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Iue(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(rn.fromBase64String(e))}catch(r){throw new Me(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _a(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_a._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rh(e,_a._jsonSchema))return _a.fromBase64String(e.bytes)}}_a._jsonSchemaVersion="firestore/bytes/1.0",_a._jsonSchema={type:xr("string",_a._jsonSchemaVersion),bytes:xr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(Rh(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:xr("string",Ai._jsonSchemaVersion),latitude:xr("number"),longitude:xr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rh(e,Ya._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Ya(e.vectorValues);throw new Me(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ya._jsonSchemaVersion="firestore/vectorValue/1.0",Ya._jsonSchema={type:xr("string",Ya._jsonSchemaVersion),vectorValues:xr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue=/^__.*__$/;class que{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new oc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mh(e,this.data,r,this.fieldTransforms)}}function jz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class I_{constructor(e,r,n,a,s,c){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new I_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jz(this.dataSource)&&Hue.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Fue{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Sy(e)}createContext(e,r,n,a=!1){return new I_({dataSource:e,methodName:r,targetDoc:n,path:Zr.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gue(t){const e=t._freezeSettings(),r=Sy(t._databaseId);return new Fue(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Kue(t,e,r,n,a,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,r,a);Oz("Data must be an object, but it was:",c,n);const d=Az(n,c);let f,m;if(s.merge)f=new Ga(c.fieldMask),m=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=P_(e,g,r);if(!c.contains(b))throw new Me(ve.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Xue(p,b)||p.push(b)}f=new Ga(p),m=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,m=c.fieldTransforms;return new que(new ka(d),f,m)}function Tz(t,e){if(Cz(t=Ca(t)))return Oz("Unsupported field value:",e,t),Az(t,e);if(t instanceof Nz)return(function(n,a){if(!jz(a.dataSource))throw a.createError(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,a){const s=[];let c=0;for(const d of n){let f=Tz(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(n,a){if((n=Ca(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jle(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Dt.fromDate(n);return{timestampValue:fg(a.serializer,s)}}if(n instanceof Dt){const s=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fg(a.serializer,s)}}if(n instanceof Ai)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _a)return{bytesValue:K3(a.serializer,n._byteString)};if(n instanceof Dr){const s=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(s))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Ya)return(function(c,d){const f=c instanceof Ya?c.toArray():c;return{mapValue:{fields:{[k3]:{stringValue:_3},[og]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return f_(d.serializer,p)}))}}}}}})(n,a);if(ez(n))return n._toProto(a.serializer);throw a.createError(`Unsupported field value: ${i_(n)}`)})(t,e)}function Az(t,e){const r={};return g3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(t,((n,a)=>{const s=Tz(a,e.childContextForField(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function Cz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Ai||t instanceof _a||t instanceof Dr||t instanceof Nz||t instanceof Ya||ez(t))}function Oz(t,e,r){if(!Cz(r)||!m3(r)){const n=i_(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function P_(t,e,r){if((e=Ca(e))instanceof Sz)return e._internalPath;if(typeof e=="string")return Wue(t,e);throw gg("Field path arguments must be of type string or ",t,!1,void 0,r)}const Yue=new RegExp("[~\\*/\\[\\]]");function Wue(t,e,r){if(e.search(Yue)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Sz(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function gg(t,e,r,n,a){const s=n&&!n.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${n}`),c&&(f+=` in document ${a}`),f+=")"),new Me(ve.INVALID_ARGUMENT,d+t+f)}function Xue(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{convertValue(e,r="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ic(e,((a,s)=>{n[a]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,a,s;const r=(s=(a=(n=e.fields)==null?void 0:n[og].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>lr(c.doubleValue)));return new Ya(r)}convertGeoPoint(e){return new Ai(lr(e.latitude),lr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xy(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const r=Lo(e);return new Dt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Yt.fromString(e);pt(J3(n),9688,{name:e});const a=new ih(n.get(1),n.get(3)),s=new Ve(n.popFirst(5));return a.isEqual(r)||Es(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue extends Que{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,r)}}const F4="@firebase/firestore",G4="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(P_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Jue extends Iz{data(){return super.data()}}function ede(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Ef{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends Iz{constructor(e,r,n,a,s,c){super(e,r,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new t0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(P_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ll._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:xr("string",Ll._jsonSchemaVersion),bundleSource:xr("string","DocumentSnapshot"),bundleName:xr("string"),bundle:xr("string")};class t0 extends Ll{data(e={}){return super.data(e)}}class If{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Ef(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new t0(this._firestore,this._userDataWriter,n.key,n,new Ef(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new t0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ef(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new t0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ef(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,p=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:tde(d.type),doc:f,oldIndex:m,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=If._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */If._jsonSchemaVersion="firestore/querySnapshot/1.0",If._jsonSchema={type:xr("string",If._jsonSchemaVersion),bundleSource:xr("string","QuerySnapshot"),bundleName:xr("string"),bundle:xr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){t=rh(t,Dr);const e=rh(t.firestore,O_),r=Ez(e);return Due(r,t._key).then((n=>ade(e,t,n)))}function rde(t,e,r){t=rh(t,Dr);const n=rh(t.firestore,O_),a=ede(t.converter,e,r),s=Gue(n);return nde(n,[Kue(s,"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,fs.none())])}function nde(t,e){const r=Ez(t);return zue(r,e)}function ade(t,e,r){const n=r.docs.get(e._key),a=new Zue(t);return new Ll(t,a,e._key,n,new Ef(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){Ioe(Xu),Cu(new Xl("firestore",((n,{instanceIdentifier:a,options:s})=>{const c=n.getProvider("app").getImmediate(),d=new O_(new Moe(n.getProvider("auth-internal")),new Loe(c,n.getProvider("app-check-internal")),rle(c,a),c);return s={useFetchStreams:r,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Co(F4,G4,e),Co(F4,G4,"esm2020")})();const ide={apiKey:"AIzaSyBOhlsCQH6JKoN14syfBKanwXOYebJxI0A",authDomain:"emrperdeyonetim.firebaseapp.com",projectId:"emrperdeyonetim",storageBucket:"emrperdeyonetim.appspot.com",messagingSenderId:"1084031957445",appId:"1:1084031957445:web:146495c808f9ffaf8b33ac",measurementId:"G-HS8D00H65B"},Pz=_6(ide),Nl=xoe(Pz),N1=Bue(Pz,"emryonetim"),Ip=[],Pp=[],ns=[{id:"v_cash_fixed",name:"Merkez Nakit Kasa",balance:0,type:"CASH",currency:"TL",isFixed:!0},{id:"v_bank_fixed",name:"Merkez Banka Hesab",balance:0,type:"BANK",currency:"TL",isFixed:!0},{id:"v_pos_fixed",name:"Merkez POS",balance:0,type:"POS",currency:"TL",isFixed:!0}],Rp=[],Mp=[],Dp=[],zp={name:"Maaza Ad Giriniz",owner:"Yetkili Ad",phone:"0500 000 00 00",address:"Adres Bilgisi Girilmemi",iban:"",bankName:"",bankAccountHolder:""},Lp={width:55,height:38,elements:[{id:"1",type:"TEXT_STORE",x:2,y:2,width:51,height:5,fontSize:8,fontWeight:"900",textAlign:"center"},{id:"2",type:"TEXT_PRODUCT",x:2,y:8,width:35,height:10,fontSize:8,fontWeight:"bold",textAlign:"left"},{id:"3",type:"TEXT_PRICE",x:38,y:8,width:15,height:6,fontSize:11,fontWeight:"900",textAlign:"center",backgroundColor:"#000000",color:"#ffffff",borderRadius:4,padding:1.5},{id:"4",type:"BARCODE",x:2,y:20,width:51,height:12,fontSize:10,fontWeight:"normal",textAlign:"center"},{id:"5",type:"BARCODE_TEXT",x:2,y:33,width:51,height:3,fontSize:7,fontWeight:"900",textAlign:"center"}]},Vp={width:297,height:210,elements:[{id:"h_rect",type:"RECTANGLE",x:10,y:10,width:277,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",border:"4px solid black"},{id:"hl1",type:"RECTANGLE",x:82,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl2",type:"RECTANGLE",x:148,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl3",type:"RECTANGLE",x:192,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl4",type:"RECTANGLE",x:242,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"logo",type:"LOGO_EMR",x:15,y:12,width:62,height:40,fontSize:10,fontWeight:"normal",textAlign:"center"},{id:"cust",type:"TEXT_CUSTOMER",x:85,y:15,width:60,height:35,fontSize:16,fontWeight:"bold",textAlign:"left"},{id:"teslim_lbl",type:"CUSTOM_TEXT",content:"TESLM",x:153,y:10,width:34,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"teslim_val",type:"TEXT_TESLIM_VAL",x:150,y:25,width:40,height:20,fontSize:16,fontWeight:"bold",textAlign:"center"},{id:"not_lbl",type:"CUSTOM_TEXT",content:"NOT:",x:198,y:10,width:32,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"not_val",type:"TEXT_NOTES",x:195,y:25,width:44,height:20,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"metraj_lbl",type:"CUSTOM_TEXT",content:"METRAJ",x:248,y:10,width:34,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"metraj_val",type:"TEXT_METRAJ_VAL",x:245,y:25,width:40,height:20,fontSize:16,fontWeight:"bold",textAlign:"center"},{id:"w1_line",type:"LINE_SLANTED",x:10,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w1_w",type:"TEXT_WIN_1_W",x:15,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w1_h",type:"TEXT_WIN_1_H",x:35,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w1_desc",type:"TEXT_WIN_1_DESC",x:10,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w2_line",type:"LINE_SLANTED",x:84,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w2_w",type:"TEXT_WIN_2_W",x:89,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w2_h",type:"TEXT_WIN_2_H",x:109,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w2_desc",type:"TEXT_WIN_2_DESC",x:84,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w3_line",type:"LINE_SLANTED",x:158,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w3_w",type:"TEXT_WIN_3_W",x:163,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w3_h",type:"TEXT_WIN_3_H",x:183,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w3_desc",type:"TEXT_WIN_3_DESC",x:158,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w4_line",type:"LINE_SLANTED",x:232,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w4_w",type:"TEXT_WIN_4_W",x:237,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w4_h",type:"TEXT_WIN_4_H",x:257,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w4_desc",type:"TEXT_WIN_4_DESC",x:232,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w5_line",type:"LINE_SLANTED",x:10,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w5_w",type:"TEXT_WIN_5_W",x:15,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w5_h",type:"TEXT_WIN_5_H",x:35,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w5_desc",type:"TEXT_WIN_5_DESC",x:10,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w6_line",type:"LINE_SLANTED",x:84,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w6_w",type:"TEXT_WIN_6_W",x:89,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w6_h",type:"TEXT_WIN_6_H",x:109,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w6_desc",type:"TEXT_WIN_6_DESC",x:84,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w7_line",type:"LINE_SLANTED",x:158,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w7_w",type:"TEXT_WIN_7_W",x:163,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w7_h",type:"TEXT_WIN_7_H",x:183,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w7_desc",type:"TEXT_WIN_7_DESC",x:158,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"t_rect",type:"RECTANGLE",x:232,y:145,width:55,height:55,fontSize:10,fontWeight:"normal",textAlign:"left",border:"4px solid black"},{id:"t_lbl",type:"CUSTOM_TEXT",content:"TOPLAM",x:232,y:150,width:55,height:15,fontSize:18,fontWeight:"900",textAlign:"center"},{id:"t_val",type:"TEXT_TOPLAM_VAL",x:232,y:170,width:55,height:25,fontSize:24,fontWeight:"bold",textAlign:"center"}]},sde=new BroadcastChannel("customer_display_sync");function ode(){var Bn;const[t,e]=k.useState(!0),[r,n]=k.useState(!1),[a,s]=k.useState(!0),[c,d]=k.useState(!1),[f,m]=k.useState(!1),p=k.useRef(!1),[g,b]=k.useState(()=>{const re=localStorage.getItem("theme_preference");return re?re==="dark":!0}),[w,_]=k.useState("DASHBOARD"),[E,N]=k.useState(!1),[C,S]=k.useState(null),[P,M]=k.useState(null),[$,V]=k.useState(null),[T,I]=k.useState(null),[R,U]=k.useState(!1),[L,B]=k.useState([]),[H,X]=k.useState({value:0,type:"PERCENT"}),[J,F]=k.useState(ns),[Z,fe]=k.useState(Rp),[_e,le]=k.useState(Ip),[z,W]=k.useState(Mp),[ue,G]=k.useState(Dp),[pe,Ee]=k.useState(Pp),[be,Fe]=k.useState([]),[se,Be]=k.useState([]),[Le,ye]=k.useState([]),[ft,We]=k.useState(zp),[It,At]=k.useState(Lp),[jr,Ln]=k.useState(Vp),Ct=k.useMemo(()=>new URLSearchParams(window.location.search).get("view")==="customer-display",[]),Lt=k.useMemo(()=>{const re=[],we=new Date;return we.setHours(0,0,0,0),se.forEach(xe=>{if(xe.status==="UNPAID"&&xe.dueDate){const Ne=new Date(xe.dueDate);Ne.setHours(0,0,0,0);const Oe=Ne.getTime()-we.getTime(),Pe=Math.ceil(Oe/(1e3*60*60*24));Pe<=5&&re.push({id:xe.id,type:"BILL",title:`Fatura: ${xe.institution} - ${xe.name}`,amount:xe.amount+(xe.amount2||0),days:Pe,date:xe.dueDate})}}),Le.forEach(xe=>{if(xe.status==="PENDING"&&xe.dueDate){const Ne=new Date(xe.dueDate);Ne.setHours(0,0,0,0);const Oe=Ne.getTime()-we.getTime(),Pe=Math.ceil(Oe/(1e3*60*60*24));Pe<=5&&re.push({id:xe.id,type:"NOTE",title:`Senet: ${xe.contactName}`,amount:xe.amount,days:Pe,date:xe.dueDate})}}),re.sort((xe,Ne)=>xe.days-Ne.days)},[se,Le]);k.useEffect(()=>{const re=setTimeout(()=>e(!1),2500);return()=>clearTimeout(re)},[]),k.useEffect(()=>{const re=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",re),()=>document.removeEventListener("fullscreenchange",re)},[]);const ze=re=>{_(we=>re!==we?(window.history.pushState({view:re},""),re):we)};k.useEffect(()=>{window.history.replaceState({view:"DASHBOARD"},"");const re=we=>{we.state&&we.state.view&&_(we.state.view)};return window.addEventListener("popstate",re),()=>window.removeEventListener("popstate",re)},[]),k.useEffect(()=>{Ct||(async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(xe=>xe.stop()),console.log("Kamera izni baaryla alnd.")}catch(we){console.warn("Kamera izni alnamad veya reddedildi:",we)}})()},[Ct]),k.useEffect(()=>{g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme_preference",g?"dark":"light"),sde.postMessage({type:"UPDATE_DISPLAY",cart:L,discount:H})},[g,L,H]),k.useEffect(()=>{const re=ose(Nl,async we=>{if(we){n(!0),s(!0),p.current=!1;const xe=S1(N1,"user_data",we.uid);try{const Ne=await K4(xe);if(Ne.exists()){const Oe=Ne.data();let Pe=Oe.vaults||[];const ar=Pe.some($r=>$r.id==="v_cash_fixed"),qe=Pe.some($r=>$r.id==="v_bank_fixed");Pe.some($r=>$r.id==="v_pos_fixed")||(Pe=[ns[2],...Pe]),qe||(Pe=[ns[1],...Pe]),ar||(Pe=[ns[0],...Pe]),F(Pe),fe(Oe.contacts||Rp),le(Oe.productGroups||Ip),W(Oe.products||Mp),G(Oe.measurements||Dp),Ee(Oe.units||Pp),Fe(Oe.transactions||[]),Be(Oe.bills||[]),ye(Oe.promissoryNotes||[]),We(Oe.firmProfile||zp),At(Oe.barcodeTemplate||Lp),Ln(Oe.workshopBarcodeTemplate||Vp)}else F(ns)}catch(Ne){console.error("Veri yklenirken hata:",Ne)}finally{s(!1),setTimeout(()=>{p.current=!0},500)}}else n(!1),F(ns),fe(Rp),le(Ip),W(Mp),G(Dp),Ee(Pp),Fe([]),Be([]),ye([]),We(zp),At(Lp),Ln(Vp),s(!1),p.current=!1});return()=>re()},[]),k.useEffect(()=>{const re=async()=>{if(r&&Nl.currentUser&&p.current){const we=S1(N1,"user_data",Nl.currentUser.uid),xe={vaults:J,contacts:Z,productGroups:_e,products:z,measurements:ue,units:pe,transactions:be,bills:se,promissoryNotes:Le,firmProfile:ft,barcodeTemplate:It,workshopBarcodeTemplate:jr};try{const Ne=JSON.parse(JSON.stringify(xe));await rde(we,Ne,{merge:!0})}catch(Ne){console.error("Veri kaydedilirken hata:",Ne)}}};if(!a&&p.current){const we=setTimeout(re,300);return()=>clearTimeout(we)}},[J,Z,_e,z,ue,pe,be,se,Le,ft,It,jr,r,a]);const nd=()=>b(!g),Ko=async()=>{try{document.fullscreenElement?document.exitFullscreen&&await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(re){console.warn("Tam ekran API'si desteklenmiyor veya engellendi:",re)}},Br=()=>{ze("DASHBOARD")},Li=()=>{Nl.signOut()},Rs=async()=>{if(Nl.currentUser){d(!0);try{const re=S1(N1,"user_data",Nl.currentUser.uid),we=await K4(re);if(we.exists()){const xe=we.data();let Ne=xe.vaults||[];const Oe=Ne.some(qe=>qe.id==="v_cash_fixed"),Pe=Ne.some(qe=>qe.id==="v_bank_fixed");Ne.some(qe=>qe.id==="v_pos_fixed")||(Ne=[ns[2],...Ne]),Pe||(Ne=[ns[1],...Ne]),Oe||(Ne=[ns[0],...Ne]),F(Ne),fe(xe.contacts||Rp),le(xe.productGroups||Ip),W(xe.products||Mp),G(xe.measurements||Dp),Ee(xe.units||Pp),Fe(xe.transactions||[]),Be(xe.bills||[]),ye(xe.promissoryNotes||[]),We(xe.firmProfile||zp),At(xe.barcodeTemplate||Lp),Ln(xe.workshopBarcodeTemplate||Vp)}}catch(re){console.error("Veri gncellenirken hata:",re)}finally{d(!1)}}},Ms=k.useMemo(()=>J.filter(re=>re.type==="CASH"||re.type==="BANK"||re.type==="POS").reduce((re,we)=>re+we.balance,0),[J]),nr=re=>{const we=Math.random().toString(36).substr(2,9);let xe=new Date().toISOString();if(re.date)if(re.date.includes("T"))xe=re.date;else{const Oe=new Date,[Pe,ar,qe]=re.date.split("-");Pe&&ar&&qe&&(Oe.setFullYear(parseInt(Pe,10),parseInt(ar,10)-1,parseInt(qe,10)),xe=Oe.toISOString())}const Ne={...re,id:we,date:xe};return Fe(Oe=>[Ne,...Oe]),re.isCredit||F(Oe=>Oe.map(Pe=>Pe.id===re.vaultId?{...Pe,balance:re.type==="INCOME"?Pe.balance+re.amount:Pe.balance-re.amount}:Pe)),re.contactId&&fe(Oe=>Oe.map(Pe=>{if(Pe.id===re.contactId){if(re.isSale)return re.isCredit?{...Pe,balance:Pe.balance+re.amount}:Pe;if(re.isCredit){const ar=re.type==="INCOME"?re.amount:-re.amount;return{...Pe,balance:Pe.balance+ar}}else{const ar=re.type==="INCOME"?-re.amount:re.amount;return{...Pe,balance:Pe.balance+ar}}}return Pe})),B([]),we},ad=(re,we)=>{const xe=se.find(Oe=>Oe.id===re);if(!xe)return;const Ne=xe.amount+(xe.amount2||0);nr({type:"EXPENSE",amount:Ne,vaultId:we,description:`Fatura demesi: ${xe.institution} - ${xe.name}`,isCredit:!1}),Be(Oe=>Oe.map(Pe=>Pe.id===re?{...Pe,status:"PAID",vaultId:we,paidDate:new Date().toISOString()}:Pe))},Yo=(re,we)=>{const xe=Le.find(Oe=>Oe.id===re);if(!xe)return;const Ne=nr({type:"EXPENSE",amount:xe.amount,vaultId:we,description:`Senet demesi: ${xe.contactName}`,contactId:xe.contactId,isCredit:!1});ye(Oe=>Oe.map(Pe=>Pe.id===re?{...Pe,status:"PAID",vaultId:we,transactionId:Ne,paidDate:new Date().toISOString()}:Pe))},Ds=re=>{const we=Le.find(xe=>xe.id===re);!we||we.status!=="PAID"||!we.transactionId||(Ft(we.transactionId),ye(xe=>xe.map(Ne=>Ne.id===re?{...Ne,status:"PENDING",vaultId:void 0,paidDate:void 0,transactionId:void 0}:Ne)))},Wo=re=>{const we=Le.find(xe=>xe.id===re);we&&(we.status==="PAID"&&Ds(re),ye(xe=>xe.filter(Ne=>Ne.id!==re)))},wn=re=>{ye(we=>we.map(xe=>xe.id===re.id?re:xe))},Ft=re=>{const we=be.find(xe=>xe.id===re);we&&(we.isCredit||F(xe=>xe.map(Ne=>Ne.id===we.vaultId?{...Ne,balance:we.type==="INCOME"?Ne.balance-we.amount:Ne.balance+we.amount}:Ne)),we.contactId&&fe(xe=>xe.map(Ne=>{if(Ne.id===we.contactId){if(we.isSale)return we.isCredit?{...Ne,balance:Ne.balance-we.amount}:Ne;if(we.isCredit){const Oe=we.type==="INCOME"?we.amount:-we.amount;return{...Ne,balance:Ne.balance-Oe}}else{const Oe=we.type==="INCOME"?-we.amount:we.amount;return{...Ne,balance:Ne.balance-Oe}}}return Ne})),Fe(xe=>xe.filter(Ne=>Ne.id!==re)))},an=(re,we)=>{const xe=be.find(Oe=>Oe.id===re);Ft(re);let Ne=we.date||(xe==null?void 0:xe.date);we.date&&xe&&!we.date.includes("T")&&we.date===xe.date.split("T")[0]&&(Ne=xe.date),nr({...we,date:Ne})},Gt=(re,we,xe)=>{const Ne=J.find(Pe=>Pe.id===we),Oe=J.find(Pe=>Pe.id===re);!Ne||!Oe||(nr({type:"EXPENSE",amount:xe,vaultId:re,description:`${Ne.name} Bor demesi`,isCredit:!1}),nr({type:"INCOME",amount:xe,vaultId:we,description:`${Oe.name} zerinden Bor deme`,isCredit:!1}))},cc=re=>{const we={name:re.name,phone:re.phone,phone2:re.phone2,address:re.address,type:re.type,id:"c"+Math.random().toString(36).substr(2,9),balance:0};return fe(xe=>[...xe,we]),re.initialBalance&&Number(re.initialBalance)>0&&nr({type:re.balanceType==="DEBT"?"INCOME":"EXPENSE",amount:Number(re.initialBalance),vaultId:"",description:"Balang / Devir Bakiyesi",contactId:we.id,isCredit:!0,isSale:!1,isStartingBalance:!0}),we},zs=re=>{const we=re.map(xe=>({...xe,id:"m"+Math.random().toString(36).substr(2,9),date:new Date().toISOString().split("T")[0]}));G(xe=>[...we,...xe]),ze("MEASUREMENTS")},Xo=(re,we)=>{G(xe=>xe.map(Ne=>Ne.id===re?{...Ne,...we}:Ne))},Vn=(re,we)=>{Xo(re,{status:we})},Ja=re=>{W(we=>we.find(Ne=>Ne.id===re.id)?we.map(Ne=>Ne.id===re.id?re:Ne):[re,...we]),ze("PRODUCTS")},Kt=[{id:"DASHBOARD",label:"Panel",icon:P8},{id:"QUICK_SALE",label:"Hzl Sat",icon:nI},{id:"PRICE_CHECK",label:"Fiyat Kontrol",icon:CV},{id:"MEASUREMENTS",label:"l Takibi",icon:Mn},{id:"CUSTOMERS",label:"MTERLER",icon:Pl},{id:"SUPPLIERS",label:"TEDARKLER",icon:rI},{id:"PERSONNEL",label:"PERSONELLER",icon:UV},{id:"VAULTS",label:"Kasa",icon:ps},{id:"BILLS",label:"Faturalar",icon:Rf},{id:"PROMISSORY_NOTES",label:"Senet Ynetimi",icon:j1},{id:"PRODUCTS",label:"RNLER",icon:ja},{id:"SMS",label:"Sms Gnder",icon:X4}],kn=re=>{S(re),M(null),ze("CONTACT_DETAIL")},Un=re=>{V(re),ze("PRODUCT_DETAIL")},_n=re=>{I(re),ze("MEASUREMENT_DETAIL")},id=()=>{const xe=window.screen.width;window.open(window.location.origin+window.location.pathname+"?view=customer-display","CustomerDisplay",`width=1200,height=800,left=${xe},top=0,menubar=no,status=no,titlebar=no,toolbar=no`)};if(t&&!Ct)return l.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-950 relative overflow-hidden select-none",children:[l.jsx("style",{children:`
          @keyframes floatUp {
            0% { opacity: 0; transform: translateY(30px); filter: blur(10px); }
            100% { opacity: 1; transform: translateY(0); filter: blur(0); }
          }
          @keyframes spreadLine {
            0% { width: 0; opacity: 0; }
            100% { width: 3rem; opacity: 1; }
          }
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
        `}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[500px] sm:h-[500px] bg-indigo-600/20 rounded-full blur-[80px] sm:blur-[120px] animate-pulse"}),l.jsxs("div",{className:"z-10 flex flex-col items-center gap-12",children:[l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("h1",{className:"text-7xl sm:text-8xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-br from-indigo-300 via-white to-indigo-400 tracking-tighter italic drop-shadow-2xl",style:{animation:"floatUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards"},children:"EMR"}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mt-2 sm:mt-4",children:[l.jsx("div",{className:"h-[2px] bg-indigo-500/60 rounded-full",style:{animation:"spreadLine 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) 0.5s forwards",width:0,opacity:0}}),l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black text-indigo-50 uppercase tracking-[0.3em] whitespace-nowrap drop-shadow-lg",style:{animation:"fadeIn 0.8s ease-out 0.6s forwards",opacity:0},children:"Perde & eyiz"}),l.jsx("div",{className:"h-[2px] bg-indigo-500/60 rounded-full",style:{animation:"spreadLine 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) 0.5s forwards",width:0,opacity:0}})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4",style:{animation:"fadeIn 1s ease-out 1s forwards",opacity:0},children:[l.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-[3px] border-slate-800 shadow-inner"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-[3px] border-indigo-500 border-t-transparent animate-spin shadow-[0_0_15px_rgba(99,102,241,0.5)]"}),l.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-indigo-400 rounded-full animate-pulse shadow-[0_0_10px_rgba(129,140,248,0.8)]"})]}),l.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-indigo-300/50 uppercase tracking-[0.3em] animate-pulse",children:"Sistem Ykleniyor"})]})]})]});if(!r&&!Ct)return l.jsx(voe,{onLogin:Br});if(a)return l.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"}),l.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Veriler Ykleniyor..."})]})});if(Ct)return l.jsx(kne,{cart:L,discount:H,onBack:()=>window.close(),isExternal:!0});const uc=()=>{switch(w){case"DASHBOARD":return l.jsx(d1,{transactions:be,vaults:J,measurements:ue,contacts:Z,promissoryNotes:Le,onSeeAllPerformance:()=>ze("PERFORMANCE_DETAILS")});case"PERFORMANCE_DETAILS":return l.jsx(Aoe,{transactions:be,contacts:Z,onBack:()=>ze("DASHBOARD")});case"MEASUREMENTS":return l.jsx(m5,{measurements:ue,setMeasurements:G,onGoToForm:()=>{I(null),ze("MEASUREMENT_FORM")},onSelectMeasurement:_n});case"MEASUREMENT_FORM":const re=T?ue.find(qe=>qe.id===T):void 0;return l.jsx(gne,{initialData:re,contacts:Z,onAddContact:cc,onSave:qe=>{T?(Xo(T,qe[0]),ze("MEASUREMENTS")):zs(qe)},onCancel:()=>ze(re?"MEASUREMENT_DETAIL":"MEASUREMENTS")});case"MEASUREMENT_DETAIL":const we=ue.find(qe=>qe.id===T);return we?l.jsx(bne,{measurement:we,onBack:()=>ze("MEASUREMENTS"),onUpdateStatus:qe=>Vn(we.id,qe),onEdit:()=>ze("MEASUREMENT_FORM"),onDelete:()=>{we.status==="DELETED"?G(qe=>qe.filter(sn=>sn.id!==we.id)):Vn(we.id,"DELETED"),ze("MEASUREMENTS")},onCustomerClick:qe=>{S(qe),M("MEASUREMENT_DETAIL"),ze("CONTACT_DETAIL")},workshopBarcodeTemplate:jr,firmProfile:ft}):l.jsx(m5,{measurements:ue,setMeasurements:G,onGoToForm:()=>ze("MEASUREMENT_FORM"),onSelectMeasurement:_n});case"QUICK_SALE":return l.jsx(Wre,{products:z,setProducts:W,vaults:J,contacts:Z,onSale:nr,cart:L,setCart:B,discount:H,setDiscount:X,onOpenDisplay:id,groups:_e,firmProfile:ft});case"CUSTOMERS":return l.jsx(f1,{initialType:"CUSTOMER",contacts:Z,setContacts:fe,onPayment:nr,vaults:J,onSelectContact:kn});case"SUPPLIERS":return l.jsx(f1,{initialType:"SUPPLIER",contacts:Z,setContacts:fe,onPayment:nr,vaults:J,onSelectContact:kn});case"PERSONNEL":return l.jsx(f1,{initialType:"PERSONNEL",contacts:Z,setContacts:fe,onPayment:nr,vaults:J,onSelectContact:kn});case"VAULTS":return l.jsx(Jre,{vaults:J,setVaults:F,transactions:be,onDeleteTransaction:Ft,onUpdateTransaction:an,contacts:Z,onPayDebt:Gt,onSeeAllTransactions:()=>ze("ALL_TRANSACTIONS"),onAddNewTransaction:()=>ze("NEW_TRANSACTION")});case"ALL_TRANSACTIONS":return l.jsx(ane,{transactions:be,vaults:J,onBack:()=>ze("VAULTS"),onDeleteTransaction:Ft,onUpdateTransaction:an,contacts:Z});case"NEW_TRANSACTION":return l.jsx(sne,{vaults:J,contacts:Z,onBack:()=>ze("VAULTS"),onSave:qe=>{nr(qe),ze("VAULTS")}});case"BILLS":return l.jsx(cne,{bills:se,setBills:Be,onPay:ad,vaults:J});case"PROMISSORY_NOTES":return l.jsx(fne,{notes:Le,setNotes:ye,vaults:J,contacts:Z,onPay:Yo,onUnpay:Ds,onDelete:Wo,onUpdate:wn});case"PRODUCTS":return l.jsx(y5,{products:z,setProducts:W,onSelectProduct:Un,onAddProduct:()=>{V(null),ze("PRODUCT_FORM")},groups:_e,setProductGroups:le});case"PRODUCT_DETAIL":const xe=z.find(qe=>qe.id===$);return xe?l.jsx(vne,{product:xe,onBack:()=>ze("PRODUCTS"),onEdit:()=>ze("PRODUCT_FORM"),onDelete:()=>{W(qe=>qe.filter(sn=>sn.id!==xe.id)),ze("PRODUCTS")},onUpdate:Ja,groups:_e,barcodeTemplate:It,firmProfile:ft,transactions:be}):l.jsx(y5,{products:z,setProducts:W,onSelectProduct:Un,onAddProduct:()=>{V(null),ze("PRODUCT_FORM")},groups:_e,setProductGroups:le});case"PRODUCT_FORM":const Ne=z.find(qe=>qe.id===$);return l.jsx(wne,{product:Ne,onSave:Ja,onCancel:()=>ze(Ne?"PRODUCT_DETAIL":"PRODUCTS"),groups:_e,units:pe,setUnits:Ee});case"CONTACT_DETAIL":const Oe=Z.find(qe=>qe.id===C),Pe=(Oe==null?void 0:Oe.type)==="CUSTOMER"?"CUSTOMERS":(Oe==null?void 0:Oe.type)==="SUPPLIER"?"SUPPLIERS":"PERSONNEL",ar=P||Pe;return Oe?l.jsx(mne,{contact:Oe,transactions:be.filter(qe=>qe.contactId===Oe.id),vaults:J,promissoryNotes:Le.filter(qe=>qe.contactId===Oe.id),onBack:()=>{ze(ar),M(null)},onPayment:nr,onDeleteTransaction:Ft,onUpdateTransaction:an,onPayPromissoryNote:Yo,onUnpayPromissoryNote:Ds,onDeletePromissoryNote:Wo,onUpdatePromissoryNote:wn,firmProfile:ft}):l.jsx(d1,{transactions:be,vaults:J,measurements:ue,contacts:Z,promissoryNotes:Le,onSeeAllPerformance:()=>ze("PERFORMANCE_DETAILS")});case"PRICE_CHECK":return l.jsx(_ne,{products:z,groups:_e});case"FIRM_PROFILE":return l.jsx(woe,{firmData:ft,onUpdate:We,onLogout:Li});case"SETTINGS":return l.jsx(koe,{onNavigate:qe=>ze(qe)});case"BARCODE_SETTINGS":return l.jsx(_oe,{template:It,onSave:qe=>{At(qe),ze("SETTINGS")},onCancel:()=>ze("SETTINGS")});case"WORKSHOP_BARCODE_SETTINGS":return l.jsx(Eoe,{template:jr,onSave:qe=>{Ln(qe),ze("SETTINGS")},onCancel:()=>ze("SETTINGS")});case"PRODUCT_SETTINGS":return l.jsx(Soe,{products:z,setProducts:W,groups:_e,setGroups:le,units:pe,setUnits:Ee,barcodeTemplate:It,firmProfile:ft,onBack:()=>ze("SETTINGS")});case"VAULT_SETTINGS":return l.jsx(Noe,{vaults:J,setVaults:F,onBack:()=>ze("SETTINGS")});case"SMS":return l.jsx(Toe,{contacts:Z});default:return l.jsx(d1,{transactions:be,vaults:J,measurements:ue,contacts:Z,promissoryNotes:Le,onSeeAllPerformance:()=>ze("PERFORMANCE_DETAILS")})}};return l.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors flex overflow-hidden",children:[E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>N(!1)}),l.jsxs("aside",{className:`
        fixed top-0 left-0 bottom-0 w-64 xl:w-72 bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-slate-700 z-50 transform transition-transform duration-200 lg:translate-x-0 flex flex-col h-full
        ${E?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"pt-4 px-6 pb-4",children:[l.jsx("div",{className:"flex items-center justify-between lg:hidden mb-2",children:l.jsx("button",{className:"p-1.5 text-gray-400",onClick:()=>N(!1),children:l.jsx(Er,{size:24})})}),l.jsxs("div",{onClick:()=>{ze("FIRM_PROFILE"),N(!1)},className:"cursor-pointer group hover:bg-indigo-50 dark:hover:bg-slate-700/30 p-3 rounded-[1.5rem] transition-all border border-transparent hover:border-indigo-100 dark:hover:border-slate-700",children:[l.jsx("h1",{className:"font-black text-[9px] leading-none uppercase tracking-[0.3em] text-slate-400 mb-1.5 group-hover:text-indigo-400 transition-colors",children:"Maaza Bilgileri"}),l.jsxs("h2",{className:"font-black text-base leading-tight uppercase tracking-tighter italic text-indigo-600 dark:text-indigo-400 flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:ft.name}),l.jsx(In,{size:14,className:"shrink-0 opacity-0 group-hover:opacity-100 transition-all translate-x-[-4px] group-hover:translate-x-0"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1 opacity-60",children:[l.jsx("div",{className:"h-0.5 w-3 bg-indigo-500 rounded-full"}),l.jsx("p",{className:"text-[9px] font-bold uppercase tracking-[0.2em]",children:"Ynetim Paneli"})]})]})]}),l.jsxs("nav",{className:"flex-1 px-4 space-y-0.5 overflow-y-auto hide-scrollbar",children:[l.jsx("div",{className:"mb-2 px-4",children:l.jsx("p",{className:"text-[9px] font-black text-gray-300 dark:text-slate-600 uppercase tracking-[0.2em]",children:"Ana Men"})}),Kt.map(re=>l.jsxs("button",{onClick:()=>{ze(re.id),N(!1)},className:`
                w-full flex items-center justify-between px-4 py-2.5 rounded-xl transition-all
                ${w===re.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-gray-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700/50 hover:text-indigo-600"}
              `,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(re.icon,{size:18,className:w===re.id?"opacity-100":"opacity-60"}),l.jsx("span",{className:`text-[11px] ${w===re.id?"font-black":"font-bold"}`,children:re.label})]}),w===re.id&&l.jsx(In,{size:12,className:"opacity-60"})]},re.id)),l.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-50 dark:border-slate-700 flex items-center justify-center gap-2 px-4 pb-2",children:[l.jsx("button",{onClick:()=>{ze("SETTINGS"),N(!1)},className:`p-3 rounded-xl transition-all group flex-1 flex items-center justify-center ${w==="SETTINGS"||w==="BARCODE_SETTINGS"||w==="WORKSHOP_BARCODE_SETTINGS"||w==="PRODUCT_SETTINGS"||w==="VAULT_SETTINGS"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"}`,title:"Ayarlar",children:l.jsx(tI,{size:20,className:w==="SETTINGS"||w==="BARCODE_SETTINGS"||w==="WORKSHOP_BARCODE_SETTINGS"||w==="PRODUCT_SETTINGS"||w==="VAULT_SETTINGS"?"opacity-100":"opacity-80"})}),l.jsxs("button",{onClick:()=>{U(!0),N(!1)},className:"relative p-3 rounded-xl transition-all group flex-1 flex items-center justify-center bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-rose-50 dark:hover:bg-slate-700",title:"Bildirimler",children:[l.jsx(dj,{size:20,className:Lt.length>0?"text-rose-500 animate-bounce":"opacity-80"}),Lt.length>0&&l.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-rose-500 rounded-full border-2 border-white dark:border-slate-800"})]}),l.jsx("button",{onClick:nd,className:"p-3 rounded-xl transition-all group flex-1 flex items-center justify-center bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700",title:"Grnm",children:g?l.jsx(jV,{size:20,className:"text-amber-500"}):l.jsx(J8,{size:20,className:"text-indigo-600"})})]})]}),l.jsx("div",{className:"p-4 text-center",children:l.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-slate-600 uppercase tracking-widest",children:"GOSTASOFTWARE"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-h-screen overflow-hidden lg:ml-64 xl:ml-72",children:[l.jsx("header",{className:"shrink-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-b border-gray-200 dark:border-slate-700 px-4 sm:px-6 py-3.5",children:l.jsxs("div",{className:"flex items-center justify-between max-w-[1600px] mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{className:"lg:hidden p-2 text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-xl transition-colors",onClick:()=>N(!0),children:l.jsx(H8,{size:22})}),l.jsx("h2",{className:"text-base sm:text-lg font-black tracking-tight uppercase italic text-slate-800 dark:text-slate-100",children:w==="CONTACT_DETAIL"?"Hesap Detaylar":w==="MEASUREMENT_FORM"?T?"l Dzenle":"Yeni l Formu":w==="MEASUREMENT_DETAIL"?"l Detay":w==="PRODUCT_DETAIL"?"rn Detay":w==="PRODUCT_FORM"?"rn Dzenle":w==="ALL_TRANSACTIONS"?"Tm lemler":w==="NEW_TRANSACTION"?"Yeni lem":w==="BILLS"?"Faturalar":w==="PROMISSORY_NOTES"?"Senet Ynetimi":w==="PRICE_CHECK"?"Fiyat Kontrol":w==="FIRM_PROFILE"?"Firma Profili":w==="SETTINGS"?"Ayarlar":w==="BARCODE_SETTINGS"?"Barkod Ayarlar":w==="WORKSHOP_BARCODE_SETTINGS"?"Atlye Fii (Tasarml)":w==="PRODUCT_SETTINGS"?"rn Ayarlar":w==="VAULT_SETTINGS"?"Kasa Ayarlar":w==="SMS"?"Sms Gnder":w==="PERFORMANCE_DETAILS"?"Performans Detaylar":(Bn=Kt.find(re=>re.id===w))==null?void 0:Bn.label})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[l.jsx("button",{onClick:re=>{re.stopPropagation(),Ko()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full flex items-center justify-center shadow-sm",title:"Tam Ekran",children:f?l.jsx(gj,{size:20}):l.jsx(r0,{size:20})}),l.jsx("button",{onClick:re=>{re.stopPropagation(),Rs()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full flex items-center justify-center shadow-sm",title:"Buluttan Verileri Yenile",children:l.jsx(Mf,{size:20,className:c?"animate-spin":""})}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:l.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-wider transition-colors",children:"Kasa Mevcudu (Net)"})}),l.jsxs("div",{onClick:()=>ze("VAULTS"),className:"flex items-center gap-2 px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 rounded-full border border-indigo-100 dark:border-indigo-900/40 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all active:scale-95 group/balance",children:[l.jsx(ps,{size:14,className:"text-indigo-600 dark:text-indigo-400 group-hover/balance:scale-110 transition-transform"}),l.jsxs("span",{className:"text-sm font-black text-indigo-700 dark:text-indigo-300",children:[Ms.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"sm:hidden flex items-center gap-3",children:[l.jsx("button",{onClick:re=>{re.stopPropagation(),Ko()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full shadow-sm",title:"Tam Ekran",children:f?l.jsx(gj,{size:20}):l.jsx(r0,{size:20})}),l.jsx("button",{onClick:re=>{re.stopPropagation(),Rs()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full shadow-sm",title:"Buluttan Verileri Yenile",children:l.jsx(Mf,{size:20,className:c?"animate-spin":""})}),l.jsx("div",{onClick:()=>ze("VAULTS"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 rounded-full border border-indigo-100 dark:border-indigo-900/40 cursor-pointer active:scale-95 transition-all",children:l.jsxs("span",{className:"text-xs font-black text-indigo-700 dark:text-indigo-300",children:[Ms.toLocaleString("tr-TR")," "]})})]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 custom-scrollbar",children:l.jsx("div",{className:"max-w-[1600px] mx-auto",children:uc()})})]}),R&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200 flex flex-col max-h-[80vh]",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("h3",{className:"text-xl font-black text-indigo-600 italic flex items-center gap-2",children:[l.jsx(dj,{size:20,className:"text-rose-500"})," Yaklaan demeler"]}),l.jsx("button",{onClick:()=>U(!1),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Er,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:Lt.length===0?l.jsxs("div",{className:"text-center text-gray-400 py-10 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(Vl,{size:48}),l.jsx("p",{className:"font-bold text-sm",children:"Yaklaan deme bulunmuyor."})]}):l.jsx("div",{className:"space-y-4",children:Lt.map(re=>l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-4 rounded-2xl border border-gray-100 dark:border-slate-800 flex flex-col gap-2 relative overflow-hidden shadow-sm",children:[re.days===0&&l.jsx("div",{className:"absolute top-0 right-0 bg-rose-500 text-white text-[8px] font-black px-2 py-0.5 rounded-bl-lg",children:"BUGN"}),re.days<0&&l.jsx("div",{className:"absolute top-0 right-0 bg-rose-600 text-white text-[8px] font-black px-2 py-0.5 rounded-bl-lg",children:"GECKM"}),l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${re.type==="BILL"?"bg-amber-100 dark:bg-amber-900/20 text-amber-600":"bg-indigo-100 dark:bg-indigo-900/20 text-indigo-600"}`,children:re.type==="BILL"?l.jsx(Rf,{size:20}):l.jsx(j1,{size:20})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate pr-6",children:re.title}),l.jsxs("p",{className:`text-[10px] font-black uppercase mt-0.5 ${re.days<=2?"text-rose-500":"text-gray-400"}`,children:[new Date(re.date).toLocaleDateString("tr-TR"),"  ",re.days===0?"Son Gn":re.days<0?`${Math.abs(re.days)} Gn Gecikti`:`${re.days} gn kald`]})]})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-2 border-t border-gray-200 dark:border-slate-700 pt-2",children:[l.jsx("button",{onClick:()=>{U(!1),ze(re.type==="BILL"?"BILLS":"PROMISSORY_NOTES")},className:"text-[10px] font-black text-indigo-600 uppercase hover:underline",children:"Detaya Git"}),l.jsxs("p",{className:"text-lg font-black text-rose-500",children:[re.amount.toLocaleString("tr-TR")," "]})]})]},`${re.type}-${re.id}`))})})]})})]})}const Rz=document.getElementById("root");if(!Rz)throw new Error("Root element not found");const lde=EL.createRoot(Rz);lde.render(l.jsx(Qw.StrictMode,{children:l.jsx(ode,{})}));
