var x9=Object.defineProperty;var y9=(t,e,r)=>e in t?x9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Nb=(t,e,r)=>y9(t,typeof e!="symbol"?e+"":e,r);function b9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eb={exports:{}},nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj;function v9(){if(aj)return nf;aj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:s}}return nf.Fragment=e,nf.jsx=r,nf.jsxs=r,nf}var ij;function w9(){return ij||(ij=1,Eb.exports=v9()),Eb.exports}var l=w9(),Sb={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function k9(){if(sj)return Ke;sj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function R(L,F,oe){this.props=L,this.context=F,this.refs=S,this.updater=oe||_}R.prototype.isReactComponent={},R.prototype.setState=function(L,F){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,F,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=R.prototype;function C(L,F,oe){this.props=L,this.context=F,this.refs=S,this.updater=oe||_}var M=C.prototype=new N;M.constructor=C,E(M,R.prototype),M.isPureReactComponent=!0;var U=Array.isArray;function H(){}var A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(L,F,oe){var K=oe.ref;return{$$typeof:t,type:L,key:F,ref:K!==void 0?K:null,props:oe}}function $(L,F){return P(L.type,F,L.props)}function z(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function D(L){var F={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return F[oe]})}var B=/\/+/g;function W(L,F){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):F.toString(36)}function te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(H,H):(L.status="pending",L.then(function(F){L.status==="pending"&&(L.status="fulfilled",L.value=F)},function(F){L.status==="pending"&&(L.status="rejected",L.reason=F)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function G(L,F,oe,K,ge){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var fe=!1;if(L===null)fe=!0;else switch(Ne){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(L.$$typeof){case t:case e:fe=!0;break;case p:return fe=L._init,G(fe(L._payload),F,oe,K,ge)}}if(fe)return ge=ge(L),fe=K===""?"."+W(L,0):K,U(ge)?(oe="",fe!=null&&(oe=fe.replace(B,"$&/")+"/"),G(ge,F,oe,"",function(Be){return Be})):ge!=null&&(z(ge)&&(ge=$(ge,oe+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(B,"$&/")+"/")+fe)),F.push(ge)),1;fe=0;var $e=K===""?".":K+":";if(U(L))for(var le=0;le<L.length;le++)K=L[le],Ne=$e+W(K,le),fe+=G(K,F,oe,Ne,ge);else if(le=w(L),typeof le=="function")for(L=le.call(L),le=0;!(K=L.next()).done;)K=K.value,Ne=$e+W(K,le++),fe+=G(K,F,oe,Ne,ge);else if(Ne==="object"){if(typeof L.then=="function")return G(te(L),F,oe,K,ge);throw F=String(L),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Q(L,F,oe){if(L==null)return L;var K=[],ge=0;return G(L,K,"","",function(Ne){return F.call(oe,Ne,ge++)}),K}function me(L){if(L._status===-1){var F=L._result;F=F(),F.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=F)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ee={map:Q,forEach:function(L,F,oe){Q(L,function(){F.apply(this,arguments)},oe)},count:function(L){var F=0;return Q(L,function(){F++}),F},toArray:function(L){return Q(L,function(F){return F})||[]},only:function(L){if(!z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ke.Activity=g,Ke.Children=ee,Ke.Component=R,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=C,Ke.StrictMode=n,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return A.H.useMemoCache(L)}},Ke.cache=function(L){return function(){return L.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(L,F,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var K=E({},L.props),ge=L.key;if(F!=null)for(Ne in F.key!==void 0&&(ge=""+F.key),F)!I.call(F,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&F.ref===void 0||(K[Ne]=F[Ne]);var Ne=arguments.length-2;if(Ne===1)K.children=oe;else if(1<Ne){for(var fe=Array(Ne),$e=0;$e<Ne;$e++)fe[$e]=arguments[$e+2];K.children=fe}return P(L.type,ge,K)},Ke.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Ke.createElement=function(L,F,oe){var K,ge={},Ne=null;if(F!=null)for(K in F.key!==void 0&&(Ne=""+F.key),F)I.call(F,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ge[K]=F[K]);var fe=arguments.length-2;if(fe===1)ge.children=oe;else if(1<fe){for(var $e=Array(fe),le=0;le<fe;le++)$e[le]=arguments[le+2];ge.children=$e}if(L&&L.defaultProps)for(K in fe=L.defaultProps,fe)ge[K]===void 0&&(ge[K]=fe[K]);return P(L,Ne,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(L){return{$$typeof:d,render:L}},Ke.isValidElement=z,Ke.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:me}},Ke.memo=function(L,F){return{$$typeof:m,type:L,compare:F===void 0?null:F}},Ke.startTransition=function(L){var F=A.T,oe={};A.T=oe;try{var K=L(),ge=A.S;ge!==null&&ge(oe,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(H,de)}catch(Ne){de(Ne)}finally{F!==null&&oe.types!==null&&(F.types=oe.types),A.T=F}},Ke.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ke.use=function(L){return A.H.use(L)},Ke.useActionState=function(L,F,oe){return A.H.useActionState(L,F,oe)},Ke.useCallback=function(L,F){return A.H.useCallback(L,F)},Ke.useContext=function(L){return A.H.useContext(L)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(L,F){return A.H.useDeferredValue(L,F)},Ke.useEffect=function(L,F){return A.H.useEffect(L,F)},Ke.useEffectEvent=function(L){return A.H.useEffectEvent(L)},Ke.useId=function(){return A.H.useId()},Ke.useImperativeHandle=function(L,F,oe){return A.H.useImperativeHandle(L,F,oe)},Ke.useInsertionEffect=function(L,F){return A.H.useInsertionEffect(L,F)},Ke.useLayoutEffect=function(L,F){return A.H.useLayoutEffect(L,F)},Ke.useMemo=function(L,F){return A.H.useMemo(L,F)},Ke.useOptimistic=function(L,F){return A.H.useOptimistic(L,F)},Ke.useReducer=function(L,F,oe){return A.H.useReducer(L,F,oe)},Ke.useRef=function(L){return A.H.useRef(L)},Ke.useState=function(L){return A.H.useState(L)},Ke.useSyncExternalStore=function(L,F,oe){return A.H.useSyncExternalStore(L,F,oe)},Ke.useTransition=function(){return A.H.useTransition()},Ke.version="19.2.4",Ke}var oj;function Du(){return oj||(oj=1,Sb.exports=k9()),Sb.exports}var k=Du();const t2=Li(k),_9=b9({__proto__:null,default:t2},[k]);var jb={exports:{}},af={},Tb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj;function N9(){return lj||(lj=1,(function(t){function e(G,Q){var me=G.length;G.push(Q);e:for(;0<me;){var de=me-1>>>1,ee=G[de];if(0<a(ee,Q))G[de]=Q,G[me]=ee,me=de;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Q=G[0],me=G.pop();if(me!==Q){G[0]=me;e:for(var de=0,ee=G.length,L=ee>>>1;de<L;){var F=2*(de+1)-1,oe=G[F],K=F+1,ge=G[K];if(0>a(oe,me))K<ee&&0>a(ge,oe)?(G[de]=ge,G[K]=me,de=K):(G[de]=oe,G[F]=me,de=F);else if(K<ee&&0>a(ge,me))G[de]=ge,G[K]=me,de=K;else break e}}return Q}function a(G,Q){var me=G.sortIndex-Q.sortIndex;return me!==0?me:G.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],p=1,g=null,b=3,w=!1,_=!1,E=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var Q=r(m);Q!==null;){if(Q.callback===null)n(m);else if(Q.startTime<=G)n(m),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=r(m)}}function U(G){if(E=!1,M(G),!_)if(r(f)!==null)_=!0,H||(H=!0,D());else{var Q=r(m);Q!==null&&te(U,Q.startTime-G)}}var H=!1,A=-1,I=5,P=-1;function $(){return S?!0:!(t.unstable_now()-P<I)}function z(){if(S=!1,H){var G=t.unstable_now();P=G;var Q=!0;try{e:{_=!1,E&&(E=!1,N(A),A=-1),w=!0;var me=b;try{t:{for(M(G),g=r(f);g!==null&&!(g.expirationTime>G&&$());){var de=g.callback;if(typeof de=="function"){g.callback=null,b=g.priorityLevel;var ee=de(g.expirationTime<=G);if(G=t.unstable_now(),typeof ee=="function"){g.callback=ee,M(G),Q=!0;break t}g===r(f)&&n(f),M(G)}else n(f);g=r(f)}if(g!==null)Q=!0;else{var L=r(m);L!==null&&te(U,L.startTime-G),Q=!1}}break e}finally{g=null,b=me,w=!1}Q=void 0}}finally{Q?D():H=!1}}}var D;if(typeof C=="function")D=function(){C(z)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=z,D=function(){W.postMessage(null)}}else D=function(){R(z,0)};function te(G,Q){A=R(function(){G(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var me=b;b=Q;try{return G()}finally{b=me}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=b;b=G;try{return Q()}finally{b=me}},t.unstable_scheduleCallback=function(G,Q,me){var de=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?de+me:de):me=de,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=me+ee,G={id:p++,callback:Q,priorityLevel:G,startTime:me,expirationTime:ee,sortIndex:-1},me>de?(G.sortIndex=me,e(m,G),r(f)===null&&G===r(m)&&(E?(N(A),A=-1):E=!0,te(U,me-de))):(G.sortIndex=ee,e(f,G),_||w||(_=!0,H||(H=!0,D()))),G},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(G){var Q=b;return function(){var me=b;b=Q;try{return G.apply(this,arguments)}finally{b=me}}}})(Ab)),Ab}var cj;function E9(){return cj||(cj=1,Tb.exports=N9()),Tb.exports}var Cb={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj;function S9(){if(uj)return ln;uj=1;var t=Du();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ln.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(f,m,null,p)},ln.flushSync=function(f){var m=c.T,p=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=p,n.d.f()}},ln.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},ln.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},ln.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ln.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},ln.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ln.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=d(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},ln.requestFormReset=function(f){n.d.r(f)},ln.unstable_batchedUpdates=function(f,m){return f(m)},ln.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var dj;function J4(){if(dj)return Cb.exports;dj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cb.exports=S9(),Cb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj;function j9(){if(fj)return af;fj=1;var t=E9(),e=Du(),r=J4();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return f(y),i;if(v===h)return f(y),o;v=v.sibling}throw Error(n(188))}if(u.return!==h.return)u=y,h=v;else{for(var T=!1,V=y.child;V;){if(V===u){T=!0,u=y,h=v;break}if(V===h){T=!0,h=y,u=v;break}V=V.sibling}if(!T){for(V=v.child;V;){if(V===u){T=!0,u=v,h=y;break}if(V===h){T=!0,h=v,u=y;break}V=V.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case H:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case C:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var te=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},de=[],ee=-1;function L(i){return{current:i}}function F(i){0>ee||(i.current=de[ee],de[ee]=null,ee--)}function oe(i,o){ee++,de[ee]=i.current,i.current=o}var K=L(null),ge=L(null),Ne=L(null),fe=L(null);function $e(i,o){switch(oe(Ne,o),oe(ge,i),oe(K,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?jS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=jS(o),i=TS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(K),oe(K,i)}function le(){F(K),F(ge),F(Ne)}function Be(i){i.memoizedState!==null&&oe(fe,i);var o=K.current,u=TS(o,i.type);o!==u&&(oe(ge,i),oe(K,u))}function Le(i){ge.current===i&&(F(K),F(ge)),fe.current===i&&(F(fe),Jd._currentValue=me)}var be,ft;function We(i){if(be===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);be=o&&o[1]||"",ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+ft}var Pt=!1;function Ot(i,o){if(!i||Pt)return"";Pt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ue){var se=ue}Reflect.construct(i,[],xe)}else{try{xe.call()}catch(ue){se=ue}i.call(xe.prototype)}}else{try{throw Error()}catch(ue){se=ue}(xe=i())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),T=v[0],V=v[1];if(T&&V){var Y=T.split(`
`),ae=V.split(`
`);for(y=h=0;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(h===Y.length||y===ae.length)for(h=Y.length-1,y=ae.length-1;1<=h&&0<=y&&Y[h]!==ae[y];)y--;for(;1<=h&&0<=y;h--,y--)if(Y[h]!==ae[y]){if(h!==1||y!==1)do if(h--,y--,0>y||Y[h]!==ae[y]){var he=`
`+Y[h].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=h&&0<=y);break}}}finally{Pt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?We(u):""}function Ar(i,o){switch(i.tag){case 26:case 27:case 5:return We(i.type);case 16:return We("Lazy");case 13:return i.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Ot(i.type,!1);case 11:return Ot(i.type.render,!1);case 1:return Ot(i.type,!0);case 31:return We("Activity");default:return""}}function Vn(i){try{var o="",u=null;do o+=Ar(i,u),u=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var It=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,nd=t.unstable_shouldYield,Ko=t.unstable_requestPaint,Hr=t.unstable_now,Ui=t.unstable_getCurrentPriorityLevel,Rs=t.unstable_ImmediatePriority,Ps=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,ad=t.unstable_LowPriority,Yo=t.unstable_IdlePriority,Ms=t.log,Wo=t.unstable_setDisableYieldValue,kn=null,Yt=null;function sn(i){if(typeof Ms=="function"&&Wo(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(kn,i)}catch{}}var Wt=Math.clz32?Math.clz32:zs,cc=Math.log,Ds=Math.LN2;function zs(i){return i>>>=0,i===0?32:31-(cc(i)/Ds|0)|0}var Un=256,ti=262144,Xt=4194304;function _n(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bn(i,o,u){var h=i.pendingLanes;if(h===0)return 0;var y=0,v=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var V=h&134217727;return V!==0?(h=V&~v,h!==0?y=_n(h):(T&=V,T!==0?y=_n(T):u||(u=V&~i,u!==0&&(y=_n(u))))):(V=h&~v,V!==0?y=_n(V):T!==0?y=_n(T):u||(u=h&~i,u!==0&&(y=_n(u)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:y}function Nn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function id(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var i=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),i}function $n(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ne(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ke(i,o,u,h,y,v){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var V=i.entanglements,Y=i.expirationTimes,ae=i.hiddenUpdates;for(u=T&~u;0<u;){var he=31-Wt(u),xe=1<<he;V[he]=0,Y[he]=-1;var se=ae[he];if(se!==null)for(ae[he]=null,he=0;he<se.length;he++){var ue=se[he];ue!==null&&(ue.lane&=-536870913)}u&=~xe}h!==0&&ve(i,h,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(T&~o))}function ve(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Wt(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Ee(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Wt(u),y=1<<h;y&o|i[h]&o&&(i[h]|=o),u&=~y}}function Ie(i,o){var u=o&-o;return u=(u&42)!==0?1:Oe(u),(u&(i.suspendedLanes|o))!==0?0:u}function Oe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function tr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fe(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:QS(i.type))}function pt(i,o){var u=Q.p;try{return Q.p=i,o()}finally{Q.p=u}}var on=Math.random().toString(36).slice(2),kt="__reactFiber$"+on,Cr="__reactProps$"+on,ri="__reactContainer$"+on,dc="__reactEvents$"+on,Cx="__reactListeners$"+on,Vh="__reactHandles$"+on,Uh="__reactResources$"+on,ni="__reactMarker$"+on;function fc(i){delete i[kt],delete i[Cr],delete i[dc],delete i[Cx],delete i[Vh]}function ai(i){var o=i[kt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ri]||u[kt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=MS(i);i!==null;){if(u=i[kt])return u;i=MS(i)}return o}i=u,u=i.parentNode}return null}function la(i){if(i=i[kt]||i[ri]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Hn(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ii(i){var o=i[Uh];return o||(o=i[Uh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function fr(i){i[ni]=!0}var sd=new Set,od={};function si(i,o){oi(i,o),oi(i+"Capture",o)}function oi(i,o){for(od[i]=o,i=0;i<o.length;i++)sd.add(o[i])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},ud={};function Bh(i){return It.call(ud,i)?!0:It.call(cd,i)?!1:ld.test(i)?ud[i]=!0:(cd[i]=!0,!1)}function hc(i,o,u){if(Bh(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function qn(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function hr(i,o,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+h)}}function Or(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dd(i,o,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){u=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yt(i){if(!i._valueTracker){var o=Ls(i)?"checked":"value";i._valueTracker=dd(i,o,""+i[o])}}function Xo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=Ls(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qo=/[\n"\\]/g;function En(i){return i.replace(Qo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mc(i,o,u,h,y,v,T,V){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),o!=null?T==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Or(o)):i.value!==""+Or(o)&&(i.value=""+Or(o)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),o!=null?fd(i,T,Or(o)):u!=null?fd(i,T,Or(u)):h!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+Or(V):i.removeAttribute("name")}function $h(i,o,u,h,y,v,T,V){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){yt(i);return}u=u!=null?""+Or(u):"",o=o!=null?""+Or(o):u,V||o===i.value||(i.value=o),i.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=V?i.checked:!!h,i.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),yt(i)}function fd(i,o,u){o==="number"&&li(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Vs(i,o,u,h){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Or(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function Hh(i,o,u){if(o!=null&&(o=""+Or(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Or(u):""}function Us(i,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(n(92));if(te(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Or(o),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),yt(i)}function Sn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(i,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,u):typeof u!="number"||u===0||qh.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function md(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&hd(i,y,h)}else for(var v in o)o.hasOwnProperty(v)&&hd(i,v,o[v])}function pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ra(){}var pd=null;function ca(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,ci=null;function Zo(i){var o=la(i);if(o&&(i=o.stateNode)){var u=i[Cr]||null;e:switch(i=o.stateNode,o.type){case"input":if(mc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+En(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var y=h[Cr]||null;if(!y)throw Error(n(90));mc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===i.form&&Xo(h)}break e;case"textarea":Hh(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Vs(i,!!u.multiple,o,!1)}}}var xc=!1;function Hs(i,o,u){if(xc)return i(o,u);xc=!0;try{var h=i(o);return h}finally{if(xc=!1,($s!==null||ci!==null)&&(Lm(),$s&&(o=$s,i=ci,ci=$s=null,Zo(o),i)))for(o=0;o<i.length;o++)Zo(i[o])}}function Pa(i,o){var u=i.stateNode;if(u===null)return null;var h=u[Cr]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(ua)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Jo=!1}var ui=null,gd=null,el=null;function xd(){if(el)return el;var i,o=gd,u=o.length,h,y="value"in ui?ui.value:ui.textContent,v=y.length;for(i=0;i<u&&o[i]===y[i];i++);var T=u-i;for(h=1;h<=T&&o[u-h]===y[v-h];h++);return el=y.slice(i,1<h?1-h:void 0)}function tl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Bi(){return!0}function Ma(){return!1}function qr(i){function o(u,h,y,v,T){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bi:Ma,this.isPropagationStopped=Ma,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),o}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=qr($i),qs=g({},$i,{view:0,detail:0}),yd=qr(qs),Fs,yc,fi,bc=g({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(Fs=i.screenX-fi.screenX,yc=i.screenY-fi.screenY):yc=Fs=0,fi=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:yc}}),bd=qr(bc),rl=g({},bc,{dataTransfer:0}),Gh=qr(rl),Kh=g({},qs,{relatedTarget:0}),nl=qr(Kh),vd=g({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=qr(vd),vc=g({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wh=qr(vc),Xh=g({},$i,{data:0}),hi=qr(Xh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Jh[i])?!!o[i]:!1}function Gs(){return em}var gn=g({},qs,{key:function(i){if(i.key){var o=Qh[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=tl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(i){return i.type==="keypress"?tl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?tl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tm=qr(gn),rm=g({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=qr(rm),x=g({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),j=qr(x),O=g({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=qr(O),J=g({},bc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=qr(J),Se=g({},$i,{newState:0,oldState:0}),Xe=qr(Se),lr=[9,13,27,32],ht=ua&&"CompositionEvent"in window,Ht=null;ua&&"documentMode"in document&&(Ht=document.documentMode);var da=ua&&"TextEvent"in window&&!Ht,mi=ua&&(!ht||Ht&&8<Ht&&11>=Ht),Da=" ",za=!1;function al(i,o){switch(i){case"keyup":return lr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kc=!1;function Bz(i,o){switch(i){case"compositionend":return wc(o);case"keypress":return o.which!==32?null:(za=!0,Da);case"textInput":return i=o.data,i===Da&&za?null:i;default:return null}}function $z(i,o){if(kc)return i==="compositionend"||!ht&&al(i,o)?(i=xd(),el=gd=ui=null,kc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mi&&o.locale!=="ko"?null:o.data;default:return null}}var Hz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Hz[i.type]:o==="textarea"}function V_(i,o,u,h){$s?ci?ci.push(h):ci=[h]:$s=h,o=Fm(o,"onChange"),0<o.length&&(u=new di("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var wd=null,kd=null;function qz(i){wS(i,0)}function nm(i){var o=Hn(i);if(Xo(o))return i}function U_(i,o){if(i==="change")return o}var B_=!1;if(ua){var Ox;if(ua){var Ix="oninput"in document;if(!Ix){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Ix=typeof $_.oninput=="function"}Ox=Ix}else Ox=!1;B_=Ox&&(!document.documentMode||9<document.documentMode)}function H_(){wd&&(wd.detachEvent("onpropertychange",q_),kd=wd=null)}function q_(i){if(i.propertyName==="value"&&nm(kd)){var o=[];V_(o,kd,i,ca(i)),Hs(qz,o)}}function Fz(i,o,u){i==="focusin"?(H_(),wd=o,kd=u,wd.attachEvent("onpropertychange",q_)):i==="focusout"&&H_()}function Gz(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nm(kd)}function Kz(i,o){if(i==="click")return nm(o)}function Yz(i,o){if(i==="input"||i==="change")return nm(o)}function Wz(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fn=typeof Object.is=="function"?Object.is:Wz;function _d(i,o){if(Fn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!It.call(o,y)||!Fn(i[y],o[y]))return!1}return!0}function F_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function G_(i,o){var u=F_(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=F_(u)}}function K_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?K_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Y_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=li(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=li(i.document)}return o}function Rx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Xz=ua&&"documentMode"in document&&11>=document.documentMode,_c=null,Px=null,Nd=null,Mx=!1;function W_(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mx||_c==null||_c!==li(h)||(h=_c,"selectionStart"in h&&Rx(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nd&&_d(Nd,h)||(Nd=h,h=Fm(Px,"onSelect"),0<h.length&&(o=new di("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=_c)))}function il(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Nc={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},Dx={},X_={};ua&&(X_=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function sl(i){if(Dx[i])return Dx[i];if(!Nc[i])return i;var o=Nc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in X_)return Dx[i]=o[u];return i}var Q_=sl("animationend"),Z_=sl("animationiteration"),J_=sl("animationstart"),Qz=sl("transitionrun"),Zz=sl("transitionstart"),Jz=sl("transitioncancel"),eN=sl("transitionend"),tN=new Map,zx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zx.push("scrollEnd");function La(i,o){tN.set(i,o),si(o,[i])}var am=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fa=[],Ec=0,Lx=0;function im(){for(var i=Ec,o=Lx=Ec=0;o<i;){var u=fa[o];fa[o++]=null;var h=fa[o];fa[o++]=null;var y=fa[o];fa[o++]=null;var v=fa[o];if(fa[o++]=null,h!==null&&y!==null){var T=h.pending;T===null?y.next=y:(y.next=T.next,T.next=y),h.pending=y}v!==0&&rN(u,y,v)}}function sm(i,o,u,h){fa[Ec++]=i,fa[Ec++]=o,fa[Ec++]=u,fa[Ec++]=h,Lx|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vx(i,o,u,h){return sm(i,o,u,h),om(i)}function ol(i,o){return sm(i,null,null,o),om(i)}function rN(i,o,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var y=!1,v=i.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&o!==null&&(y=31-Wt(u),i=v.hiddenUpdates,h=i[y],h===null?i[y]=[o]:h.push(o),o.lane=u|536870912),v):null}function om(i){if(50<Gd)throw Gd=0,Yy=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Sc={};function eL(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(i,o,u,h){return new eL(i,o,u,h)}function Ux(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qi(i,o){var u=i.alternate;return u===null?(u=Gn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function nN(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function lm(i,o,u,h,y,v){var T=0;if(h=i,typeof i=="function")Ux(i)&&(T=1);else if(typeof i=="string")T=i9(i,u,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Gn(31,u,o,y),i.elementType=P,i.lanes=v,i;case E:return ll(u.children,y,v,o);case S:T=8,y|=24;break;case R:return i=Gn(12,u,o,y|2),i.elementType=R,i.lanes=v,i;case U:return i=Gn(13,u,o,y),i.elementType=U,i.lanes=v,i;case H:return i=Gn(19,u,o,y),i.elementType=H,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:T=10;break e;case N:T=9;break e;case M:T=11;break e;case A:T=14;break e;case I:T=16,h=null;break e}T=29,u=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=Gn(T,u,o,y),o.elementType=i,o.type=h,o.lanes=v,o}function ll(i,o,u,h){return i=Gn(7,i,h,o),i.lanes=u,i}function Bx(i,o,u){return i=Gn(6,i,null,o),i.lanes=u,i}function aN(i){var o=Gn(18,null,null,0);return o.stateNode=i,o}function $x(i,o,u){return o=Gn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var iN=new WeakMap;function ha(i,o){if(typeof i=="object"&&i!==null){var u=iN.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Vn(o)},iN.set(i,o),o)}return{value:i,source:o,stack:Vn(o)}}var jc=[],Tc=0,cm=null,Ed=0,ma=[],pa=0,Ks=null,pi=1,gi="";function Fi(i,o){jc[Tc++]=Ed,jc[Tc++]=cm,cm=i,Ed=o}function sN(i,o,u){ma[pa++]=pi,ma[pa++]=gi,ma[pa++]=Ks,Ks=i;var h=pi;i=gi;var y=32-Wt(h)-1;h&=~(1<<y),u+=1;var v=32-Wt(o)+y;if(30<v){var T=y-y%5;v=(h&(1<<T)-1).toString(32),h>>=T,y-=T,pi=1<<32-Wt(o)+y|u<<y|h,gi=v+i}else pi=1<<v|u<<y|h,gi=i}function Hx(i){i.return!==null&&(Fi(i,1),sN(i,1,0))}function qx(i){for(;i===cm;)cm=jc[--Tc],jc[Tc]=null,Ed=jc[--Tc],jc[Tc]=null;for(;i===Ks;)Ks=ma[--pa],ma[pa]=null,gi=ma[--pa],ma[pa]=null,pi=ma[--pa],ma[pa]=null}function oN(i,o){ma[pa++]=pi,ma[pa++]=gi,ma[pa++]=Ks,pi=o.id,gi=o.overflow,Ks=i}var Fr=null,Mt=null,ot=!1,Ys=null,ga=!1,Fx=Error(n(519));function Ws(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sd(ha(o,i)),Fx}function lN(i){var o=i.stateNode,u=i.type,h=i.memoizedProps;switch(o[kt]=i,o[Cr]=h,u){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(u=0;u<Yd.length;u++)et(Yd[u],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),$h(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Us(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||ES(o.textContent,u)?(h.popover!=null&&(et("beforetoggle",o),et("toggle",o)),h.onScroll!=null&&et("scroll",o),h.onScrollEnd!=null&&et("scrollend",o),h.onClick!=null&&(o.onclick=Ra),o=!0):o=!1,o||Ws(i,!0)}function cN(i){for(Fr=i.return;Fr;)switch(Fr.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Fr=Fr.return}}function Ac(i){if(i!==Fr)return!1;if(!ot)return cN(i),ot=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||cb(i.type,i.memoizedProps)),u=!u),u&&Mt&&Ws(i),cN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Mt=PS(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Mt=PS(i)}else o===27?(o=Mt,co(i.type)?(i=mb,mb=null,Mt=i):Mt=o):Mt=Fr?ya(i.stateNode.nextSibling):null;return!0}function cl(){Mt=Fr=null,ot=!1}function Gx(){var i=Ys;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),Ys=null),i}function Sd(i){Ys===null?Ys=[i]:Ys.push(i)}var Kx=L(null),ul=null,Gi=null;function Xs(i,o,u){oe(Kx,o._currentValue),o._currentValue=u}function Ki(i){i._currentValue=Kx.current,F(Kx)}function Yx(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function Wx(i,o,u,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var T=y.child;v=v.firstContext;e:for(;v!==null;){var V=v;v=y;for(var Y=0;Y<o.length;Y++)if(V.context===o[Y]){v.lanes|=u,V=v.alternate,V!==null&&(V.lanes|=u),Yx(v.return,u,i),h||(T=null);break e}v=V.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=u,v=T.alternate,v!==null&&(v.lanes|=u),Yx(T,u,i),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function Cc(i,o,u,h){i=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var V=y.type;Fn(y.pendingProps.value,T.value)||(i!==null?i.push(V):i=[V])}}else if(y===fe.current){if(T=y.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Jd):i=[Jd])}y=y.return}i!==null&&Wx(o,i,u,h),o.flags|=262144}function um(i){for(i=i.firstContext;i!==null;){if(!Fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ul=i,Gi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gr(i){return uN(ul,i)}function dm(i,o){return ul===null&&dl(i),uN(i,o)}function uN(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Gi===null){if(i===null)throw Error(n(308));Gi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Gi=Gi.next=o;return u}var tL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},rL=t.unstable_scheduleCallback,nL=t.unstable_NormalPriority,mr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xx(){return{controller:new tL,data:new Map,refCount:0}}function jd(i){i.refCount--,i.refCount===0&&rL(nL,function(){i.controller.abort()})}var Td=null,Qx=0,Oc=0,Ic=null;function aL(i,o){if(Td===null){var u=Td=[];Qx=0,Oc=eb(),Ic={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Qx++,o.then(dN,dN),o}function dN(){if(--Qx===0&&Td!==null){Ic!==null&&(Ic.status="fulfilled");var i=Td;Td=null,Oc=0,Ic=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function iL(i,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var fN=G.S;G.S=function(i,o){WE=Hr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&aL(i,o),fN!==null&&fN(i,o)};var fl=L(null);function Zx(){var i=fl.current;return i!==null?i:Tt.pooledCache}function fm(i,o){o===null?oe(fl,fl.current):oe(fl,o.pool)}function hN(){var i=Zx();return i===null?null:{parent:mr._currentValue,pool:i}}var Rc=Error(n(460)),Jx=Error(n(474)),hm=Error(n(542)),mm={then:function(){}};function mN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pN(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ra,Ra),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xN(i),i;default:if(typeof o.status=="string")o.then(Ra,Ra);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xN(i),i}throw ml=o,Rc}}function hl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ml=u,Rc):u}}var ml=null;function gN(){if(ml===null)throw Error(n(459));var i=ml;return ml=null,i}function xN(i){if(i===Rc||i===hm)throw Error(n(483))}var Pc=null,Ad=0;function pm(i){var o=Ad;return Ad+=1,Pc===null&&(Pc=[]),pN(Pc,i,o)}function Cd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function gm(i,o){throw o.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function yN(i){function o(Z,X){if(i){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function u(Z,X){if(!i)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function h(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=qi(Z,X),Z.index=0,Z.sibling=null,Z}function v(Z,X,re){return Z.index=re,i?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=67108866,X):re):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function T(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function V(Z,X,re,pe){return X===null||X.tag!==6?(X=Bx(re,Z.mode,pe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function Y(Z,X,re,pe){var ze=re.type;return ze===E?he(Z,X,re.props.children,pe,re.key):X!==null&&(X.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&hl(ze)===X.type)?(X=y(X,re.props),Cd(X,re),X.return=Z,X):(X=lm(re.type,re.key,re.props,null,Z.mode,pe),Cd(X,re),X.return=Z,X)}function ae(Z,X,re,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=$x(re,Z.mode,pe),X.return=Z,X):(X=y(X,re.children||[]),X.return=Z,X)}function he(Z,X,re,pe,ze){return X===null||X.tag!==7?(X=ll(re,Z.mode,pe,ze),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function xe(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Bx(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return re=lm(X.type,X.key,X.props,null,Z.mode,re),Cd(re,X),re.return=Z,re;case _:return X=$x(X,Z.mode,re),X.return=Z,X;case I:return X=hl(X),xe(Z,X,re)}if(te(X)||D(X))return X=ll(X,Z.mode,re,null),X.return=Z,X;if(typeof X.then=="function")return xe(Z,pm(X),re);if(X.$$typeof===C)return xe(Z,dm(Z,X),re);gm(Z,X)}return null}function se(Z,X,re,pe){var ze=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ze!==null?null:V(Z,X,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===ze?Y(Z,X,re,pe):null;case _:return re.key===ze?ae(Z,X,re,pe):null;case I:return re=hl(re),se(Z,X,re,pe)}if(te(re)||D(re))return ze!==null?null:he(Z,X,re,pe,null);if(typeof re.then=="function")return se(Z,X,pm(re),pe);if(re.$$typeof===C)return se(Z,X,dm(Z,re),pe);gm(Z,re)}return null}function ue(Z,X,re,pe,ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(re)||null,V(X,Z,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return Z=Z.get(pe.key===null?re:pe.key)||null,Y(X,Z,pe,ze);case _:return Z=Z.get(pe.key===null?re:pe.key)||null,ae(X,Z,pe,ze);case I:return pe=hl(pe),ue(Z,X,re,pe,ze)}if(te(pe)||D(pe))return Z=Z.get(re)||null,he(X,Z,pe,ze,null);if(typeof pe.then=="function")return ue(Z,X,re,pm(pe),ze);if(pe.$$typeof===C)return ue(Z,X,re,dm(X,pe),ze);gm(X,pe)}return null}function Ae(Z,X,re,pe){for(var ze=null,ct=null,Re=X,Ze=X=0,rt=null;Re!==null&&Ze<re.length;Ze++){Re.index>Ze?(rt=Re,Re=null):rt=Re.sibling;var ut=se(Z,Re,re[Ze],pe);if(ut===null){Re===null&&(Re=rt);break}i&&Re&&ut.alternate===null&&o(Z,Re),X=v(ut,X,Ze),ct===null?ze=ut:ct.sibling=ut,ct=ut,Re=rt}if(Ze===re.length)return u(Z,Re),ot&&Fi(Z,Ze),ze;if(Re===null){for(;Ze<re.length;Ze++)Re=xe(Z,re[Ze],pe),Re!==null&&(X=v(Re,X,Ze),ct===null?ze=Re:ct.sibling=Re,ct=Re);return ot&&Fi(Z,Ze),ze}for(Re=h(Re);Ze<re.length;Ze++)rt=ue(Re,Z,Ze,re[Ze],pe),rt!==null&&(i&&rt.alternate!==null&&Re.delete(rt.key===null?Ze:rt.key),X=v(rt,X,Ze),ct===null?ze=rt:ct.sibling=rt,ct=rt);return i&&Re.forEach(function(po){return o(Z,po)}),ot&&Fi(Z,Ze),ze}function Ue(Z,X,re,pe){if(re==null)throw Error(n(151));for(var ze=null,ct=null,Re=X,Ze=X=0,rt=null,ut=re.next();Re!==null&&!ut.done;Ze++,ut=re.next()){Re.index>Ze?(rt=Re,Re=null):rt=Re.sibling;var po=se(Z,Re,ut.value,pe);if(po===null){Re===null&&(Re=rt);break}i&&Re&&po.alternate===null&&o(Z,Re),X=v(po,X,Ze),ct===null?ze=po:ct.sibling=po,ct=po,Re=rt}if(ut.done)return u(Z,Re),ot&&Fi(Z,Ze),ze;if(Re===null){for(;!ut.done;Ze++,ut=re.next())ut=xe(Z,ut.value,pe),ut!==null&&(X=v(ut,X,Ze),ct===null?ze=ut:ct.sibling=ut,ct=ut);return ot&&Fi(Z,Ze),ze}for(Re=h(Re);!ut.done;Ze++,ut=re.next())ut=ue(Re,Z,Ze,ut.value,pe),ut!==null&&(i&&ut.alternate!==null&&Re.delete(ut.key===null?Ze:ut.key),X=v(ut,X,Ze),ct===null?ze=ut:ct.sibling=ut,ct=ut);return i&&Re.forEach(function(g9){return o(Z,g9)}),ot&&Fi(Z,Ze),ze}function St(Z,X,re,pe){if(typeof re=="object"&&re!==null&&re.type===E&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var ze=re.key;X!==null;){if(X.key===ze){if(ze=re.type,ze===E){if(X.tag===7){u(Z,X.sibling),pe=y(X,re.props.children),pe.return=Z,Z=pe;break e}}else if(X.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&hl(ze)===X.type){u(Z,X.sibling),pe=y(X,re.props),Cd(pe,re),pe.return=Z,Z=pe;break e}u(Z,X);break}else o(Z,X);X=X.sibling}re.type===E?(pe=ll(re.props.children,Z.mode,pe,re.key),pe.return=Z,Z=pe):(pe=lm(re.type,re.key,re.props,null,Z.mode,pe),Cd(pe,re),pe.return=Z,Z=pe)}return T(Z);case _:e:{for(ze=re.key;X!==null;){if(X.key===ze)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(Z,X.sibling),pe=y(X,re.children||[]),pe.return=Z,Z=pe;break e}else{u(Z,X);break}else o(Z,X);X=X.sibling}pe=$x(re,Z.mode,pe),pe.return=Z,Z=pe}return T(Z);case I:return re=hl(re),St(Z,X,re,pe)}if(te(re))return Ae(Z,X,re,pe);if(D(re)){if(ze=D(re),typeof ze!="function")throw Error(n(150));return re=ze.call(re),Ue(Z,X,re,pe)}if(typeof re.then=="function")return St(Z,X,pm(re),pe);if(re.$$typeof===C)return St(Z,X,dm(Z,re),pe);gm(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(Z,X.sibling),pe=y(X,re),pe.return=Z,Z=pe):(u(Z,X),pe=Bx(re,Z.mode,pe),pe.return=Z,Z=pe),T(Z)):u(Z,X)}return function(Z,X,re,pe){try{Ad=0;var ze=St(Z,X,re,pe);return Pc=null,ze}catch(Re){if(Re===Rc||Re===hm)throw Re;var ct=Gn(29,Re,null,Z.mode);return ct.lanes=pe,ct.return=Z,ct}finally{}}}var pl=yN(!0),bN=yN(!1),Qs=!1;function ey(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ty(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(mt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=om(i),rN(i,null,u),o}return sm(i,h,o,u),om(i)}function Od(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Ee(i,u)}}function ry(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?y=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?y=v=o:v=v.next=o}else y=v=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var ny=!1;function Id(){if(ny){var i=Ic;if(i!==null)throw i}}function Rd(i,o,u,h){ny=!1;var y=i.updateQueue;Qs=!1;var v=y.firstBaseUpdate,T=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var Y=V,ae=Y.next;Y.next=null,T===null?v=ae:T.next=ae,T=Y;var he=i.alternate;he!==null&&(he=he.updateQueue,V=he.lastBaseUpdate,V!==T&&(V===null?he.firstBaseUpdate=ae:V.next=ae,he.lastBaseUpdate=Y))}if(v!==null){var xe=y.baseState;T=0,he=ae=Y=null,V=v;do{var se=V.lane&-536870913,ue=se!==V.lane;if(ue?(tt&se)===se:(h&se)===se){se!==0&&se===Oc&&(ny=!0),he!==null&&(he=he.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ae=i,Ue=V;se=o;var St=u;switch(Ue.tag){case 1:if(Ae=Ue.payload,typeof Ae=="function"){xe=Ae.call(St,xe,se);break e}xe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ue.payload,se=typeof Ae=="function"?Ae.call(St,xe,se):Ae,se==null)break e;xe=g({},xe,se);break e;case 2:Qs=!0}}se=V.callback,se!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},he===null?(ae=he=ue,Y=xe):he=he.next=ue,T|=se;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ue=V,V=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);he===null&&(Y=xe),y.baseState=Y,y.firstBaseUpdate=ae,y.lastBaseUpdate=he,v===null&&(y.shared.lanes=0),ao|=T,i.lanes=T,i.memoizedState=xe}}function vN(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function wN(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)vN(u[i],o)}var Mc=L(null),xm=L(0);function kN(i,o){i=rs,oe(xm,i),oe(Mc,o),rs=i|o.baseLanes}function ay(){oe(xm,rs),oe(Mc,Mc.current)}function iy(){rs=xm.current,F(Mc),F(xm)}var Kn=L(null),xa=null;function eo(i){var o=i.alternate;oe(cr,cr.current&1),oe(Kn,i),xa===null&&(o===null||Mc.current!==null||o.memoizedState!==null)&&(xa=i)}function sy(i){oe(cr,cr.current),oe(Kn,i),xa===null&&(xa=i)}function _N(i){i.tag===22?(oe(cr,cr.current),oe(Kn,i),xa===null&&(xa=i)):to()}function to(){oe(cr,cr.current),oe(Kn,Kn.current)}function Yn(i){F(Kn),xa===i&&(xa=null),F(cr)}var cr=L(0);function ym(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||fb(u)||hb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yi=0,Qe=null,Nt=null,pr=null,bm=!1,Dc=!1,gl=!1,vm=0,Pd=0,zc=null,sL=0;function rr(){throw Error(n(321))}function oy(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Fn(i[u],o[u]))return!1;return!0}function ly(i,o,u,h,y,v){return Yi=v,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?sE:_y,gl=!1,v=u(h,y),gl=!1,Dc&&(v=EN(o,u,h,y)),NN(i),v}function NN(i){G.H=zd;var o=Nt!==null&&Nt.next!==null;if(Yi=0,pr=Nt=Qe=null,bm=!1,Pd=0,zc=null,o)throw Error(n(300));i===null||gr||(i=i.dependencies,i!==null&&um(i)&&(gr=!0))}function EN(i,o,u,h){Qe=i;var y=0;do{if(Dc&&(zc=null),Pd=0,Dc=!1,25<=y)throw Error(n(301));if(y+=1,pr=Nt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=oE,v=o(u,h)}while(Dc);return v}function oL(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Md(o):o,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(Qe.flags|=1024),o}function cy(){var i=vm!==0;return vm=0,i}function uy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function dy(i){if(bm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}bm=!1}Yi=0,pr=Nt=Qe=null,Dc=!1,Pd=vm=0,zc=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Qe.memoizedState=pr=i:pr=pr.next=i,pr}function ur(){if(Nt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var o=pr===null?Qe.memoizedState:pr.next;if(o!==null)pr=o,Nt=i;else{if(i===null)throw Qe.alternate===null?Error(n(467)):Error(n(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},pr===null?Qe.memoizedState=pr=i:pr=pr.next=i}return pr}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(i){var o=Pd;return Pd+=1,zc===null&&(zc=[]),i=pN(zc,i,o),o=Qe,(pr===null?o.memoizedState:pr.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?sE:_y),i}function km(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Md(i);if(i.$$typeof===C)return Gr(i)}throw Error(n(438,String(i)))}function fy(i){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=wm(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),h=0;h<i;h++)u[h]=$;return o.index++,u}function Wi(i,o){return typeof o=="function"?o(i):o}function _m(i){var o=ur();return hy(o,Nt,i)}function hy(i,o,u){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var y=i.baseQueue,v=h.pending;if(v!==null){if(y!==null){var T=y.next;y.next=v.next,v.next=T}o.baseQueue=y=v,h.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{o=y.next;var V=T=null,Y=null,ae=o,he=!1;do{var xe=ae.lane&-536870913;if(xe!==ae.lane?(tt&xe)===xe:(Yi&xe)===xe){var se=ae.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),xe===Oc&&(he=!0);else if((Yi&se)===se){ae=ae.next,se===Oc&&(he=!0);continue}else xe={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(V=Y=xe,T=v):Y=Y.next=xe,Qe.lanes|=se,ao|=se;xe=ae.action,gl&&u(v,xe),v=ae.hasEagerState?ae.eagerState:u(v,xe)}else se={lane:xe,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(V=Y=se,T=v):Y=Y.next=se,Qe.lanes|=xe,ao|=xe;ae=ae.next}while(ae!==null&&ae!==o);if(Y===null?T=v:Y.next=V,!Fn(v,i.memoizedState)&&(gr=!0,he&&(u=Ic,u!==null)))throw u;i.memoizedState=v,i.baseState=T,i.baseQueue=Y,h.lastRenderedState=v}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function my(i){var o=ur(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,y=u.pending,v=o.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do v=i(v,T.action),T=T.next;while(T!==y);Fn(v,o.memoizedState)||(gr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function SN(i,o,u){var h=Qe,y=ur(),v=ot;if(v){if(u===void 0)throw Error(n(407));u=u()}else u=o();var T=!Fn((Nt||y).memoizedState,u);if(T&&(y.memoizedState=u,gr=!0),y=y.queue,xy(AN.bind(null,h,y,i),[i]),y.getSnapshot!==o||T||pr!==null&&pr.memoizedState.tag&1){if(h.flags|=2048,Lc(9,{destroy:void 0},TN.bind(null,h,y,u,o),null),Tt===null)throw Error(n(349));v||(Yi&127)!==0||jN(h,o,u)}return u}function jN(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=wm(),Qe.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function TN(i,o,u,h){o.value=u,o.getSnapshot=h,CN(o)&&ON(i)}function AN(i,o,u){return u(function(){CN(o)&&ON(i)})}function CN(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Fn(i,u)}catch{return!0}}function ON(i){var o=ol(i,2);o!==null&&On(o,i,2)}function py(i){var o=xn();if(typeof i=="function"){var u=i;if(i=u(),gl){sn(!0);try{u()}finally{sn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},o}function IN(i,o,u,h){return i.baseState=u,hy(i,Nt,typeof h=="function"?h:Wi)}function lL(i,o,u,h,y){if(Sm(i))throw Error(n(485));if(i=o.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};G.T!==null?u(!0):v.isTransition=!1,h(v),u=o.pending,u===null?(v.next=o.pending=v,RN(o,v)):(v.next=u.next,o.pending=u.next=v)}}function RN(i,o){var u=o.action,h=o.payload,y=i.state;if(o.isTransition){var v=G.T,T={};G.T=T;try{var V=u(y,h),Y=G.S;Y!==null&&Y(T,V),PN(i,o,V)}catch(ae){gy(i,o,ae)}finally{v!==null&&T.types!==null&&(v.types=T.types),G.T=v}}else try{v=u(y,h),PN(i,o,v)}catch(ae){gy(i,o,ae)}}function PN(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){MN(i,o,h)},function(h){return gy(i,o,h)}):MN(i,o,u)}function MN(i,o,u){o.status="fulfilled",o.value=u,DN(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,RN(i,u)))}function gy(i,o,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,DN(o),o=o.next;while(o!==h)}i.action=null}function DN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function zN(i,o){return o}function LN(i,o){if(ot){var u=Tt.formState;if(u!==null){e:{var h=Qe;if(ot){if(Mt){t:{for(var y=Mt,v=ga;y.nodeType!==8;){if(!v){y=null;break t}if(y=ya(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Mt=ya(y.nextSibling),h=y.data==="F!";break e}}Ws(h)}h=!1}h&&(o=u[0])}}return u=xn(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zN,lastRenderedState:o},u.queue=h,u=nE.bind(null,Qe,h),h.dispatch=u,h=py(!1),v=ky.bind(null,Qe,!1,h.queue),h=xn(),y={state:o,dispatch:null,action:i,pending:null},h.queue=y,u=lL.bind(null,Qe,y,v,u),y.dispatch=u,h.memoizedState=i,[o,u,!1]}function VN(i){var o=ur();return UN(o,Nt,i)}function UN(i,o,u){if(o=hy(i,o,zN)[0],i=_m(Wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Md(o)}catch(T){throw T===Rc?hm:T}else h=o;o=ur();var y=o.queue,v=y.dispatch;return u!==o.memoizedState&&(Qe.flags|=2048,Lc(9,{destroy:void 0},cL.bind(null,y,u),null)),[h,v,i]}function cL(i,o){i.action=o}function BN(i){var o=ur(),u=Nt;if(u!==null)return UN(o,u,i);ur(),o=o.memoizedState,u=ur();var h=u.queue.dispatch;return u.memoizedState=i,[o,h,!1]}function Lc(i,o,u,h){return i={tag:i,create:u,deps:h,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=wm(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i),i}function $N(){return ur().memoizedState}function Nm(i,o,u,h){var y=xn();Qe.flags|=i,y.memoizedState=Lc(1|o,{destroy:void 0},u,h===void 0?null:h)}function Em(i,o,u,h){var y=ur();h=h===void 0?null:h;var v=y.memoizedState.inst;Nt!==null&&h!==null&&oy(h,Nt.memoizedState.deps)?y.memoizedState=Lc(o,v,u,h):(Qe.flags|=i,y.memoizedState=Lc(1|o,v,u,h))}function HN(i,o){Nm(8390656,8,i,o)}function xy(i,o){Em(2048,8,i,o)}function uL(i){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=wm(),Qe.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function qN(i){var o=ur().memoizedState;return uL({ref:o,nextImpl:i}),function(){if((mt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function FN(i,o){return Em(4,2,i,o)}function GN(i,o){return Em(4,4,i,o)}function KN(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function YN(i,o,u){u=u!=null?u.concat([i]):null,Em(4,4,KN.bind(null,o,i),u)}function yy(){}function WN(i,o){var u=ur();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&oy(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function XN(i,o){var u=ur();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&oy(o,h[1]))return h[0];if(h=i(),gl){sn(!0);try{i()}finally{sn(!1)}}return u.memoizedState=[h,o],h}function by(i,o,u){return u===void 0||(Yi&1073741824)!==0&&(tt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=QE(),Qe.lanes|=i,ao|=i,u)}function QN(i,o,u,h){return Fn(u,o)?u:Mc.current!==null?(i=by(i,u,h),Fn(i,o)||(gr=!0),i):(Yi&42)===0||(Yi&1073741824)!==0&&(tt&261930)===0?(gr=!0,i.memoizedState=u):(i=QE(),Qe.lanes|=i,ao|=i,o)}function ZN(i,o,u,h,y){var v=Q.p;Q.p=v!==0&&8>v?v:8;var T=G.T,V={};G.T=V,ky(i,!1,o,u);try{var Y=y(),ae=G.S;if(ae!==null&&ae(V,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=iL(Y,h);Dd(i,o,he,Qn(i))}else Dd(i,o,h,Qn(i))}catch(xe){Dd(i,o,{then:function(){},status:"rejected",reason:xe},Qn())}finally{Q.p=v,T!==null&&V.types!==null&&(T.types=V.types),G.T=T}}function dL(){}function vy(i,o,u,h){if(i.tag!==5)throw Error(n(476));var y=JN(i).queue;ZN(i,y,o,me,u===null?dL:function(){return eE(i),u(h)})}function JN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:me},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function eE(i){var o=JN(i);o.next===null&&(o=i.alternate.memoizedState),Dd(i,o.next.queue,{},Qn())}function wy(){return Gr(Jd)}function tE(){return ur().memoizedState}function rE(){return ur().memoizedState}function fL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Qn();i=Zs(u);var h=Js(o,i,u);h!==null&&(On(h,o,u),Od(h,o,u)),o={cache:Xx()},i.payload=o;return}o=o.return}}function hL(i,o,u){var h=Qn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sm(i)?aE(o,u):(u=Vx(i,o,u,h),u!==null&&(On(u,i,h),iE(u,o,h)))}function nE(i,o,u){var h=Qn();Dd(i,o,u,h)}function Dd(i,o,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sm(i))aE(o,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,V=v(T,u);if(y.hasEagerState=!0,y.eagerState=V,Fn(V,T))return sm(i,o,y,0),Tt===null&&im(),!1}catch{}finally{}if(u=Vx(i,o,y,h),u!==null)return On(u,i,h),iE(u,o,h),!0}return!1}function ky(i,o,u,h){if(h={lane:2,revertLane:eb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Sm(i)){if(o)throw Error(n(479))}else o=Vx(i,u,h,2),o!==null&&On(o,i,2)}function Sm(i){var o=i.alternate;return i===Qe||o!==null&&o===Qe}function aE(i,o){Dc=bm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function iE(i,o,u){if((u&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Ee(i,u)}}var zd={readContext:Gr,use:km,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};zd.useEffectEvent=rr;var sE={readContext:Gr,use:km,useCallback:function(i,o){return xn().memoizedState=[i,o===void 0?null:o],i},useContext:Gr,useEffect:HN,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Nm(4194308,4,KN.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Nm(4194308,4,i,o)},useInsertionEffect:function(i,o){Nm(4,2,i,o)},useMemo:function(i,o){var u=xn();o=o===void 0?null:o;var h=i();if(gl){sn(!0);try{i()}finally{sn(!1)}}return u.memoizedState=[h,o],h},useReducer:function(i,o,u){var h=xn();if(u!==void 0){var y=u(o);if(gl){sn(!0);try{u(o)}finally{sn(!1)}}}else y=o;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=hL.bind(null,Qe,i),[h.memoizedState,i]},useRef:function(i){var o=xn();return i={current:i},o.memoizedState=i},useState:function(i){i=py(i);var o=i.queue,u=nE.bind(null,Qe,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:yy,useDeferredValue:function(i,o){var u=xn();return by(u,i,o)},useTransition:function(){var i=py(!1);return i=ZN.bind(null,Qe,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var h=Qe,y=xn();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Tt===null)throw Error(n(349));(tt&127)!==0||jN(h,o,u)}y.memoizedState=u;var v={value:u,getSnapshot:o};return y.queue=v,HN(AN.bind(null,h,v,i),[i]),h.flags|=2048,Lc(9,{destroy:void 0},TN.bind(null,h,v,u,o),null),u},useId:function(){var i=xn(),o=Tt.identifierPrefix;if(ot){var u=gi,h=pi;u=(h&~(1<<32-Wt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=sL++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:wy,useFormState:LN,useActionState:LN,useOptimistic:function(i){var o=xn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ky.bind(null,Qe,!0,u),u.dispatch=o,[i,o]},useMemoCache:fy,useCacheRefresh:function(){return xn().memoizedState=fL.bind(null,Qe)},useEffectEvent:function(i){var o=xn(),u={impl:i};return o.memoizedState=u,function(){if((mt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},_y={readContext:Gr,use:km,useCallback:WN,useContext:Gr,useEffect:xy,useImperativeHandle:YN,useInsertionEffect:FN,useLayoutEffect:GN,useMemo:XN,useReducer:_m,useRef:$N,useState:function(){return _m(Wi)},useDebugValue:yy,useDeferredValue:function(i,o){var u=ur();return QN(u,Nt.memoizedState,i,o)},useTransition:function(){var i=_m(Wi)[0],o=ur().memoizedState;return[typeof i=="boolean"?i:Md(i),o]},useSyncExternalStore:SN,useId:tE,useHostTransitionStatus:wy,useFormState:VN,useActionState:VN,useOptimistic:function(i,o){var u=ur();return IN(u,Nt,i,o)},useMemoCache:fy,useCacheRefresh:rE};_y.useEffectEvent=qN;var oE={readContext:Gr,use:km,useCallback:WN,useContext:Gr,useEffect:xy,useImperativeHandle:YN,useInsertionEffect:FN,useLayoutEffect:GN,useMemo:XN,useReducer:my,useRef:$N,useState:function(){return my(Wi)},useDebugValue:yy,useDeferredValue:function(i,o){var u=ur();return Nt===null?by(u,i,o):QN(u,Nt.memoizedState,i,o)},useTransition:function(){var i=my(Wi)[0],o=ur().memoizedState;return[typeof i=="boolean"?i:Md(i),o]},useSyncExternalStore:SN,useId:tE,useHostTransitionStatus:wy,useFormState:BN,useActionState:BN,useOptimistic:function(i,o){var u=ur();return Nt!==null?IN(u,Nt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:fy,useCacheRefresh:rE};oE.useEffectEvent=qN;function Ny(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ey={enqueueSetState:function(i,o,u){i=i._reactInternals;var h=Qn(),y=Zs(h);y.payload=o,u!=null&&(y.callback=u),o=Js(i,y,h),o!==null&&(On(o,i,h),Od(o,i,h))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=Qn(),y=Zs(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Js(i,y,h),o!==null&&(On(o,i,h),Od(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Qn(),h=Zs(u);h.tag=2,o!=null&&(h.callback=o),o=Js(i,h,u),o!==null&&(On(o,i,u),Od(o,i,u))}};function lE(i,o,u,h,y,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!_d(u,h)||!_d(y,v):!0}function cE(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Ey.enqueueReplaceState(o,o.state,null)}function xl(i,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}function uE(i){am(i)}function dE(i){console.error(i)}function fE(i){am(i)}function jm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function hE(i,o,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Sy(i,o,u){return u=Zs(u),u.tag=3,u.payload={element:null},u.callback=function(){jm(i,o)},u}function mE(i){return i=Zs(i),i.tag=3,i}function pE(i,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;i.payload=function(){return y(v)},i.callback=function(){hE(o,u,h)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){hE(o,u,h),typeof y!="function"&&(io===null?io=new Set([this]):io.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function mL(i,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Cc(o,u,y,!0),u=Kn.current,u!==null){switch(u.tag){case 31:case 13:return xa===null?Vm():u.alternate===null&&nr===0&&(nr=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===mm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Qy(i,h,y)),!1;case 22:return u.flags|=65536,h===mm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Qy(i,h,y)),!1}throw Error(n(435,u.tag))}return Qy(i,h,y),Vm(),!1}if(ot)return o=Kn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==Fx&&(i=Error(n(422),{cause:h}),Sd(ha(i,u)))):(h!==Fx&&(o=Error(n(423),{cause:h}),Sd(ha(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=ha(h,u),y=Sy(i.stateNode,h,y),ry(i,y),nr!==4&&(nr=2)),!1;var v=Error(n(520),{cause:h});if(v=ha(v,u),Fd===null?Fd=[v]:Fd.push(v),nr!==4&&(nr=2),o===null)return!0;h=ha(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=Sy(u.stateNode,h,i),ry(u,i),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(io===null||!io.has(v))))return u.flags|=65536,y&=-y,u.lanes|=y,y=mE(y),pE(y,i,u,h),ry(u,y),!1}u=u.return}while(u!==null);return!1}var jy=Error(n(461)),gr=!1;function Kr(i,o,u,h){o.child=i===null?bN(o,null,u,h):pl(o,i.child,u,h)}function gE(i,o,u,h,y){u=u.render;var v=o.ref;if("ref"in h){var T={};for(var V in h)V!=="ref"&&(T[V]=h[V])}else T=h;return dl(o),h=ly(i,o,u,T,v,y),V=cy(),i!==null&&!gr?(uy(i,o,y),Xi(i,o,y)):(ot&&V&&Hx(o),o.flags|=1,Kr(i,o,h,y),o.child)}function xE(i,o,u,h,y){if(i===null){var v=u.type;return typeof v=="function"&&!Ux(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,yE(i,o,v,h,y)):(i=lm(u.type,null,h,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!My(i,y)){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:_d,u(T,h)&&i.ref===o.ref)return Xi(i,o,y)}return o.flags|=1,i=qi(v,h),i.ref=o.ref,i.return=o,o.child=i}function yE(i,o,u,h,y){if(i!==null){var v=i.memoizedProps;if(_d(v,h)&&i.ref===o.ref)if(gr=!1,o.pendingProps=h=v,My(i,y))(i.flags&131072)!==0&&(gr=!0);else return o.lanes=i.lanes,Xi(i,o,y)}return Ty(i,o,u,h,y)}function bE(i,o,u,h){var y=h.children,v=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,i!==null){for(h=o.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,o.child=null;return vE(i,o,v,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fm(o,v!==null?v.cachePool:null),v!==null?kN(o,v):ay(),_N(o);else return h=o.lanes=536870912,vE(i,o,v!==null?v.baseLanes|u:u,u,h)}else v!==null?(fm(o,v.cachePool),kN(o,v),to(),o.memoizedState=null):(i!==null&&fm(o,null),ay(),to());return Kr(i,o,y,u),o.child}function Ld(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function vE(i,o,u,h,y){var v=Zx();return v=v===null?null:{parent:mr._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&fm(o,null),ay(),_N(o),i!==null&&Cc(i,o,h,!0),o.childLanes=y,null}function Tm(i,o){return o=Cm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function wE(i,o,u){return pl(o,i.child,null,u),i=Tm(o,o.pendingProps),i.flags|=2,Yn(o),o.memoizedState=null,i}function pL(i,o,u){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=Tm(o,h),o.lanes=536870912,Ld(null,i);if(sy(o),(i=Mt)?(i=RS(i,ga),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},u=aN(i),u.return=o,o.child=u,Fr=o,Mt=null)):i=null,i===null)throw Ws(o);return o.lanes=536870912,null}return Tm(o,h)}var v=i.memoizedState;if(v!==null){var T=v.dehydrated;if(sy(o),y)if(o.flags&256)o.flags&=-257,o=wE(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(gr||Cc(i,o,u,!1),y=(u&i.childLanes)!==0,gr||y){if(h=Tt,h!==null&&(T=Ie(h,u),T!==0&&T!==v.retryLane))throw v.retryLane=T,ol(i,T),On(h,i,T),jy;Vm(),o=wE(i,o,u)}else i=v.treeContext,Mt=ya(T.nextSibling),Fr=o,ot=!0,Ys=null,ga=!1,i!==null&&oN(o,i),o=Tm(o,h),o.flags|=4096;return o}return i=qi(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Am(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Ty(i,o,u,h,y){return dl(o),u=ly(i,o,u,h,void 0,y),h=cy(),i!==null&&!gr?(uy(i,o,y),Xi(i,o,y)):(ot&&h&&Hx(o),o.flags|=1,Kr(i,o,u,y),o.child)}function kE(i,o,u,h,y,v){return dl(o),o.updateQueue=null,u=EN(o,h,u,y),NN(i),h=cy(),i!==null&&!gr?(uy(i,o,v),Xi(i,o,v)):(ot&&h&&Hx(o),o.flags|=1,Kr(i,o,u,v),o.child)}function _E(i,o,u,h,y){if(dl(o),o.stateNode===null){var v=Sc,T=u.contextType;typeof T=="object"&&T!==null&&(v=Gr(T)),v=new u(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ey,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},ey(o),T=u.contextType,v.context=typeof T=="object"&&T!==null?Gr(T):Sc,v.state=o.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Ny(o,u,T,h),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Ey.enqueueReplaceState(v,v.state,null),Rd(o,h,v,y),Id(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){v=o.stateNode;var V=o.memoizedProps,Y=xl(u,V);v.props=Y;var ae=v.context,he=u.contextType;T=Sc,typeof he=="object"&&he!==null&&(T=Gr(he));var xe=u.getDerivedStateFromProps;he=typeof xe=="function"||typeof v.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,he||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(V||ae!==T)&&cE(o,v,h,T),Qs=!1;var se=o.memoizedState;v.state=se,Rd(o,h,v,y),Id(),ae=o.memoizedState,V||se!==ae||Qs?(typeof xe=="function"&&(Ny(o,u,xe,h),ae=o.memoizedState),(Y=Qs||lE(o,u,Y,h,se,ae,T))?(he||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ae),v.props=h,v.state=ae,v.context=T,h=Y):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,ty(i,o),T=o.memoizedProps,he=xl(u,T),v.props=he,xe=o.pendingProps,se=v.context,ae=u.contextType,Y=Sc,typeof ae=="object"&&ae!==null&&(Y=Gr(ae)),V=u.getDerivedStateFromProps,(ae=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==xe||se!==Y)&&cE(o,v,h,Y),Qs=!1,se=o.memoizedState,v.state=se,Rd(o,h,v,y),Id();var ue=o.memoizedState;T!==xe||se!==ue||Qs||i!==null&&i.dependencies!==null&&um(i.dependencies)?(typeof V=="function"&&(Ny(o,u,V,h),ue=o.memoizedState),(he=Qs||lE(o,u,he,h,se,ue,Y)||i!==null&&i.dependencies!==null&&um(i.dependencies))?(ae||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ue,Y),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ue,Y)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ue),v.props=h,v.state=ue,v.context=Y,h=he):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),h=!1)}return v=h,Am(i,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,i!==null&&h?(o.child=pl(o,i.child,null,y),o.child=pl(o,null,u,y)):Kr(i,o,u,y),o.memoizedState=v.state,i=o.child):i=Xi(i,o,y),i}function NE(i,o,u,h){return cl(),o.flags|=256,Kr(i,o,u,h),o.child}var Ay={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cy(i){return{baseLanes:i,cachePool:hN()}}function Oy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Xn),i}function EE(i,o,u){var h=o.pendingProps,y=!1,v=(o.flags&128)!==0,T;if((T=v)||(T=i!==null&&i.memoizedState===null?!1:(cr.current&2)!==0),T&&(y=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,i===null){if(ot){if(y?eo(o):to(),(i=Mt)?(i=RS(i,ga),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},u=aN(i),u.return=o,o.child=u,Fr=o,Mt=null)):i=null,i===null)throw Ws(o);return hb(i)?o.lanes=32:o.lanes=536870912,null}var V=h.children;return h=h.fallback,y?(to(),y=o.mode,V=Cm({mode:"hidden",children:V},y),h=ll(h,y,u,null),V.return=o,h.return=o,V.sibling=h,o.child=V,h=o.child,h.memoizedState=Cy(u),h.childLanes=Oy(i,T,u),o.memoizedState=Ay,Ld(null,h)):(eo(o),Iy(o,V))}var Y=i.memoizedState;if(Y!==null&&(V=Y.dehydrated,V!==null)){if(v)o.flags&256?(eo(o),o.flags&=-257,o=Ry(i,o,u)):o.memoizedState!==null?(to(),o.child=i.child,o.flags|=128,o=null):(to(),V=h.fallback,y=o.mode,h=Cm({mode:"visible",children:h.children},y),V=ll(V,y,u,null),V.flags|=2,h.return=o,V.return=o,h.sibling=V,o.child=h,pl(o,i.child,null,u),h=o.child,h.memoizedState=Cy(u),h.childLanes=Oy(i,T,u),o.memoizedState=Ay,o=Ld(null,h));else if(eo(o),hb(V)){if(T=V.nextSibling&&V.nextSibling.dataset,T)var ae=T.dgst;T=ae,h=Error(n(419)),h.stack="",h.digest=T,Sd({value:h,source:null,stack:null}),o=Ry(i,o,u)}else if(gr||Cc(i,o,u,!1),T=(u&i.childLanes)!==0,gr||T){if(T=Tt,T!==null&&(h=Ie(T,u),h!==0&&h!==Y.retryLane))throw Y.retryLane=h,ol(i,h),On(T,i,h),jy;fb(V)||Vm(),o=Ry(i,o,u)}else fb(V)?(o.flags|=192,o.child=i.child,o=null):(i=Y.treeContext,Mt=ya(V.nextSibling),Fr=o,ot=!0,Ys=null,ga=!1,i!==null&&oN(o,i),o=Iy(o,h.children),o.flags|=4096);return o}return y?(to(),V=h.fallback,y=o.mode,Y=i.child,ae=Y.sibling,h=qi(Y,{mode:"hidden",children:h.children}),h.subtreeFlags=Y.subtreeFlags&65011712,ae!==null?V=qi(ae,V):(V=ll(V,y,u,null),V.flags|=2),V.return=o,h.return=o,h.sibling=V,o.child=h,Ld(null,h),h=o.child,V=i.child.memoizedState,V===null?V=Cy(u):(y=V.cachePool,y!==null?(Y=mr._currentValue,y=y.parent!==Y?{parent:Y,pool:Y}:y):y=hN(),V={baseLanes:V.baseLanes|u,cachePool:y}),h.memoizedState=V,h.childLanes=Oy(i,T,u),o.memoizedState=Ay,Ld(i.child,h)):(eo(o),u=i.child,i=u.sibling,u=qi(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,i!==null&&(T=o.deletions,T===null?(o.deletions=[i],o.flags|=16):T.push(i)),o.child=u,o.memoizedState=null,u)}function Iy(i,o){return o=Cm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Cm(i,o){return i=Gn(22,i,null,o),i.lanes=0,i}function Ry(i,o,u){return pl(o,i.child,null,u),i=Iy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function SE(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Yx(i.return,o,u)}function Py(i,o,u,h,y,v){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:v}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=u,T.tailMode=y,T.treeForkCount=v)}function jE(i,o,u){var h=o.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var T=cr.current,V=(T&2)!==0;if(V?(T=T&1|2,o.flags|=128):T&=1,oe(cr,T),Kr(i,o,h,u),h=ot?Ed:0,!V&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&SE(i,u,o);else if(i.tag===19)SE(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&ym(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Py(o,!1,y,u,v,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&ym(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Py(o,!0,u,null,v,h);break;case"together":Py(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Xi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ao|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Cc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=qi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=qi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function My(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&um(i)))}function gL(i,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Xs(o,mr,i.memoizedState.cache),cl();break;case 27:case 5:Be(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Xs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,sy(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(eo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?EE(i,o,u):(eo(o),i=Xi(i,o,u),i!==null?i.sibling:null);eo(o);break;case 19:var y=(i.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Cc(i,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return jE(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(cr,cr.current),h)break;return null;case 22:return o.lanes=0,bE(i,o,u,o.pendingProps);case 24:Xs(o,mr,i.memoizedState.cache)}return Xi(i,o,u)}function TE(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)gr=!0;else{if(!My(i,u)&&(o.flags&128)===0)return gr=!1,gL(i,o,u);gr=(i.flags&131072)!==0}else gr=!1,ot&&(o.flags&1048576)!==0&&sN(o,Ed,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=hl(o.elementType),o.type=i,typeof i=="function")Ux(i)?(h=xl(i,h),o.tag=1,o=_E(null,o,i,h,u)):(o.tag=0,o=Ty(null,o,i,h,u));else{if(i!=null){var y=i.$$typeof;if(y===M){o.tag=11,o=gE(null,o,i,h,u);break e}else if(y===A){o.tag=14,o=xE(null,o,i,h,u);break e}}throw o=W(i)||i,Error(n(306,o,""))}}return o;case 0:return Ty(i,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=xl(h,o.pendingProps),_E(i,o,h,y,u);case 3:e:{if($e(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var v=o.memoizedState;y=v.element,ty(i,o),Rd(o,h,null,u);var T=o.memoizedState;if(h=T.cache,Xs(o,mr,h),h!==v.cache&&Wx(o,[mr],u,!0),Id(),h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=NE(i,o,h,u);break e}else if(h!==y){y=ha(Error(n(424)),o),Sd(y),o=NE(i,o,h,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Mt=ya(i.firstChild),Fr=o,ot=!0,Ys=null,ga=!0,u=bN(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(cl(),h===y){o=Xi(i,o,u);break e}Kr(i,o,h,u)}o=o.child}return o;case 26:return Am(i,o),i===null?(u=VS(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,i=o.pendingProps,h=Gm(Ne.current).createElement(u),h[kt]=o,h[Cr]=i,Yr(h,u,i),fr(h),o.stateNode=h):o.memoizedState=VS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Be(o),i===null&&ot&&(h=o.stateNode=DS(o.type,o.pendingProps,Ne.current),Fr=o,ga=!0,y=Mt,co(o.type)?(mb=y,Mt=ya(h.firstChild)):Mt=y),Kr(i,o,o.pendingProps.children,u),Am(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ot&&((y=h=Mt)&&(h=GL(h,o.type,o.pendingProps,ga),h!==null?(o.stateNode=h,Fr=o,Mt=ya(h.firstChild),ga=!1,y=!0):y=!1),y||Ws(o)),Be(o),y=o.type,v=o.pendingProps,T=i!==null?i.memoizedProps:null,h=v.children,cb(y,v)?h=null:T!==null&&cb(y,T)&&(o.flags|=32),o.memoizedState!==null&&(y=ly(i,o,oL,null,null,u),Jd._currentValue=y),Am(i,o),Kr(i,o,h,u),o.child;case 6:return i===null&&ot&&((i=u=Mt)&&(u=KL(u,o.pendingProps,ga),u!==null?(o.stateNode=u,Fr=o,Mt=null,i=!0):i=!1),i||Ws(o)),null;case 13:return EE(i,o,u);case 4:return $e(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=pl(o,null,h,u):Kr(i,o,h,u),o.child;case 11:return gE(i,o,o.type,o.pendingProps,u);case 7:return Kr(i,o,o.pendingProps,u),o.child;case 8:return Kr(i,o,o.pendingProps.children,u),o.child;case 12:return Kr(i,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Xs(o,o.type,h.value),Kr(i,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,dl(o),y=Gr(y),h=h(y),o.flags|=1,Kr(i,o,h,u),o.child;case 14:return xE(i,o,o.type,o.pendingProps,u);case 15:return yE(i,o,o.type,o.pendingProps,u);case 19:return jE(i,o,u);case 31:return pL(i,o,u);case 22:return bE(i,o,u,o.pendingProps);case 24:return dl(o),h=Gr(mr),i===null?(y=Zx(),y===null&&(y=Tt,v=Xx(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=u),y=v),o.memoizedState={parent:h,cache:y},ey(o),Xs(o,mr,y)):((i.lanes&u)!==0&&(ty(i,o),Rd(o,null,null,u),Id()),y=i.memoizedState,v=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Xs(o,mr,h)):(h=v.cache,Xs(o,mr,h),h!==y.cache&&Wx(o,[mr],u,!0))),Kr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Qi(i){i.flags|=4}function Dy(i,o,u,h,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(tS())i.flags|=8192;else throw ml=mm,Jx}else i.flags&=-16777217}function AE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qS(o))if(tS())i.flags|=8192;else throw ml=mm,Jx}function Om(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?uc():536870912,i.lanes|=o,$c|=o)}function Vd(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function xL(i,o,u){var h=o.pendingProps;switch(qx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(o),null;case 1:return Dt(o),null;case 3:return u=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ki(mr),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Ac(o)?Qi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gx())),Dt(o),null;case 26:var y=o.type,v=o.memoizedState;return i===null?(Qi(o),v!==null?(Dt(o),AE(o,v)):(Dt(o),Dy(o,y,null,h,u))):v?v!==i.memoizedState?(Qi(o),Dt(o),AE(o,v)):(Dt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Qi(o),Dt(o),Dy(o,y,i,h,u)),null;case 27:if(Le(o),u=Ne.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Qi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Dt(o),null}i=K.current,Ac(o)?lN(o):(i=DS(y,h,u),o.stateNode=i,Qi(o))}return Dt(o),null;case 5:if(Le(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Qi(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Dt(o),null}if(v=K.current,Ac(o))lN(o);else{var T=Gm(Ne.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?T.createElement(y,{is:h.is}):T.createElement(y)}}v[kt]=o,v[Cr]=h;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=v;e:switch(Yr(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Qi(o)}}return Dt(o),Dy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Qi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=Ne.current,Ac(o)){if(i=o.stateNode,u=o.memoizedProps,h=null,y=Fr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[kt]=o,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||ES(i.nodeValue,u)),i||Ws(o,!0)}else i=Gm(i).createTextNode(h),i[kt]=o,o.stateNode=i}return Dt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(h=Ac(o),u!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[kt]=o}else cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),i=!1}else u=Gx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Yn(o),o):(Yn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Dt(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ac(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[kt]=o}else cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),y=!1}else y=Gx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Yn(o),o):(Yn(o),null)}return Yn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Om(o,o.updateQueue),Dt(o),null);case 4:return le(),i===null&&ab(o.stateNode.containerInfo),Dt(o),null;case 10:return Ki(o.type),Dt(o),null;case 19:if(F(cr),h=o.memoizedState,h===null)return Dt(o),null;if(y=(o.flags&128)!==0,v=h.rendering,v===null)if(y)Vd(h,!1);else{if(nr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(v=ym(i),v!==null){for(o.flags|=128,Vd(h,!1),i=v.updateQueue,o.updateQueue=i,Om(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)nN(u,i),u=u.sibling;return oe(cr,cr.current&1|2),ot&&Fi(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Hr()>Dm&&(o.flags|=128,y=!0,Vd(h,!1),o.lanes=4194304)}else{if(!y)if(i=ym(v),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,Om(o,i),Vd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!ot)return Dt(o),null}else 2*Hr()-h.renderingStartTime>Dm&&u!==536870912&&(o.flags|=128,y=!0,Vd(h,!1),o.lanes=4194304);h.isBackwards?(v.sibling=o.child,o.child=v):(i=h.last,i!==null?i.sibling=v:o.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Hr(),i.sibling=null,u=cr.current,oe(cr,y?u&1|2:u&1),ot&&Fi(o,h.treeForkCount),i):(Dt(o),null);case 22:case 23:return Yn(o),iy(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Dt(o),o.subtreeFlags&6&&(o.flags|=8192)):Dt(o),u=o.updateQueue,u!==null&&Om(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),i!==null&&F(fl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ki(mr),Dt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function yL(i,o){switch(qx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ki(mr),le(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Le(o),null;case 31:if(o.memoizedState!==null){if(Yn(o),o.alternate===null)throw Error(n(340));cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Yn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return F(cr),null;case 4:return le(),null;case 10:return Ki(o.type),null;case 22:case 23:return Yn(o),iy(),i!==null&&F(fl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ki(mr),null;case 25:return null;default:return null}}function CE(i,o){switch(qx(o),o.tag){case 3:Ki(mr),le();break;case 26:case 27:case 5:Le(o);break;case 4:le();break;case 31:o.memoizedState!==null&&Yn(o);break;case 13:Yn(o);break;case 19:F(cr);break;case 10:Ki(o.type);break;case 22:case 23:Yn(o),iy(),i!==null&&F(fl);break;case 24:Ki(mr)}}function Ud(i,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&i)===i){h=void 0;var v=u.create,T=u.inst;h=v(),T.destroy=h}u=u.next}while(u!==y)}}catch(V){vt(o,o.return,V)}}function ro(i,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&i)===i){var T=h.inst,V=T.destroy;if(V!==void 0){T.destroy=void 0,y=o;var Y=u,ae=V;try{ae()}catch(he){vt(y,Y,he)}}}h=h.next}while(h!==v)}}catch(he){vt(o,o.return,he)}}function OE(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{wN(o,u)}catch(h){vt(i,i.return,h)}}}function IE(i,o,u){u.props=xl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){vt(i,o,h)}}function Bd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(y){vt(i,o,y)}}function xi(i,o){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){vt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){vt(i,o,y)}else u.current=null}function RE(i){var o=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){vt(i,i.return,y)}}function zy(i,o,u){try{var h=i.stateNode;UL(h,i.type,u,o),h[Cr]=o}catch(y){vt(i,i.return,y)}}function PE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&co(i.type)||i.tag===4}function Ly(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||PE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&co(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vy(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ra));else if(h!==4&&(h===27&&co(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Vy(i,o,u),i=i.sibling;i!==null;)Vy(i,o,u),i=i.sibling}function Im(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(h===27&&co(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Im(i,o,u),i=i.sibling;i!==null;)Im(i,o,u),i=i.sibling}function ME(i){var o=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Yr(o,h,u),o[kt]=i,o[Cr]=u}catch(v){vt(i,i.return,v)}}var Zi=!1,xr=!1,Uy=!1,DE=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function bL(i,o){if(i=i.containerInfo,ob=Jm,i=Y_(i),Rx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,V=-1,Y=-1,ae=0,he=0,xe=i,se=null;t:for(;;){for(var ue;xe!==u||y!==0&&xe.nodeType!==3||(V=T+y),xe!==v||h!==0&&xe.nodeType!==3||(Y=T+h),xe.nodeType===3&&(T+=xe.nodeValue.length),(ue=xe.firstChild)!==null;)se=xe,xe=ue;for(;;){if(xe===i)break t;if(se===u&&++ae===y&&(V=T),se===v&&++he===h&&(Y=T),(ue=xe.nextSibling)!==null)break;xe=se,se=xe.parentNode}xe=ue}u=V===-1||Y===-1?null:{start:V,end:Y}}else u=null}u=u||{start:0,end:0}}else u=null;for(lb={focusedElem:i,selectionRange:u},Jm=!1,Ir=o;Ir!==null;)if(o=Ir,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ir=i;else for(;Ir!==null;){switch(o=Ir,v=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)y=i[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,u=o,y=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var Ae=xl(u.type,y);i=h.getSnapshotBeforeUpdate(Ae,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){vt(u,u.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)db(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":db(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Ir=i;break}Ir=o.return}}function zE(i,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:es(i,u),h&4&&Ud(5,u);break;case 1:if(es(i,u),h&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(T){vt(u,u.return,T)}else{var y=xl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(u,u.return,T)}}h&64&&OE(u),h&512&&Bd(u,u.return);break;case 3:if(es(i,u),h&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{wN(i,o)}catch(T){vt(u,u.return,T)}}break;case 27:o===null&&h&4&&ME(u);case 26:case 5:es(i,u),o===null&&h&4&&RE(u),h&512&&Bd(u,u.return);break;case 12:es(i,u);break;case 31:es(i,u),h&4&&UE(i,u);break;case 13:es(i,u),h&4&&BE(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=TL.bind(null,u),YL(i,u))));break;case 22:if(h=u.memoizedState!==null||Zi,!h){o=o!==null&&o.memoizedState!==null||xr,y=Zi;var v=xr;Zi=h,(xr=o)&&!v?ts(i,u,(u.subtreeFlags&8772)!==0):es(i,u),Zi=y,xr=v}break;case 30:break;default:es(i,u)}}function LE(i){var o=i.alternate;o!==null&&(i.alternate=null,LE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&fc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,jn=!1;function Ji(i,o,u){for(u=u.child;u!==null;)VE(i,o,u),u=u.sibling}function VE(i,o,u){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(kn,u)}catch{}switch(u.tag){case 26:xr||xi(u,o),Ji(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xr||xi(u,o);var h=qt,y=jn;co(u.type)&&(qt=u.stateNode,jn=!1),Ji(i,o,u),Xd(u.stateNode),qt=h,jn=y;break;case 5:xr||xi(u,o);case 6:if(h=qt,y=jn,qt=null,Ji(i,o,u),qt=h,jn=y,qt!==null)if(jn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(v){vt(u,o,v)}else try{qt.removeChild(u.stateNode)}catch(v){vt(u,o,v)}break;case 18:qt!==null&&(jn?(i=qt,OS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Xc(i)):OS(qt,u.stateNode));break;case 4:h=qt,y=jn,qt=u.stateNode.containerInfo,jn=!0,Ji(i,o,u),qt=h,jn=y;break;case 0:case 11:case 14:case 15:ro(2,u,o),xr||ro(4,u,o),Ji(i,o,u);break;case 1:xr||(xi(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&IE(u,o,h)),Ji(i,o,u);break;case 21:Ji(i,o,u);break;case 22:xr=(h=xr)||u.memoizedState!==null,Ji(i,o,u),xr=h;break;default:Ji(i,o,u)}}function UE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(u){vt(o,o.return,u)}}}function BE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(u){vt(o,o.return,u)}}function vL(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new DE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new DE),o;default:throw Error(n(435,i.tag))}}function Rm(i,o){var u=vL(i);o.forEach(function(h){if(!u.has(h)){u.add(h);var y=AL.bind(null,i,h);h.then(y,y)}})}function Tn(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],v=i,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 27:if(co(V.type)){qt=V.stateNode,jn=!1;break e}break;case 5:qt=V.stateNode,jn=!1;break e;case 3:case 4:qt=V.stateNode.containerInfo,jn=!0;break e}V=V.return}if(qt===null)throw Error(n(160));VE(v,T,y),qt=null,jn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)$E(o,i),o=o.sibling}var Va=null;function $E(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(o,i),An(i),h&4&&(ro(3,i,i.return),Ud(3,i),ro(5,i,i.return));break;case 1:Tn(o,i),An(i),h&512&&(xr||u===null||xi(u,u.return)),h&64&&Zi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Va;if(Tn(o,i),An(i),h&512&&(xr||u===null||xi(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[ni]||v[kt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),Yr(v,h,u),v[kt]=i,fr(v),h=v;break e;case"link":var T=$S("link","href",y).get(h+(u.href||""));if(T){for(var V=0;V<T.length;V++)if(v=T[V],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(V,1);break t}}v=y.createElement(h),Yr(v,h,u),y.head.appendChild(v);break;case"meta":if(T=$S("meta","content",y).get(h+(u.content||""))){for(V=0;V<T.length;V++)if(v=T[V],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(V,1);break t}}v=y.createElement(h),Yr(v,h,u),y.head.appendChild(v);break;default:throw Error(n(468,h))}v[kt]=i,fr(v),h=v}i.stateNode=h}else HS(y,i.type,i.stateNode);else i.stateNode=BS(y,h,i.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?HS(y,i.type,i.stateNode):BS(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&zy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Tn(o,i),An(i),h&512&&(xr||u===null||xi(u,u.return)),u!==null&&h&4&&zy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Tn(o,i),An(i),h&512&&(xr||u===null||xi(u,u.return)),i.flags&32){y=i.stateNode;try{Sn(y,"")}catch(Ae){vt(i,i.return,Ae)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,zy(i,y,u!==null?u.memoizedProps:y)),h&1024&&(Uy=!0);break;case 6:if(Tn(o,i),An(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Ae){vt(i,i.return,Ae)}}break;case 3:if(Wm=null,y=Va,Va=Km(o.containerInfo),Tn(o,i),Va=y,An(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xc(o.containerInfo)}catch(Ae){vt(i,i.return,Ae)}Uy&&(Uy=!1,HE(i));break;case 4:h=Va,Va=Km(i.stateNode.containerInfo),Tn(o,i),An(i),Va=h;break;case 12:Tn(o,i),An(i);break;case 31:Tn(o,i),An(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rm(i,h)));break;case 13:Tn(o,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mm=Hr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rm(i,h)));break;case 22:y=i.memoizedState!==null;var Y=u!==null&&u.memoizedState!==null,ae=Zi,he=xr;if(Zi=ae||y,xr=he||Y,Tn(o,i),xr=he,Zi=ae,An(i),h&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||Y||Zi||xr||yl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){Y=u=o;try{if(v=Y.stateNode,y)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{V=Y.stateNode;var xe=Y.memoizedProps.style,se=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;V.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ae){vt(Y,Y.return,Ae)}}}else if(o.tag===6){if(u===null){Y=o;try{Y.stateNode.nodeValue=y?"":Y.memoizedProps}catch(Ae){vt(Y,Y.return,Ae)}}}else if(o.tag===18){if(u===null){Y=o;try{var ue=Y.stateNode;y?IS(ue,!0):IS(Y.stateNode,!1)}catch(Ae){vt(Y,Y.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Rm(i,u))));break;case 19:Tn(o,i),An(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rm(i,h)));break;case 30:break;case 21:break;default:Tn(o,i),An(i)}}function An(i){var o=i.flags;if(o&2){try{for(var u,h=i.return;h!==null;){if(PE(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,v=Ly(i);Im(i,v,y);break;case 5:var T=u.stateNode;u.flags&32&&(Sn(T,""),u.flags&=-33);var V=Ly(i);Im(i,V,T);break;case 3:case 4:var Y=u.stateNode.containerInfo,ae=Ly(i);Vy(i,ae,Y);break;default:throw Error(n(161))}}catch(he){vt(i,i.return,he)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;HE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function es(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)zE(i,o.alternate,o),o=o.sibling}function yl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ro(4,o,o.return),yl(o);break;case 1:xi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&IE(o,o.return,u),yl(o);break;case 27:Xd(o.stateNode);case 26:case 5:xi(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}i=i.sibling}}function ts(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=i,v=o,T=v.flags;switch(v.tag){case 0:case 11:case 15:ts(y,v,u),Ud(4,v);break;case 1:if(ts(y,v,u),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){vt(h,h.return,ae)}if(h=v,y=h.updateQueue,y!==null){var V=h.stateNode;try{var Y=y.shared.hiddenCallbacks;if(Y!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Y.length;y++)vN(Y[y],V)}catch(ae){vt(h,h.return,ae)}}u&&T&64&&OE(v),Bd(v,v.return);break;case 27:ME(v);case 26:case 5:ts(y,v,u),u&&h===null&&T&4&&RE(v),Bd(v,v.return);break;case 12:ts(y,v,u);break;case 31:ts(y,v,u),u&&T&4&&UE(y,v);break;case 13:ts(y,v,u),u&&T&4&&BE(y,v);break;case 22:v.memoizedState===null&&ts(y,v,u),Bd(v,v.return);break;case 30:break;default:ts(y,v,u)}o=o.sibling}}function By(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&jd(u))}function $y(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&jd(i))}function Ua(i,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qE(i,o,u,h),o=o.sibling}function qE(i,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ua(i,o,u,h),y&2048&&Ud(9,o);break;case 1:Ua(i,o,u,h);break;case 3:Ua(i,o,u,h),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&jd(i)));break;case 12:if(y&2048){Ua(i,o,u,h),i=o.stateNode;try{var v=o.memoizedProps,T=v.id,V=v.onPostCommit;typeof V=="function"&&V(T,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){vt(o,o.return,Y)}}else Ua(i,o,u,h);break;case 31:Ua(i,o,u,h);break;case 13:Ua(i,o,u,h);break;case 23:break;case 22:v=o.stateNode,T=o.alternate,o.memoizedState!==null?v._visibility&2?Ua(i,o,u,h):$d(i,o):v._visibility&2?Ua(i,o,u,h):(v._visibility|=2,Vc(i,o,u,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&By(T,o);break;case 24:Ua(i,o,u,h),y&2048&&$y(o.alternate,o);break;default:Ua(i,o,u,h)}}function Vc(i,o,u,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=i,T=o,V=u,Y=h,ae=T.flags;switch(T.tag){case 0:case 11:case 15:Vc(v,T,V,Y,y),Ud(8,T);break;case 23:break;case 22:var he=T.stateNode;T.memoizedState!==null?he._visibility&2?Vc(v,T,V,Y,y):$d(v,T):(he._visibility|=2,Vc(v,T,V,Y,y)),y&&ae&2048&&By(T.alternate,T);break;case 24:Vc(v,T,V,Y,y),y&&ae&2048&&$y(T.alternate,T);break;default:Vc(v,T,V,Y,y)}o=o.sibling}}function $d(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,h=o,y=h.flags;switch(h.tag){case 22:$d(u,h),y&2048&&By(h.alternate,h);break;case 24:$d(u,h),y&2048&&$y(h.alternate,h);break;default:$d(u,h)}o=o.sibling}}var Hd=8192;function Uc(i,o,u){if(i.subtreeFlags&Hd)for(i=i.child;i!==null;)FE(i,o,u),i=i.sibling}function FE(i,o,u){switch(i.tag){case 26:Uc(i,o,u),i.flags&Hd&&i.memoizedState!==null&&s9(u,Va,i.memoizedState,i.memoizedProps);break;case 5:Uc(i,o,u);break;case 3:case 4:var h=Va;Va=Km(i.stateNode.containerInfo),Uc(i,o,u),Va=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Hd,Hd=16777216,Uc(i,o,u),Hd=h):Uc(i,o,u));break;default:Uc(i,o,u)}}function GE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function qd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,YE(h,i)}GE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KE(i),i=i.sibling}function KE(i){switch(i.tag){case 0:case 11:case 15:qd(i),i.flags&2048&&ro(9,i,i.return);break;case 3:qd(i);break;case 12:qd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Pm(i)):qd(i);break;default:qd(i)}}function Pm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,YE(h,i)}GE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ro(8,o,o.return),Pm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Pm(o));break;default:Pm(o)}i=i.sibling}}function YE(i,o){for(;Ir!==null;){var u=Ir;switch(u.tag){case 0:case 11:case 15:ro(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:jd(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ir=h;else e:for(u=i;Ir!==null;){h=Ir;var y=h.sibling,v=h.return;if(LE(h),h===u){Ir=null;break e}if(y!==null){y.return=v,Ir=y;break e}Ir=v}}}var wL={getCacheForType:function(i){var o=Gr(mr),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Gr(mr).controller.signal}},kL=typeof WeakMap=="function"?WeakMap:Map,mt=0,Tt=null,Je=null,tt=0,bt=0,Wn=null,no=!1,Bc=!1,Hy=!1,rs=0,nr=0,ao=0,bl=0,qy=0,Xn=0,$c=0,Fd=null,Cn=null,Fy=!1,Mm=0,WE=0,Dm=1/0,zm=null,io=null,kr=0,so=null,Hc=null,ns=0,Gy=0,Ky=null,XE=null,Gd=0,Yy=null;function Qn(){return(mt&2)!==0&&tt!==0?tt&-tt:G.T!==null?eb():Fe()}function QE(){if(Xn===0)if((tt&536870912)===0||ot){var i=ti;ti<<=1,(ti&3932160)===0&&(ti=262144),Xn=i}else Xn=536870912;return i=Kn.current,i!==null&&(i.flags|=32),Xn}function On(i,o,u){(i===Tt&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(qc(i,0),oo(i,tt,Xn,!1)),ne(i,u),((mt&2)===0||i!==Tt)&&(i===Tt&&((mt&2)===0&&(bl|=u),nr===4&&oo(i,tt,Xn,!1)),yi(i))}function ZE(i,o,u){if((mt&6)!==0)throw Error(n(327));var h=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Nn(i,o),y=h?EL(i,o):Xy(i,o,!0),v=h;do{if(y===0){Bc&&!h&&oo(i,o,0,!1);break}else{if(u=i.current.alternate,v&&!_L(u)){y=Xy(i,o,!1),v=!1;continue}if(y===2){if(v=o,i.errorRecoveryDisabledLanes&v)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var V=i;y=Fd;var Y=V.current.memoizedState.isDehydrated;if(Y&&(qc(V,T).flags|=256),T=Xy(V,T,!1),T!==2){if(Hy&&!Y){V.errorRecoveryDisabledLanes|=v,bl|=v,y=4;break e}v=Cn,Cn=y,v!==null&&(Cn===null?Cn=v:Cn.push.apply(Cn,v))}y=T}if(v=!1,y!==2)continue}}if(y===1){qc(i,0),oo(i,o,0,!0);break}e:{switch(h=i,v=y,v){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:oo(h,o,Xn,!no);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=Mm+300-Hr(),10<y)){if(oo(h,o,Xn,!no),Bn(h,0,!0)!==0)break e;ns=o,h.timeoutHandle=AS(JE.bind(null,h,u,Cn,zm,Fy,o,Xn,bl,$c,no,v,"Throttled",-0,0),y);break e}JE(h,u,Cn,zm,Fy,o,Xn,bl,$c,no,v,null,-0,0)}}break}while(!0);yi(i)}function JE(i,o,u,h,y,v,T,V,Y,ae,he,xe,se,ue){if(i.timeoutHandle=-1,xe=o.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},FE(o,v,xe);var Ae=(v&62914560)===v?Mm-Hr():(v&4194048)===v?WE-Hr():0;if(Ae=o9(xe,Ae),Ae!==null){ns=v,i.cancelPendingCommit=Ae(oS.bind(null,i,o,v,u,h,y,T,V,Y,he,xe,null,se,ue)),oo(i,v,T,!ae);return}}oS(i,o,v,u,h,y,T,V,Y)}function _L(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],v=y.getSnapshot;y=y.value;try{if(!Fn(v(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function oo(i,o,u,h){o&=~qy,o&=~bl,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var y=o;0<y;){var v=31-Wt(y),T=1<<v;h[v]=-1,y&=~T}u!==0&&ve(i,u,o)}function Lm(){return(mt&6)===0?(Kd(0),!1):!0}function Wy(){if(Je!==null){if(bt===0)var i=Je.return;else i=Je,Gi=ul=null,dy(i),Pc=null,Ad=0,i=Je;for(;i!==null;)CE(i.alternate,i),i=i.return;Je=null}}function qc(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,HL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ns=0,Wy(),Tt=i,Je=u=qi(i.current,null),tt=o,bt=0,Wn=null,no=!1,Bc=Nn(i,o),Hy=!1,$c=Xn=qy=bl=ao=nr=0,Cn=Fd=null,Fy=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var y=31-Wt(h),v=1<<y;o|=i[y],h&=~v}return rs=o,im(),u}function eS(i,o){Qe=null,G.H=zd,o===Rc||o===hm?(o=gN(),bt=3):o===Jx?(o=gN(),bt=4):bt=o===jy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wn=o,Je===null&&(nr=1,jm(i,ha(o,i.current)))}function tS(){var i=Kn.current;return i===null?!0:(tt&4194048)===tt?xa===null:(tt&62914560)===tt||(tt&536870912)!==0?i===xa:!1}function rS(){var i=G.H;return G.H=zd,i===null?zd:i}function nS(){var i=G.A;return G.A=wL,i}function Vm(){nr=4,no||(tt&4194048)!==tt&&Kn.current!==null||(Bc=!0),(ao&134217727)===0&&(bl&134217727)===0||Tt===null||oo(Tt,tt,Xn,!1)}function Xy(i,o,u){var h=mt;mt|=2;var y=rS(),v=nS();(Tt!==i||tt!==o)&&(zm=null,qc(i,o)),o=!1;var T=nr;e:do try{if(bt!==0&&Je!==null){var V=Je,Y=Wn;switch(bt){case 8:Wy(),T=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(o=!0);var ae=bt;if(bt=0,Wn=null,Fc(i,V,Y,ae),u&&Bc){T=0;break e}break;default:ae=bt,bt=0,Wn=null,Fc(i,V,Y,ae)}}NL(),T=nr;break}catch(he){eS(i,he)}while(!0);return o&&i.shellSuspendCounter++,Gi=ul=null,mt=h,G.H=y,G.A=v,Je===null&&(Tt=null,tt=0,im()),T}function NL(){for(;Je!==null;)aS(Je)}function EL(i,o){var u=mt;mt|=2;var h=rS(),y=nS();Tt!==i||tt!==o?(zm=null,Dm=Hr()+500,qc(i,o)):Bc=Nn(i,o);e:do try{if(bt!==0&&Je!==null){o=Je;var v=Wn;t:switch(bt){case 1:bt=0,Wn=null,Fc(i,o,v,1);break;case 2:case 9:if(mN(v)){bt=0,Wn=null,iS(o);break}o=function(){bt!==2&&bt!==9||Tt!==i||(bt=7),yi(i)},v.then(o,o);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:mN(v)?(bt=0,Wn=null,iS(o)):(bt=0,Wn=null,Fc(i,o,v,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var V=Je;if(T?qS(T):V.stateNode.complete){bt=0,Wn=null;var Y=V.sibling;if(Y!==null)Je=Y;else{var ae=V.return;ae!==null?(Je=ae,Um(ae)):Je=null}break t}}bt=0,Wn=null,Fc(i,o,v,5);break;case 6:bt=0,Wn=null,Fc(i,o,v,6);break;case 8:Wy(),nr=6;break e;default:throw Error(n(462))}}SL();break}catch(he){eS(i,he)}while(!0);return Gi=ul=null,G.H=h,G.A=y,mt=u,Je!==null?0:(Tt=null,tt=0,im(),nr)}function SL(){for(;Je!==null&&!nd();)aS(Je)}function aS(i){var o=TE(i.alternate,i,rs);i.memoizedProps=i.pendingProps,o===null?Um(i):Je=o}function iS(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=kE(u,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=kE(u,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:dy(o);default:CE(u,o),o=Je=nN(o,rs),o=TE(u,o,rs)}i.memoizedProps=i.pendingProps,o===null?Um(i):Je=o}function Fc(i,o,u,h){Gi=ul=null,dy(o),Pc=null,Ad=0;var y=o.return;try{if(mL(i,y,o,u,tt)){nr=1,jm(i,ha(u,i.current)),Je=null;return}}catch(v){if(y!==null)throw Je=y,v;nr=1,jm(i,ha(u,i.current)),Je=null;return}o.flags&32768?(ot||h===1?i=!0:Bc||(tt&536870912)!==0?i=!1:(no=i=!0,(h===2||h===9||h===3||h===6)&&(h=Kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),sS(o,i)):Um(o)}function Um(i){var o=i;do{if((o.flags&32768)!==0){sS(o,no);return}i=o.return;var u=xL(o.alternate,o,rs);if(u!==null){Je=u;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);nr===0&&(nr=5)}function sS(i,o){do{var u=yL(i.alternate,i);if(u!==null){u.flags&=32767,Je=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Je=i;return}Je=i=u}while(i!==null);nr=6,Je=null}function oS(i,o,u,h,y,v,T,V,Y){i.cancelPendingCommit=null;do Bm();while(kr!==0);if((mt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(v=o.lanes|o.childLanes,v|=Lx,ke(i,u,v,T,V,Y),i===Tt&&(Je=Tt=null,tt=0),Hc=o,so=i,ns=u,Gy=v,Ky=y,XE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CL($t,function(){return fS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,y=Q.p,Q.p=2,T=mt,mt|=4;try{bL(i,o,u)}finally{mt=T,Q.p=y,G.T=h}}kr=1,lS(),cS(),uS()}}function lS(){if(kr===1){kr=0;var i=so,o=Hc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var h=Q.p;Q.p=2;var y=mt;mt|=4;try{$E(o,i);var v=lb,T=Y_(i.containerInfo),V=v.focusedElem,Y=v.selectionRange;if(T!==V&&V&&V.ownerDocument&&K_(V.ownerDocument.documentElement,V)){if(Y!==null&&Rx(V)){var ae=Y.start,he=Y.end;if(he===void 0&&(he=ae),"selectionStart"in V)V.selectionStart=ae,V.selectionEnd=Math.min(he,V.value.length);else{var xe=V.ownerDocument||document,se=xe&&xe.defaultView||window;if(se.getSelection){var ue=se.getSelection(),Ae=V.textContent.length,Ue=Math.min(Y.start,Ae),St=Y.end===void 0?Ue:Math.min(Y.end,Ae);!ue.extend&&Ue>St&&(T=St,St=Ue,Ue=T);var Z=G_(V,Ue),X=G_(V,St);if(Z&&X&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var re=xe.createRange();re.setStart(Z.node,Z.offset),ue.removeAllRanges(),Ue>St?(ue.addRange(re),ue.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ue.addRange(re))}}}}for(xe=[],ue=V;ue=ue.parentNode;)ue.nodeType===1&&xe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<xe.length;V++){var pe=xe[V];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Jm=!!ob,lb=ob=null}finally{mt=y,Q.p=h,G.T=u}}i.current=o,kr=2}}function cS(){if(kr===2){kr=0;var i=so,o=Hc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var h=Q.p;Q.p=2;var y=mt;mt|=4;try{zE(i,o.alternate,o)}finally{mt=y,Q.p=h,G.T=u}}kr=3}}function uS(){if(kr===4||kr===3){kr=0,Ko();var i=so,o=Hc,u=ns,h=XE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kr=5:(kr=0,Hc=so=null,dS(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(io=null),tr(u),o=o.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(kn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=G.T,y=Q.p,Q.p=2,G.T=null;try{for(var v=i.onRecoverableError,T=0;T<h.length;T++){var V=h[T];v(V.value,{componentStack:V.stack})}}finally{G.T=o,Q.p=y}}(ns&3)!==0&&Bm(),yi(i),y=i.pendingLanes,(u&261930)!==0&&(y&42)!==0?i===Yy?Gd++:(Gd=0,Yy=i):Gd=0,Kd(0)}}function dS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,jd(o)))}function Bm(){return lS(),cS(),uS(),fS()}function fS(){if(kr!==5)return!1;var i=so,o=Gy;Gy=0;var u=tr(ns),h=G.T,y=Q.p;try{Q.p=32>u?32:u,G.T=null,u=Ky,Ky=null;var v=so,T=ns;if(kr=0,Hc=so=null,ns=0,(mt&6)!==0)throw Error(n(331));var V=mt;if(mt|=4,KE(v.current),qE(v,v.current,T,u),mt=V,Kd(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(kn,v)}catch{}return!0}finally{Q.p=y,G.T=h,dS(i,o)}}function hS(i,o,u){o=ha(u,o),o=Sy(i.stateNode,o,2),i=Js(i,o,2),i!==null&&(ne(i,2),yi(i))}function vt(i,o,u){if(i.tag===3)hS(i,i,u);else for(;o!==null;){if(o.tag===3){hS(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(io===null||!io.has(h))){i=ha(u,i),u=mE(2),h=Js(o,u,2),h!==null&&(pE(u,h,o,i),ne(h,2),yi(h));break}}o=o.return}}function Qy(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new kL;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(Hy=!0,y.add(u),i=jL.bind(null,i,o,u),o.then(i,i))}function jL(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Tt===i&&(tt&u)===u&&(nr===4||nr===3&&(tt&62914560)===tt&&300>Hr()-Mm?(mt&2)===0&&qc(i,0):qy|=u,$c===tt&&($c=0)),yi(i)}function mS(i,o){o===0&&(o=uc()),i=ol(i,o),i!==null&&(ne(i,o),yi(i))}function TL(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),mS(i,u)}function AL(i,o){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),mS(i,u)}function CL(i,o){return Bt(i,o)}var $m=null,Gc=null,Zy=!1,Hm=!1,Jy=!1,lo=0;function yi(i){i!==Gc&&i.next===null&&(Gc===null?$m=Gc=i:Gc=Gc.next=i),Hm=!0,Zy||(Zy=!0,IL())}function Kd(i,o){if(!Jy&&Hm){Jy=!0;do for(var u=!1,h=$m;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var T=h.suspendedLanes,V=h.pingedLanes;v=(1<<31-Wt(42|i)+1)-1,v&=y&~(T&~V),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,yS(h,v))}else v=tt,v=Bn(h,h===Tt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Nn(h,v)||(u=!0,yS(h,v));h=h.next}while(u);Jy=!1}}function OL(){pS()}function pS(){Hm=Zy=!1;var i=0;lo!==0&&$L()&&(i=lo);for(var o=Hr(),u=null,h=$m;h!==null;){var y=h.next,v=gS(h,o);v===0?(h.next=null,u===null?$m=y:u.next=y,y===null&&(Gc=u)):(u=h,(i!==0||(v&3)!==0)&&(Hm=!0)),h=y}kr!==0&&kr!==5||Kd(i),lo!==0&&(lo=0)}function gS(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var T=31-Wt(v),V=1<<T,Y=y[T];Y===-1?((V&u)===0||(V&h)!==0)&&(y[T]=id(V,o)):Y<=o&&(i.expiredLanes|=V),v&=~V}if(o=Tt,u=tt,u=Bn(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===o&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&De(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Nn(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(h!==null&&De(h),tr(u)){case 2:case 8:u=Ps;break;case 32:u=$t;break;case 268435456:u=Yo;break;default:u=$t}return h=xS.bind(null,i),u=Bt(u,h),i.callbackPriority=o,i.callbackNode=u,o}return h!==null&&h!==null&&De(h),i.callbackPriority=2,i.callbackNode=null,2}function xS(i,o){if(kr!==0&&kr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Bm()&&i.callbackNode!==u)return null;var h=tt;return h=Bn(i,i===Tt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(ZE(i,h,o),gS(i,Hr()),i.callbackNode!=null&&i.callbackNode===u?xS.bind(null,i):null)}function yS(i,o){if(Bm())return null;ZE(i,o,!0)}function IL(){qL(function(){(mt&6)!==0?Bt(Rs,OL):pS()})}function eb(){if(lo===0){var i=Oc;i===0&&(i=Un,Un<<=1,(Un&261888)===0&&(Un=256)),lo=i}return lo}function bS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gc(""+i)}function vS(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function RL(i,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var v=bS((y[Cr]||null).action),T=h.submitter;T&&(o=(o=T[Cr]||null)?bS(o.formAction):T.getAttribute("formAction"),o!==null&&(v=o,T=null));var V=new di("action","action",null,h,y);i.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(lo!==0){var Y=T?vS(y,T):new FormData(y);vy(u,{pending:!0,data:Y,method:y.method,action:v},null,Y)}}else typeof v=="function"&&(V.preventDefault(),Y=T?vS(y,T):new FormData(y),vy(u,{pending:!0,data:Y,method:y.method,action:v},v,Y))},currentTarget:y}]})}}for(var tb=0;tb<zx.length;tb++){var rb=zx[tb],PL=rb.toLowerCase(),ML=rb[0].toUpperCase()+rb.slice(1);La(PL,"on"+ML)}La(Q_,"onAnimationEnd"),La(Z_,"onAnimationIteration"),La(J_,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(Qz,"onTransitionRun"),La(Zz,"onTransitionStart"),La(Jz,"onTransitionCancel"),La(eN,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function wS(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],y=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var V=h[T],Y=V.instance,ae=V.currentTarget;if(V=V.listener,Y!==v&&y.isPropagationStopped())break e;v=V,y.currentTarget=ae;try{v(y)}catch(he){am(he)}y.currentTarget=null,v=Y}else for(T=0;T<h.length;T++){if(V=h[T],Y=V.instance,ae=V.currentTarget,V=V.listener,Y!==v&&y.isPropagationStopped())break e;v=V,y.currentTarget=ae;try{v(y)}catch(he){am(he)}y.currentTarget=null,v=Y}}}}function et(i,o){var u=o[dc];u===void 0&&(u=o[dc]=new Set);var h=i+"__bubble";u.has(h)||(kS(o,i,2,!1),u.add(h))}function nb(i,o,u){var h=0;o&&(h|=4),kS(u,i,h,o)}var qm="_reactListening"+Math.random().toString(36).slice(2);function ab(i){if(!i[qm]){i[qm]=!0,sd.forEach(function(u){u!=="selectionchange"&&(DL.has(u)||nb(u,!1,i),nb(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[qm]||(o[qm]=!0,nb("selectionchange",!1,o))}}function kS(i,o,u,h){switch(QS(o)){case 2:var y=u9;break;case 8:y=d9;break;default:y=bb}u=y.bind(null,o,u,i),y=void 0,!Jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function ib(i,o,u,h,y){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var V=h.stateNode.containerInfo;if(V===y)break;if(T===4)for(T=h.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;V!==null;){if(T=ai(V),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){h=v=T;continue e}V=V.parentNode}}h=h.return}Hs(function(){var ae=v,he=ca(u),xe=[];e:{var se=tN.get(i);if(se!==void 0){var ue=di,Ae=i;switch(i){case"keypress":if(tl(u)===0)break e;case"keydown":case"keyup":ue=tm;break;case"focusin":Ae="focus",ue=nl;break;case"focusout":Ae="blur",ue=nl;break;case"beforeblur":case"afterblur":ue=nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=j;break;case Q_:case Z_:case J_:ue=Yh;break;case eN:ue=q;break;case"scroll":case"scrollend":ue=yd;break;case"wheel":ue=ce;break;case"copy":case"cut":case"paste":ue=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Hi;break;case"toggle":case"beforetoggle":ue=Xe}var Ue=(o&4)!==0,St=!Ue&&(i==="scroll"||i==="scrollend"),Z=Ue?se!==null?se+"Capture":null:se;Ue=[];for(var X=ae,re;X!==null;){var pe=X;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||Z===null||(pe=Pa(X,Z),pe!=null&&Ue.push(Wd(X,pe,re))),St)break;X=X.return}0<Ue.length&&(se=new ue(se,Ae,null,u,he),xe.push({event:se,listeners:Ue}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",se&&u!==pd&&(Ae=u.relatedTarget||u.fromElement)&&(ai(Ae)||Ae[ri]))break e;if((ue||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(Ae=u.relatedTarget||u.toElement,ue=ae,Ae=Ae?ai(Ae):null,Ae!==null&&(St=s(Ae),Ue=Ae.tag,Ae!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(Ae=null)):(ue=null,Ae=ae),ue!==Ae)){if(Ue=bd,pe="onMouseLeave",Z="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=Hi,pe="onPointerLeave",Z="onPointerEnter",X="pointer"),St=ue==null?se:Hn(ue),re=Ae==null?se:Hn(Ae),se=new Ue(pe,X+"leave",ue,u,he),se.target=St,se.relatedTarget=re,pe=null,ai(he)===ae&&(Ue=new Ue(Z,X+"enter",Ae,u,he),Ue.target=re,Ue.relatedTarget=St,pe=Ue),St=pe,ue&&Ae)t:{for(Ue=zL,Z=ue,X=Ae,re=0,pe=Z;pe;pe=Ue(pe))re++;pe=0;for(var ze=X;ze;ze=Ue(ze))pe++;for(;0<re-pe;)Z=Ue(Z),re--;for(;0<pe-re;)X=Ue(X),pe--;for(;re--;){if(Z===X||X!==null&&Z===X.alternate){Ue=Z;break t}Z=Ue(Z),X=Ue(X)}Ue=null}else Ue=null;ue!==null&&_S(xe,se,ue,Ue,!1),Ae!==null&&St!==null&&_S(xe,St,Ae,Ue,!0)}}e:{if(se=ae?Hn(ae):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var ct=U_;else if(L_(se))if(B_)ct=Yz;else{ct=Gz;var Re=Fz}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&pc(ae.elementType)&&(ct=U_):ct=Kz;if(ct&&(ct=ct(i,ae))){V_(xe,ct,u,he);break e}Re&&Re(i,se,ae),i==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&fd(se,"number",se.value)}switch(Re=ae?Hn(ae):window,i){case"focusin":(L_(Re)||Re.contentEditable==="true")&&(_c=Re,Px=ae,Nd=null);break;case"focusout":Nd=Px=_c=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,W_(xe,u,he);break;case"selectionchange":if(Xz)break;case"keydown":case"keyup":W_(xe,u,he)}var Ze;if(ht)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else kc?al(i,u)&&(rt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(mi&&u.locale!=="ko"&&(kc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&kc&&(Ze=xd()):(ui=he,gd="value"in ui?ui.value:ui.textContent,kc=!0)),Re=Fm(ae,rt),0<Re.length&&(rt=new hi(rt,i,null,u,he),xe.push({event:rt,listeners:Re}),Ze?rt.data=Ze:(Ze=wc(u),Ze!==null&&(rt.data=Ze)))),(Ze=da?Bz(i,u):$z(i,u))&&(rt=Fm(ae,"onBeforeInput"),0<rt.length&&(Re=new hi("onBeforeInput","beforeinput",null,u,he),xe.push({event:Re,listeners:rt}),Re.data=Ze)),RL(xe,i,ae,u,he)}wS(xe,o)})}function Wd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Fm(i,o){for(var u=o+"Capture",h=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Pa(i,u),y!=null&&h.unshift(Wd(i,y,v)),y=Pa(i,o),y!=null&&h.push(Wd(i,y,v))),i.tag===3)return h;i=i.return}return[]}function zL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _S(i,o,u,h,y){for(var v=o._reactName,T=[];u!==null&&u!==h;){var V=u,Y=V.alternate,ae=V.stateNode;if(V=V.tag,Y!==null&&Y===h)break;V!==5&&V!==26&&V!==27||ae===null||(Y=ae,y?(ae=Pa(u,v),ae!=null&&T.unshift(Wd(u,ae,Y))):y||(ae=Pa(u,v),ae!=null&&T.push(Wd(u,ae,Y)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var LL=/\r\n?/g,VL=/\u0000|\uFFFD/g;function NS(i){return(typeof i=="string"?i:""+i).replace(LL,`
`).replace(VL,"")}function ES(i,o){return o=NS(o),NS(i)===o}function Et(i,o,u,h,y,v){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Sn(i,""+h);break;case"className":qn(i,"class",h);break;case"tabIndex":qn(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(i,u,h);break;case"style":md(i,h,v);break;case"data":if(o!=="object"){qn(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=gc(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&Et(i,o,"name",y.name,y,null),Et(i,o,"formEncType",y.formEncType,y,null),Et(i,o,"formMethod",y.formMethod,y,null),Et(i,o,"formTarget",y.formTarget,y,null)):(Et(i,o,"encType",y.encType,y,null),Et(i,o,"method",y.method,y,null),Et(i,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=gc(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Ra);break;case"onScroll":h!=null&&et("scroll",i);break;case"onScrollEnd":h!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=gc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":et("beforetoggle",i),et("toggle",i),hc(i,"popover",h);break;case"xlinkActuate":hr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":hr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":hr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":hr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":hr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":hr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":hr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":hr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":hr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":hc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fh.get(u)||u,hc(i,u,h))}}function sb(i,o,u,h,y,v){switch(u){case"style":md(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&Sn(i,""+h);break;case"onScroll":h!=null&&et("scroll",i);break;case"onScrollEnd":h!=null&&et("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),v=i[Cr]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(o,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,h,y);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):hc(i,u,h)}}}function Yr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var h=!1,y=!1,v;for(v in u)if(u.hasOwnProperty(v)){var T=u[v];if(T!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Et(i,o,v,T,u,null)}}y&&Et(i,o,"srcSet",u.srcSet,u,null),h&&Et(i,o,"src",u.src,u,null);return;case"input":et("invalid",i);var V=v=T=y=null,Y=null,ae=null;for(h in u)if(u.hasOwnProperty(h)){var he=u[h];if(he!=null)switch(h){case"name":y=he;break;case"type":T=he;break;case"checked":Y=he;break;case"defaultChecked":ae=he;break;case"value":v=he;break;case"defaultValue":V=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,o));break;default:Et(i,o,h,he,u,null)}}$h(i,v,V,Y,ae,T,y,!1);return;case"select":et("invalid",i),h=T=v=null;for(y in u)if(u.hasOwnProperty(y)&&(V=u[y],V!=null))switch(y){case"value":v=V;break;case"defaultValue":T=V;break;case"multiple":h=V;default:Et(i,o,y,V,u,null)}o=v,u=T,i.multiple=!!h,o!=null?Vs(i,!!h,o,!1):u!=null&&Vs(i,!!h,u,!0);return;case"textarea":et("invalid",i),v=y=h=null;for(T in u)if(u.hasOwnProperty(T)&&(V=u[T],V!=null))switch(T){case"value":h=V;break;case"defaultValue":y=V;break;case"children":v=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:Et(i,o,T,V,u,null)}Us(i,h,y,v);return;case"option":for(Y in u)if(u.hasOwnProperty(Y)&&(h=u[Y],h!=null))switch(Y){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(i,o,Y,h,u,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(h=0;h<Yd.length;h++)et(Yd[h],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(h=u[ae],h!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Et(i,o,ae,h,u,null)}return;default:if(pc(o)){for(he in u)u.hasOwnProperty(he)&&(h=u[he],h!==void 0&&sb(i,o,he,h,u,void 0));return}}for(V in u)u.hasOwnProperty(V)&&(h=u[V],h!=null&&Et(i,o,V,h,u,null))}function UL(i,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,T=null,V=null,Y=null,ae=null,he=null;for(ue in u){var xe=u[ue];if(u.hasOwnProperty(ue)&&xe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=xe;default:h.hasOwnProperty(ue)||Et(i,o,ue,null,h,xe)}}for(var se in h){var ue=h[se];if(xe=u[se],h.hasOwnProperty(se)&&(ue!=null||xe!=null))switch(se){case"type":v=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":he=ue;break;case"value":T=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,o));break;default:ue!==xe&&Et(i,o,se,ue,h,xe)}}mc(i,T,V,Y,ae,he,v,y);return;case"select":ue=T=V=se=null;for(v in u)if(Y=u[v],u.hasOwnProperty(v)&&Y!=null)switch(v){case"value":break;case"multiple":ue=Y;default:h.hasOwnProperty(v)||Et(i,o,v,null,h,Y)}for(y in h)if(v=h[y],Y=u[y],h.hasOwnProperty(y)&&(v!=null||Y!=null))switch(y){case"value":se=v;break;case"defaultValue":V=v;break;case"multiple":T=v;default:v!==Y&&Et(i,o,y,v,h,Y)}o=V,u=T,h=ue,se!=null?Vs(i,!!u,se,!1):!!h!=!!u&&(o!=null?Vs(i,!!u,o,!0):Vs(i,!!u,u?[]:"",!1));return;case"textarea":ue=se=null;for(V in u)if(y=u[V],u.hasOwnProperty(V)&&y!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Et(i,o,V,null,h,y)}for(T in h)if(y=h[T],v=u[T],h.hasOwnProperty(T)&&(y!=null||v!=null))switch(T){case"value":se=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==v&&Et(i,o,T,y,h,v)}Hh(i,se,ue);return;case"option":for(var Ae in u)if(se=u[Ae],u.hasOwnProperty(Ae)&&se!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:Et(i,o,Ae,null,h,se)}for(Y in h)if(se=h[Y],ue=u[Y],h.hasOwnProperty(Y)&&se!==ue&&(se!=null||ue!=null))switch(Y){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Et(i,o,Y,se,h,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in u)se=u[Ue],u.hasOwnProperty(Ue)&&se!=null&&!h.hasOwnProperty(Ue)&&Et(i,o,Ue,null,h,se);for(ae in h)if(se=h[ae],ue=u[ae],h.hasOwnProperty(ae)&&se!==ue&&(se!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,o));break;default:Et(i,o,ae,se,h,ue)}return;default:if(pc(o)){for(var St in u)se=u[St],u.hasOwnProperty(St)&&se!==void 0&&!h.hasOwnProperty(St)&&sb(i,o,St,void 0,h,se);for(he in h)se=h[he],ue=u[he],!h.hasOwnProperty(he)||se===ue||se===void 0&&ue===void 0||sb(i,o,he,se,h,ue);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!h.hasOwnProperty(Z)&&Et(i,o,Z,null,h,se);for(xe in h)se=h[xe],ue=u[xe],!h.hasOwnProperty(xe)||se===ue||se==null&&ue==null||Et(i,o,xe,se,h,ue)}function SS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],v=y.transferSize,T=y.initiatorType,V=y.duration;if(v&&V&&SS(T)){for(T=0,V=y.responseEnd,h+=1;h<u.length;h++){var Y=u[h],ae=Y.startTime;if(ae>V)break;var he=Y.transferSize,xe=Y.initiatorType;he&&SS(xe)&&(Y=Y.responseEnd,T+=he*(Y<V?1:(V-ae)/(Y-ae)))}if(--h,o+=8*(v+T)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ob=null,lb=null;function Gm(i){return i.nodeType===9?i:i.ownerDocument}function jS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function cb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ub=null;function $L(){var i=window.event;return i&&i.type==="popstate"?i===ub?!1:(ub=i,!0):(ub=null,!1)}var AS=typeof setTimeout=="function"?setTimeout:void 0,HL=typeof clearTimeout=="function"?clearTimeout:void 0,CS=typeof Promise=="function"?Promise:void 0,qL=typeof queueMicrotask=="function"?queueMicrotask:typeof CS<"u"?function(i){return CS.resolve(null).then(i).catch(FL)}:AS;function FL(i){setTimeout(function(){throw i})}function co(i){return i==="head"}function OS(i,o){var u=o,h=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(y),Xc(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Xd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Xd(u);for(var v=u.firstChild;v;){var T=v.nextSibling,V=v.nodeName;v[ni]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=T}}else u==="body"&&Xd(i.ownerDocument.body);u=y}while(u);Xc(o)}function IS(i,o){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function db(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":db(u),fc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function GL(i,o,u,h){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ni])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=ya(i.nextSibling),i===null)break}return null}function KL(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ya(i.nextSibling),i===null))return null;return i}function RS(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ya(i.nextSibling),i===null))return null;return i}function fb(i){return i.data==="$?"||i.data==="$~"}function hb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function YL(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ya(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var mb=null;function PS(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return ya(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function MS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function DS(i,o,u){switch(o=Gm(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Xd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);fc(i)}var ba=new Map,zS=new Set;function Km(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var as=Q.d;Q.d={f:WL,r:XL,D:QL,C:ZL,L:JL,m:e9,X:r9,S:t9,M:n9};function WL(){var i=as.f(),o=Lm();return i||o}function XL(i){var o=la(i);o!==null&&o.tag===5&&o.type==="form"?eE(o):as.r(i)}var Kc=typeof document>"u"?null:document;function LS(i,o,u){var h=Kc;if(h&&typeof o=="string"&&o){var y=En(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),zS.has(y)||(zS.add(y),i={rel:i,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Yr(o,"link",i),fr(o),h.head.appendChild(o)))}}function QL(i){as.D(i),LS("dns-prefetch",i,null)}function ZL(i,o){as.C(i,o),LS("preconnect",i,o)}function JL(i,o,u){as.L(i,o,u);var h=Kc;if(h&&i&&o){var y='link[rel="preload"][as="'+En(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+En(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+En(u.imageSizes)+'"]')):y+='[href="'+En(i)+'"]';var v=y;switch(o){case"style":v=Yc(i);break;case"script":v=Wc(i)}ba.has(v)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ba.set(v,i),h.querySelector(y)!==null||o==="style"&&h.querySelector(Qd(v))||o==="script"&&h.querySelector(Zd(v))||(o=h.createElement("link"),Yr(o,"link",i),fr(o),h.head.appendChild(o)))}}function e9(i,o){as.m(i,o);var u=Kc;if(u&&i){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+En(h)+'"][href="'+En(i)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Wc(i)}if(!ba.has(v)&&(i=g({rel:"modulepreload",href:i},o),ba.set(v,i),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zd(v)))return}h=u.createElement("link"),Yr(h,"link",i),fr(h),u.head.appendChild(h)}}}function t9(i,o,u){as.S(i,o,u);var h=Kc;if(h&&i){var y=ii(h).hoistableStyles,v=Yc(i);o=o||"default";var T=y.get(v);if(!T){var V={loading:0,preload:null};if(T=h.querySelector(Qd(v)))V.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ba.get(v))&&pb(i,u);var Y=T=h.createElement("link");fr(Y),Yr(Y,"link",i),Y._p=new Promise(function(ae,he){Y.onload=ae,Y.onerror=he}),Y.addEventListener("load",function(){V.loading|=1}),Y.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Ym(T,o,h)}T={type:"stylesheet",instance:T,count:1,state:V},y.set(v,T)}}}function r9(i,o){as.X(i,o);var u=Kc;if(u&&i){var h=ii(u).hoistableScripts,y=Wc(i),v=h.get(y);v||(v=u.querySelector(Zd(y)),v||(i=g({src:i,async:!0},o),(o=ba.get(y))&&gb(i,o),v=u.createElement("script"),fr(v),Yr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function n9(i,o){as.M(i,o);var u=Kc;if(u&&i){var h=ii(u).hoistableScripts,y=Wc(i),v=h.get(y);v||(v=u.querySelector(Zd(y)),v||(i=g({src:i,async:!0,type:"module"},o),(o=ba.get(y))&&gb(i,o),v=u.createElement("script"),fr(v),Yr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function VS(i,o,u,h){var y=(y=Ne.current)?Km(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Yc(u.href),u=ii(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Yc(u.href);var v=ii(y).hoistableStyles,T=v.get(i);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,T),(v=y.querySelector(Qd(i)))&&!v._p&&(T.instance=v,T.state.loading=5),ba.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ba.set(i,u),v||a9(y,i,u,T.state))),o&&h===null)throw Error(n(528,""));return T}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wc(u),u=ii(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Yc(i){return'href="'+En(i)+'"'}function Qd(i){return'link[rel="stylesheet"]['+i+"]"}function US(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function a9(i,o,u,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Yr(o,"link",u),fr(o),i.head.appendChild(o))}function Wc(i){return'[src="'+En(i)+'"]'}function Zd(i){return"script[async]"+i}function BS(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+En(u.href)+'"]');if(h)return o.instance=h,fr(h),h;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),fr(h),Yr(h,"style",y),Ym(h,u.precedence,i),o.instance=h;case"stylesheet":y=Yc(u.href);var v=i.querySelector(Qd(y));if(v)return o.state.loading|=4,o.instance=v,fr(v),v;h=US(u),(y=ba.get(y))&&pb(h,y),v=(i.ownerDocument||i).createElement("link"),fr(v);var T=v;return T._p=new Promise(function(V,Y){T.onload=V,T.onerror=Y}),Yr(v,"link",h),o.state.loading|=4,Ym(v,u.precedence,i),o.instance=v;case"script":return v=Wc(u.src),(y=i.querySelector(Zd(v)))?(o.instance=y,fr(y),y):(h=u,(y=ba.get(v))&&(h=g({},u),gb(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),fr(y),Yr(y,"link",h),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Ym(h,u.precedence,i));return o.instance}function Ym(i,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,T=0;T<h.length;T++){var V=h[T];if(V.dataset.precedence===o)v=V;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function pb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function gb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Wm=null;function $S(i,o,u){if(Wm===null){var h=new Map,y=Wm=new Map;y.set(u,h)}else y=Wm,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var v=u[y];if(!(v[ni]||v[kt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(o)||"";T=i+T;var V=h.get(T);V?V.push(v):h.set(T,[v])}}return h}function HS(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function i9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function s9(i,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Yc(h.href),v=o.querySelector(Qd(y));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Xm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=v,fr(v);return}v=o.ownerDocument||o,h=US(h),(y=ba.get(y))&&pb(h,y),v=v.createElement("link"),fr(v);var T=v;T._p=new Promise(function(V,Y){T.onload=V,T.onerror=Y}),Yr(v,"link",h),u.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Xm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var xb=0;function o9(i,o){return i.stylesheets&&i.count===0&&Zm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+o);0<i.imgBytes&&xb===0&&(xb=62500*BL());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>xb?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Xm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qm=null;function Zm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qm=new Map,o.forEach(l9,i),Qm=null,Xm.call(i))}function l9(i,o){if(!(o.state.loading&4)){var u=Qm.get(i);if(u)var h=u.get(null);else{u=new Map,Qm.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var T=y[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),h=T)}h&&u.set(null,h)}y=o.instance,T=y.getAttribute("data-precedence"),v=u.get(T)||h,v===h&&u.set(null,y),u.set(T,y),this.count++,h=Xm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Jd={$$typeof:C,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function c9(i,o,u,h,y,v,T,V,Y){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function FS(i,o,u,h,y,v,T,V,Y,ae,he,xe){return i=new c9(i,o,u,T,Y,ae,he,xe,V),o=1,v===!0&&(o|=24),v=Gn(3,null,null,o),i.current=v,v.stateNode=i,o=Xx(),o.refCount++,i.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:o},ey(v),i}function GS(i){return i?(i=Sc,i):Sc}function KS(i,o,u,h,y,v){y=GS(y),h.context===null?h.context=y:h.pendingContext=y,h=Zs(o),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=Js(i,h,o),u!==null&&(On(u,i,o),Od(u,i,o))}function YS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function yb(i,o){YS(i,o),(i=i.alternate)&&YS(i,o)}function WS(i){if(i.tag===13||i.tag===31){var o=ol(i,67108864);o!==null&&On(o,i,67108864),yb(i,67108864)}}function XS(i){if(i.tag===13||i.tag===31){var o=Qn();o=Oe(o);var u=ol(i,o);u!==null&&On(u,i,o),yb(i,o)}}var Jm=!0;function u9(i,o,u,h){var y=G.T;G.T=null;var v=Q.p;try{Q.p=2,bb(i,o,u,h)}finally{Q.p=v,G.T=y}}function d9(i,o,u,h){var y=G.T;G.T=null;var v=Q.p;try{Q.p=8,bb(i,o,u,h)}finally{Q.p=v,G.T=y}}function bb(i,o,u,h){if(Jm){var y=vb(h);if(y===null)ib(i,o,h,ep,u),ZS(i,h);else if(h9(y,i,o,u,h))h.stopPropagation();else if(ZS(i,h),o&4&&-1<f9.indexOf(i)){for(;y!==null;){var v=la(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=_n(v.pendingLanes);if(T!==0){var V=v;for(V.pendingLanes|=2,V.entangledLanes|=2;T;){var Y=1<<31-Wt(T);V.entanglements[1]|=Y,T&=~Y}yi(v),(mt&6)===0&&(Dm=Hr()+500,Kd(0))}}break;case 31:case 13:V=ol(v,2),V!==null&&On(V,v,2),Lm(),yb(v,2)}if(v=vb(h),v===null&&ib(i,o,h,ep,u),v===y)break;y=v}y!==null&&h.stopPropagation()}else ib(i,o,h,null,u)}}function vb(i){return i=ca(i),wb(i)}var ep=null;function wb(i){if(ep=null,i=ai(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ep=i,null}function QS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case Rs:return 2;case Ps:return 8;case $t:case ad:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var kb=!1,uo=null,fo=null,ho=null,ef=new Map,tf=new Map,mo=[],f9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZS(i,o){switch(i){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":ef.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(o.pointerId)}}function rf(i,o,u,h,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},o!==null&&(o=la(o),o!==null&&WS(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function h9(i,o,u,h,y){switch(o){case"focusin":return uo=rf(uo,i,o,u,h,y),!0;case"dragenter":return fo=rf(fo,i,o,u,h,y),!0;case"mouseover":return ho=rf(ho,i,o,u,h,y),!0;case"pointerover":var v=y.pointerId;return ef.set(v,rf(ef.get(v)||null,i,o,u,h,y)),!0;case"gotpointercapture":return v=y.pointerId,tf.set(v,rf(tf.get(v)||null,i,o,u,h,y)),!0}return!1}function JS(i){var o=ai(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,pt(i.priority,function(){XS(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,pt(i.priority,function(){XS(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=vb(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);pd=h,u.target.dispatchEvent(h),pd=null}else return o=la(u),o!==null&&WS(o),i.blockedOn=u,!1;o.shift()}return!0}function ej(i,o,u){tp(i)&&u.delete(o)}function m9(){kb=!1,uo!==null&&tp(uo)&&(uo=null),fo!==null&&tp(fo)&&(fo=null),ho!==null&&tp(ho)&&(ho=null),ef.forEach(ej),tf.forEach(ej)}function rp(i,o){i.blockedOn===o&&(i.blockedOn=null,kb||(kb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m9)))}var np=null;function tj(i){np!==i&&(np=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){np===i&&(np=null);for(var o=0;o<i.length;o+=3){var u=i[o],h=i[o+1],y=i[o+2];if(typeof h!="function"){if(wb(h||u)===null)continue;break}var v=la(u);v!==null&&(i.splice(o,3),o-=3,vy(v,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Xc(i){function o(Y){return rp(Y,i)}uo!==null&&rp(uo,i),fo!==null&&rp(fo,i),ho!==null&&rp(ho,i),ef.forEach(o),tf.forEach(o);for(var u=0;u<mo.length;u++){var h=mo[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<mo.length&&(u=mo[0],u.blockedOn===null);)JS(u),u.blockedOn===null&&mo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],v=u[h+1],T=y[Cr]||null;if(typeof v=="function")T||tj(u);else if(T){var V=null;if(v&&v.hasAttribute("formAction")){if(y=v,T=v[Cr]||null)V=T.formAction;else if(wb(y)!==null)continue}else V=T.action;typeof V=="function"?u[h+1]=V:(u.splice(h,3),h-=3),tj(u)}}}function rj(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return y=T})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function _b(i){this._internalRoot=i}ap.prototype.render=_b.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,h=Qn();KS(u,h,i,o,null,null)},ap.prototype.unmount=_b.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;KS(i.current,2,null,i,null,null),Lm(),o[ri]=null}};function ap(i){this._internalRoot=i}ap.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fe();i={blockedOn:null,target:i,priority:o};for(var u=0;u<mo.length&&o!==0&&o<mo[u].priority;u++);mo.splice(u,0,i),u===0&&JS(i)}};var nj=e.version;if(nj!=="19.2.4")throw Error(n(527,nj,"19.2.4"));Q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var p9={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{kn=ip.inject(p9),Yt=ip}catch{}}return af.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,h="",y=uE,v=dE,T=fE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=FS(i,1,!1,null,null,u,h,null,y,v,T,rj),i[ri]=o.current,ab(i),new _b(o)},af.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var h=!1,y="",v=uE,T=dE,V=fE,Y=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.formState!==void 0&&(Y=u.formState)),o=FS(i,1,!0,o,u??null,h,y,Y,v,T,V,rj),o.context=GS(null),u=o.current,h=Qn(),h=Oe(h),y=Zs(h),y.callback=null,Js(u,y,h),u=h,o.current.lanes=u,ne(o,u),yi(o),i[ri]=o.current,ab(i),new ap(o)},af.version="19.2.4",af}var hj;function T9(){if(hj)return jb.exports;hj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jb.exports=j9(),jb.exports}var A9=T9();const C9=Li(A9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=t=>{const e=I9(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...d},f)=>k.createElement("svg",{ref:f,...R9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:eI("lucide",a),...!s&&!P9(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,p])=>k.createElement(m,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=k.forwardRef(({className:n,...a},s)=>k.createElement(M9,{ref:s,iconNode:e,className:eI(`lucide-${O9(mj(t))}`,`lucide-${t}`,n),...a}));return r.displayName=mj(t),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],z9=_e("arrow-down-a-z",D9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Po=_e("arrow-down-left",L9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oa=_e("arrow-left",V9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],r2=_e("arrow-right-left",U9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Mo=_e("arrow-up-right",B9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Sa=_e("barcode",$9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],uh=_e("banknote",H9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pj=_e("bell",q9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Pf=_e("boxes",F9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ei=_e("building-2",G9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aa=_e("calendar",K9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],W9=_e("camera",Y9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q9=_e("chart-column",X9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],r0=_e("check",Z9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],n0=_e("chevron-down",J9);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tI=_e("chevron-left",e8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rn=_e("chevron-right",t8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gj=_e("chevron-up",r8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],a8=_e("circle-alert",n8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],s8=_e("circle-arrow-up",i8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],l8=_e("circle-check-big",o8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zl=_e("circle-check",c8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],d8=_e("circle-minus",u8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],h8=_e("circle-pause",f8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],p8=_e("circle-plus",m8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],A1=_e("clipboard-list",g8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bg=_e("clock",x8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zr=_e("credit-card",y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],v8=_e("dollar-sign",b8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rI=_e("external-link",w8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_8=_e("eye-off",k8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E8=_e("eye",N8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],j8=_e("file-check",S8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mf=_e("file-text",T8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],C8=_e("funnel",A8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],n2=_e("hammer",O8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],R8=_e("hash",I8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],M8=_e("history",P8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],xj=_e("landmark",D8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],a2=_e("layers",z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],V8=_e("layout-dashboard",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ll=_e("layout-grid",U8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],C1=_e("list-checks",B8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H8=_e("lock",$8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F8=_e("log-out",q8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],O1=_e("map-pin",G8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],a0=_e("maximize",K8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],W8=_e("menu",Y8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Q8=_e("message-circle",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nI=_e("message-square",Z8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],yj=_e("minimize",J8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M5 12h14",key:"1ays0h"}]],tV=_e("minus",eV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nV=_e("monitor",rV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],iV=_e("moon",aV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],aI=_e("move",sV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],bj=_e("notebook-text",oV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ja=_e("package",lV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lr=_e("pen",cV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],dV=_e("percent",uV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hV=_e("phone-call",fV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vg=_e("phone",mV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Er=_e("plus",pV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Vl=_e("printer",gV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ul=_e("refresh-cw",xV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],bn=_e("ruler",yV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zu=_e("save",bV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],wV=_e("scissors",vV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dn=_e("search",kV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iI=_e("send",_V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],sI=_e("settings-2",NV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oI=_e("settings",EV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I1=_e("shield-check",SV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],TV=_e("shopping-bag",jV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ru=_e("shopping-cart",AV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wu=_e("square-check-big",CV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Df=_e("square",OV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RV=_e("sun",IV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ia=_e("tag",PV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],DV=_e("tags",MV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vt=_e("trash-2",zV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ef=_e("trending-down",LV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fu=_e("trending-up",VV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ms=_e("triangle-alert",UV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],i2=_e("truck",BV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],i0=_e("type",$V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],qV=_e("undo-2",HV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lI=_e("user-check",FV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s2=_e("user-plus",GV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bl=_e("user",KV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ol=_e("users",YV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ya=_e("wallet",WV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zt=_e("x",XV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cI=_e("zap",QV);function uI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=uI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=uI(t))&&(n&&(n+=" "),n+=e);return n}var ZV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o2(t){if(typeof t!="string")return!1;var e=ZV;return e.includes(t)}var JV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eU=new Set(JV);function dI(t){return typeof t!="string"?!1:eU.has(t)}function fI(t){return typeof t=="string"&&t.startsWith("data-")}function sa(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(dI(r)||fI(r))&&(e[r]=t[r]);return e}function ku(t){if(t==null)return null;if(k.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return sa(e)}return typeof t=="object"&&!Array.isArray(t)?sa(t):null}function vn(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(dI(r)||fI(r)||o2(r))&&(e[r]=t[r]);return e}function tU(t){return t==null?null:k.isValidElement(t)?vn(t.props):typeof t=="object"&&!Array.isArray(t)?vn(t):null}var rU=["children","width","height","viewBox","className","style","title","desc"];function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(null,arguments)}function nU(t,e){if(t==null)return{};var r,n,a=aU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function aU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hI=k.forwardRef((t,e)=>{var{children:r,width:n,height:a,viewBox:s,className:c,style:d,title:f,desc:m}=t,p=nU(t,rU),g=s||{width:n,height:a,x:0,y:0},b=xt("recharts-surface",c);return k.createElement("svg",R1({},vn(p),{className:b,width:n,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),k.createElement("title",null,f),k.createElement("desc",null,m),r)}),iU=["children","className"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(null,arguments)}function sU(t,e){if(t==null)return{};var r,n,a=oU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function oU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tn=k.forwardRef((t,e)=>{var{children:r,className:n}=t,a=sU(t,iU),s=xt("recharts-layer",n);return k.createElement("g",P1({className:s},vn(a),{ref:e}),r)}),mI=J4(),lU=k.createContext(null);function Rt(t){return function(){return t}}const pI=Math.cos,s0=Math.sin,Ja=Math.sqrt,o0=Math.PI,wg=2*o0,M1=Math.PI,D1=2*M1,wl=1e-6,cU=D1-wl;function gI(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gI;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gI:uU(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=n-e,m=a-r,p=c-e,g=d-r,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(b>wl)if(!(Math.abs(g*f-m*p)>wl)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let w=n-c,_=a-d,E=f*f+m*m,S=w*w+_*_,R=Math.sqrt(E),N=Math.sqrt(b),C=s*Math.tan((M1-Math.acos((E+b-S)/(2*R*N)))/2),M=C/N,U=C/R;Math.abs(M-1)>wl&&this._append`L${e+M*p},${r+M*g}`,this._append`A${s},${s},0,0,${+(g*w>p*_)},${this._x1=e+U*f},${this._y1=r+U*m}`}}arc(e,r,n,a,s,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),m=e+d,p=r+f,g=1^c,b=c?a-s:s-a;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>wl||Math.abs(this._y1-p)>wl)&&this._append`L${m},${p}`,n&&(b<0&&(b=b%D1+D1),b>cU?this._append`A${n},${n},0,1,${g},${e-d},${r-f}A${n},${n},0,1,${g},${this._x1=m},${this._y1=p}`:b>wl&&this._append`A${n},${n},0,${+(b>=M1)},${g},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function l2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dU(e)}function c2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xI(t){this._context=t}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function kg(t){return new xI(t)}function yI(t){return t[0]}function bI(t){return t[1]}function vI(t,e){var r=Rt(!0),n=null,a=kg,s=null,c=l2(d);t=typeof t=="function"?t:t===void 0?yI:Rt(t),e=typeof e=="function"?e:e===void 0?bI:Rt(e);function d(f){var m,p=(f=c2(f)).length,g,b=!1,w;for(n==null&&(s=a(w=c())),m=0;m<=p;++m)!(m<p&&r(g=f[m],m,f))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,m,f),+e(g,m,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Rt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Rt(+f),d):e},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Rt(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function sp(t,e,r){var n=null,a=Rt(!0),s=null,c=kg,d=null,f=l2(m);t=typeof t=="function"?t:t===void 0?yI:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?bI:Rt(+r);function m(g){var b,w,_,E=(g=c2(g)).length,S,R=!1,N,C=new Array(E),M=new Array(E);for(s==null&&(d=c(N=f())),b=0;b<=E;++b){if(!(b<E&&a(S=g[b],b,g))===R)if(R=!R)w=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=b-1;_>=w;--_)d.point(C[_],M[_]);d.lineEnd(),d.areaEnd()}R&&(C[b]=+t(S,b,g),M[b]=+e(S,b,g),d.point(n?+n(S,b,g):C[b],r?+r(S,b,g):M[b]))}if(N)return d=null,N+""||null}function p(){return vI().defined(a).curve(c).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),n=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),m):t},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),m):n},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),r=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),m):e},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rt(+g),m):r},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(r)},m.lineX1=function(){return p().x(n).y(e)},m.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Rt(!!g),m):a},m.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),m):c},m.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),m):s},m}class wI{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function fU(t){return new wI(t,!0)}function hU(t){return new wI(t,!1)}const u2={draw(t,e){const r=Ja(e/o0);t.moveTo(r,0),t.arc(0,0,r,0,wg)}},mU={draw(t,e){const r=Ja(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},kI=Ja(1/3),pU=kI*2,gU={draw(t,e){const r=Ja(e/pU),n=r*kI;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},xU={draw(t,e){const r=Ja(e),n=-r/2;t.rect(n,n,r,r)}},yU=.8908130915292852,_I=s0(o0/10)/s0(7*o0/10),bU=s0(wg/10)*_I,vU=-pI(wg/10)*_I,wU={draw(t,e){const r=Ja(e*yU),n=bU*r,a=vU*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const c=wg*s/5,d=pI(c),f=s0(c);t.lineTo(f*r,-d*r),t.lineTo(d*n-f*a,f*n+d*a)}t.closePath()}},Ob=Ja(3),kU={draw(t,e){const r=-Ja(e/(Ob*3));t.moveTo(0,r*2),t.lineTo(-Ob*r,-r),t.lineTo(Ob*r,-r),t.closePath()}},va=-.5,wa=Ja(3)/2,z1=1/Ja(12),_U=(z1/2+1)*3,NU={draw(t,e){const r=Ja(e/_U),n=r/2,a=r*z1,s=n,c=r*z1+r,d=-s,f=c;t.moveTo(n,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(va*n-wa*a,wa*n+va*a),t.lineTo(va*s-wa*c,wa*s+va*c),t.lineTo(va*d-wa*f,wa*d+va*f),t.lineTo(va*n+wa*a,va*a-wa*n),t.lineTo(va*s+wa*c,va*c-wa*s),t.lineTo(va*d+wa*f,va*f-wa*d),t.closePath()}};function EU(t,e){let r=null,n=l2(a);t=typeof t=="function"?t:Rt(t||u2),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function l0(){}function c0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function NI(t){this._context=t}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SU(t){return new NI(t)}function EI(t){this._context=t}EI.prototype={areaStart:l0,areaEnd:l0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jU(t){return new EI(t)}function SI(t){this._context=t}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TU(t){return new SI(t)}function jI(t){this._context=t}jI.prototype={areaStart:l0,areaEnd:l0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AU(t){return new jI(t)}function vj(t){return t<0?-1:1}function wj(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),d=(s*a+c*n)/(n+a);return(vj(s)+vj(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function kj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ib(t,e,r){var n=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-n)/3;t._context.bezierCurveTo(n+d,a+d*e,s-d,c-d*r,s,c)}function u0(t){this._context=t}u0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ib(this,this._t0,kj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ib(this,kj(this,r=wj(this,t,e)),r);break;default:Ib(this,this._t0,r=wj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function TI(t){this._context=new AI(t)}(TI.prototype=Object.create(u0.prototype)).point=function(t,e){u0.prototype.point.call(this,e,t)};function AI(t){this._context=t}AI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function CU(t){return new u0(t)}function OU(t){return new TI(t)}function CI(t){this._context=t}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=_j(t),a=_j(e),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _j(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function IU(t){return new CI(t)}function _g(t,e){this._context=t,this._t=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function RU(t){return new _g(t,.5)}function PU(t){return new _g(t,0)}function MU(t){return new _g(t,1)}function $l(t,e){if((c=t.length)>1)for(var r=1,n,a,s=t[e[0]],c,d=s.length;r<c;++r)for(a=s,s=t[e[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function L1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function DU(t,e){return t[e]}function zU(t){const e=[];return e.key=t,e}function LU(){var t=Rt([]),e=L1,r=$l,n=DU;function a(s){var c=Array.from(t.apply(this,arguments),zU),d,f=c.length,m=-1,p;for(const g of s)for(d=0,++m;d<f;++d)(c[d][m]=[0,+n(g,c[d].key,m,s)]).data=g;for(d=0,p=c2(e(c));d<f;++d)c[p[d]].index=d;return r(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Rt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?L1:typeof s=="function"?s:Rt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??$l,a):r},a}function VU(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}$l(t,e)}}function UU(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var c=0,d=0;c<a;++c)d+=t[c][r][1]||0;n[r][1]+=n[r][0]=-d/2}$l(t,e)}}function BU(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var d=0,f=0,m=0;d<c;++d){for(var p=t[e[d]],g=p[n][1]||0,b=p[n-1][1]||0,w=(g-b)/2,_=0;_<d;++_){var E=t[e[_]],S=E[n][1]||0,R=E[n-1][1]||0;w+=S-R}f+=g,m+=w*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=m/f)}a[n-1][1]+=a[n-1][0]=r,$l(t,e)}}var Rb={},Pb={},Nj;function $U(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Pb)),Pb}var Mb={},Ej;function OI(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Mb)),Mb}var Db={},Sj;function d2(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Db)),Db}var zb={},Lb={},jj;function HU(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(Lb)),Lb}var Tj;function f2(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HU(),r=d2();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",m="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];m?g==="\\"&&d+1<c?(d++,f+=a[d]):g===m?m="":f+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=n})(zb)),zb}var Aj;function h2(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U(),r=OI(),n=d2(),a=f2();function s(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,a.toPath(f),m):m:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?m:p}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?m:p}}}function c(d,f,m){if(f.length===0)return m;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return m;p=p[f[g]]}return p===void 0?m:p}t.get=s})(Rb)),Rb}var Vb,Cj;function qU(){return Cj||(Cj=1,Vb=h2().get),Vb}var FU=qU();const Hl=Li(FU);var GU=4;function No(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GU,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function ir(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((a,s,c)=>{var d=r[c-1];return typeof d=="string"?a+d+s:d!==void 0?a+No(d)+s:a+s},"")}var mn=t=>t===0?0:t>0?1:-1,Ii=t=>typeof t=="number"&&t!=+t,ql=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!Ii(t),Ri=t=>Ce(t)||typeof t=="string",KU=0,zf=t=>{var e=++KU;return"".concat(t||"").concat(e)},ra=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return n;var s;if(ql(e)){if(r==null)return n;var c=e.indexOf("%");s=r*parseFloat(e.slice(0,c))/100}else s=+e;return Ii(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},II=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Zr(t,e,r){return Ce(t)&&Ce(e)?No(t+r*(e-t)):e}function RI(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Hl(n,e))===r)}var rn=t=>t===null||typeof t>"u",dh=t=>rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Pn(t){return t!=null}function Lu(){}var YU=["type","size","sizeType"];function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V1.apply(null,arguments)}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){WU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WU(t,e,r){return(e=XU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XU(t){var e=QU(t,"string");return typeof e=="symbol"?e:e+""}function QU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZU(t,e){if(t==null)return{};var r,n,a=JU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function JU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PI={symbolCircle:u2,symbolCross:mU,symbolDiamond:gU,symbolSquare:xU,symbolStar:wU,symbolTriangle:kU,symbolWye:NU},e7=Math.PI/180,t7=t=>{var e="symbol".concat(dh(t));return PI[e]||u2},r7=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*e7;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},n7=(t,e)=>{PI["symbol".concat(dh(t))]=e},MI=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,a=ZU(t,YU),s=Ij(Ij({},a),{},{type:e,size:r,sizeType:n}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var b=t7(c),w=EU().type(b).size(r7(r,n,c)),_=w();if(_!==null)return _},{className:f,cx:m,cy:p}=s,g=vn(s);return Ce(m)&&Ce(p)&&Ce(r)?k.createElement("path",V1({},g,{className:xt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};MI.registerSymbol=n7;var DI=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,m2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(k.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{o2(a)&&(n[a]=(s=>r[a](r,s)))}),n},a7=(t,e,r)=>n=>(t(e,r,n),null),zI=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(a=>{var s=t[a];o2(a)&&typeof s=="function"&&(n||(n={}),n[a]=a7(s,e,r))}),n};function Rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(r),!0).forEach(function(n){s7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s7(t,e,r){return(e=o7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o7(t){var e=l7(t,"string");return typeof e=="symbol"?e:e+""}function l7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e){var r=i7({},t),n=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&n[d]!==void 0&&(c[d]=n[d]),c),r);return s}var Ub={},Bb={},Pj;function c7(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const a=new Map;for(let s=0;s<r.length;s++){const c=r[s],d=n(c,s,r);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(Bb)),Bb}var $b={},Mj;function u7(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}t.ary=e})($b)),$b}var Hb={},Dj;function LI(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Hb)),Hb}var qb={},Fb={},Gb={},zj;function d7(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Gb)),Gb}var Lj;function p2(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d7();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Fb)),Fb}var Kb={},Vj;function f7(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Kb)),Kb}var Uj;function h7(){return Uj||(Uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p2(),r=f7();function n(a){return r.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=n})(qb)),qb}var Yb={},Wb={},Bj;function m7(){return Bj||(Bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h2();function r(n){return function(a){return e.get(a,n)}}t.property=r})(Wb)),Wb}var Xb={},Qb={},Zb={},Jb={},$j;function VI(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Jb)),Jb}var ev={},Hj;function UI(){return Hj||(Hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(ev)),ev}var tv={},qj;function BI(){return qj||(qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(tv)),tv}var Fj;function p7(){return Fj||(Fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VI(),r=UI(),n=BI();function a(p,g,b){return typeof b!="function"?a(p,g,()=>{}):s(p,g,function w(_,E,S,R,N,C){const M=b(_,E,S,R,N,C);return M!==void 0?!!M:s(_,E,w,C)},new Map)}function s(p,g,b,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,b,w);case"function":return Object.keys(g).length>0?s(p,{...g},b,w):n.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function c(p,g,b,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,b,w);if(g instanceof Map)return d(p,g,b,w);if(g instanceof Set)return m(p,g,b,w);const _=Object.keys(g);if(p==null||r.isPrimitive(p))return _.length===0;if(_.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let E=0;E<_.length;E++){const S=_[E];if(!r.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!b(p[S],g[S],S,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,b,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,E]of g.entries()){const S=p.get(_);if(b(S,E,_,p,g,w)===!1)return!1}return!0}function f(p,g,b,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let E=0;E<g.length;E++){const S=g[E];let R=!1;for(let N=0;N<p.length;N++){if(_.has(N))continue;const C=p[N];let M=!1;if(b(C,S,E,p,g,w)&&(M=!0),M){_.add(N),R=!0;break}}if(!R)return!1}return!0}function m(p,g,b,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],b,w):!1}t.isMatchWith=a,t.isSetMatch=m})(Zb)),Zb}var Gj;function $I(){return Gj||(Gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p7();function r(n,a){return e.isMatchWith(n,a,()=>{})}t.isMatch=r})(Qb)),Qb}var rv={},nv={},av={},Kj;function g7(){return Kj||(Kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(av)),av}var iv={},Yj;function g2(){return Yj||(Yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(iv)),iv}var sv={},Wj;function HI(){return Wj||(Wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",_="[object Error]",E="[object DataView]",S="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]",M="[object BigUint64Array]",U="[object Int8Array]",H="[object Int16Array]",A="[object Int32Array]",I="[object BigInt64Array]",P="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=M,t.booleanTag=a,t.dataViewTag=E,t.dateTag=d,t.errorTag=_,t.float32ArrayTag=P,t.float64ArrayTag=$,t.functionTag=g,t.int16ArrayTag=H,t.int32ArrayTag=A,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=n,t.objectTag=w,t.regexpTag=e,t.setTag=m,t.stringTag=r,t.symbolTag=c,t.uint16ArrayTag=N,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=R})(sv)),sv}var ov={},Xj;function x7(){return Xj||(Xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(ov)),ov}var Qj;function qI(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g7(),r=g2(),n=HI(),a=UI(),s=x7();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,b,w=new Map,_=void 0){const E=_==null?void 0:_(p,g,b,w);if(E!==void 0)return E;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let R=0;R<p.length;R++)S[R]=d(p[R],R,b,w,_);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[R,N]of p)S.set(R,d(N,R,b,w,_));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const R of p)S.add(d(R,void 0,b,w,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let R=0;R<p.length;R++)S[R]=d(p[R],R,b,w,_);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),f(S,p,b,w,_),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),f(S,p,b,w,_),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),f(S,p,b,w,_),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,b,w,_),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return w.set(p,S),f(S,p,b,w,_),S}if(p instanceof Number){const S=new Number(p.valueOf());return w.set(p,S),f(S,p,b,w,_),S}if(p instanceof String){const S=new String(p.valueOf());return w.set(p,S),f(S,p,b,w,_),S}if(typeof p=="object"&&m(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),f(S,p,b,w,_),S}return p}function f(p,g,b=p,w,_){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const R=E[S],N=Object.getOwnPropertyDescriptor(p,R);(N==null||N.writable)&&(p[R]=d(g[R],R,b,w,_))}}function m(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(nv)),nv}var Zj;function y7(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qI();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(rv)),rv}var Jj;function b7(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$I(),r=y7();function n(a){return a=r.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=n})(Xb)),Xb}var lv={},cv={},uv={},eT;function v7(){return eT||(eT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qI(),r=g2(),n=HI();function a(s,c){return e.cloneDeepWith(s,(d,f,m,p)=>{const g=c==null?void 0:c(d,f,m,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const b={};return p.set(s,b),e.copyProperties(b,s,m,p),b}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(b,s),b}case n.argumentsTag:{const b={};return e.copyProperties(b,s),b.length=s.length,b[Symbol.iterator]=s[Symbol.iterator],b}default:return}}})}t.cloneDeepWith=a})(uv)),uv}var tT;function w7(){return tT||(tT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v7();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(cv)),cv}var dv={},fv={},rT;function FI(){return rT||(rT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(fv)),fv}var hv={},nT;function k7(){return nT||(nT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g2();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(hv)),hv}var aT;function _7(){return aT||(aT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OI(),r=FI(),n=k7(),a=f2();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let p=0;p<f.length;p++){const g=f[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(dv)),dv}var iT;function N7(){return iT||(iT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$I(),r=d2(),n=w7(),a=h2(),s=_7();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(m){const p=a.get(m,d);return p===void 0?s.has(m,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(lv)),lv}var sT;function E7(){return sT||(sT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI(),r=m7(),n=b7(),a=N7();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}t.iteratee=s})(Yb)),Yb}var oT;function S7(){return oT||(oT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c7(),r=u7(),n=LI(),a=h7(),s=E7();function c(d,f=n.identity){return a.isArrayLikeObject(d)?e.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(Ub)),Ub}var mv,lT;function j7(){return lT||(lT=1,mv=S7().uniqBy),mv}var T7=j7();const cT=Li(T7);function A7(t,e,r){return e===!0?cT(t,r):typeof e=="function"?cT(t,e):t}var pv={exports:{}},gv={},xv={exports:{}},yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function C7(){if(uT)return yv;uT=1;var t=Du();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,b){var w=b(),_=n({inst:{value:w,getSnapshot:b}}),E=_[0].inst,S=_[1];return s(function(){E.value=w,E.getSnapshot=b,f(E)&&S({inst:E})},[g,w,b]),a(function(){return f(E)&&S({inst:E}),g(function(){f(E)&&S({inst:E})})},[g]),c(w),w}function f(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!r(g,w)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return yv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,yv}var dT;function O7(){return dT||(dT=1,xv.exports=C7()),xv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function I7(){if(fT)return gv;fT=1;var t=Du(),e=O7();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return gv.useSyncExternalStoreWithSelector=function(m,p,g,b,w){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=d(function(){function R(H){if(!N){if(N=!0,C=H,H=b(H),w!==void 0&&E.hasValue){var A=E.value;if(w(A,H))return M=A}return M=H}if(A=M,n(C,H))return A;var I=b(H);return w!==void 0&&w(A,I)?(C=H,A):(C=H,M=I)}var N=!1,C,M,U=g===void 0?null:g;return[function(){return R(p())},U===null?void 0:function(){return R(U())}]},[p,g,b,w]);var S=a(m,_[0],_[1]);return c(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},gv}var hT;function R7(){return hT||(hT=1,pv.exports=I7()),pv.exports}var P7=R7(),x2=k.createContext(null),M7=t=>t,Kt=()=>{var t=k.useContext(x2);return t?t.store.dispatch:M7},Up=()=>{},D7=()=>Up,z7=(t,e)=>t===e;function Pe(t){var e=k.useContext(x2),r=k.useMemo(()=>e?n=>{if(n!=null)return t(n)}:Up,[e,t]);return P7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:D7,e?e.store.getState:Up,e?e.store.getState:Up,r,z7)}function L7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function V7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function U7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var mT=t=>Array.isArray(t)?t:[t];function B7(t){const e=Array.isArray(t[0])?t[0]:t;return U7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $7(t,e){const r=[],{length:n}=t;for(let a=0;a<n;a++)r.push(t[a].apply(null,e));return r}var H7=class{constructor(t){this.value=t}deref(){return this.value}},q7=typeof WeakRef<"u"?WeakRef:H7,F7=0,pT=1;function op(){return{s:F7,v:void 0,o:null,p:null}}function GI(t,e={}){let r=op();const{resultEqualityCheck:n}=e;let a,s=0;function c(){var g;let d=r;const{length:f}=arguments;for(let b=0,w=f;b<w;b++){const _=arguments[b];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=d.o;E===null&&(d.o=E=new WeakMap);const S=E.get(_);S===void 0?(d=op(),E.set(_,d)):d=S}else{let E=d.p;E===null&&(d.p=E=new Map);const S=E.get(_);S===void 0?(d=op(),E.set(_,d)):d=S}}const m=d;let p;if(d.s===pT)p=d.v;else if(p=t.apply(null,arguments),s++,n){const b=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;b!=null&&n(b,p)&&(p=b,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new q7(p):p}return m.s=pT,m.v=p,p}return c.clearCache=()=>{r=op(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function G7(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...a)=>{let s=0,c=0,d,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),L7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...r,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:w=GI,argsMemoizeOptions:_=[]}=p,E=mT(b),S=mT(_),R=B7(a),N=g(function(){return s++,m.apply(null,arguments)},...E),C=w(function(){c++;const U=$7(R,arguments);return d=N.apply(null,U),d},...S);return Object.assign(C,{resultFunc:m,memoizedResultFunc:N,dependencies:R,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var ie=G7(GI),K7=Object.assign((t,e=ie)=>{V7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>K7}),bv={},vv={},wv={},gT;function Y7(){return gT||(gT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const c=e(n),d=e(a);if(c===d&&c===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=r})(wv)),wv}var kv={},_v={},xT;function KI(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(_v)),_v}var yT;function W7(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(kv)),kv}var bT;function X7(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y7(),r=W7(),n=f2();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const m=(w,_)=>{let E=w;for(let S=0;S<_.length&&E!=null;++S)E=E[_[S]];return E},p=(w,_)=>_==null||w==null?_:typeof w=="object"&&"key"in w?Object.hasOwn(_,w.key)?_[w.key]:m(_,w.path):typeof w=="function"?w(_):Array.isArray(w)?m(_,w):typeof _=="object"?_[w]:_,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(_=>p(_,w))})).slice().sort((w,_)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(w.criteria[E],_.criteria[E],d[E]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=a})(vv)),vv}var Nv={},vT;function Q7(){return vT||(vT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const a=[],s=Math.floor(n),c=(d,f)=>{for(let m=0;m<d.length;m++){const p=d[m];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(r,0),a}t.flatten=e})(Nv)),Nv}var Ev={},wT;function YI(){return wT||(wT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FI(),r=p2(),n=VI(),a=BI();function s(c,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.isEqualsSameValueZero(f[d],c):!1}t.isIterateeCall=s})(Ev)),Ev}var kT;function Z7(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X7(),r=Q7(),n=YI();function a(s,...c){const d=c.length;return d>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,r.flatten(c),["asc"])}t.sortBy=a})(bv)),bv}var Sv,_T;function J7(){return _T||(_T=1,Sv=Z7().sortBy),Sv}var eB=J7();const Ng=Li(eB);var WI=t=>t.legend.settings,tB=t=>t.legend.size,rB=t=>t.legend.payload;ie([rB,WI],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Ng(n,r):n});var lp=1;function nB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>lp||Math.abs(c.left-e.left)>lp||Math.abs(c.top-e.top)>lp||Math.abs(c.width-e.width)>lp)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aB=typeof Symbol=="function"&&Symbol.observable||"@@observable",NT=aB,jv=()=>Math.random().toString(36).substring(7).split("").join("."),iB={INIT:`@@redux/INIT${jv()}`,REPLACE:`@@redux/REPLACE${jv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jv()}`},d0=iB;function y2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function XI(t,e,r){if(typeof t!="function")throw new Error(Wr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wr(1));return r(XI)(t,e)}let n=t,a=e,s=new Map,c=s,d=0,f=!1;function m(){c===s&&(c=new Map,s.forEach((S,R)=>{c.set(R,S)}))}function p(){if(f)throw new Error(Wr(3));return a}function g(S){if(typeof S!="function")throw new Error(Wr(4));if(f)throw new Error(Wr(5));let R=!0;m();const N=d++;return c.set(N,S),function(){if(R){if(f)throw new Error(Wr(6));R=!1,m(),c.delete(N),s=null}}}function b(S){if(!y2(S))throw new Error(Wr(7));if(typeof S.type>"u")throw new Error(Wr(8));if(typeof S.type!="string")throw new Error(Wr(17));if(f)throw new Error(Wr(9));try{f=!0,a=n(a,S)}finally{f=!1}return(s=c).forEach(N=>{N()}),S}function w(S){if(typeof S!="function")throw new Error(Wr(10));n=S,b({type:d0.REPLACE})}function _(){const S=g;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Wr(11));function N(){const M=R;M.next&&M.next(p())}return N(),{unsubscribe:S(N)}},[NT](){return this}}}return b({type:d0.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:w,[NT]:_}}function sB(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:d0.INIT})>"u")throw new Error(Wr(12));if(typeof r(void 0,{type:d0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wr(13))})}function QI(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(r[c]=t[c])}const n=Object.keys(r);let a;try{sB(r)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const m={};for(let p=0;p<n.length;p++){const g=n[p],b=r[g],w=c[g],_=b(w,d);if(typeof _>"u")throw d&&d.type,new Error(Wr(14));m[g]=_,f=f||_!==w}return f=f||n.length!==Object.keys(c).length,f?m:c}}function f0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function oB(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Wr(15))};const c={getState:a.getState,dispatch:(f,...m)=>s(f,...m)},d=t.map(f=>f(c));return s=f0(...d)(a.dispatch),{...a,dispatch:s}}}function ZI(t){return y2(t)&&"type"in t&&typeof t.type=="string"}var JI=Symbol.for("immer-nothing"),ET=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function $a(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ta=Object,_u=ta.getPrototypeOf,h0="constructor",Eg="prototype",U1="configurable",m0="enumerable",Bp="writable",Lf="value",ps=t=>!!t&&!!t[wn];function Qa(t){var e;return t?eR(t)||jg(t)||!!t[ET]||!!((e=t[h0])!=null&&e[ET])||Tg(t)||Ag(t):!1}var lB=ta[Eg][h0].toString(),ST=new WeakMap;function eR(t){if(!t||!b2(t))return!1;const e=_u(t);if(e===null||e===ta[Eg])return!0;const r=ta.hasOwnProperty.call(e,h0)&&e[h0];if(r===Object)return!0;if(!nu(r))return!1;let n=ST.get(r);return n===void 0&&(n=Function.toString.call(r),ST.set(r,n)),n===lB}function Sg(t,e,r=!0){fh(t)===0?(r?Reflect.ownKeys(t):ta.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function fh(t){const e=t[wn];return e?e.type_:jg(t)?1:Tg(t)?2:Ag(t)?3:0}var jT=(t,e,r=fh(t))=>r===2?t.has(e):ta[Eg].hasOwnProperty.call(t,e),B1=(t,e,r=fh(t))=>r===2?t.get(e):t[e],p0=(t,e,r,n=fh(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function cB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var jg=Array.isArray,Tg=t=>t instanceof Map,Ag=t=>t instanceof Set,b2=t=>typeof t=="object",nu=t=>typeof t=="function",Tv=t=>typeof t=="boolean";function uB(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var is=t=>t.copy_||t.base_,v2=t=>t.modified_?t.copy_:t.base_;function $1(t,e){if(Tg(t))return new Map(t);if(Ag(t))return new Set(t);if(jg(t))return Array[Eg].slice.call(t);const r=eR(t);if(e===!0||e==="class_only"&&!r){const n=ta.getOwnPropertyDescriptors(t);delete n[wn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],d=n[c];d[Bp]===!1&&(d[Bp]=!0,d[U1]=!0),(d.get||d.set)&&(n[c]={[U1]:!0,[Bp]:!0,[m0]:d[m0],[Lf]:t[c]})}return ta.create(_u(t),n)}else{const n=_u(t);if(n!==null&&r)return{...t};const a=ta.create(n);return ta.assign(a,t)}}function w2(t,e=!1){return Cg(t)||ps(t)||!Qa(t)||(fh(t)>1&&ta.defineProperties(t,{set:cp,add:cp,clear:cp,delete:cp}),ta.freeze(t),e&&Sg(t,(r,n)=>{w2(n,!0)},!1)),t}function dB(){$a(2)}var cp={[Lf]:dB};function Cg(t){return t===null||!b2(t)?!0:ta.isFrozen(t)}var g0="MapSet",H1="Patches",TT="ArrayMethods",tR={};function Fl(t){const e=tR[t];return e||$a(0,t),e}var AT=t=>!!tR[t],Vf,rR=()=>Vf,fB=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:AT(g0)?Fl(g0):void 0,arrayMethodsPlugin_:AT(TT)?Fl(TT):void 0});function CT(t,e){e&&(t.patchPlugin_=Fl(H1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function q1(t){F1(t),t.drafts_.forEach(hB),t.drafts_=null}function F1(t){t===Vf&&(Vf=t.parent_)}var OT=t=>Vf=fB(Vf,t);function hB(t){const e=t[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function IT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[wn].modified_&&(q1(e),$a(4)),Qa(t)&&(t=RT(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(r[wn].base_,t,e)}else t=RT(e,r);return mB(e,t,!0),q1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JI?t:void 0}function RT(t,e){if(Cg(e))return e;const r=e[wn];if(!r)return x0(e,t.handledSet_,t);if(!Og(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);iR(r,t)}return r.copy_}function mB(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&w2(e,r)}function nR(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Og=(t,e)=>t.scope_===e,pB=[];function aR(t,e,r,n){const a=is(t),s=t.type_;if(n!==void 0&&B1(a,n,s)===e){p0(a,n,r,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Sg(a,(f,m)=>{if(ps(m)){const p=d.get(m)||[];p.push(f),d.set(m,p)}})}const c=t.draftLocations_.get(e)??pB;for(const d of c)p0(a,d,r,s)}function gB(t,e,r){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Og(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=v2(s);aR(t,s.draft_??s,c,r),iR(s,a)})}function iR(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}nR(t)}}function xB(t,e,r){const{scope_:n}=t;if(ps(r)){const a=r[wn];Og(a,n)&&a.callbacks_.push(function(){$p(t);const c=v2(a);aR(t,r,c,e)})}else Qa(r)&&t.callbacks_.push(function(){const s=is(t);t.type_===3?s.has(r)&&x0(r,n.handledSet_,n):B1(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&x0(B1(t.copy_,e,t.type_),n.handledSet_,n)})}function x0(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ps(t)||e.has(t)||!Qa(t)||Cg(t)||(e.add(t),Sg(t,(n,a)=>{if(ps(a)){const s=a[wn];if(Og(s,r)){const c=v2(s);p0(t,n,c,t.type_),nR(s)}}else Qa(a)&&x0(a,e,r)})),t}function yB(t,e){const r=jg(t),n={type_:r?1:0,scope_:e?e.scope_:rR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=y0;r&&(a=[n],s=Uf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=c,[d,n]}var y0={get(t,e){if(e===wn)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r!=null&&r.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const a=is(t);if(!jT(a,e,t.type_))return bB(t,a,e);const s=a[e];if(t.finalized_||!Qa(s)||n&&t.operationMethod&&(r!=null&&r.isMutatingArrayMethod(t.operationMethod))&&uB(e))return s;if(s===Av(t.base_,e)){$p(t);const c=t.type_===1?+e:e,d=K1(t.scope_,s,t,c);return t.copy_[c]=d}return s},has(t,e){return e in is(t)},ownKeys(t){return Reflect.ownKeys(is(t))},set(t,e,r){const n=sR(is(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=Av(is(t),e),s=a==null?void 0:a[wn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(cB(r,a)&&(r!==void 0||jT(t.base_,e,t.type_)))return!0;$p(t),G1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),xB(t,e,r)),!0},deleteProperty(t,e){return $p(t),Av(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),G1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=is(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[Bp]:!0,[U1]:t.type_!==1||e!=="length",[m0]:n[m0],[Lf]:r[e]}},defineProperty(){$a(11)},getPrototypeOf(t){return _u(t.base_)},setPrototypeOf(){$a(12)}},Uf={};for(let t in y0){let e=y0[t];Uf[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Uf.deleteProperty=function(t,e){return Uf.set.call(this,t,e,void 0)};Uf.set=function(t,e,r){return y0.set.call(this,t[0],e,r,t[0])};function Av(t,e){const r=t[wn];return(r?is(r):t)[e]}function bB(t,e,r){var a;const n=sR(e,r);return n?Lf in n?n[Lf]:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function sR(t,e){if(!(e in t))return;let r=_u(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=_u(r)}}function G1(t){t.modified_||(t.modified_=!0,t.parent_&&G1(t.parent_))}function $p(t){t.copy_||(t.assigned_=new Map,t.copy_=$1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(nu(r)&&!nu(n)){const c=n;n=r;const d=this;return function(m=c,...p){return d.produce(m,g=>n.call(this,g,...p))}}nu(n)||$a(6),a!==void 0&&!nu(a)&&$a(7);let s;if(Qa(r)){const c=OT(this),d=K1(c,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?q1(c):F1(c)}return CT(c,a),IT(s,c)}else if(!r||!b2(r)){if(s=n(r),s===void 0&&(s=r),s===JI&&(s=void 0),this.autoFreeze_&&w2(s,!0),a){const c=[],d=[];Fl(H1).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else $a(1,r)},this.produceWithPatches=(r,n)=>{if(nu(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let a,s;return[this.produce(r,n,(d,f)=>{a=d,s=f}),a,s]},Tv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Tv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Tv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qa(e)||$a(8),ps(e)&&(e=Wa(e));const r=OT(this),n=K1(r,e,void 0);return n[wn].isManual_=!0,F1(r),n}finishDraft(e,r){const n=e&&e[wn];(!n||!n.isManual_)&&$a(9);const{scope_:a}=n;return CT(a,r),IT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Fl(H1).applyPatches_;return ps(e)?a(e,r):this.produce(e,s=>a(s,r))}};function K1(t,e,r,n){const[a,s]=Tg(e)?Fl(g0).proxyMap_(e,r):Ag(e)?Fl(g0).proxySet_(e,r):yB(e,r);return((r==null?void 0:r.scope_)??rR()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?gB(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),a}function Wa(t){return ps(t)||$a(10,t),oR(t)}function oR(t){if(!Qa(t)||Cg(t))return t;const e=t[wn];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=$1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=$1(t,!0);return Sg(r,(a,s)=>{p0(r,a,oR(s))},n),e&&(e.finalized_=!1),r}var wB=new vB,lR=wB.produce;function cR(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var kB=cR(),_B=cR,NB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?f0:f0.apply(null,arguments)};function Ta(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(na(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>ZI(n)&&n.type===t,r}var uR=class gf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gf.prototype)}static get[Symbol.species](){return gf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gf(...e[0].concat(this)):new gf(...e.concat(this))}};function PT(t){return Qa(t)?lR(t,()=>{}):t}function up(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function EB(t){return typeof t=="boolean"}var SB=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new uR;return r&&(EB(r)?c.push(kB):c.push(_B(r.extraArgument))),c},dR="RTK_autoBatch",Ft=()=>t=>({payload:t,meta:{[dR]:!0}}),MT=t=>e=>{setTimeout(e,t)},fR=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MT(10):t.type==="callback"?t.queueNotification:MT(t.timeout),m=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),b=n.subscribe(g);return d.add(p),()=>{b(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[dR]),s=!a,s&&(c||(c=!0,f(m))),n.dispatch(p)}finally{a=!0}}})},jB=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new uR(t);return n&&a.push(fR(typeof n=="object"?n:void 0)),a};function TB(t){const e=SB(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof r=="function")d=r;else if(y2(r))d=QI(r);else throw new Error(na(1));let f;typeof n=="function"?f=n(e):f=e();let m=f0;a&&(m=NB({trace:!1,...typeof a=="object"&&a}));const p=oB(...f),g=jB(p);let b=typeof c=="function"?c(g):g();const w=m(...b);return XI(d,s,w)}function hR(t){const e={},r=[];let n;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(na(28));if(d in e)throw new Error(na(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return r.push({matcher:s,reducer:c}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function AB(t){return typeof t=="function"}function CB(t,e){let[r,n,a]=hR(e),s;if(AB(t))s=()=>PT(t());else{const d=PT(t);s=()=>d}function c(d=s(),f){let m=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[a]),m.reduce((p,g)=>{if(g)if(ps(p)){const w=g(p,f);return w===void 0?p:w}else{if(Qa(p))return lR(p,b=>g(b,f));{const b=g(p,f);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},d)}return c.getInitialState=s,c}var OB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",IB=(t=21)=>{let e="",r=t;for(;r--;)e+=OB[Math.random()*64|0];return e},RB=Symbol.for("rtk-slice-createasyncthunk");function PB(t,e){return`${t}/${e}`}function MB({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[RB];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(na(11));const d=(typeof a.reducers=="function"?a.reducers(zB()):a.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,U){const H=typeof M=="string"?M:M.type;if(!H)throw new Error(na(12));if(H in m.sliceCaseReducersByType)throw new Error(na(13));return m.sliceCaseReducersByType[H]=U,p},addMatcher(M,U){return m.sliceMatchers.push({matcher:M,reducer:U}),p},exposeAction(M,U){return m.actionCreators[M]=U,p},exposeCaseReducer(M,U){return m.sliceCaseReducersByName[M]=U,p}};f.forEach(M=>{const U=d[M],H={reducerName:M,type:PB(s,M),createNotation:typeof a.reducers=="function"};VB(U)?BB(H,U,p,e):LB(H,U,p)});function g(){const[M={},U=[],H=void 0]=typeof a.extraReducers=="function"?hR(a.extraReducers):[a.extraReducers],A={...M,...m.sliceCaseReducersByType};return CB(a.initialState,I=>{for(let P in A)I.addCase(P,A[P]);for(let P of m.sliceMatchers)I.addMatcher(P.matcher,P.reducer);for(let P of U)I.addMatcher(P.matcher,P.reducer);H&&I.addDefaultCase(H)})}const b=M=>M,w=new Map,_=new WeakMap;let E;function S(M,U){return E||(E=g()),E(M,U)}function R(){return E||(E=g()),E.getInitialState()}function N(M,U=!1){function H(I){let P=I[M];return typeof P>"u"&&U&&(P=up(_,H,R)),P}function A(I=b){const P=up(w,U,()=>new WeakMap);return up(P,I,()=>{const $={};for(const[z,D]of Object.entries(a.selectors??{}))$[z]=DB(D,I,()=>up(_,I,R),U);return $})}return{reducerPath:M,getSelectors:A,get selectors(){return A(H)},selectSlice:H}}const C={name:s,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:R,...N(c),injectInto(M,{reducerPath:U,...H}={}){const A=U??c;return M.inject({reducerPath:A,reducer:S},H),{...C,...N(A,!0)}}};return C}}function DB(t,e,r,n){function a(s,...c){let d=e(s);return typeof d>"u"&&n&&(d=r()),t(d,...c)}return a.unwrapped=t,a}var zn=MB();function zB(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function LB({type:t,reducerName:e,createNotation:r},n,a){let s,c;if("reducer"in n){if(r&&!UB(n))throw new Error(na(17));s=n.reducer,c=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ta(t,c):Ta(t))}function VB(t){return t._reducerDefinitionType==="asyncThunk"}function UB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function BB({type:t,reducerName:e},r,n,a){if(!a)throw new Error(na(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:m,options:p}=r,g=a(t,s,p);n.exposeAction(e,g),c&&n.addCase(g.fulfilled,c),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(e,{fulfilled:c||dp,pending:d||dp,rejected:f||dp,settled:m||dp})}function dp(){}var $B="task",mR="listener",pR="completed",k2="cancelled",HB=`task-${k2}`,qB=`task-${pR}`,Y1=`${mR}-${k2}`,FB=`${mR}-${pR}`,Ig=class{constructor(t){Nb(this,"name","TaskAbortError");Nb(this,"message");this.code=t,this.message=`${$B} ${k2} (reason: ${t})`}},_2=(t,e)=>{if(typeof t!="function")throw new TypeError(na(32))},b0=()=>{},gR=(t,e=b0)=>(t.catch(e),t),xR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Il=t=>{if(t.aborted)throw new Ig(t.reason)};function yR(t,e){let r=b0;return new Promise((n,a)=>{const s=()=>a(new Ig(t.reason));if(t.aborted){s();return}r=xR(t,s),e.finally(()=>r()).then(n,a)}).finally(()=>{r=b0})}var GB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Ig?"cancelled":"rejected",error:r}}finally{e==null||e()}},v0=t=>e=>gR(yR(t,e).then(r=>(Il(t),r))),bR=t=>{const e=v0(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:hu}=Object,DT={},Rg="listenerMiddleware",KB=(t,e)=>{const r=n=>xR(t,()=>n.abort(t.reason));return(n,a)=>{_2(n);const s=new AbortController;r(s);const c=GB(async()=>{Il(t),Il(s.signal);const d=await n({pause:v0(s.signal),delay:bR(s.signal),signal:s.signal});return Il(s.signal),d},()=>s.abort(qB));return a!=null&&a.autoJoin&&e.push(c.catch(b0)),{result:v0(t)(c),cancel(){s.abort(HB)}}}},YB=(t,e)=>{const r=async(n,a)=>{Il(e);let s=()=>{};const d=[new Promise((f,m)=>{let p=t({predicate:n,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),m()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await yR(e,Promise.race(d));return Il(e),f}finally{s()}};return(n,a)=>gR(r(n,a))},vR=t=>{let{type:e,actionCreator:r,matcher:n,predicate:a,effect:s}=t;if(e)a=Ta(e).match;else if(r)e=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(na(21));return _2(s),{predicate:a,type:e,effect:s}},wR=hu(t=>{const{type:e,predicate:r,effect:n}=vR(t);return{id:IB(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(na(22))}}},{withTypes:()=>wR}),zT=(t,e)=>{const{type:r,effect:n,predicate:a}=vR(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},W1=t=>{t.pending.forEach(e=>{e.abort(Y1)})},WB=(t,e)=>()=>{for(const r of e.keys())W1(r);t.clear()},LT=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},kR=hu(Ta(`${Rg}/add`),{withTypes:()=>kR}),XB=Ta(`${Rg}/removeAll`),_R=hu(Ta(`${Rg}/remove`),{withTypes:()=>_R}),QB=(...t)=>{console.error(`${Rg}/error`,...t)},hh=(t={})=>{const e=new Map,r=new Map,n=w=>{const _=r.get(w)??0;r.set(w,_+1)},a=w=>{const _=r.get(w)??1;_===1?r.delete(w):r.set(w,_-1)},{extra:s,onError:c=QB}=t;_2(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),_=>{w.unsubscribe(),_!=null&&_.cancelActive&&W1(w)}),f=w=>{const _=zT(e,w)??wR(w);return d(_)};hu(f,{withTypes:()=>f});const m=w=>{const _=zT(e,w);return _&&(_.unsubscribe(),w.cancelActive&&W1(_)),!!_};hu(m,{withTypes:()=>m});const p=async(w,_,E,S)=>{const R=new AbortController,N=YB(f,R.signal),C=[];try{w.pending.add(R),n(w),await Promise.resolve(w.effect(_,hu({},E,{getOriginalState:S,condition:(M,U)=>N(M,U).then(Boolean),take:N,delay:bR(R.signal),pause:v0(R.signal),extra:s,signal:R.signal,fork:KB(R.signal,C),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((M,U,H)=>{M!==R&&(M.abort(Y1),H.delete(M))})},cancel:()=>{R.abort(Y1),w.pending.delete(R)},throwIfCancelled:()=>{Il(R.signal)}})))}catch(M){M instanceof Ig||LT(c,M,{raisedBy:"effect"})}finally{await Promise.all(C),R.abort(FB),a(w),w.pending.delete(R)}},g=WB(e,r);return{middleware:w=>_=>E=>{if(!ZI(E))return _(E);if(kR.match(E))return f(E.payload);if(XB.match(E)){g();return}if(_R.match(E))return m(E.payload);let S=w.getState();const R=()=>{if(S===DT)throw new Error(na(23));return S};let N;try{if(N=_(E),e.size>0){const C=w.getState(),M=Array.from(e.values());for(const U of M){let H=!1;try{H=U.predicate(E,C,S)}catch(A){H=!1,LT(c,A,{raisedBy:"predicate"})}H&&p(U,E,w,R)}}}finally{S=DT}return N},startListening:f,stopListening:m,clearListeners:g}};function na(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NR=zn({name:"chartLayout",initialState:ZB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,a,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:JB,setLayout:e$,setChartSize:t$,setScale:r$}=NR.actions,n$=NR.reducer;function ER(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function st(t){return Number.isFinite(t)}function Pi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){a$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$(t,e,r){return(e=i$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$(t){var e=s$(t,"string");return typeof e=="symbol"?e:e+""}function s$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e,r){return rn(t)||rn(e)?r:Ri(e)?Hl(t,e,r):typeof e=="function"?e(t):r}var o$=(t,e,r)=>{if(e&&r){var{width:n,height:a}=r,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Ce(t[s]))return lu(lu({},t),{},{[s]:t[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Ce(t[c]))return lu(lu({},t),{},{[c]:t[c]+(a||0)})}return t},Vi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",SR=(t,e,r,n)=>{if(n)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===r&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(r),c},jR=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:w}=t;if(!c)return null;var _=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=a==="category"&&c.bandwidth?c.bandwidth()/_:0;if(E=w==="angleAxis"&&s&&s.length>=2?mn(s[0]-s[1])*2*E:E,g||b){var S=(g||b||[]).map((R,N)=>{var C=n?n.indexOf(R):R,M=c.map(C);return st(M)?{coordinate:M+E,value:R,offset:E,index:N}:null}).filter(Pn);return S}return f&&m?m.map((R,N)=>{var C=c.map(R);return st(C)?{coordinate:C+E,value:R,index:N,offset:E}:null}).filter(Pn):c.ticks&&p!=null?c.ticks(p).map((R,N)=>{var C=c.map(R);return st(C)?{coordinate:C+E,value:R,index:N,offset:E}:null}).filter(Pn):c.domain().map((R,N)=>{var C=c.map(R);return st(C)?{coordinate:C+E,value:n?n[R]:R,index:N,offset:E}:null}).filter(Pn)},l$=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0,d=0;d<r;++d){var f=t[d],m=f==null?void 0:f[a];if(m!=null){var p=m[1],g=m[0],b=Ii(p)?g:p;b>=0?(m[0]=s,s+=b,m[1]=s):(m[0]=c,c+=b,m[1]=c)}}}},c$=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0;c<r;++c){var d=t[c],f=d==null?void 0:d[a];if(f!=null){var m=Ii(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},u$={sign:l$,expand:VU,none:$l,silhouette:UU,wiggle:BU,positive:c$},d$=(t,e,r)=>{var n,a=(n=u$[r])!==null&&n!==void 0?n:$l,s=LU().keys(e).value((d,f)=>Number(Ut(d,f,0))).order(L1).offset(a),c=s(t);return c.forEach((d,f)=>{d.forEach((m,p)=>{var g=Ut(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Ce(g[0])&&Ce(g[1])&&(m[0]=g[0],m[1]=g[1])})}),c};function f$(t){return t==null?void 0:String(t)}function UT(t){var{axis:e,ticks:r,bandSize:n,entry:a,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rn(a[e.dataKey])){var d=RI(r,"value",a[e.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=Ut(a,rn(c)?e.dataKey:c),m=e.scale.map(f);return Ce(m)?m:null}var h$=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},m$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],p$=(t,e,r)=>{if(t!=null)return m$(Object.keys(t).reduce((n,a)=>{var s=t[a];if(!s)return n;var{stackedData:c}=s,d=c.reduce((f,m)=>{var p=ER(m,e,r),g=h$(p);return!st(g[0])||!st(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},BT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$T=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w0=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var a=Ng(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],m=a[c-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((m==null?void 0:m.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function HT(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:a,name:s}=t;return lu(lu({},e),{},{dataKey:r,payload:n,value:a,name:s})}function Pg(t,e){if(t)return String(t);if(typeof e=="string")return e}var g$=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},x$=(t,e)=>e==="centric"?t.angle:t.radius,Es=t=>t.layout.width,Ss=t=>t.layout.height,y$=t=>t.layout.scale,TR=t=>t.layout.margin,Mg=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Dg=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),AR="data-recharts-item-index",CR="data-recharts-item-id",mh=60;function qT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(r),!0).forEach(function(n){b$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b$(t,e,r){return(e=v$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v$(t){var e=w$(t,"string");return typeof e=="symbol"?e:e+""}function w$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k$=t=>t.brush.height;function _$(t){var e=Dg(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mh;return r+a}return r},0)}function N$(t){var e=Dg(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mh;return r+a}return r},0)}function E$(t){var e=Mg(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function S$(t){var e=Mg(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ur=ie([Es,Ss,TR,k$,_$,N$,E$,S$,WI,tB],(t,e,r,n,a,s,c,d,f,m)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},b=fp(fp({},g),p),w=b.bottom;b.bottom+=n,b=o$(b,f,m);var _=t-b.left-b.right,E=e-b.top-b.bottom;return fp(fp({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(E,0)})}),j$=ie(Ur,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),OR=ie(Es,Ss,(t,e)=>({x:0,y:0,width:t,height:e})),T$=k.createContext(null),Ln=()=>k.useContext(T$)!=null,zg=t=>t.brush,Lg=ie([zg,Ur,TR],(t,e,r)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Ce(t.width)?t.width:e.width})),Cv={},Ov={},Iv={},FT;function A$(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&p(),E()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},n)},_=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{_(),c=void 0,d=null},S=()=>{p()},R=function(...N){if(a!=null&&a.aborted)return;c=this,d=N;const C=b==null;w(),f&&C&&p()};return R.schedule=w,R.cancel=E,R.flush=S,a==null||a.addEventListener("abort",E,{once:!0}),R}t.debounce=e})(Iv)),Iv}var GT;function C$(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A$();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=n.apply(this,E),g=null},a,{edges:m}),w=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},_=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=_,w}t.debounce=r})(Ov)),Ov}var KT;function O$(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C$();function r(n,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(n,a,{leading:c,maxWait:a,trailing:d})}t.throttle=r})(Cv)),Cv}var Rv,YT;function I$(){return YT||(YT=1,Rv=O$().throttle),Rv}var R$=I$();const P$=Li(R$);var k0=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},_i={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},IR=(t,e,r)=>{var{width:n=_i.width,height:a=_i.height,aspect:s,maxHeight:c}=r,d=ql(n)?t:Number(n),f=ql(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},M$={width:0,height:0,overflow:"visible"},D$={width:0,overflowX:"visible"},z$={height:0,overflowY:"visible"},L$={},V$=t=>{var{width:e,height:r}=t,n=ql(e),a=ql(r);return n&&a?M$:n?D$:a?z$:L$};function U$(t){var{width:e,height:r,aspect:n}=t,a=e,s=r;return a===void 0&&s===void 0?(a=_i.width,s=_i.height):a===void 0?a=n&&n>0?void 0:_i.width:s===void 0&&(s=n&&n>0?void 0:_i.height),{width:a,height:s}}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X1.apply(null,arguments)}function WT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(r),!0).forEach(function(n){B$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B$(t,e,r){return(e=$$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$(t){var e=H$(t,"string");return typeof e=="symbol"?e:e+""}function H$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RR=k.createContext(_i.initialDimension);function q$(t){return Pi(t.width)&&Pi(t.height)}function PR(t){var{children:e,width:r,height:n}=t,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return q$(a)?k.createElement(RR.Provider,{value:a},e):null}var N2=()=>k.useContext(RR),F$=k.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=_i.initialDimension,width:a,height:s,minWidth:c=_i.minWidth,minHeight:d,maxHeight:f,children:m,debounce:p=_i.debounce,id:g,className:b,onResize:w,style:_={}}=t,E=k.useRef(null),S=k.useRef();S.current=w,k.useImperativeHandle(e,()=>E.current);var[R,N]=k.useState({containerWidth:n.width,containerHeight:n.height}),C=k.useCallback((I,P)=>{N($=>{var z=Math.round(I),D=Math.round(P);return $.containerWidth===z&&$.containerHeight===D?$:{containerWidth:z,containerHeight:D}})},[]);k.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Lu;var I=D=>{var B,W=D[0];if(W!=null){var{width:te,height:G}=W.contentRect;C(te,G),(B=S.current)===null||B===void 0||B.call(S,te,G)}};p>0&&(I=P$(I,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(I),{width:$,height:z}=E.current.getBoundingClientRect();return C($,z),P.observe(E.current),()=>{P.disconnect()}},[C,p]);var{containerWidth:M,containerHeight:U}=R;k0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:H,calculatedHeight:A}=IR(M,U,{width:a,height:s,aspect:r,maxHeight:f});return k0(H!=null&&H>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,A,a,s,c,d,r),k.createElement("div",{id:g?"".concat(g):void 0,className:xt("recharts-responsive-container",b),style:XT(XT({},_),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:E},k.createElement("div",{style:V$({width:a,height:s})},k.createElement(PR,{width:H,height:A},m)))}),QT=k.forwardRef((t,e)=>{var r=N2();if(Pi(r.width)&&Pi(r.height))return t.children;var{width:n,height:a}=U$({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=IR(void 0,void 0,{width:n,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(s)&&Ce(c)?k.createElement(PR,{width:s,height:c},t.children):k.createElement(F$,X1({},t,{width:n,height:a,ref:e}))});function E2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Vg=()=>{var t,e=Ln(),r=Pe(j$),n=Pe(Lg),a=(t=Pe(zg))===null||t===void 0?void 0:t.padding;return!e||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},G$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},MR=()=>{var t;return(t=Pe(Ur))!==null&&t!==void 0?t:G$},DR=()=>Pe(Es),zR=()=>Pe(Ss),Ct=t=>t.layout.layoutType,Vu=()=>Pe(Ct),S2=()=>{var t=Vu();if(t==="horizontal"||t==="vertical")return t},LR=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},K$=()=>{var t=Vu();return t!==void 0},ph=t=>{var e=Kt(),r=Ln(),{width:n,height:a}=t,s=N2(),c=n,d=a;return s&&(c=s.width>0?s.width:n,d=s.height>0?s.height:a),k.useEffect(()=>{!r&&Pi(c)&&Pi(d)&&e(t$({width:c,height:d}))},[e,r,c,d]),null},VR=Symbol.for("immer-nothing"),ZT=Symbol.for("immer-draftable"),oa=Symbol.for("immer-state");function Ha(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function Nu(t){return!!t&&!!t[oa]}function Gl(t){var e;return t?UR(t)||Array.isArray(t)||!!t[ZT]||!!((e=t.constructor)!=null&&e[ZT])||gh(t)||Bg(t):!1}var Y$=Object.prototype.constructor.toString(),JT=new WeakMap;function UR(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=JT.get(r);return n===void 0&&(n=Function.toString.call(r),JT.set(r,n)),n===Y$}function _0(t,e,r=!0){Ug(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function Ug(t){const e=t[oa];return e?e.type_:Array.isArray(t)?1:gh(t)?2:Bg(t)?3:0}function Q1(t,e){return Ug(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function BR(t,e,r){const n=Ug(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function W$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gh(t){return t instanceof Map}function Bg(t){return t instanceof Set}function kl(t){return t.copy_||t.base_}function Z1(t,e){if(gh(t))return new Map(t);if(Bg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=UR(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[oa];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Bf(t),n)}else{const n=Bf(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function j2(t,e=!1){return $g(t)||Nu(t)||!Gl(t)||(Ug(t)>1&&Object.defineProperties(t,{set:hp,add:hp,clear:hp,delete:hp}),Object.freeze(t),e&&Object.values(t).forEach(r=>j2(r,!0))),t}function X$(){Ha(2)}var hp={value:X$};function $g(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Q$={};function Kl(t){const e=Q$[t];return e||Ha(0,t),e}var $f;function $R(){return $f}function Z$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eA(t,e){e&&(Kl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function J1(t){ew(t),t.drafts_.forEach(J$),t.drafts_=null}function ew(t){t===$f&&($f=t.parent_)}function tA(t){return $f=Z$($f,t)}function J$(t){const e=t[oa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[oa].modified_&&(J1(e),Ha(4)),Gl(t)&&(t=N0(e,t),e.parent_||E0(e,t)),e.patches_&&Kl("Patches").generateReplacementPatches_(r[oa].base_,t,e.patches_,e.inversePatches_)):t=N0(e,r,[]),J1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VR?t:void 0}function N0(t,e,r){if($g(e))return e;const n=t.immer_.shouldUseStrictIteration(),a=e[oa];if(!a)return _0(e,(s,c)=>nA(t,a,e,s,c,r),n),e;if(a.scope_!==t)return e;if(!a.modified_)return E0(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),_0(c,(f,m)=>nA(t,a,s,f,m,r,d),n),E0(t,s,!1),r&&t.patches_&&Kl("Patches").generatePatches_(a,r,t.patches_,t.inversePatches_)}return a.copy_}function nA(t,e,r,n,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=$g(a);if(!(d&&!c)){if(Nu(a)){const f=s&&e&&e.type_!==3&&!Q1(e.assigned_,n)?s.concat(n):void 0,m=N0(t,a,f);if(BR(r,n,m),Nu(m))t.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Gl(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===a&&d)return;N0(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(gh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&E0(t,a)}}}function E0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&j2(e,r)}function eH(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:$R(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=T2;r&&(a=[n],s=Hf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return n.draft_=d,n.revoke_=c,d}var T2={get(t,e){if(e===oa)return t;const r=kl(t);if(!Q1(r,e))return tH(t,r,e);const n=r[e];return t.finalized_||!Gl(n)?n:n===Pv(t.base_,e)?(Mv(t),t.copy_[e]=rw(n,t)):n},has(t,e){return e in kl(t)},ownKeys(t){return Reflect.ownKeys(kl(t))},set(t,e,r){const n=HR(kl(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=Pv(kl(t),e),s=a==null?void 0:a[oa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(W$(r,a)&&(r!==void 0||Q1(t.base_,e)))return!0;Mv(t),tw(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Pv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Mv(t),tw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=kl(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ha(11)},getPrototypeOf(t){return Bf(t.base_)},setPrototypeOf(){Ha(12)}},Hf={};_0(T2,(t,e)=>{Hf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hf.deleteProperty=function(t,e){return Hf.set.call(this,t,e,void 0)};Hf.set=function(t,e,r){return T2.set.call(this,t[0],e,r,t[0])};function Pv(t,e){const r=t[oa];return(r?kl(r):t)[e]}function tH(t,e,r){var a;const n=HR(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function HR(t,e){if(!(e in t))return;let r=Bf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bf(r)}}function tw(t){t.modified_||(t.modified_=!0,t.parent_&&tw(t.parent_))}function Mv(t){t.copy_||(t.copy_=Z1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}typeof r!="function"&&Ha(6),n!==void 0&&typeof n!="function"&&Ha(7);let a;if(Gl(e)){const s=tA(this),c=rw(e,void 0);let d=!0;try{a=r(c),d=!1}finally{d?J1(s):ew(s)}return eA(s,n),rA(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===VR&&(a=void 0),this.autoFreeze_&&j2(a,!0),n){const s=[],c=[];Kl("Patches").generateReplacementPatches_(e,a,s,c),n(s,c)}return a}else Ha(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let n,a;return[this.produce(e,r,(c,d)=>{n=c,a=d}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gl(t)||Ha(8),Nu(t)&&(t=nH(t));const e=tA(this),r=rw(t,void 0);return r[oa].isManual_=!0,ew(e),r}finishDraft(t,e){const r=t&&t[oa];(!r||!r.isManual_)&&Ha(9);const{scope_:n}=r;return eA(n,e),rA(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Kl("Patches").applyPatches_;return Nu(t)?n(t,e):this.produce(t,a=>n(a,e))}};function rw(t,e){const r=gh(t)?Kl("MapSet").proxyMap_(t,e):Bg(t)?Kl("MapSet").proxySet_(t,e):eH(t,e);return(e?e.scope_:$R()).drafts_.push(r),r}function nH(t){return Nu(t)||Ha(10,t),qR(t)}function qR(t){if(!Gl(t)||$g(t))return t;const e=t[oa];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Z1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Z1(t,!0);return _0(r,(a,s)=>{BR(r,a,qR(s))},n),e&&(e.finalized_=!1),r}var aH=new rH;aH.produce;var iH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FR=zn({name:"legend",initialState:iH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ft()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Wa(t).payload.indexOf(r);a>-1&&(t.payload[a]=n)},prepare:Ft()},removeLegendPayload:{reducer(t,e){var r=Wa(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Ft()}}}),{setLegendSize:bde,setLegendSettings:vde,addLegendPayload:GR,replaceLegendPayload:KR,removeLegendPayload:YR}=FR.actions,sH=FR.reducer;function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(null,arguments)}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){oH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oH(t,e,r){return(e=lH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lH(t){var e=cH(t,"string");return typeof e=="symbol"?e:e+""}function cH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uH(t){return Array.isArray(t)&&Ri(t[0])&&Ri(t[1])?t.join(" ~ "):t}var Qc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},dH=t=>{var{separator:e=Qc.separator,contentStyle:r,itemStyle:n,labelStyle:a=Qc.labelStyle,payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=Qc.accessibilityLayer}=t,w=()=>{if(s&&s.length){var U={padding:0,margin:0},H=(d?Ng(s,d):s).map((A,I)=>{if(A.type==="none")return null;var P=A.formatter||c||uH,{value:$,name:z}=A,D=$,B=z;if(P){var W=P($,z,A,I,s);if(Array.isArray(W))[D,B]=W;else if(W!=null)D=W;else return null}var te=sf(sf({},Qc.itemStyle),{},{color:A.color||Qc.itemStyle.color},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:te},Ri(B)?k.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ri(B)?k.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,k.createElement("span",{className:"recharts-tooltip-item-value"},D),k.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:U},H)}return null},_=sf(sf({},Qc.contentStyle),r),E=sf({margin:0},a),S=!rn(p),R=S?p:"",N=xt("recharts-default-tooltip",f),C=xt("recharts-tooltip-label",m);S&&g&&s!==void 0&&s!==null&&(R=g(p,s));var M=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",nw({className:N,style:_},M),k.createElement("p",{className:C,style:E},k.isValidElement(R)?R:"".concat(R)),w())},of="recharts-tooltip-wrapper",fH={visibility:"hidden"};function hH(t){var{coordinate:e,translateX:r,translateY:n}=t;return xt(of,{["".concat(of,"-right")]:Ce(r)&&e&&Ce(e.x)&&r>=e.x,["".concat(of,"-left")]:Ce(r)&&e&&Ce(e.x)&&r<e.x,["".concat(of,"-bottom")]:Ce(n)&&e&&Ce(e.y)&&n>=e.y,["".concat(of,"-top")]:Ce(n)&&e&&Ce(e.y)&&n<e.y})}function iA(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=t;if(s&&Ce(s[n]))return s[n];var p=r[n]-d-(a>0?a:0),g=r[n]+a;if(e[n])return c[n]?p:g;var b=f[n];if(b==null)return 0;if(c[n]){var w=p,_=b;return w<_?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var E=g+d,S=b+m;return E>S?Math.max(p,b):Math.max(g,b)}function mH(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function pH(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:f,viewBox:m}=t,p,g,b;return d.height>0&&d.width>0&&r?(g=iA({allowEscapeViewBox:e,coordinate:r,key:"x",offset:a,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),b=iA({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),p=mH({translateX:g,translateY:b,useTranslate3d:f})):p=fH,{cssProperties:p,cssClasses:hH({translateX:g,translateY:b,coordinate:r})}}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aw(t,e,r){return(e=gH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gH(t){var e=xH(t,"string");return typeof e=="symbol"?e:e+""}function xH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yH extends k.PureComponent{constructor(){super(...arguments),aw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),aw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:_,lastBoundingBox:E,innerRef:S,hasPortalFromProps:R}=this.props,N=typeof m=="number"?m:m.x,C=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:U}=pH({allowEscapeViewBox:r,coordinate:c,offsetLeft:N,offsetTop:C,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:w}),H=R?{}:mp(mp({transition:f&&e?"transform ".concat(n,"ms ").concat(a):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=mp(mp({},H),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},_);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:A,ref:S},s)}}var WR=()=>{var t;return(t=Pe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(null,arguments)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){bH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bH(t,e,r){return(e=vH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vH(t){var e=wH(t,"string");return typeof e=="symbol"?e:e+""}function wH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cA={curveBasisClosed:jU,curveBasisOpen:TU,curveBasis:SU,curveBumpX:fU,curveBumpY:hU,curveLinearClosed:AU,curveLinear:kg,curveMonotoneX:CU,curveMonotoneY:OU,curveNatural:IU,curveStep:RU,curveStepAfter:MU,curveStepBefore:PU},S0=t=>st(t.x)&&st(t.y),uA=t=>t.base!=null&&S0(t.base)&&S0(t),lf=t=>t.x,cf=t=>t.y,kH=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(dh(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=cA["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return cA[r]||kg},dA={connectNulls:!1,type:"linear"},_H=t=>{var{type:e=dA.type,points:r=[],baseLine:n,layout:a,connectNulls:s=dA.connectNulls}=t,c=kH(e,a),d=s?r.filter(S0):r;if(Array.isArray(n)){var f,m=r.map((_,E)=>lA(lA({},_),{},{base:n[E]}));a==="vertical"?f=sp().y(cf).x1(lf).x0(_=>_.base.x):f=sp().x(lf).y1(cf).y0(_=>_.base.y);var p=f.defined(uA).curve(c),g=s?m.filter(uA):m;return p(g)}var b;a==="vertical"&&Ce(n)?b=sp().y(cf).x1(lf).x0(n):Ce(n)?b=sp().x(lf).y1(cf).y0(n):b=vI().x(lf).y(cf);var w=b.defined(S0).curve(c);return w(d)},mu=t=>{var{className:e,points:r,path:n,pathRef:a}=t,s=Vu();if((!r||!r.length)&&!n)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=r&&r.length?_H(c):n;return k.createElement("path",iw({},sa(t),m2(t),{className:xt("recharts-curve",e),d:d===null?void 0:d,ref:a}))},NH=["x","y","top","left","width","height","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(null,arguments)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){SH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SH(t,e,r){return(e=jH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jH(t){var e=TH(t,"string");return typeof e=="symbol"?e:e+""}function TH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AH(t,e){if(t==null)return{};var r,n,a=CH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function CH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OH=(t,e,r,n,a,s)=>"M".concat(t,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),IH=t=>{var{x:e=0,y:r=0,top:n=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=AH(t,NH),m=EH({x:e,y:r,top:n,left:a,width:s,height:c},f);return!Ce(e)||!Ce(r)||!Ce(s)||!Ce(c)||!Ce(n)||!Ce(a)?null:k.createElement("path",sw({},vn(m),{className:xt("recharts-cross",d),d:OH(e,r,s,c,n,a)}))};function RH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){PH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PH(t,e,r){return(e=MH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MH(t){var e=DH(t,"string");return typeof e=="symbol"?e:e+""}function DH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zH=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),XR=(t,e,r)=>t.map(n=>"".concat(zH(n)," ").concat(e,"ms ").concat(r)).join(","),LH=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(a=>n.includes(a))),qf=(t,e)=>Object.keys(e).reduce((r,n)=>mA(mA({},r),{},{[n]:t(n,e[n])}),{});function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){VH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VH(t,e,r){return(e=UH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=BH(t,"string");return typeof e=="symbol"?e:e+""}function BH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0=(t,e,r)=>t+(e-t)*r,ow=t=>{var{from:e,to:r}=t;return e!==r},QR=(t,e,r)=>{var n=qf((a,s)=>{if(ow(s)){var[c,d]=t(s.from,s.to,s.velocity);return _r(_r({},s),{},{from:c,velocity:d})}return s},e);return r<1?qf((a,s)=>ow(s)&&n[a]!=null?_r(_r({},s),{},{velocity:j0(s.velocity,n[a].velocity,r),from:j0(s.from,n[a].from,r)}):s,e):QR(t,n,r-1)};function $H(t,e,r,n,a,s){var c,d=n.reduce((b,w)=>_r(_r({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>qf((b,w)=>w.from,d),m=()=>!Object.values(d).filter(ow).length,p=null,g=b=>{c||(c=b);var w=b-c,_=w/r.dt;d=QR(r,d,_),a(_r(_r(_r({},t),e),f())),c=b,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function HH(t,e,r,n,a,s,c){var d=null,f=a.reduce((g,b)=>{var w=t[b],_=e[b];return w==null||_==null?g:_r(_r({},g),{},{[b]:[w,_]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/n,w=qf((E,S)=>j0(...S,r(b)),f);if(s(_r(_r(_r({},t),e),w)),b<1)d=c.setTimeout(p);else{var _=qf((E,S)=>j0(...S,r(1)),f);s(_r(_r(_r({},t),e),_))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const qH=(t,e,r,n,a,s)=>{var c=LH(t,e);return r==null?()=>(a(_r(_r({},t),e)),()=>{}):r.isStepper===!0?$H(t,e,r,c,a,s):HH(t,e,r,n,c,a,s)};var T0=1e-4,ZR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],JR=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),gA=(t,e)=>r=>{var n=ZR(t,e);return JR(n,r)},FH=(t,e)=>r=>{var n=ZR(t,e),a=[...n.map((s,c)=>s*c).slice(1),0];return JR(a,r)},GH=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},KH=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=GH(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},YH=(t,e,r,n)=>{var a=gA(t,r),s=gA(e,n),c=FH(t,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var w=a(g)-p,_=c(g);if(Math.abs(w-p)<T0||_<T0)return s(g);g=d(g-w/_)}return s(g)};return f.isStepper=!1,f},xA=function(){return YH(...KH(...arguments))},WH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=e,s=(c,d,f)=>{var m=-(c-d)*r,p=f*n,g=f+(m-p)*a/1e3,b=f*a/1e3+c;return Math.abs(b-d)<T0&&Math.abs(g)<T0?[d,0]:[b,g]};return s.isStepper=!0,s.dt=a,s},XH=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xA(t);case"spring":return WH();default:if(t.split("(")[0]==="cubic-bezier")return xA(t)}return typeof t=="function"?t:null};function QH(t){var e,r=()=>null,n=!1,a=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,m),f);return}s(f),a=t.setTimeout(s.bind(null,m));return}typeof c=="string"&&(e=c,r(e)),typeof c=="object"&&(e=c,r(e)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>t}}class ZH{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=c=>{c-n>=r?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function JH(){return QH(new ZH)}var eq=k.createContext(JH);function tq(t,e){var r=k.useContext(eq);return k.useMemo(()=>e??r(t),[t,e,r])}var rq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xh={isSsr:rq()},nq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yA={t:0},Dv={t:1};function Hg(t){var e=an(t,nq),{isActive:r,canBegin:n,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=e,p=r==="auto"?!xh.isSsr:r,g=tq(e.animationId,e.animationManager),[b,w]=k.useState(p?yA:Dv),_=k.useRef(null);return k.useEffect(()=>{p||w(Dv)},[p]),k.useEffect(()=>{if(!p||!n)return Lu;var E=qH(yA,Dv,XH(s),a,w,g.getTimeoutController()),S=()=>{_.current=E()};return g.start([f,c,S,a,d]),()=>{g.stop(),_.current&&_.current(),d()}},[p,n,a,s,c,f,d,g]),m(b.t)}function qg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(zf(e)),n=k.useRef(t);return n.current!==t&&(r.current=zf(e),n.current=t),r.current}var aq=["radius"],iq=["radius"],bA,vA,wA,kA,_A,NA,EA,SA,jA,TA;function AA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(r),!0).forEach(function(n){sq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sq(t,e,r){return(e=oq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oq(t){var e=lq(t,"string");return typeof e=="symbol"?e:e+""}function lq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(null,arguments)}function OA(t,e){if(t==null)return{};var r,n,a=cq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function cq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function bi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var IA=(t,e,r,n,a)=>{var s=No(r),c=No(n),d=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,m=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(d>0&&Array.isArray(a)){for(var b=[0,0,0,0],w=0,_=4;w<_;w++){var E,S=(E=a[w])!==null&&E!==void 0?E:0;b[w]=S>d?d:S}g=ir(bA||(bA=bi(["M",",",""])),t,e+f*b[0]),b[0]>0&&(g+=ir(vA||(vA=bi(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+m*b[0],e)),g+=ir(wA||(wA=bi(["L ",",",""])),t+r-m*b[1],e),b[1]>0&&(g+=ir(kA||(kA=bi(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+r,e+f*b[1])),g+=ir(_A||(_A=bi(["L ",",",""])),t+r,e+n-f*b[2]),b[2]>0&&(g+=ir(NA||(NA=bi(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+r-m*b[2],e+n)),g+=ir(EA||(EA=bi(["L ",",",""])),t+m*b[3],e+n),b[3]>0&&(g+=ir(SA||(SA=bi(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+n-f*b[3])),g+="Z"}else if(d>0&&a===+a&&a>0){var R=Math.min(d,a);g=ir(jA||(jA=bi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*R,R,R,p,t+m*R,e,t+r-m*R,e,R,R,p,t+r,e+f*R,t+r,e+n-f*R,R,R,p,t+r-m*R,e+n,t+m*R,e+n,R,R,p,t,e+n-f*R)}else g=ir(TA||(TA=bi(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return g},RA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eP=t=>{var e=an(t,RA),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&a(Q)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:m,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:_,isUpdateAnimationActive:E}=e,S=k.useRef(d),R=k.useRef(f),N=k.useRef(s),C=k.useRef(c),M=k.useMemo(()=>({x:s,y:c,width:d,height:f,radius:m}),[s,c,d,f,m]),U=qg(M,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var H=xt("recharts-rectangle",p);if(!E){var A=vn(e),{radius:I}=A,P=OA(A,aq);return k.createElement("path",A0({},P,{x:No(s),y:No(c),width:No(d),height:No(f),radius:typeof m=="number"?m:void 0,className:H,d:IA(s,c,d,f,m)}))}var $=S.current,z=R.current,D=N.current,B=C.current,W="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),G=XR(["strokeDasharray"],b,typeof g=="string"?g:RA.animationEasing);return k.createElement(Hg,{animationId:U,key:U,canBegin:n>0,duration:b,easing:g,isActive:E,begin:w},Q=>{var me=Zr($,d,Q),de=Zr(z,f,Q),ee=Zr(D,s,Q),L=Zr(B,c,Q);r.current&&(S.current=me,R.current=de,N.current=ee,C.current=L);var F;_?Q>0?F={transition:G,strokeDasharray:te}:F={strokeDasharray:W}:F={strokeDasharray:te};var oe=vn(e),{radius:K}=oe,ge=OA(oe,iq);return k.createElement("path",A0({},ge,{radius:typeof m=="number"?m:void 0,className:H,d:IA(ee,L,me,de,m),ref:r,style:CA(CA({},F),e.style)}))})};function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){uq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uq(t,e,r){return(e=dq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dq(t){var e=fq(t,"string");return typeof e=="symbol"?e:e+""}function fq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C0=Math.PI/180,hq=t=>t*180/Math.PI,br=(t,e,r,n)=>({x:t+Math.cos(-C0*n)*r,y:e+Math.sin(-C0*n)*r}),tP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},mq=(t,e)=>{var{x:r,y:n}=t,{x:a,y:s}=e;return Math.sqrt((r-a)**2+(n-s)**2)},pq=(t,e)=>{var{x:r,y:n}=t,{cx:a,cy:s}=e,c=mq({x:r,y:n},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(r-a)/c,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:c,angle:hq(f),angleInRadian:f}},gq=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:r-s*360}},xq=(t,e)=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return t+c*360},yq=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:a,angle:s}=pq({x:r,y:n},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:m}=gq(e),p=s,g;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=f}return g?MA(MA({},e),{},{radius:a,angle:xq(p,e)}):null};function rP(t){var{cx:e,cy:r,radius:n,startAngle:a,endAngle:s}=t,c=br(e,r,n,a),d=br(e,r,n,s);return{points:[c,d],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}var DA,zA,LA,VA,UA,BA,$A;function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(null,arguments)}function Sl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var bq=(t,e)=>{var r=mn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},pp=t=>{var{cx:e,cy:r,radius:n,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,m=d*(c?1:-1)+n,p=Math.asin(d/m)/C0,g=f?a:a+s*p,b=br(e,r,m,g),w=br(e,r,n,g),_=f?a-s*p:a,E=br(e,r,m*Math.cos(p*C0),_);return{center:b,circleTangency:w,lineTangency:E,theta:p}},nP=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c}=t,d=bq(s,c),f=s+d,m=br(e,r,a,s),p=br(e,r,a,f),g=ir(DA||(DA=Sl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var b=br(e,r,n,s),w=br(e,r,n,f);g+=ir(zA||(zA=Sl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,n,n,+(Math.abs(d)>180),+(s<=f),b.x,b.y)}else g+=ir(LA||(LA=Sl(["L ",","," Z"])),e,r);return g},vq=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=t,p=mn(m-f),{circleTangency:g,lineTangency:b,theta:w}=pp({cx:e,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:_,lineTangency:E,theta:S}=pp({cx:e,cy:r,radius:a,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:d}),R=d?Math.abs(f-m):Math.abs(f-m)-w-S;if(R<0)return c?ir(VA||(VA=Sl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):nP({cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:m});var N=ir(UA||(UA=Sl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,a,a,+(R>180),+(p<0),_.x,_.y,s,s,+(p<0),E.x,E.y);if(n>0){var{circleTangency:C,lineTangency:M,theta:U}=pp({cx:e,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:H,lineTangency:A,theta:I}=pp({cx:e,cy:r,radius:n,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),P=d?Math.abs(f-m):Math.abs(f-m)-U-I;if(P<0&&s===0)return"".concat(N,"L").concat(e,",").concat(r,"Z");N+=ir(BA||(BA=Sl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,s,s,+(p<0),H.x,H.y,n,n,+(P>180),+(p>0),C.x,C.y,s,s,+(p<0),M.x,M.y)}else N+=ir($A||($A=Sl(["L",",","Z"])),e,r);return N},wq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aP=t=>{var e=an(t,wq),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p,className:g}=e;if(s<a||m===p)return null;var b=xt("recharts-sector",g),w=s-a,_=ra(c,w,0,!0),E;return _>0&&Math.abs(m-p)<360?E=vq({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):E=nP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:m,endAngle:p}),k.createElement("path",lw({},vn(e),{className:b,d:E}))};function kq(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(DI(e)){if(t==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=br(n,a,s,d),m=br(n,a,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return rP(e)}}var zv={},Lv={},Vv={},HA;function _q(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KI();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Vv)),Vv}var qA;function Nq(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_q();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Lv)),Lv}var FA;function Eq(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YI(),r=Nq();function n(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),c=c===void 0?a<s?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=a,a+=c;return f}t.range=n})(zv)),zv}var Uv,GA;function Sq(){return GA||(GA=1,Uv=Eq().range),Uv}var jq=Sq();const iP=Li(jq);function So(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function A2(t){let e,r,n;t.length!==2?(e=So,r=(d,f)=>So(t(d),f),n=(d,f)=>t(d)-f):(e=t===So||t===Tq?t:Aq,r=t,n=t);function a(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;r(d[g],f)<0?m=g+1:p=g}while(m<p)}return m}function s(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;r(d[g],f)<=0?m=g+1:p=g}while(m<p)}return m}function c(d,f,m=0,p=d.length){const g=a(d,f,m,p-1);return g>m&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function Aq(){return 0}function sP(t){return t===null?NaN:+t}function*Cq(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Oq=A2(So),yh=Oq.right;A2(sP).center;class KA extends Map{constructor(e,r=Pq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(YA(this,e))}has(e){return super.has(YA(this,e))}set(e,r){return super.set(Iq(this,e),r)}delete(e){return super.delete(Rq(this,e))}}function YA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Iq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Rq({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Pq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mq(t=So){if(t===So)return oP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function oP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Dq=Math.sqrt(50),zq=Math.sqrt(10),Lq=Math.sqrt(2);function O0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=Dq?10:s>=zq?5:s>=Lq?2:1;let d,f,m;return a<0?(m=Math.pow(10,-a)/c,d=Math.round(t*m),f=Math.round(e*m),d/m<t&&++d,f/m>e&&--f,m=-m):(m=Math.pow(10,a)*c,d=Math.round(t/m),f=Math.round(e/m),d*m<t&&++d,f*m>e&&--f),f<d&&.5<=r&&r<2?O0(t,e,r*2):[d,f,m]}function cw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,c]=n?O0(e,t,r):O0(t,e,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(c<0)for(let m=0;m<d;++m)f[m]=(s-m)/-c;else for(let m=0;m<d;++m)f[m]=(s-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(a+m)/-c;else for(let m=0;m<d;++m)f[m]=(a+m)*c;return f}function uw(t,e,r){return e=+e,t=+t,r=+r,O0(t,e,r)[2]}function dw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?uw(e,t,r):uw(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function WA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?oP:Mq(a);n>r;){if(n-r>600){const f=n-r+1,m=e-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(m-f/2<0?-1:1),w=Math.max(r,Math.floor(e-m*g/f+b)),_=Math.min(n,Math.floor(e+(f-m)*g/f+b));lP(t,e,w,_,a)}const s=t[e];let c=r,d=n;for(uf(t,r,e),a(t[n],s)>0&&uf(t,r,n);c<d;){for(uf(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[r],s)===0?uf(t,r,d):(++d,uf(t,d,n)),d<=e&&(r=d+1),e<=d&&(n=d-1)}return t}function uf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Vq(t,e,r){if(t=Float64Array.from(Cq(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return XA(t);if(e>=1)return WA(t);var n,a=(n-1)*e,s=Math.floor(a),c=WA(lP(t,s).subarray(0,s+1)),d=XA(t.subarray(s+1));return c+(d-c)*(a-s)}}function Uq(t,e,r=sP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),c=+r(t[s],s,t),d=+r(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function Bq(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function js(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fw=Symbol("implicit");function C2(){var t=new KA,e=[],r=[],n=fw;function a(s){let c=t.get(s);if(c===void 0){if(n!==fw)return n;t.set(s,c=e.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new KA;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return C2(e,r).unknown(n)},Ia.apply(a,arguments),a}function O2(){var t=C2().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,c,d=!1,f=0,m=0,p=.5;delete t.unknown;function g(){var b=e().length,w=a<n,_=w?a:n,E=w?n:a;s=(E-_)/Math.max(1,b-f+m*2),d&&(s=Math.floor(s)),_+=(E-_-s*(b-f))*p,c=s*(1-f),d&&(_=Math.round(_),c=Math.round(c));var S=Bq(b).map(function(R){return _+s*R});return r(w?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([n,a]=b,n=+n,a=+a,g()):[n,a]},t.rangeRound=function(b){return[n,a]=b,n=+n,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(b){return arguments.length?(d=!!b,g()):d},t.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return O2(e(),[n,a]).round(d).paddingInner(f).paddingOuter(m).align(p)},Ia.apply(g(),arguments)}function cP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cP(e())},t}function $q(){return cP(O2.apply(null,arguments).paddingInner(1))}function I2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function uP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function bh(){}var Ff=.7,I0=1/Ff,pu="\\s*([+-]?\\d+)\\s*",Gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hq=/^#([0-9a-f]{3,8})$/,qq=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),Fq=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),Gq=new RegExp(`^rgba\\(${pu},${pu},${pu},${Gf}\\)$`),Kq=new RegExp(`^rgba\\(${Si},${Si},${Si},${Gf}\\)$`),Yq=new RegExp(`^hsl\\(${Gf},${Si},${Si}\\)$`),Wq=new RegExp(`^hsla\\(${Gf},${Si},${Si},${Gf}\\)$`),QA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I2(bh,Kf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZA,formatHex:ZA,formatHex8:Xq,formatHsl:Qq,formatRgb:JA,toString:JA});function ZA(){return this.rgb().formatHex()}function Xq(){return this.rgb().formatHex8()}function Qq(){return dP(this).formatHsl()}function JA(){return this.rgb().formatRgb()}function Kf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Hq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?eC(e):r===3?new Mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qq.exec(t))?new Mn(e[1],e[2],e[3],1):(e=Fq.exec(t))?new Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Gq.exec(t))?gp(e[1],e[2],e[3],e[4]):(e=Kq.exec(t))?gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yq.exec(t))?nC(e[1],e[2]/100,e[3]/100,1):(e=Wq.exec(t))?nC(e[1],e[2]/100,e[3]/100,e[4]):QA.hasOwnProperty(t)?eC(QA[t]):t==="transparent"?new Mn(NaN,NaN,NaN,0):null}function eC(t){return new Mn(t>>16&255,t>>8&255,t&255,1)}function gp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Mn(t,e,r,n)}function Zq(t){return t instanceof bh||(t=Kf(t)),t?(t=t.rgb(),new Mn(t.r,t.g,t.b,t.opacity)):new Mn}function hw(t,e,r,n){return arguments.length===1?Zq(t):new Mn(t,e,r,n??1)}function Mn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}I2(Mn,hw,uP(bh,{brighter(t){return t=t==null?I0:Math.pow(I0,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(Rl(this.r),Rl(this.g),Rl(this.b),R0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tC,formatHex:tC,formatHex8:Jq,formatRgb:rC,toString:rC}));function tC(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function Jq(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function rC(){const t=R0(this.opacity);return`${t===1?"rgb(":"rgba("}${Rl(this.r)}, ${Rl(this.g)}, ${Rl(this.b)}${t===1?")":`, ${t})`}`}function R0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jl(t){return t=Rl(t),(t<16?"0":"")+t.toString(16)}function nC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new qa(t,e,r,n)}function dP(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);if(t instanceof bh||(t=Kf(t)),!t)return new qa;if(t instanceof qa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(r-n)/d+(r<n)*6:r===s?c=(n-e)/d+2:c=(e-r)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new qa(c,d,f,t.opacity)}function eF(t,e,r,n){return arguments.length===1?dP(t):new qa(t,e,r,n??1)}function qa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}I2(qa,eF,uP(bh,{brighter(t){return t=t==null?I0:Math.pow(I0,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Mn(Bv(t>=240?t-240:t+120,a,n),Bv(t,a,n),Bv(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new qa(aC(this.h),xp(this.s),xp(this.l),R0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=R0(this.opacity);return`${t===1?"hsl(":"hsla("}${aC(this.h)}, ${xp(this.s)*100}%, ${xp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aC(t){return t=(t||0)%360,t<0?t+360:t}function xp(t){return Math.max(0,Math.min(1,t||0))}function Bv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const R2=t=>()=>t;function tF(t,e){return function(r){return t+r*e}}function rF(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function nF(t){return(t=+t)==1?fP:function(e,r){return r-e?rF(e,r,t):R2(isNaN(e)?r:e)}}function fP(t,e){var r=e-t;return r?tF(t,r):R2(isNaN(t)?e:t)}const iC=(function t(e){var r=nF(e);function n(a,s){var c=r((a=hw(a)).r,(s=hw(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),m=fP(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=m(p),a+""}}return n.gamma=t,n})(1);function aF(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function iF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sF(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Uu(t[c],e[c]);for(;c<r;++c)s[c]=e[c];return function(d){for(c=0;c<n;++c)s[c]=a[c](d);return s}}function oF(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function P0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function lF(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Uu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$v=new RegExp(mw.source,"g");function cF(t){return function(){return t}}function uF(t){return function(e){return t(e)+""}}function dF(t,e){var r=mw.lastIndex=$v.lastIndex=0,n,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(n=mw.exec(t))&&(a=$v.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),d[c]?d[c]+=s:d[++c]=s),(n=n[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:P0(n,a)})),r=$v.lastIndex;return r<e.length&&(s=e.slice(r),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?uF(f[0].x):cF(e):(e=f.length,function(m){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(m);return d.join("")})}function Uu(t,e){var r=typeof e,n;return e==null||r==="boolean"?R2(e):(r==="number"?P0:r==="string"?(n=Kf(e))?(e=n,iC):dF:e instanceof Kf?iC:e instanceof Date?oF:iF(e)?aF:Array.isArray(e)?sF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lF:P0)(t,e)}function P2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function fF(t,e){e===void 0&&(e=t,t=Uu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(c){var d=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[d](c-d)}}function hF(t){return function(){return t}}function M0(t){return+t}var sC=[0,1];function yn(t){return t}function pw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:hF(isNaN(e)?NaN:.5)}function mF(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pF(t,e,r){var n=t[0],a=t[1],s=e[0],c=e[1];return a<n?(n=pw(a,n),s=r(c,s)):(n=pw(n,a),s=r(s,c)),function(d){return s(n(d))}}function gF(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=pw(t[c],t[c+1]),s[c]=r(e[c],e[c+1]);return function(d){var f=yh(t,d,1,n)-1;return s[f](a[f](d))}}function vh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fg(){var t=sC,e=sC,r=Uu,n,a,s,c=yn,d,f,m;function p(){var b=Math.min(t.length,e.length);return c!==yn&&(c=mF(t[0],t[b-1])),d=b>2?gF:pF,f=m=null,g}function g(b){return b==null||isNaN(b=+b)?s:(f||(f=d(t.map(n),e,r)))(n(c(b)))}return g.invert=function(b){return c(a((m||(m=d(e,t.map(n),P0)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,M0),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),r=P2,p()},g.clamp=function(b){return arguments.length?(c=b?!0:yn,p()):c!==yn},g.interpolate=function(b){return arguments.length?(r=b,p()):r},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,w){return n=b,a=w,p()}}function M2(){return Fg()(yn,yn)}function xF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function D0(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Eu(t){return t=D0(Math.abs(t)),t?t[1]:NaN}function yF(t,e){return function(r,n){for(var a=r.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function bF(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var vF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yf(t){if(!(e=vF.exec(t)))throw new Error("invalid format: "+t);var e;return new D2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yf.prototype=D2.prototype;function D2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}D2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wF(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var z0;function kF(t,e){var r=D0(t,e);if(!r)return z0=void 0,t.toPrecision(e);var n=r[0],a=r[1],s=a-(z0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+D0(t,Math.max(0,e+s-1))[0]}function oC(t,e){var r=D0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const lC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oC(t*100,e),r:oC,s:kF,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cC(t){return t}var uC=Array.prototype.map,dC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _F(t){var e=t.grouping===void 0||t.thousands===void 0?cC:yF(uC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?cC:bF(uC.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function m(g,b){g=Yf(g);var w=g.fill,_=g.align,E=g.sign,S=g.symbol,R=g.zero,N=g.width,C=g.comma,M=g.precision,U=g.trim,H=g.type;H==="n"?(C=!0,H="g"):lC[H]||(M===void 0&&(M=12),U=!0,H="g"),(R||w==="0"&&_==="=")&&(R=!0,w="0",_="=");var A=(b&&b.prefix!==void 0?b.prefix:"")+(S==="$"?r:S==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():""),I=(S==="$"?n:/[%p]/.test(H)?c:"")+(b&&b.suffix!==void 0?b.suffix:""),P=lC[H],$=/[defgprs%]/.test(H);M=M===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function z(D){var B=A,W=I,te,G,Q;if(H==="c")W=P(D)+W,D="";else{D=+D;var me=D<0||1/D<0;if(D=isNaN(D)?f:P(Math.abs(D),M),U&&(D=wF(D)),me&&+D==0&&E!=="+"&&(me=!1),B=(me?E==="("?E:d:E==="-"||E==="("?"":E)+B,W=(H==="s"&&!isNaN(D)&&z0!==void 0?dC[8+z0/3]:"")+W+(me&&E==="("?")":""),$){for(te=-1,G=D.length;++te<G;)if(Q=D.charCodeAt(te),48>Q||Q>57){W=(Q===46?a+D.slice(te+1):D.slice(te))+W,D=D.slice(0,te);break}}}C&&!R&&(D=e(D,1/0));var de=B.length+D.length+W.length,ee=de<N?new Array(N-de+1).join(w):"";switch(C&&R&&(D=e(ee+D,ee.length?N-W.length:1/0),ee=""),_){case"<":D=B+D+W+ee;break;case"=":D=B+ee+D+W;break;case"^":D=ee.slice(0,de=ee.length>>1)+B+D+W+ee.slice(de);break;default:D=ee+B+D+W;break}return s(D)}return z.toString=function(){return g+""},z}function p(g,b){var w=Math.max(-8,Math.min(8,Math.floor(Eu(b)/3)))*3,_=Math.pow(10,-w),E=m((g=Yf(g),g.type="f",g),{suffix:dC[8+w/3]});return function(S){return E(_*S)}}return{format:m,formatPrefix:p}}var yp,z2,hP;NF({thousands:",",grouping:[3],currency:["$",""]});function NF(t){return yp=_F(t),z2=yp.format,hP=yp.formatPrefix,yp}function EF(t){return Math.max(0,-Eu(Math.abs(t)))}function SF(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Eu(e)/3)))*3-Eu(Math.abs(t)))}function jF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eu(e)-Eu(t))+1}function mP(t,e,r,n){var a=dw(t,e,r),s;switch(n=Yf(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=SF(a,c))&&(n.precision=s),hP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=jF(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=EF(a))&&(n.precision=s-(n.type==="%")*2);break}}return z2(n)}function Ho(t){var e=t.domain;return t.ticks=function(r){var n=e();return cw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return mP(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,c=n[a],d=n[s],f,m,p=10;for(d<c&&(m=c,c=d,d=m,m=a,a=s,s=m);p-- >0;){if(m=uw(c,d,r),m===f)return n[a]=c,n[s]=d,e(n);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return t},t}function pP(){var t=M2();return t.copy=function(){return vh(t,pP())},Ia.apply(t,arguments),Ho(t)}function gP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,M0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return gP(t).unknown(e)},t=arguments.length?Array.from(t,M0):[0,1],Ho(r)}function xP(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),t[r]=e.floor(a),t[n]=e.ceil(s),t}function fC(t){return Math.log(t)}function hC(t){return Math.exp(t)}function TF(t){return-Math.log(-t)}function AF(t){return-Math.exp(-t)}function CF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OF(t){return t===10?CF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function IF(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mC(t){return(e,r)=>-t(-e,r)}function L2(t){const e=t(fC,hC),r=e.domain;let n=10,a,s;function c(){return a=IF(n),s=OF(n),r()[0]<0?(a=mC(a),s=mC(s),t(TF,AF)):t(fC,hC),e}return e.base=function(d){return arguments.length?(n=+d,c()):n},e.domain=function(d){return arguments.length?(r(d),c()):r()},e.ticks=d=>{const f=r();let m=f[0],p=f[f.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=a(m),w=a(p),_,E;const S=d==null?10:+d;let R=[];if(!(n%1)&&w-b<S){if(b=Math.floor(b),w=Math.ceil(w),m>0){for(;b<=w;++b)for(_=1;_<n;++_)if(E=b<0?_/s(-b):_*s(b),!(E<m)){if(E>p)break;R.push(E)}}else for(;b<=w;++b)for(_=n-1;_>=1;--_)if(E=b>0?_/s(-b):_*s(b),!(E<m)){if(E>p)break;R.push(E)}R.length*2<S&&(R=cw(m,p,S))}else R=cw(b,w,Math.min(w-b,S)).map(s);return g?R.reverse():R},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Yf(f)).precision==null&&(f.trim=!0),f=z2(f)),d===1/0)return f;const m=Math.max(1,n*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=m?f(p):""}},e.nice=()=>r(xP(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function yP(){const t=L2(Fg()).domain([1,10]);return t.copy=()=>vh(t,yP()).base(t.base()),Ia.apply(t,arguments),t}function pC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function V2(t){var e=1,r=t(pC(e),gC(e));return r.constant=function(n){return arguments.length?t(pC(e=+n),gC(e)):e},Ho(r)}function bP(){var t=V2(Fg());return t.copy=function(){return vh(t,bP()).constant(t.constant())},Ia.apply(t,arguments)}function xC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function RF(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PF(t){return t<0?-t*t:t*t}function U2(t){var e=t(yn,yn),r=1;function n(){return r===1?t(yn,yn):r===.5?t(RF,PF):t(xC(r),xC(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ho(e)}function B2(){var t=U2(Fg());return t.copy=function(){return vh(t,B2()).exponent(t.exponent())},Ia.apply(t,arguments),t}function MF(){return B2.apply(null,arguments).exponent(.5)}function yC(t){return Math.sign(t)*t*t}function DF(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vP(){var t=M2(),e=[0,1],r=!1,n;function a(s){var c=DF(t(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return t.invert(yC(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,M0)).map(yC)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return vP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ia.apply(a,arguments),Ho(a)}function wP(){var t=[],e=[],r=[],n;function a(){var c=0,d=Math.max(1,e.length);for(r=new Array(d-1);++c<d;)r[c-1]=Uq(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?n:e[yh(r,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:t[0],d<r.length?r[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(So),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return wP().domain(t).range(e).unknown(n)},Ia.apply(s,arguments)}function kP(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[yh(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*e-(f-r)*t)/(r+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=r?[n[r-1],e]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return kP().domain([t,e]).range(a).unknown(s)},Ia.apply(Ho(c),arguments)}function _P(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[yh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return _P().domain(t).range(e).unknown(r)},Ia.apply(a,arguments)}const Hv=new Date,qv=new Date;function jr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let m;do f.push(m=new Date(+s)),e(s,d),t(s);while(m<s&&s<c);return f},a.filter=s=>jr(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),r&&(a.count=(s,c)=>(Hv.setTime(+s),qv.setTime(+c),t(Hv),t(qv),Math.floor(r(Hv,qv))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const L0=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);L0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):L0);L0.range;const os=1e3,Ea=os*60,ls=Ea*60,gs=ls*24,$2=gs*7,bC=gs*30,Fv=gs*365,Tl=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCSeconds());Tl.range;const H2=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os)},(t,e)=>{t.setTime(+t+e*Ea)},(t,e)=>(e-t)/Ea,t=>t.getMinutes());H2.range;const q2=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ea)},(t,e)=>(e-t)/Ea,t=>t.getUTCMinutes());q2.range;const F2=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os-t.getMinutes()*Ea)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getHours());F2.range;const G2=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCHours());G2.range;const wh=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ea)/gs,t=>t.getDate()-1);wh.range;const Gg=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gs,t=>t.getUTCDate()-1);Gg.range;const NP=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gs,t=>Math.floor(t/gs));NP.range;function rc(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ea)/$2)}const Kg=rc(0),V0=rc(1),zF=rc(2),LF=rc(3),Su=rc(4),VF=rc(5),UF=rc(6);Kg.range;V0.range;zF.range;LF.range;Su.range;VF.range;UF.range;function nc(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$2)}const Yg=nc(0),U0=nc(1),BF=nc(2),$F=nc(3),ju=nc(4),HF=nc(5),qF=nc(6);Yg.range;U0.range;BF.range;$F.range;ju.range;HF.range;qF.range;const K2=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());K2.range;const Y2=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Y2.range;const xs=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});xs.range;const ys=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ys.range;function EP(t,e,r,n,a,s){const c=[[Tl,1,os],[Tl,5,5*os],[Tl,15,15*os],[Tl,30,30*os],[s,1,Ea],[s,5,5*Ea],[s,15,15*Ea],[s,30,30*Ea],[a,1,ls],[a,3,3*ls],[a,6,6*ls],[a,12,12*ls],[n,1,gs],[n,2,2*gs],[r,1,$2],[e,1,bC],[e,3,3*bC],[t,1,Fv]];function d(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const w=g&&typeof g.range=="function"?g:f(m,p,g),_=w?w.range(m,+p+1):[];return b?_.reverse():_}function f(m,p,g){const b=Math.abs(p-m)/g,w=A2(([,,S])=>S).right(c,b);if(w===c.length)return t.every(dw(m/Fv,p/Fv,g));if(w===0)return L0.every(Math.max(dw(m,p,g),1));const[_,E]=c[b/c[w-1][2]<c[w][2]/b?w-1:w];return _.every(E)}return[d,f]}const[FF,GF]=EP(ys,Y2,Yg,NP,G2,q2),[KF,YF]=EP(xs,K2,Kg,wh,F2,H2);function Gv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function df(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function WF(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,m=ff(a),p=hf(a),g=ff(s),b=hf(s),w=ff(c),_=hf(c),E=ff(d),S=hf(d),R=ff(f),N=hf(f),C={a:Q,A:me,b:de,B:ee,c:null,d:EC,e:EC,f:yG,g:TG,G:CG,H:pG,I:gG,j:xG,L:SP,m:bG,M:vG,p:L,q:F,Q:TC,s:AC,S:wG,u:kG,U:_G,V:NG,w:EG,W:SG,x:null,X:null,y:jG,Y:AG,Z:OG,"%":jC},M={a:oe,A:K,b:ge,B:Ne,c:null,d:SC,e:SC,f:MG,g:FG,G:KG,H:IG,I:RG,j:PG,L:TP,m:DG,M:zG,p:fe,q:$e,Q:TC,s:AC,S:LG,u:VG,U:UG,V:BG,w:$G,W:HG,x:null,X:null,y:qG,Y:GG,Z:YG,"%":jC},U={a:$,A:z,b:D,B,c:W,d:_C,e:_C,f:dG,g:kC,G:wC,H:NC,I:NC,j:oG,L:uG,m:sG,M:lG,p:P,q:iG,Q:hG,s:mG,S:cG,u:eG,U:tG,V:rG,w:JF,W:nG,x:te,X:G,y:kC,Y:wC,Z:aG,"%":fG};C.x=H(r,C),C.X=H(n,C),C.c=H(e,C),M.x=H(r,M),M.X=H(n,M),M.c=H(e,M);function H(le,Be){return function(Le){var be=[],ft=-1,We=0,Pt=le.length,Ot,Ar,Vn;for(Le instanceof Date||(Le=new Date(+Le));++ft<Pt;)le.charCodeAt(ft)===37&&(be.push(le.slice(We,ft)),(Ar=vC[Ot=le.charAt(++ft)])!=null?Ot=le.charAt(++ft):Ar=Ot==="e"?" ":"0",(Vn=Be[Ot])&&(Ot=Vn(Le,Ar)),be.push(Ot),We=ft+1);return be.push(le.slice(We,ft)),be.join("")}}function A(le,Be){return function(Le){var be=df(1900,void 0,1),ft=I(be,le,Le+="",0),We,Pt;if(ft!=Le.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Be&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(We=Kv(df(be.y,0,1)),Pt=We.getUTCDay(),We=Pt>4||Pt===0?U0.ceil(We):U0(We),We=Gg.offset(We,(be.V-1)*7),be.y=We.getUTCFullYear(),be.m=We.getUTCMonth(),be.d=We.getUTCDate()+(be.w+6)%7):(We=Gv(df(be.y,0,1)),Pt=We.getDay(),We=Pt>4||Pt===0?V0.ceil(We):V0(We),We=wh.offset(We,(be.V-1)*7),be.y=We.getFullYear(),be.m=We.getMonth(),be.d=We.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),Pt="Z"in be?Kv(df(be.y,0,1)).getUTCDay():Gv(df(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(Pt+5)%7:be.w+be.U*7-(Pt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,Kv(be)):Gv(be)}}function I(le,Be,Le,be){for(var ft=0,We=Be.length,Pt=Le.length,Ot,Ar;ft<We;){if(be>=Pt)return-1;if(Ot=Be.charCodeAt(ft++),Ot===37){if(Ot=Be.charAt(ft++),Ar=U[Ot in vC?Be.charAt(ft++):Ot],!Ar||(be=Ar(le,Le,be))<0)return-1}else if(Ot!=Le.charCodeAt(be++))return-1}return be}function P(le,Be,Le){var be=m.exec(Be.slice(Le));return be?(le.p=p.get(be[0].toLowerCase()),Le+be[0].length):-1}function $(le,Be,Le){var be=w.exec(Be.slice(Le));return be?(le.w=_.get(be[0].toLowerCase()),Le+be[0].length):-1}function z(le,Be,Le){var be=g.exec(Be.slice(Le));return be?(le.w=b.get(be[0].toLowerCase()),Le+be[0].length):-1}function D(le,Be,Le){var be=R.exec(Be.slice(Le));return be?(le.m=N.get(be[0].toLowerCase()),Le+be[0].length):-1}function B(le,Be,Le){var be=E.exec(Be.slice(Le));return be?(le.m=S.get(be[0].toLowerCase()),Le+be[0].length):-1}function W(le,Be,Le){return I(le,e,Be,Le)}function te(le,Be,Le){return I(le,r,Be,Le)}function G(le,Be,Le){return I(le,n,Be,Le)}function Q(le){return c[le.getDay()]}function me(le){return s[le.getDay()]}function de(le){return f[le.getMonth()]}function ee(le){return d[le.getMonth()]}function L(le){return a[+(le.getHours()>=12)]}function F(le){return 1+~~(le.getMonth()/3)}function oe(le){return c[le.getUTCDay()]}function K(le){return s[le.getUTCDay()]}function ge(le){return f[le.getUTCMonth()]}function Ne(le){return d[le.getUTCMonth()]}function fe(le){return a[+(le.getUTCHours()>=12)]}function $e(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Be=H(le+="",C);return Be.toString=function(){return le},Be},parse:function(le){var Be=A(le+="",!1);return Be.toString=function(){return le},Be},utcFormat:function(le){var Be=H(le+="",M);return Be.toString=function(){return le},Be},utcParse:function(le){var Be=A(le+="",!0);return Be.toString=function(){return le},Be}}}var vC={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,XF=/^%/,QF=/[\\^$*+?|[\]().{}]/g;function dt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function ZF(t){return t.replace(QF,"\\$&")}function ff(t){return new RegExp("^(?:"+t.map(ZF).join("|")+")","i")}function hf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function JF(t,e,r){var n=Br.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function eG(t,e,r){var n=Br.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function tG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function rG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function nG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function wC(t,e,r){var n=Br.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function kC(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aG(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iG(t,e,r){var n=Br.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function sG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _C(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function oG(t,e,r){var n=Br.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function NC(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function lG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function cG(t,e,r){var n=Br.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function uG(t,e,r){var n=Br.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function dG(t,e,r){var n=Br.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fG(t,e,r){var n=XF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function hG(t,e,r){var n=Br.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mG(t,e,r){var n=Br.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function EC(t,e){return dt(t.getDate(),e,2)}function pG(t,e){return dt(t.getHours(),e,2)}function gG(t,e){return dt(t.getHours()%12||12,e,2)}function xG(t,e){return dt(1+wh.count(xs(t),t),e,3)}function SP(t,e){return dt(t.getMilliseconds(),e,3)}function yG(t,e){return SP(t,e)+"000"}function bG(t,e){return dt(t.getMonth()+1,e,2)}function vG(t,e){return dt(t.getMinutes(),e,2)}function wG(t,e){return dt(t.getSeconds(),e,2)}function kG(t){var e=t.getDay();return e===0?7:e}function _G(t,e){return dt(Kg.count(xs(t)-1,t),e,2)}function jP(t){var e=t.getDay();return e>=4||e===0?Su(t):Su.ceil(t)}function NG(t,e){return t=jP(t),dt(Su.count(xs(t),t)+(xs(t).getDay()===4),e,2)}function EG(t){return t.getDay()}function SG(t,e){return dt(V0.count(xs(t)-1,t),e,2)}function jG(t,e){return dt(t.getFullYear()%100,e,2)}function TG(t,e){return t=jP(t),dt(t.getFullYear()%100,e,2)}function AG(t,e){return dt(t.getFullYear()%1e4,e,4)}function CG(t,e){var r=t.getDay();return t=r>=4||r===0?Su(t):Su.ceil(t),dt(t.getFullYear()%1e4,e,4)}function OG(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function SC(t,e){return dt(t.getUTCDate(),e,2)}function IG(t,e){return dt(t.getUTCHours(),e,2)}function RG(t,e){return dt(t.getUTCHours()%12||12,e,2)}function PG(t,e){return dt(1+Gg.count(ys(t),t),e,3)}function TP(t,e){return dt(t.getUTCMilliseconds(),e,3)}function MG(t,e){return TP(t,e)+"000"}function DG(t,e){return dt(t.getUTCMonth()+1,e,2)}function zG(t,e){return dt(t.getUTCMinutes(),e,2)}function LG(t,e){return dt(t.getUTCSeconds(),e,2)}function VG(t){var e=t.getUTCDay();return e===0?7:e}function UG(t,e){return dt(Yg.count(ys(t)-1,t),e,2)}function AP(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function BG(t,e){return t=AP(t),dt(ju.count(ys(t),t)+(ys(t).getUTCDay()===4),e,2)}function $G(t){return t.getUTCDay()}function HG(t,e){return dt(U0.count(ys(t)-1,t),e,2)}function qG(t,e){return dt(t.getUTCFullYear()%100,e,2)}function FG(t,e){return t=AP(t),dt(t.getUTCFullYear()%100,e,2)}function GG(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function KG(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ju(t):ju.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function YG(){return"+0000"}function jC(){return"%"}function TC(t){return+t}function AC(t){return Math.floor(+t/1e3)}var Zc,CP,OP;WG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WG(t){return Zc=WF(t),CP=Zc.format,Zc.parse,OP=Zc.utcFormat,Zc.utcParse,Zc}function XG(t){return new Date(t)}function QG(t){return t instanceof Date?+t:+new Date(+t)}function W2(t,e,r,n,a,s,c,d,f,m){var p=M2(),g=p.invert,b=p.domain,w=m(".%L"),_=m(":%S"),E=m("%I:%M"),S=m("%I %p"),R=m("%a %d"),N=m("%b %d"),C=m("%B"),M=m("%Y");function U(H){return(f(H)<H?w:d(H)<H?_:c(H)<H?E:s(H)<H?S:n(H)<H?a(H)<H?R:N:r(H)<H?C:M)(H)}return p.invert=function(H){return new Date(g(H))},p.domain=function(H){return arguments.length?b(Array.from(H,QG)):b().map(XG)},p.ticks=function(H){var A=b();return t(A[0],A[A.length-1],H??10)},p.tickFormat=function(H,A){return A==null?U:m(A)},p.nice=function(H){var A=b();return(!H||typeof H.range!="function")&&(H=e(A[0],A[A.length-1],H??10)),H?b(xP(A,H)):p},p.copy=function(){return vh(p,W2(t,e,r,n,a,s,c,d,f,m))},p}function ZG(){return Ia.apply(W2(KF,YF,xs,K2,Kg,wh,F2,H2,Tl,CP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JG(){return Ia.apply(W2(FF,GF,ys,Y2,Yg,Gg,G2,q2,Tl,OP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wg(){var t=0,e=1,r,n,a,s,c=yn,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-r)*a,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),m):[t,e]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(b){var w,_;return arguments.length?([w,_]=b,c=g(w,_),m):[c(0),c(1)]}}return m.range=p(Uu),m.rangeRound=p(P2),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return s=g,r=g(t),n=g(e),a=r===n?0:1/(n-r),m}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IP(){var t=Ho(Wg()(yn));return t.copy=function(){return qo(t,IP())},js.apply(t,arguments)}function RP(){var t=L2(Wg()).domain([1,10]);return t.copy=function(){return qo(t,RP()).base(t.base())},js.apply(t,arguments)}function PP(){var t=V2(Wg());return t.copy=function(){return qo(t,PP()).constant(t.constant())},js.apply(t,arguments)}function X2(){var t=U2(Wg());return t.copy=function(){return qo(t,X2()).exponent(t.exponent())},js.apply(t,arguments)}function eK(){return X2.apply(null,arguments).exponent(.5)}function MP(){var t=[],e=yn;function r(n){if(n!=null&&!isNaN(n=+n))return e((yh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(So),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Vq(t,s/n))},r.copy=function(){return MP(e).domain(t)},js.apply(r,arguments)}function Xg(){var t=0,e=.5,r=1,n=1,a,s,c,d,f,m=yn,p,g=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(n*E<n*s?d:f),m(g?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,r]=E,a=p(t=+t),s=p(e=+e),c=p(r=+r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,w):[t,e,r]},w.clamp=function(E){return arguments.length?(g=!!E,w):g},w.interpolator=function(E){return arguments.length?(m=E,w):m};function _(E){return function(S){var R,N,C;return arguments.length?([R,N,C]=S,m=fF(E,[R,N,C]),w):[m(0),m(.5),m(1)]}}return w.range=_(Uu),w.rangeRound=_(P2),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return p=E,a=E(t),s=E(e),c=E(r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,w}}function DP(){var t=Ho(Xg()(yn));return t.copy=function(){return qo(t,DP())},js.apply(t,arguments)}function zP(){var t=L2(Xg()).domain([.1,1,10]);return t.copy=function(){return qo(t,zP()).base(t.base())},js.apply(t,arguments)}function LP(){var t=V2(Xg());return t.copy=function(){return qo(t,LP()).constant(t.constant())},js.apply(t,arguments)}function Q2(){var t=U2(Xg());return t.copy=function(){return qo(t,Q2()).exponent(t.exponent())},js.apply(t,arguments)}function tK(){return Q2.apply(null,arguments).exponent(.5)}const xf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:O2,scaleDiverging:DP,scaleDivergingLog:zP,scaleDivergingPow:Q2,scaleDivergingSqrt:tK,scaleDivergingSymlog:LP,scaleIdentity:gP,scaleImplicit:fw,scaleLinear:pP,scaleLog:yP,scaleOrdinal:C2,scalePoint:$q,scalePow:B2,scaleQuantile:wP,scaleQuantize:kP,scaleRadial:vP,scaleSequential:IP,scaleSequentialLog:RP,scaleSequentialPow:X2,scaleSequentialQuantile:MP,scaleSequentialSqrt:eK,scaleSequentialSymlog:PP,scaleSqrt:MF,scaleSymlog:bP,scaleThreshold:_P,scaleTime:ZG,scaleUtc:JG,tickFormat:mP},Symbol.toStringTag,{value:"Module"}));var Ts=t=>t.chartData,Qg=ie([Ts],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),VP=(t,e,r,n)=>n?Qg(t):Ts(t),rK=(t,e,r)=>r?Qg(t):Ts(t);function bs(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(st(e)&&st(r))return!0}return!1}function CC(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function UP(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,a,s;if(st(r))a=r;else if(typeof r=="function")return;if(st(n))s=n;else if(typeof n=="function")return;var c=[a,s];if(bs(c))return c}}function nK(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(bs(n))return CC(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Ce(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&BT.test(a)){var f=BT.exec(a);if(f==null||f[1]==null||e==null)c=void 0;else{var m=+f[1];c=e[0]-m}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ce(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&$T.test(s)){var p=$T.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var b=[c,d];if(bs(b))return e==null?b:CC(b,e,r)}}}var Bu=1e9,aK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J2,Gt=!0,Aa="[DecimalError] ",Pl=Aa+"Invalid argument: ",Z2=Aa+"Exponent out of range: ",$u=Math.floor,_l=Math.pow,iK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ea,Mr=1e7,zt=7,BP=9007199254740991,B0=$u(BP/zt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return ds(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return At(ds(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return wr(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ea))throw Error(Aa+"NaN");if(r.s<1)throw Error(Aa+(r.s?"NaN":"-Infinity"));return r.eq(ea)?new n(0):(Gt=!1,e=ds(Wf(r,s),Wf(t,s),s),Gt=!0,At(e,a))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qP(e,t):$P(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Aa+"NaN");return r.s?(Gt=!1,e=ds(r,t,0,1).times(t),Gt=!0,r.minus(e)):At(new n(r),a)};Te.naturalExponential=Te.exp=function(){return HP(this)};Te.naturalLogarithm=Te.ln=function(){return Wf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$P(e,t):qP(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pl+t);if(e=wr(a)+1,n=a.d.length-1,r=n*zt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Aa+"NaN")}for(t=wr(d),Gt=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ni(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=$u((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new f(e)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(ds(d,s,c+2)).times(.5),Ni(s.d).slice(0,c)===(e=Ni(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(At(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(e!="9999")break;c+=4}return Gt=!0,At(n,r)};Te.times=Te.mul=function(t){var e,r,n,a,s,c,d,f,m,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,f=b.length,m=w.length,f<m&&(s=b,b=w,w=s,c=f,f=m,m=c),s=[],c=f+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(e=0,a=f+n;a>n;)d=s[a]+w[n]*b[a-n-1]+e,s[a--]=d%Mr|0,e=d/Mr|0;s[a]=(s[a]+e)%Mr|0}for(;!s[--c];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Gt?At(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Mi(t,0,Bu),e===void 0?e=n.rounding:Mi(e,0,8),At(r,t+wr(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Yl(n,!0):(Mi(t,0,Bu),e===void 0?e=a.rounding:Mi(e,0,8),n=At(new a(n),t+1,e),r=Yl(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Yl(a):(Mi(t,0,Bu),e===void 0?e=s.rounding:Mi(e,0,8),n=At(new s(a),t+wr(a)+1,e),r=Yl(n.abs(),!1,t+wr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return At(new e(t),wr(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,a,s,c,d=this,f=d.constructor,m=12,p=+(t=new f(t));if(!t.s)return new f(ea);if(d=new f(d),!d.s){if(t.s<1)throw Error(Aa+"Infinity");return d}if(d.eq(ea))return d;if(n=f.precision,t.eq(ea))return At(d,n);if(e=t.e,r=t.d.length-1,c=e>=r,s=d.s,c){if((r=p<0?-p:p)<=BP){for(a=new f(ea),e=Math.ceil(n/zt+4),Gt=!1;r%2&&(a=a.times(d),IC(a.d,e)),r=$u(r/2),r!==0;)d=d.times(d),IC(d.d,e);return Gt=!0,t.s<0?new f(ea).div(a):At(a,n)}}else if(s<0)throw Error(Aa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,d.s=1,Gt=!1,a=t.times(Wf(d,n+m)),Gt=!0,a=HP(a),a.s=s,a};Te.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=wr(a),n=Yl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Mi(t,1,Bu),e===void 0?e=s.rounding:Mi(e,0,8),a=At(new s(a),t,e),r=wr(a),n=Yl(a,t<=r||r<=s.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Mi(t,1,Bu),e===void 0?e=n.rounding:Mi(e,0,8)),At(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wr(t),r=t.constructor;return Yl(t,e<=r.toExpNeg||e>=r.toExpPos)};function $P(t,e){var r,n,a,s,c,d,f,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Gt?At(e,g):e;if(f=t.d,m=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,d=m.length):(n=m,a=c,d=f.length),c=Math.ceil(g/zt),d=c>d?c+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=m.length,d-s<0&&(s=d,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/Mr|0,f[s]%=Mr;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Gt?At(e,g):e}function Mi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Pl+t)}function Ni(t){var e,r,n,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)n=t[e]+"",r=zt-n.length,r&&(s+=xo(r)),s+=n;c=t[e],n=c+"",r=zt-n.length,r&&(s+=xo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var ds=(function(){function t(n,a){var s,c=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+c,n[d]=s%Mr|0,c=s/Mr|0;return c&&n.unshift(c),n}function e(n,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Mr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var d,f,m,p,g,b,w,_,E,S,R,N,C,M,U,H,A,I,P=n.constructor,$=n.s==a.s?1:-1,z=n.d,D=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Aa+"Division by zero");for(f=n.e-a.e,A=D.length,U=z.length,w=new P($),_=w.d=[],m=0;D[m]==(z[m]||0);)++m;if(D[m]>(z[m]||0)&&--f,s==null?N=s=P.precision:c?N=s+(wr(n)-wr(a))+1:N=s,N<0)return new P(0);if(N=N/zt+2|0,m=0,A==1)for(p=0,D=D[0],N++;(m<U||p)&&N--;m++)C=p*Mr+(z[m]||0),_[m]=C/D|0,p=C%D|0;else{for(p=Mr/(D[0]+1)|0,p>1&&(D=t(D,p),z=t(z,p),A=D.length,U=z.length),M=A,E=z.slice(0,A),S=E.length;S<A;)E[S++]=0;I=D.slice(),I.unshift(0),H=D[0],D[1]>=Mr/2&&++H;do p=0,d=e(D,E,A,S),d<0?(R=E[0],A!=S&&(R=R*Mr+(E[1]||0)),p=R/H|0,p>1?(p>=Mr&&(p=Mr-1),g=t(D,p),b=g.length,S=E.length,d=e(g,E,b,S),d==1&&(p--,r(g,A<b?I:D,b))):(p==0&&(d=p=1),g=D.slice()),b=g.length,b<S&&g.unshift(0),r(E,g,S),d==-1&&(S=E.length,d=e(D,E,A,S),d<1&&(p++,r(E,A<S?I:D,S))),S=E.length):d===0&&(p++,E=[0]),_[m++]=p,d&&E[0]?E[S++]=z[M]||0:(E=[z[M]],S=1);while((M++<U||E[0]!==void 0)&&N--)}return _[0]||_.shift(),w.e=f,At(w,c?s+wr(w)+1:s)}})();function HP(t,e){var r,n,a,s,c,d,f=0,m=0,p=t.constructor,g=p.precision;if(wr(t)>16)throw Error(Z2+wr(t));if(!t.s)return new p(ea);for(Gt=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),m+=5;for(n=Math.log(_l(2,m))/Math.LN10*2+5|0,d+=n,r=a=s=new p(ea),p.precision=d;;){if(a=At(a.times(t),d),r=r.times(++f),c=s.plus(ds(a,r,d)),Ni(c.d).slice(0,d)===Ni(s.d).slice(0,d)){for(;m--;)s=At(s.times(s),d);return p.precision=g,e==null?(Gt=!0,At(s,g)):s}s=c}}function wr(t){for(var e=t.e*zt,r=t.d[0];r>=10;r/=10)e++;return e}function Yv(t,e,r){if(e>t.LN10.sd())throw Gt=!0,r&&(t.precision=r),Error(Aa+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function xo(t){for(var e="";t--;)e+="0";return e}function Wf(t,e){var r,n,a,s,c,d,f,m,p,g=1,b=10,w=t,_=w.d,E=w.constructor,S=E.precision;if(w.s<1)throw Error(Aa+(w.s?"NaN":"-Infinity"));if(w.eq(ea))return new E(0);if(e==null?(Gt=!1,m=S):m=e,w.eq(10))return e==null&&(Gt=!0),Yv(E,m);if(m+=b,E.precision=m,r=Ni(_),n=r.charAt(0),s=wr(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=Ni(w.d),n=r.charAt(0),g++;s=wr(w),n>1?(w=new E("0."+r),s++):w=new E(n+"."+r.slice(1))}else return f=Yv(E,m+2,S).times(s+""),w=Wf(new E(n+"."+r.slice(1)),m-b).plus(f),E.precision=S,e==null?(Gt=!0,At(w,S)):w;for(d=c=w=ds(w.minus(ea),w.plus(ea),m),p=At(w.times(w),m),a=3;;){if(c=At(c.times(p),m),f=d.plus(ds(c,new E(a),m)),Ni(f.d).slice(0,m)===Ni(d.d).slice(0,m))return d=d.times(2),s!==0&&(d=d.plus(Yv(E,m+2,S).times(s+""))),d=ds(d,new E(g),m),E.precision=S,e==null?(Gt=!0,At(d,S)):d;d=f,a+=2}}function OC(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=$u(r/zt),t.d=[],n=(r+1)%zt,r<0&&(n+=zt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=zt;n<a;)t.d.push(+e.slice(n,n+=zt));e=e.slice(n),n=zt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Gt&&(t.e>B0||t.e<-B0))throw Error(Z2+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,a,s,c,d,f,m,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(n=e-c,n<0)n+=zt,a=e,m=g[p=0];else{if(p=Math.ceil((n+1)/zt),s=g.length,p>=s)return t;for(m=s=g[p],c=1;s>=10;s/=10)c++;n%=zt,a=n-zt+c}if(r!==void 0&&(s=_l(10,c-a-1),d=m/s%10|0,f=e<0||g[p+1]!==void 0||m%s,f=r<4?(d||f)&&(r==0||r==(t.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?m/_l(10,c-a):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return f?(s=wr(t),g.length=1,e=e-s-1,g[0]=_l(10,(zt-e%zt)%zt),t.e=$u(-e/zt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=_l(10,zt-n),g[p]=a>0?(m/_l(10,c-a)%_l(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Mr&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Mr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Gt&&(t.e>B0||t.e<-B0))throw Error(Z2+wr(t));return t}function qP(t,e){var r,n,a,s,c,d,f,m,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Gt?At(e,w):e;if(f=t.d,g=e.d,n=e.e,m=t.e,f=f.slice(),c=m-n,c){for(p=c<0,p?(r=f,c=-c,d=g.length):(r=g,n=m,d=f.length),a=Math.max(Math.ceil(w/zt),d)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(r=f,f=g,g=r,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Mr-1;--f[s],f[a]+=Mr}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=n,Gt?At(e,w):e):new b(0)}function Yl(t,e,r){var n,a=wr(t),s=Ni(t.d),c=s.length;return e?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+xo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+xo(-a-1)+s,r&&(n=r-c)>0&&(s+=xo(n))):a>=c?(s+=xo(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+xo(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=xo(n))),t.s<0?"-"+s:s}function IC(t,e){if(t.length>e)return t.length=e,!0}function FP(t){var e,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Pl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return OC(c,s.toString())}else if(typeof s!="string")throw Error(Pl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,iK.test(s))OC(c,s);else throw Error(Pl+s)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FP,a.config=a.set=sK,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function sK(t){if(!t||typeof t!="object")throw Error(Aa+"Object expected");var e,r,n,a=["precision",1,Bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if($u(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Pl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Pl+r+": "+n);return this}var J2=FP(aK);ea=new J2(1);const wt=J2;function GP(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function KP(t,e,r){for(var n=new wt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var YP=t=>{var[e,r]=t,[n,a]=[e,r];return e>r&&([n,a]=[r,e]),[n,a]},WP=(t,e,r)=>{if(t.lte(0))return new wt(0);var n=GP(t.toNumber()),a=new wt(10).pow(n),s=t.div(a),c=n!==1?.05:.1,d=new wt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=d.mul(a);return e?new wt(f.toNumber()):new wt(Math.ceil(f.toNumber()))},oK=(t,e,r)=>{var n=new wt(1),a=new wt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new wt(10).pow(GP(t)-1),a=new wt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new wt(Math.floor(t)))}else t===0?a=new wt(Math.floor((e-1)/2)):r||(a=new wt(Math.floor(t)));for(var c=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(a.add(new wt(f-c).mul(n)).toNumber());return d},XP=function(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var c=WP(new wt(r).sub(e).div(n-1),a,s),d;e<=0&&r>=0?d=new wt(0):(d=new wt(e).add(r).div(2),d=d.sub(new wt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),m=Math.ceil(new wt(r).sub(d).div(c).toNumber()),p=f+m+1;return p>n?XP(e,r,n,a,s+1):(p<n&&(m=r>0?m+(n-p):m,f=r>0?f:f+(n-p)),{step:c,tickMin:d.sub(new wt(f).mul(c)),tickMax:d.add(new wt(m).mul(c))})},lK=function(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=YP([r,n]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?m.reverse():m}if(d===f)return oK(d,a,s);var{step:p,tickMin:g,tickMax:b}=XP(d,f,c,s,0),w=KP(g,b.add(new wt(.1).mul(p)),p);return r>n?w.reverse():w},cK=function(e,r){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=YP([n,a]);if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var f=Math.max(r,2),m=WP(new wt(d).sub(c).div(f-1),s,0),p=[...KP(new wt(c),new wt(d),m),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?p.reverse():p},uK=t=>t.rootProps.barCategoryGap,kh=t=>t.rootProps.stackOffset,QP=t=>t.rootProps.reverseStackOrder,ek=t=>t.options.chartName,tk=t=>t.rootProps.syncId,ZP=t=>t.rootProps.syncMethod,rk=t=>t.options.eventEmitter,dK=t=>t.rootProps.baseValue,en={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},vi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Zg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Jg(t,e,r){if(r!=="auto")return r;if(t!=null)return Vi(t,e)?"category":"number"}function RC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e,r){return(e=hK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=mK(t,"string");return typeof e=="symbol"?e:e+""}function mK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PC={allowDataOverflow:vl.allowDataOverflow,allowDecimals:vl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vl.angleAxisId,includeHidden:!1,name:void 0,reversed:vl.reversed,scale:vl.scale,tick:vl.tick,tickCount:void 0,ticks:void 0,type:vl.type,unit:void 0},MC={allowDataOverflow:vi.allowDataOverflow,allowDecimals:vi.allowDecimals,allowDuplicatedCategory:vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vi.radiusAxisId,includeHidden:vi.includeHidden,name:void 0,reversed:vi.reversed,scale:vi.scale,tick:vi.tick,tickCount:vi.tickCount,ticks:void 0,type:vi.type,unit:void 0},pK=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},nk=ie([pK,LR],(t,e)=>{var r;if(t!=null)return t;var n=(r=Jg(e,"angleAxis",PC.type))!==null&&r!==void 0?r:"category";return $0($0({},PC),{},{type:n})}),gK=(t,e)=>t.polarAxis.radiusAxis[e],ak=ie([gK,LR],(t,e)=>{var r;if(t!=null)return t;var n=(r=Jg(e,"radiusAxis",MC.type))!==null&&r!==void 0?r:"category";return $0($0({},MC),{},{type:n})}),ex=t=>t.polarOptions,ik=ie([Es,Ss,Ur],tP),JP=ie([ex,ik],(t,e)=>{if(t!=null)return ra(t.innerRadius,e,0)}),eM=ie([ex,ik],(t,e)=>{if(t!=null)return ra(t.outerRadius,e,e*.8)}),xK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},tM=ie([ex],xK);ie([nk,tM],Zg);var rM=ie([ik,JP,eM],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});ie([ak,rM],Zg);var nM=ie([Ct,ex,JP,eM,Es,Ss],(t,e,r,n,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=e;return{cx:ra(c,a,a/2),cy:ra(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),er=(t,e)=>e,_h=(t,e,r)=>r;function sk(t){return t==null?void 0:t.id}function aM(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=r,c=new Map;return t.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var p=sk(d);m.forEach((g,b)=>{var w=s==null||a?b:String(Ut(g,s,null)),_=Ut(g,d.dataKey,0),E;c.has(w)?E=c.get(w):E={},Object.assign(E,{[p]:_}),c.set(w,E)})}}),Array.from(c.values())}function ok(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var tx=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function rx(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function yK(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var $r=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Hu=t=>t.tooltip.settings.axisId;function bK(t){if(t in xf)return xf[t]();var e="scale".concat(dh(t));if(e in xf)return xf[e]()}function DC(t){var e=t.ticks,r=t.bandwidth,n=t.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var c=a[0],d=a[1];return c<=d?s>=c&&s<=d:s>=d&&s<=c},bandwidth:r?()=>r.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var d=t(s);if(d!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function zC(t,e,r){if(typeof t=="function")return DC(t.copy().domain(e).range(r));if(t!=null){var n=bK(t);if(n!=null)return n.domain(e).range(r),DC(n)}}var iM=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!bs(e)){for(var r,n,a=0;a<e.length;a++){var s=e[a];st(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function H0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){vK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vK(t,e,r){return(e=wK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wK(t){var e=kK(t,"string");return typeof e=="symbol"?e:e+""}function kK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gw=[0,"auto"],Rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sM=(t,e)=>t.cartesianAxis.xAxis[e],As=(t,e)=>{var r=sM(t,e);return r??Rr},Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mh},oM=(t,e)=>t.cartesianAxis.yAxis[e],Cs=(t,e)=>{var r=oM(t,e);return r??Pr},_K={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lk=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??_K},or=(t,e,r)=>{switch(e){case"xAxis":return As(t,r);case"yAxis":return Cs(t,r);case"zAxis":return lk(t,r);case"angleAxis":return nk(t,r);case"radiusAxis":return ak(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},NK=(t,e,r)=>{switch(e){case"xAxis":return As(t,r);case"yAxis":return Cs(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},qu=(t,e,r)=>{switch(e){case"xAxis":return As(t,r);case"yAxis":return Cs(t,r);case"angleAxis":return nk(t,r);case"radiusAxis":return ak(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},lM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ck(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var cM=t=>t.graphicalItems.cartesianItems,EK=ie([er,_h],ck),uk=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Nh=ie([cM,or,EK],uk,{memoizeOptions:{resultEqualityCheck:rx}}),uM=ie([Nh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ok)),dM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),SK=ie([Nh],dM),dk=t=>t.map(e=>e.data).filter(Boolean).flat(1),jK=ie([Nh],dk,{memoizeOptions:{resultEqualityCheck:rx}}),fk=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=e;return t.length>0?t:r.slice(n,a+1)},hk=ie([jK,VP],fk),mk=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ut(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(a=>({value:Ut(a,n)}))):t.map(n=>({value:n})),nx=ie([hk,or,Nh],mk);function fM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hp(t){if(Ri(t)||t instanceof Date){var e=Number(t);if(st(e))return e}}function VC(t){if(Array.isArray(t)){var e=[Hp(t[0]),Hp(t[1])];return bs(e)?e:void 0}var r=Hp(t);if(r!=null)return[r,r]}function vs(t){return t.map(Hp).filter(Pn)}function TK(t,e,r){return!r||typeof e!="number"||Ii(e)?[]:r.length?vs(r.flatMap(n=>{var a=Ut(t,n.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!st(s)||!st(c)))return[e-s,e+c]})):[]}var Tr=t=>{var e=$r(t),r=Hu(t);return qu(t,e,r)},Eh=ie([Tr],t=>t==null?void 0:t.dataKey),AK=ie([uM,VP,Tr],aM),hM=(t,e,r,n)=>{var a={},s=e.reduce((c,d)=>{if(d.stackId==null)return c;var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,m=n?[...f].reverse():f,p=m.map(sk);return[d,{stackedData:d$(t,p,r),graphicalItems:m}]}))},mM=ie([AK,uM,kh,QP],hM),pM=(t,e,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var c=p$(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},CK=ie([or],t=>t.allowDataOverflow),pk=t=>{var e;if(t==null||!("domain"in t))return gw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=vs(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:gw},gk=ie([or],pk),xk=ie([gk,CK],UP),OK=ie([mM,Ts,er,xk],pM,{memoizeOptions:{resultEqualityCheck:tx}}),ax=t=>t.errorBars,IK=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>fM(r,n)),q0=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},yk=(t,e,r,n,a)=>{var s,c;if(r.length>0&&t.forEach(d=>{r.forEach(f=>{var m,p,g=(m=n[f.id])===null||m===void 0?void 0:m.filter(R=>fM(a,R)),b=Ut(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=TK(d,b,g);if(w.length>=2){var _=Math.min(...w),E=Math.max(...w);(s==null||_<s)&&(s=_),(c==null||E>c)&&(c=E)}var S=VC(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=VC(Ut(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),st(s)&&st(c))return[s,c]},RK=ie([hk,or,SK,ax,er],yk,{memoizeOptions:{resultEqualityCheck:tx}});function PK(t){var{value:e}=t;if(Ri(e)||e instanceof Date)return e}var MK=(t,e,r)=>{var n=t.map(PK).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&II(n))?iP(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},gM=t=>t.referenceElements.dots,Fu=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),DK=ie([gM,er,_h],Fu),xM=t=>t.referenceElements.areas,zK=ie([xM,er,_h],Fu),yM=t=>t.referenceElements.lines,LK=ie([yM,er,_h],Fu),bM=(t,e)=>{if(t!=null){var r=vs(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},VK=ie(DK,er,bM),vM=(t,e)=>{if(t!=null){var r=vs(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},UK=ie([zK,er],vM);function BK(t){var e;if(t.x!=null)return vs([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:vs(r)}function $K(t){var e;if(t.y!=null)return vs([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:vs(r)}var wM=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?BK(n):$K(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},HK=ie([LK,er],wM),qK=ie(VK,HK,UK,(t,e,r)=>q0(t,r,e)),bk=(t,e,r,n,a,s,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?q0(n,s,a):q0(s,a);return nK(e,m,t.allowDataOverflow)},FK=ie([or,gk,xk,OK,RK,qK,Ct,er],bk,{memoizeOptions:{resultEqualityCheck:tx}}),GK=[0,1],vk=(t,e,r,n,a,s,c)=>{if(!((t==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,m=Vi(e,s);if(m&&d==null){var p;return iP(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?MK(n,t,m):a==="expand"?GK:c}},wk=ie([or,Ct,hk,nx,kh,er,FK],vk);function KK(t){return t in xf}var kM=(t,e,r)=>{if(t!=null){var{scale:n,type:a}=t;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(dh(n));return KK(s)?s:"point"}}},Fo=ie([or,lM,ek],kM);function kk(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?zC(t.scale,r,n):zC(e,r,n)}var _k=(t,e,r)=>{var n=pk(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&bs(t))return lK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&bs(t))return cK(t,e.tickCount,e.allowDecimals)}},Nk=ie([wk,qu,Fo],_k),Ek=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&bs(e)&&Array.isArray(r)&&r.length>0){var a,s,c=e[0],d=(a=r[0])!==null&&a!==void 0?a:0,f=e[1],m=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,d),Math.max(f,m)]}return e},YK=ie([or,wk,Nk,er],Ek),WK=ie(nx,or,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(vs(t.map(g=>g.value))).sort((g,b)=>g-b),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var c=s-a;if(c===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],m=n[d+1];if(!(f==null||m==null)){var p=m-f;r=Math.min(r,p)}}return r/c}}),_M=ie(WK,Ct,uK,Ur,(t,e,r,n,a)=>a,(t,e,r,n,a)=>{if(!st(t))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=ra(r,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),XK=(t,e,r)=>{var n=As(t,e);return n==null||typeof n.padding!="string"?0:_M(t,"xAxis",e,r,n.padding)},QK=(t,e,r)=>{var n=Cs(t,e);return n==null||typeof n.padding!="string"?0:_M(t,"yAxis",e,r,n.padding)},ZK=ie(As,XK,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),JK=ie(Cs,QK,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),eY=ie([Ur,ZK,Lg,zg,(t,e,r)=>r],(t,e,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),tY=ie([Ur,Ct,JK,Lg,zg,(t,e,r)=>r],(t,e,r,n,a,s)=>{var{padding:c}=a;return s?[n.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Sh=(t,e,r,n)=>{var a;switch(e){case"xAxis":return eY(t,r,n);case"yAxis":return tY(t,r,n);case"zAxis":return(a=lk(t,r))===null||a===void 0?void 0:a.range;case"angleAxis":return tM(t);case"radiusAxis":return rM(t,r);default:return}},NM=ie([or,Sh],Zg),rY=ie([Fo,YK],iM),ix=ie([or,Fo,rY,NM],kk);ie([Nh,ax,er],IK);function EM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sx=(t,e)=>e,ox=(t,e,r)=>r,nY=ie(Mg,sx,ox,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(EM)),aY=ie(Dg,sx,ox,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(EM)),SM=(t,e)=>({width:t.width,height:e.height}),iY=(t,e)=>{var r=typeof e.width=="number"?e.width:mh;return{width:r,height:t.height}},sY=ie(Ur,As,SM),oY=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},lY=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},cY=ie(Ss,Ur,nY,sx,ox,(t,e,r,n,a)=>{var s={},c;return r.forEach(d=>{var f=SM(e,d);c==null&&(c=oY(e,n,t));var m=n==="top"&&!a||n==="bottom"&&a;s[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),s}),uY=ie(Es,Ur,aY,sx,ox,(t,e,r,n,a)=>{var s={},c;return r.forEach(d=>{var f=iY(e,d);c==null&&(c=lY(e,n,t));var m=n==="left"&&!a||n==="right"&&a;s[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),s}),dY=(t,e)=>{var r=As(t,e);if(r!=null)return cY(t,r.orientation,r.mirror)},fY=ie([Ur,As,dY,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),hY=(t,e)=>{var r=Cs(t,e);if(r!=null)return uY(t,r.orientation,r.mirror)},mY=ie([Ur,Cs,hY,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),pY=ie(Ur,Cs,(t,e)=>{var r=typeof e.width=="number"?e.width:mh;return{width:r,height:t.height}}),jM=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=r,d=Vi(t,n),f=e.map(m=>m.value);if(c&&d&&s==="category"&&a&&II(f))return f}},Sk=ie([Ct,nx,or,er],jM),TM=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,c=Vi(t,n);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},jk=ie([Ct,nx,qu,er],TM),UC=ie([Ct,NK,Fo,ix,Sk,jk,Sh,Nk,er],(t,e,r,n,a,s,c,d,f)=>{if(e!=null){var m=Vi(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:n}}}),gY=(t,e,r,n,a,s,c,d,f)=>{if(!(e==null||n==null)){var m=Vi(t,f),{type:p,ticks:g,tickCount:b}=e,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=p==="category"&&n.bandwidth?n.bandwidth()/w:0;_=f==="angleAxis"&&s!=null&&s.length>=2?mn(s[0]-s[1])*2*_:_;var E=g||a;return E?E.map((S,R)=>{var N=c?c.indexOf(S):S,C=n.map(N);return st(C)?{index:R,coordinate:C+_,value:S,offset:_}:null}).filter(Pn):m&&d?d.map((S,R)=>{var N=n.map(S);return st(N)?{coordinate:N+_,value:S,index:R,offset:_}:null}).filter(Pn):n.ticks?n.ticks(b).map((S,R)=>{var N=n.map(S);return st(N)?{coordinate:N+_,value:S,index:R,offset:_}:null}).filter(Pn):n.domain().map((S,R)=>{var N=n.map(S);return st(N)?{coordinate:N+_,value:c?c[S]:S,index:R,offset:_}:null}).filter(Pn)}},AM=ie([Ct,qu,Fo,ix,Nk,Sh,Sk,jk,er],gY),xY=(t,e,r,n,a,s,c)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var d=Vi(t,c),{tickCount:f}=e,m=0;return m=c==="angleAxis"&&(n==null?void 0:n.length)>=2?mn(n[0]-n[1])*2*m:m,d&&s?s.map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Pn):r.ticks?r.ticks(f).map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Pn):r.domain().map((p,g)=>{var b=r.map(p);return st(b)?{coordinate:b+m,value:a?a[p]:p,index:g,offset:m}:null}).filter(Pn)}},CM=ie([Ct,qu,ix,Sh,Sk,jk,er],xY),OM=ie(or,ix,(t,e)=>{if(!(t==null||e==null))return H0(H0({},t),{},{scale:e})}),yY=ie([or,Fo,wk,NM],kk);ie((t,e,r)=>lk(t,r),yY,(t,e)=>{if(!(t==null||e==null))return H0(H0({},t),{},{scale:e})});var bY=ie([Ct,Mg,Dg],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IM=t=>t.options.defaultTooltipEventType,RM=t=>t.options.validateTooltipEventTypes;function PM(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function Tk(t,e){var r=IM(t),n=RM(t);return PM(e,r,n)}function vY(t){return Pe(e=>Tk(e,t))}var MM=(t,e)=>{var r,n=Number(e);if(!(Ii(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},wY=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kY={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DM=zn({name:"tooltip",initialState:kY,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ft()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Wa(t).tooltipItemPayloads.indexOf(r);a>-1&&(t.tooltipItemPayloads[a]=n)},prepare:Ft()},removeTooltipEntrySettings:{reducer(t,e){var r=Wa(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Ft()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:_Y,replaceTooltipEntrySettings:NY,removeTooltipEntrySettings:EY,setTooltipSettingsState:SY,setActiveMouseOverItemIndex:zM,mouseLeaveItem:jY,mouseLeaveChart:LM,setActiveClickItemIndex:TY,setMouseOverAxisIndex:VM,setMouseClickAxisIndex:AY,setSyncInteraction:xw,setKeyboardInteraction:yw}=DM.actions,CY=DM.reducer;function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){OY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OY(t,e,r){return(e=IY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PY(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function MY(t){return t.index!=null}var UM=(t,e,r,n)=>{if(e==null)return bo;var a=PY(t,e,r);if(a==null)return bo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(MY(a)){if(s)return bp(bp({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return bp(bp({},bo),{},{coordinate:a.coordinate})};function DY(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function zY(t,e){var r=DY(t),n=e[0],a=e[1];if(r===void 0)return!1;var s=Math.min(n,a),c=Math.max(n,a);return r>=s&&r<=c}function LY(t,e,r){if(r==null||e==null)return!0;var n=Ut(t,e);return n==null||!bs(r)?!0:zY(n,r)}var Ak=(t,e,r,n)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!st(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),m=e[f];return m==null||LY(m,r,n)?String(f):null},BM=(t,e,r,n,a,s,c)=>{if(s!=null){var d=c[0],f=d==null?void 0:d.getPosition(s);if(f!=null)return f;var m=a==null?void 0:a[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:m.coordinate}}}},$M=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},HM=t=>t.options.tooltipPayloadSearcher,Gu=t=>t.tooltip;function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){VY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VY(t,e,r){return(e=UY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UY(t){var e=BY(t,"string");return typeof e=="symbol"?e:e+""}function BY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Y(t,e){return t??e}var qM=(t,e,r,n,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:p}=r,g=[];return t.reduce((b,w)=>{var _,{dataDefinedOnItem:E,settings:S}=w,R=$Y(E,d),N=Array.isArray(R)?ER(R,m,p):R,C=(_=S==null?void 0:S.dataKey)!==null&&_!==void 0?_:n,M=S==null?void 0:S.nameKey,U;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&c==="axis"?U=RI(N,n,a):U=s(N,e,f,M),Array.isArray(U))U.forEach(A=>{var I=HC(HC({},S),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});b.push(HT({tooltipEntrySettings:I,dataKey:A.dataKey,payload:A.payload,value:Ut(A.payload,A.dataKey),name:A.name}))});else{var H;b.push(HT({tooltipEntrySettings:S,dataKey:C,payload:U,value:Ut(U,C),name:(H=Ut(U,M))!==null&&H!==void 0?H:S==null?void 0:S.name}))}return b},g)}},Ck=ie([Tr,lM,ek],kM),HY=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),qY=ie([$r,Hu],ck),Ku=ie([HY,Tr,qY],uk,{memoizeOptions:{resultEqualityCheck:rx}}),FY=ie([Ku],t=>t.filter(ok)),GY=ie([Ku],dk,{memoizeOptions:{resultEqualityCheck:rx}}),Yu=ie([GY,Ts],fk),KY=ie([FY,Ts,Tr],aM),Ok=ie([Yu,Tr,Ku],mk),FM=ie([Tr],pk),YY=ie([Tr],t=>t.allowDataOverflow),GM=ie([FM,YY],UP),WY=ie([Ku],t=>t.filter(ok)),XY=ie([KY,WY,kh,QP],hM),QY=ie([XY,Ts,$r,GM],pM),ZY=ie([Ku],dM),JY=ie([Yu,Tr,ZY,ax,$r],yk,{memoizeOptions:{resultEqualityCheck:tx}}),eW=ie([gM,$r,Hu],Fu),tW=ie([eW,$r],bM),rW=ie([xM,$r,Hu],Fu),nW=ie([rW,$r],vM),aW=ie([yM,$r,Hu],Fu),iW=ie([aW,$r],wM),sW=ie([tW,iW,nW],q0),oW=ie([Tr,FM,GM,QY,JY,sW,Ct,$r],bk),jh=ie([Tr,Ct,Yu,Ok,kh,$r,oW],vk),lW=ie([jh,Tr,Ck],_k),cW=ie([Tr,jh,lW,$r],Ek),KM=t=>{var e=$r(t),r=Hu(t),n=!1;return Sh(t,e,r,n)},YM=ie([Tr,KM],Zg),WM=ie([Tr,Ck,cW,YM],kk),uW=ie([Ct,Ok,Tr,$r],jM),dW=ie([Ct,Ok,Tr,$r],TM),fW=(t,e,r,n,a,s,c,d)=>{if(e){var{type:f}=e,m=Vi(t,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?mn(a[0]-a[1])*2*g:g,m&&c?c.map((b,w)=>{var _=n.map(b);return st(_)?{coordinate:_+g,value:b,index:w,offset:g}:null}).filter(Pn):n.domain().map((b,w)=>{var _=n.map(b);return st(_)?{coordinate:_+g,value:s?s[b]:b,index:w,offset:g}:null}).filter(Pn)}}},Os=ie([Ct,Tr,Ck,WM,KM,uW,dW,$r],fW),Ik=ie([IM,RM,wY],(t,e,r)=>PM(r.shared,t,e)),XM=t=>t.tooltip.settings.trigger,Rk=t=>t.tooltip.settings.defaultIndex,Th=ie([Gu,Ik,XM,Rk],UM),Tu=ie([Th,Yu,Eh,jh],Ak),QM=ie([Os,Tu],MM),ZM=ie([Th],t=>{if(t)return t.dataKey}),hW=ie([Th],t=>{if(t)return t.graphicalItemId}),JM=ie([Gu,Ik,XM,Rk],$M),mW=ie([Es,Ss,Ct,Ur,Os,Rk,JM],BM),pW=ie([Th,mW],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),gW=ie([Th],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),xW=ie([JM,Tu,Ts,Eh,QM,HM,Ik],qM),yW=ie([xW],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){bW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bW(t,e,r){return(e=vW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vW(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kW=()=>Pe(Tr),_W=()=>{var t=kW(),e=Pe(Os),r=Pe(WM);return w0(!t||!r?void 0:FC(FC({},t),{},{scale:r}),e)};function GC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(r),!0).forEach(function(n){NW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NW(t,e,r){return(e=EW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EW(t){var e=SW(t,"string");return typeof e=="symbol"?e:e+""}function SW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jW=(t,e,r,n)=>{var a=e.find(s=>s&&s.index===r);if(a){if(t==="horizontal")return{x:a.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},TW=(t,e,r,n)=>{var a=e.find(m=>m&&m.index===r);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=n;return Jc(Jc(Jc({},n),br(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=n;return Jc(Jc(Jc({},n),br(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function AW(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var eD=(t,e,r,n,a)=>{var s,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var f,m,p,g,b,w=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,_=(p=r[d])===null||p===void 0?void 0:p.coordinate,E=d>=c-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(b=r[d+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(w==null||_==null||E==null))if(mn(_-w)!==mn(E-_)){var R=[];if(mn(E-_)===mn(a[1]-a[0])){S=E;var N=_+a[1]-a[0];R[0]=Math.min(N,(N+w)/2),R[1]=Math.max(N,(N+w)/2)}else{S=w;var C=E+a[1]-a[0];R[0]=Math.min(_,(C+_)/2),R[1]=Math.max(_,(C+_)/2)}var M=[Math.min(_,(S+_)/2),Math.max(_,(S+_)/2)];if(t>M[0]&&t<=M[1]||t>=R[0]&&t<=R[1]){var U;return(U=r[d])===null||U===void 0?void 0:U.index}}else{var H=Math.min(w,E),A=Math.max(w,E);if(t>(H+_)/2&&t<=(A+_)/2){var I;return(I=r[d])===null||I===void 0?void 0:I.index}}}else if(e)for(var P=0;P<c;P++){var $=e[P];if($!=null){var z=e[P+1],D=e[P-1];if(P===0&&z!=null&&t<=($.coordinate+z.coordinate)/2||P===c-1&&D!=null&&t>($.coordinate+D.coordinate)/2||P>0&&P<c-1&&D!=null&&z!=null&&t>($.coordinate+D.coordinate)/2&&t<=($.coordinate+z.coordinate)/2)return $.index}}return-1},tD=()=>Pe(ek),Pk=(t,e)=>e,rD=(t,e,r)=>r,Mk=(t,e,r,n)=>n,CW=ie(Os,t=>Ng(t,e=>e.coordinate)),Dk=ie([Gu,Pk,rD,Mk],UM),zk=ie([Dk,Yu,Eh,jh],Ak),OW=(t,e,r)=>{if(e!=null){var n=Gu(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},nD=ie([Gu,Pk,rD,Mk],$M),F0=ie([Es,Ss,Ct,Ur,Os,Mk,nD],BM),IW=ie([Dk,F0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),aD=ie([Os,zk],MM),RW=ie([nD,zk,Ts,Eh,aD,HM,Pk],qM),PW=ie([Dk,zk],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),MW=(t,e,r,n,a,s,c)=>{if(!(!t||!r||!n||!a)&&AW(t,c)){var d=g$(t,e),f=eD(d,s,a,r,n),m=jW(e,a,f,t);return{activeIndex:String(f),activeCoordinate:m}}},DW=(t,e,r,n,a,s,c)=>{if(!(!t||!n||!a||!s||!r)){var d=yq(t,r);if(d){var f=x$(d,e),m=eD(f,c,s,n,a),p=TW(e,s,m,d);return{activeIndex:String(m),activeCoordinate:p}}}},zW=(t,e,r,n,a,s,c,d)=>{if(!(!t||!e||!n||!a||!s))return e==="horizontal"||e==="vertical"?MW(t,e,n,a,s,c,d):DW(t,e,r,n,a,s,c)},LW=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),VW=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(en)),r=Array.from(new Set(e));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:yK}});function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){UW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UW(t,e,r){return(e=BW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BW(t){var e=$W(t,"string");return typeof e=="symbol"?e:e+""}function $W(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HW={},qW={zIndexMap:Object.values(en).reduce((t,e)=>YC(YC({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),HW)},FW=new Set(Object.values(en));function GW(t){return FW.has(t)}var iD=zn({name:"zIndex",initialState:qW,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ft()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!GW(r)&&delete t.zIndexMap[r])},prepare:Ft()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:a}=e.payload;t.zIndexMap[r]?a?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Ft()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Ft()}}}),{registerZIndexPortal:KW,unregisterZIndexPortal:YW,registerZIndexPortalElement:WW,unregisterZIndexPortalElement:XW}=iD.actions,QW=iD.reducer;function ei(t){var{zIndex:e,children:r}=t,n=K$(),a=n&&e!==void 0&&e!==0,s=Ln(),c=Kt();k.useLayoutEffect(()=>a?(c(KW({zIndex:e})),()=>{c(YW({zIndex:e}))}):Lu,[c,e,a]);var d=Pe(f=>LW(f,e,s));return a?d?mI.createPortal(r,d):null:r}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(null,arguments)}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){ZW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZW(t,e,r){return(e=JW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JW(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tX(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return k.isValidElement(e)?k.cloneElement(e,n):k.createElement(r,n)}function rX(t){var e,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:p}=t,g=r,b=n,w=a;if(!f||!g||p!=="ScatterChart"&&m!=="axis")return null;var _,E,S;if(p==="ScatterChart")_=g,E=IH,S=en.cursorLine;else if(p==="BarChart")_=RH(d,g,s,c),E=eP,S=en.cursorRectangle;else if(d==="radial"&&DI(g)){var{cx:R,cy:N,radius:C,startAngle:M,endAngle:U}=rP(g);_={cx:R,cy:N,startAngle:M,endAngle:U,innerRadius:C,outerRadius:C},E=aP,S=en.cursorLine}else _={points:kq(d,g,s)},E=mu,S=en.cursorLine;var H=typeof f=="object"&&"className"in f?f.className:void 0,A=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},s),_),ku(f)),{},{payload:b,payloadIndex:w,className:xt("recharts-tooltip-cursor",H)});return k.createElement(ei,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},k.createElement(tX,{cursor:f,cursorComp:E,cursorProps:A}))}function nX(t){var e=_W(),r=MR(),n=Vu(),a=tD();return e==null||r==null||n==null||a==null?null:k.createElement(rX,bw({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:a}))}var sD=k.createContext(null),aX=()=>k.useContext(sD),Wv={exports:{}},XC;function iX(){return XC||(XC=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,m,p){this.fn=f,this.context=m,this.once=p||!1}function s(f,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,b),_=r?r+m:m;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],w]:f._events[_].push(w):(f._events[_]=w,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=r?r+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,_=new Array(w);b<w;b++)_[b]=g[b].fn;return _},d.prototype.listenerCount=function(m){var p=r?r+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,b,w,_){var E=r?r+m:m;if(!this._events[E])return!1;var S=this._events[E],R=arguments.length,N,C;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,b),!0;case 5:return S.fn.call(S.context,p,g,b,w),!0;case 6:return S.fn.call(S.context,p,g,b,w,_),!0}for(C=1,N=new Array(R-1);C<R;C++)N[C-1]=arguments[C];S.fn.apply(S.context,N)}else{var M=S.length,U;for(C=0;C<M;C++)switch(S[C].once&&this.removeListener(m,S[C].fn,void 0,!0),R){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,p);break;case 3:S[C].fn.call(S[C].context,p,g);break;case 4:S[C].fn.call(S[C].context,p,g,b);break;default:if(!N)for(U=1,N=new Array(R-1);U<R;U++)N[U-1]=arguments[U];S[C].fn.apply(S[C].context,N)}}return!0},d.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,b){var w=r?r+m:m;if(!this._events[w])return this;if(!p)return c(this,w),this;var _=this._events[w];if(_.fn)_.fn===p&&(!b||_.once)&&(!g||_.context===g)&&c(this,w);else{for(var E=0,S=[],R=_.length;E<R;E++)(_[E].fn!==p||b&&!_[E].once||g&&_[E].context!==g)&&S.push(_[E]);S.length?this._events[w]=S.length===1?S[0]:S:c(this,w)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,t.exports=d})(Wv)),Wv.exports}var sX=iX();const oX=Li(sX);var Xf=new oX,vw="recharts.syncEvent.tooltip",QC="recharts.syncEvent.brush",oD=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!Ii(r))return t[r]}},lX={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},lD=zn({name:"options",initialState:lX,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cX=lD.reducer,{createEventEmitter:uX}=lD.actions;function dX(t){return t.tooltip.syncInteraction}var fX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cD=zn({name:"chartData",initialState:fX,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:ZC,setDataStartEndIndexes:hX,setComputedData:wde}=cD.actions,mX=cD.reducer,pX=["x","y"];function JC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(r),!0).forEach(function(n){gX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gX(t,e,r){return(e=xX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=yX(t,"string");return typeof e=="symbol"?e:e+""}function yX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bX(t,e){if(t==null)return{};var r,n,a=vX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function vX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function wX(){var t=Pe(tk),e=Pe(rk),r=Kt(),n=Pe(ZP),a=Pe(Os),s=Vu(),c=Vg(),d=Pe(f=>f.rootProps.className);k.useEffect(()=>{if(t==null)return Lu;var f=(m,p,g)=>{if(e!==g&&t===m){if(n==="index"){var b;if(c&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:_,y:E}=w,S=bX(w,pX),{x:R,y:N,width:C,height:M}=p.payload.sourceViewBox,U=eu(eu({},S),{},{x:c.x+(C?(_-R)/C:0)*c.width,y:c.y+(M?(E-N)/M:0)*c.height});r(eu(eu({},p),{},{payload:eu(eu({},p.payload),{},{coordinate:U})}))}else r(p);return}if(a!=null){var H;if(typeof n=="function"){var A={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=n(a,A);H=a[I]}else n==="value"&&(H=a.find(G=>String(G.value)===p.payload.label));var{coordinate:P}=p.payload;if(H==null||p.payload.active===!1||P==null||c==null){r(xw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:z}=P,D=Math.min($,c.x+c.width),B=Math.min(z,c.y+c.height),W={x:s==="horizontal"?H.coordinate:D,y:s==="horizontal"?B:H.coordinate},te=xw({active:p.payload.active,coordinate:W,dataKey:p.payload.dataKey,index:String(H.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(te)}}};return Xf.on(vw,f),()=>{Xf.off(vw,f)}},[d,r,e,t,n,a,s,c])}function kX(){var t=Pe(tk),e=Pe(rk),r=Kt();k.useEffect(()=>{if(t==null)return Lu;var n=(a,s,c)=>{e!==c&&t===a&&r(hX(s))};return Xf.on(QC,n),()=>{Xf.off(QC,n)}},[r,e,t])}function _X(){var t=Kt();k.useEffect(()=>{t(uX())},[t]),wX(),kX()}function NX(t,e,r,n,a,s){var c=Pe(w=>OW(w,t,e)),d=Pe(rk),f=Pe(tk),m=Pe(ZP),p=Pe(dX),g=p==null?void 0:p.active,b=Vg();k.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=xw({active:s,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});Xf.emit(vw,f,w,d)}},[g,r,c,a,n,d,f,m,s,b])}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){EX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EX(t,e,r){return(e=SX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SX(t){var e=jX(t,"string");return typeof e=="symbol"?e:e+""}function jX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TX(t){return t.dataKey}function AX(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(dH,e)}var rO=[],CX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nO(t){var e,r,n=an(t,CX),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:w,reverseDirection:_,useTranslate3d:E,wrapperStyle:S,cursor:R,shared:N,trigger:C,defaultIndex:M,portal:U,axisId:H}=n,A=Kt(),I=typeof M=="number"?String(M):M;k.useEffect(()=>{A(SY({shared:N,trigger:C,axisId:H,active:a,defaultIndex:I}))},[A,N,C,H,a,I]);var P=Vg(),$=WR(),z=vY(N),{activeIndex:D,isActive:B}=(e=Pe(fe=>PW(fe,z,C,I)))!==null&&e!==void 0?e:{},W=Pe(fe=>RW(fe,z,C,I)),te=Pe(fe=>aD(fe,z,C,I)),G=Pe(fe=>IW(fe,z,C,I)),Q=W,me=aX(),de=(r=a??B)!==null&&r!==void 0?r:!1,[ee,L]=nB([Q,de]),F=z==="axis"?te:void 0;NX(z,C,G,F,D,de);var oe=U??me;if(oe==null||P==null||z==null)return null;var K=Q??rO;de||(K=rO),m&&K.length&&(K=A7(K.filter(fe=>fe.value!=null&&(fe.hide!==!0||n.includeHidden)),b,TX));var ge=K.length>0,Ne=k.createElement(yH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:de,coordinate:G,hasPayload:ge,offset:g,position:w,reverseDirection:_,useTranslate3d:E,viewBox:P,wrapperStyle:S,lastBoundingBox:ee,innerRef:L,hasPortalFromProps:!!U},AX(f,tO(tO({},n),{},{payload:K,label:F,active:de,activeIndex:D,coordinate:G,accessibilityLayer:$})));return k.createElement(k.Fragment,null,mI.createPortal(Ne,oe),de&&k.createElement(nX,{cursor:R,tooltipEventType:z,coordinate:G,payload:K,index:D}))}var lx=t=>null;lx.displayName="Cell";function OX(t,e,r){return(e=IX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IX(t){var e=RX(t,"string");return typeof e=="symbol"?e:e+""}function RX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PX{constructor(e){OX(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){DX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DX(t,e,r){return(e=zX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zX(t){var e=LX(t,"string");return typeof e=="symbol"?e:e+""}function LX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VX={cacheSize:2e3,enableCache:!0},uD=MX({},VX),iO=new PX(uD.cacheSize),UX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sO="recharts_measurement_span";function BX(t,e){var r=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var oO=(t,e)=>{try{var r=document.getElementById(sO);r||(r=document.createElement("span"),r.setAttribute("id",sO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,UX,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xh.isSsr)return{width:0,height:0};if(!uD.enableCache)return oO(e,r);var n=BX(e,r),a=iO.get(n);if(a)return a;var s=oO(e,r);return iO.set(n,s),s},dD;function $X(t,e,r){return(e=HX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HX(t){var e=qX(t,"string");return typeof e=="symbol"?e:e+""}function qX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YX=["cm","mm","pt","pc","in","Q","px"];function WX(t){return YX.includes(t)}var cu="NaN";function XX(t,e){return t*KX[e]}class Xr{static parse(e){var r,[,n,a]=(r=GX.exec(e))!==null&&r!==void 0?r:[];return n==null?Xr.NaN:new Xr(parseFloat(n),a??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Ii(e)&&(this.unit=""),r!==""&&!FX.test(r)&&(this.num=NaN,this.unit=""),WX(r)&&(this.num=XX(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ii(this.num)}}dD=Xr;$X(Xr,"NaN",new dD(NaN,""));function fD(t){if(t==null||t.includes(cu))return cu;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,a,s]=(r=lO.exec(e))!==null&&r!==void 0?r:[],c=Xr.parse(n??""),d=Xr.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return cu;e=e.replace(lO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,b]=(m=cO.exec(e))!==null&&m!==void 0?m:[],w=Xr.parse(p??""),_=Xr.parse(b??""),E=g==="+"?w.add(_):w.subtract(_);if(E.isNaN())return cu;e=e.replace(cO,E.toString())}return e}var uO=/\(([^()]*)\)/;function QX(t){for(var e=t,r;(r=uO.exec(e))!=null;){var[,n]=r;e=e.replace(uO,fD(n))}return e}function ZX(t){var e=t.replace(/\s+/g,"");return e=QX(e),e=fD(e),e}function JX(t){try{return ZX(t)}catch{return cu}}function Xv(t){var e=JX(t.slice(5,-1));return e===cu?"":e}var eQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tQ=["dx","dy","angle","className","breakAll"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(null,arguments)}function dO(t,e){if(t==null)return{};var r,n,a=rQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function rQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hD=/[ \f\n\r\t\v\u2028\u2029]+/,mD=t=>{var{children:e,breakAll:r,style:n}=t;try{var a=[];rn(e)||(r?a=e.toString().split(""):a=e.toString().split(hD));var s=a.map(d=>({word:d,width:Sf(d,n).width})),c=r?0:Sf("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function nQ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var pD=(t,e,r,n)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||n||f.width+d+r<Number(e)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};a.push(m)}return a},[]),gD=t=>t.reduce((e,r)=>e.width>r.width?e:r),aQ="",fO=(t,e,r,n,a,s,c,d)=>{var f=t.slice(0,e),m=mD({breakAll:r,style:n,children:f+aQ});if(!m)return[!1,[]];var p=pD(m.wordsWithComputedWidth,s,c,d),g=p.length>a||gD(p).width>Number(s);return[g,p]},iQ=(t,e,r,n,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,m=Ce(s),p=String(c),g=pD(e,n,r,a);if(!m||a)return g;var b=g.length>s||gD(g).width>Number(n);if(!b)return g;for(var w=0,_=p.length-1,E=0,S;w<=_&&E<=p.length-1;){var R=Math.floor((w+_)/2),N=R-1,[C,M]=fO(p,N,f,d,s,n,r,a),[U]=fO(p,R,f,d,s,n,r,a);if(!C&&!U&&(w=R+1),C&&U&&(_=R-1),!C&&U){S=M;break}E++}return S||g},hO=t=>{var e=rn(t)?[]:t.toString().split(hD);return[{words:e,width:void 0}]},sQ=t=>{var{width:e,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:c}=t;if((e||r)&&!xh.isSsr){var d,f,m=mD({breakAll:s,children:n,style:a});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;d=p,f=g}else return hO(n);return iQ({breakAll:s,children:n,maxLines:c,style:a},d,f,e,!!r)}return hO(n)},xD="#808080",oQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:xD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cx=k.forwardRef((t,e)=>{var r=an(t,oQ),{x:n,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:p}=r,g=dO(r,eQ),b=k.useMemo(()=>sQ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:_,angle:E,className:S,breakAll:R}=g,N=dO(g,tQ);if(!Ri(n)||!Ri(a)||b.length===0)return null;var C=Number(n)+(Ce(w)?w:0),M=Number(a)+(Ce(_)?_:0);if(!st(C)||!st(M))return null;var U;switch(p){case"start":U=Xv("calc(".concat(c,")"));break;case"middle":U=Xv("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:U=Xv("calc(".concat(b.length-1," * -").concat(s,")"));break}var H=[],A=b[0];if(f&&A!=null){var I=A.width,{width:P}=g;H.push("scale(".concat(Ce(P)&&Ce(I)?P/I:1,")"))}return E&&H.push("rotate(".concat(E,", ").concat(C,", ").concat(M,")")),H.length&&(N.transform=H.join(" ")),k.createElement("text",ww({},vn(N),{ref:e,x:C,y:M,className:xt("recharts-text",S),textAnchor:m,fill:d.includes("url")?xD:d}),b.map(($,z)=>{var D=$.words.join(R?"":" ");return k.createElement("tspan",{x:C,dy:z===0?U:s,key:"".concat(D,"-").concat(z)},D)}))});cx.displayName="Text";function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){lQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lQ(t,e,r){return(e=cQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cQ(t){var e=uQ(t,"string");return typeof e=="symbol"?e:e+""}function uQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dQ=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:a}=t,{x:s,y:c,height:d,upperWidth:f,lowerWidth:m}=E2(e),p=s,g=s+(f-m)/2,b=(p+g)/2,w=(f+m)/2,_=p+f/2,E=d>=0?1:-1,S=E*n,R=E>0?"end":"start",N=E>0?"start":"end",C=f>=0?1:-1,M=C*n,U=C>0?"end":"start",H=C>0?"start":"end",A=a;if(r==="top"){var I={x:p+f/2,y:c-S,horizontalAnchor:"middle",verticalAnchor:R};return A&&(I.height=Math.max(c-A.y,0),I.width=f),I}if(r==="bottom"){var P={x:g+m/2,y:c+d+S,horizontalAnchor:"middle",verticalAnchor:N};return A&&(P.height=Math.max(A.y+A.height-(c+d),0),P.width=m),P}if(r==="left"){var $={x:b-M,y:c+d/2,horizontalAnchor:U,verticalAnchor:"middle"};return A&&($.width=Math.max($.x-A.x,0),$.height=d),$}if(r==="right"){var z={x:b+w+M,y:c+d/2,horizontalAnchor:H,verticalAnchor:"middle"};return A&&(z.width=Math.max(A.x+A.width-z.x,0),z.height=d),z}var D=A?{width:w,height:d}:{};return r==="insideLeft"?wi({x:b+M,y:c+d/2,horizontalAnchor:H,verticalAnchor:"middle"},D):r==="insideRight"?wi({x:b+w-M,y:c+d/2,horizontalAnchor:U,verticalAnchor:"middle"},D):r==="insideTop"?wi({x:p+f/2,y:c+S,horizontalAnchor:"middle",verticalAnchor:N},D):r==="insideBottom"?wi({x:g+m/2,y:c+d-S,horizontalAnchor:"middle",verticalAnchor:R},D):r==="insideTopLeft"?wi({x:p+M,y:c+S,horizontalAnchor:H,verticalAnchor:N},D):r==="insideTopRight"?wi({x:p+f-M,y:c+S,horizontalAnchor:U,verticalAnchor:N},D):r==="insideBottomLeft"?wi({x:g+M,y:c+d-S,horizontalAnchor:H,verticalAnchor:R},D):r==="insideBottomRight"?wi({x:g+m-M,y:c+d-S,horizontalAnchor:U,verticalAnchor:R},D):r&&typeof r=="object"&&(Ce(r.x)||ql(r.x))&&(Ce(r.y)||ql(r.y))?wi({x:s+ra(r.x,w),y:c+ra(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},D):wi({x:_,y:c+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},fQ=["labelRef"],hQ=["content"];function pO(t,e){if(t==null)return{};var r,n,a=mQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function mQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){pQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pQ(t,e,r){return(e=gQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gQ(t){var e=xQ(t,"string");return typeof e=="symbol"?e:e+""}function xQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ss.apply(null,arguments)}var yD=k.createContext(null),yQ=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:c,children:d}=t,f=k.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:c}),[e,r,n,a,s,c]);return k.createElement(yD.Provider,{value:f},d)},bD=()=>{var t=k.useContext(yD),e=Vg();return t||(e?E2(e):void 0)},bQ=k.createContext(null),vQ=()=>{var t=k.useContext(bQ),e=Pe(nM);return t||e},wQ=t=>{var{value:e,formatter:r}=t,n=rn(t.children)?e:t.children;return typeof r=="function"?r(n):n},Lk=t=>t!=null&&typeof t=="function",kQ=(t,e)=>{var r=mn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},_Q=(t,e,r,n,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:w}=a,_=(m+p)/2,E=kQ(g,b),S=E>=0?1:-1,R,N;switch(e){case"insideStart":R=g+S*s,N=w;break;case"insideEnd":R=b-S*s,N=!w;break;case"end":R=b+S*s,N=w;break;default:throw new Error("Unsupported position ".concat(e))}N=E<=0?N:!N;var C=br(d,f,_,R),M=br(d,f,_,R+(N?1:-1)*359),U="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(M.x,",").concat(M.y),H=rn(t.id)?zf("recharts-radial-line-"):t.id;return k.createElement("text",ss({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",c)}),k.createElement("defs",null,k.createElement("path",{id:H,d:U})),k.createElement("textPath",{xlinkHref:"#".concat(H)},r))},NQ=(t,e,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,m=(d+f)/2;if(r==="outside"){var{x:p,y:g}=br(n,a,c+e,m);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(s+c)/2,{x:w,y:_}=br(n,a,b,m);return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},qp=t=>t!=null&&"cx"in t&&Ce(t.cx),EQ={angle:0,offset:5,zIndex:en.label,position:"middle",textBreakAll:!1};function SQ(t){if(!qp(t))return t;var{cx:e,cy:r,outerRadius:n}=t,a=n*2;return{x:e-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function yo(t){var e=an(t,EQ),{viewBox:r,parentViewBox:n,position:a,value:s,children:c,content:d,className:f="",textBreakAll:m,labelRef:p}=e,g=vQ(),b=bD(),w=a==="center"?b:g??b,_,E,S;r==null?_=w:qp(r)?_=r:_=E2(r);var R=SQ(_);if(!_||rn(s)&&rn(c)&&!k.isValidElement(d)&&typeof d!="function")return null;var N=yf(yf({},e),{},{viewBox:_});if(k.isValidElement(d)){var{labelRef:C}=N,M=pO(N,fQ);return k.cloneElement(d,M)}if(typeof d=="function"){var{content:U}=N,H=pO(N,hQ);if(E=k.createElement(d,H),k.isValidElement(E))return E}else E=wQ(e);var A=vn(e);if(qp(_)){if(a==="insideStart"||a==="insideEnd"||a==="end")return _Q(e,a,E,A,_);S=NQ(_,e.offset,e.position)}else{if(!R)return null;var I=dQ({viewBox:R,position:a,offset:e.offset,parentViewBox:qp(n)?void 0:n});S=yf(yf({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return k.createElement(ei,{zIndex:e.zIndex},k.createElement(cx,ss({ref:p,className:xt("recharts-label",f)},A,S,{textAnchor:nQ(A.textAnchor)?A.textAnchor:S.textAnchor,breakAll:m}),E))}yo.displayName="Label";var jQ=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?k.createElement(yo,ss({key:"label-implicit"},n)):Ri(t)?k.createElement(yo,ss({key:"label-implicit",value:t},n)):k.isValidElement(t)?t.type===yo?k.cloneElement(t,yf({key:"label-implicit"},n)):k.createElement(yo,ss({key:"label-implicit",content:t},n)):Lk(t)?k.createElement(yo,ss({key:"label-implicit",content:t},n)):t&&typeof t=="object"?k.createElement(yo,ss({},t,{key:"label-implicit"},n)):null};function TQ(t){var{label:e,labelRef:r}=t,n=bD();return jQ(e,n,r)||null}var Qv={},Zv={},xO;function AQ(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Zv)),Zv}var Jv={},yO;function CQ(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Jv)),Jv}var bO;function OQ(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AQ(),r=CQ(),n=p2();function a(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=a})(Qv)),Qv}var e1,vO;function IQ(){return vO||(vO=1,e1=OQ().last),e1}var RQ=IQ();const PQ=Li(RQ);var MQ=["valueAccessor"],DQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(null,arguments)}function wO(t,e){if(t==null)return{};var r,n,a=zQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function zQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var LQ=t=>Array.isArray(t.value)?PQ(t.value):t.value,vD=k.createContext(void 0),VQ=vD.Provider,wD=k.createContext(void 0),UQ=wD.Provider;function BQ(){return k.useContext(vD)}function $Q(){return k.useContext(wD)}function Fp(t){var{valueAccessor:e=LQ}=t,r=wO(t,MQ),{dataKey:n,clockWise:a,id:s,textBreakAll:c,zIndex:d}=r,f=wO(r,DQ),m=BQ(),p=$Q(),g=m||p;return!g||!g.length?null:k.createElement(ei,{zIndex:d??en.label},k.createElement(tn,{className:"recharts-label-list"},g.map((b,w)=>{var _,E=rn(n)?e(b,w):Ut(b.payload,n),S=rn(s)?{}:{id:"".concat(s,"-").concat(w)};return k.createElement(yo,G0({key:"label-".concat(w)},vn(b),f,S,{fill:(_=r.fill)!==null&&_!==void 0?_:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:c,viewBox:b.viewBox,index:w,zIndex:0}))})))}Fp.displayName="LabelList";function kD(t){var{label:e}=t;return e?e===!0?k.createElement(Fp,{key:"labelList-implicit"}):k.isValidElement(e)||Lk(e)?k.createElement(Fp,{key:"labelList-implicit",content:e}):typeof e=="object"?k.createElement(Fp,G0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(null,arguments)}var _D=t=>{var{cx:e,cy:r,r:n,className:a}=t,s=xt("recharts-dot",a);return Ce(e)&&Ce(r)&&Ce(n)?k.createElement("circle",kw({},sa(t),m2(t),{className:s,cx:e,cy:r,r:n})):null},ND=t=>t.graphicalItems.polarItems,HQ=ie([er,_h],ck),ux=ie([ND,or,HQ],uk),qQ=ie([ux],dk),dx=ie([qQ,Qg],fk),FQ=ie([dx,or,ux],mk);ie([dx,or,ux],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(a=>{var s,c=Ut(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ut(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var kO=()=>{},GQ=ie([dx,or,ux,ax,er],yk),KQ=ie([or,gk,xk,kO,GQ,kO,Ct,er],bk),ED=ie([or,Ct,dx,FQ,kh,er,KQ],vk),YQ=ie([ED,qu,Fo],_k),WQ=ie([or,ED,YQ,er],Ek);ie([Fo,WQ],iM);var XQ={radiusAxis:{},angleAxis:{}},SD=zn({name:"polarAxis",initialState:XQ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:kde,removeRadiusAxis:_de,addAngleAxis:Nde,removeAngleAxis:Ede}=SD.actions,QQ=SD.reducer;function jD(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){ZQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZQ(t,e,r){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JQ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=(t,e)=>e,Vk=ie([ND,tZ],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),rZ=[],Uk=(t,e,r)=>(r==null?void 0:r.length)===0?rZ:r,TD=ie([Qg,Vk,Uk],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>NO(NO({},e.presentationProps),s.props))),a!=null)return a}}),nZ=ie([TD,Vk,Uk],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,a)=>{var s,c=Ut(n,e.nameKey,e.name),d;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=e.fill,{value:Pg(c,e.dataKey),color:d,payload:n,type:e.legendType}})}),aZ=ie([TD,Vk,Uk,Ur],(t,e,r,n)=>{if(!(e==null||t==null))return dJ({offset:n,pieSettings:e,displayedData:t,cells:r})}),t1={exports:{}},jt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function iZ(){if(EO)return jt;EO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case r:case a:case n:case f:case m:case b:return E;default:switch(E=E&&E.$$typeof,E){case c:case d:case g:case p:return E;case s:return E;default:return S}}case e:return S}}}return jt.ContextConsumer=s,jt.ContextProvider=c,jt.Element=t,jt.ForwardRef=d,jt.Fragment=r,jt.Lazy=g,jt.Memo=p,jt.Portal=e,jt.Profiler=a,jt.StrictMode=n,jt.Suspense=f,jt.SuspenseList=m,jt.isContextConsumer=function(E){return _(E)===s},jt.isContextProvider=function(E){return _(E)===c},jt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},jt.isForwardRef=function(E){return _(E)===d},jt.isFragment=function(E){return _(E)===r},jt.isLazy=function(E){return _(E)===g},jt.isMemo=function(E){return _(E)===p},jt.isPortal=function(E){return _(E)===e},jt.isProfiler=function(E){return _(E)===a},jt.isStrictMode=function(E){return _(E)===n},jt.isSuspense=function(E){return _(E)===f},jt.isSuspenseList=function(E){return _(E)===m},jt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===a||E===n||E===f||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===d||E.$$typeof===w||E.getModuleId!==void 0)},jt.typeOf=_,jt}var SO;function sZ(){return SO||(SO=1,t1.exports=iZ()),t1.exports}var oZ=sZ(),jO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",TO=null,r1=null,AD=t=>{if(t===TO&&Array.isArray(r1))return r1;var e=[];return k.Children.forEach(t,r=>{rn(r)||(oZ.isFragment(r)?e=e.concat(AD(r.props.children)):e.push(r))}),r1=e,TO=t,e};function CD(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(a=>jO(a)):n=[jO(e)],AD(t).forEach(a=>{var s=Hl(a,"type.displayName")||Hl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var OD=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,n1={},AO;function lZ(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(n1)),n1}var a1,CO;function cZ(){return CO||(CO=1,a1=lZ().isPlainObject),a1}var uZ=cZ();const dZ=Li(uZ);var OO,IO,RO,PO,MO;function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){fZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fZ(t,e,r){return(e=hZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(null,arguments)}function mf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LO=(t,e,r,n,a)=>{var s=r-n,c;return c=ir(OO||(OO=mf(["M ",",",""])),t,e),c+=ir(IO||(IO=mf(["L ",",",""])),t+r,e),c+=ir(RO||(RO=mf(["L ",",",""])),t+r-s/2,e+a),c+=ir(PO||(PO=mf(["L ",",",""])),t+r-s/2-n,e+a),c+=ir(MO||(MO=mf(["L ",","," Z"])),t,e),c},pZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gZ=t=>{var e=an(t,pZ),{x:r,y:n,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,b=k.useRef(null),[w,_]=k.useState(-1),E=k.useRef(a),S=k.useRef(s),R=k.useRef(c),N=k.useRef(r),C=k.useRef(n),M=qg(t,"trapezoid-");if(k.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var W=b.current.getTotalLength();W&&_(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var U=xt("recharts-trapezoid",d);if(!g)return k.createElement("g",null,k.createElement("path",K0({},vn(e),{className:U,d:LO(r,n,a,s,c)})));var H=E.current,A=S.current,I=R.current,P=N.current,$=C.current,z="0px ".concat(w===-1?1:w,"px"),D="".concat(w,"px 0px"),B=XR(["strokeDasharray"],m,f);return k.createElement(Hg,{animationId:M,key:M,canBegin:w>0,duration:m,easing:f,isActive:g,begin:p},W=>{var te=Zr(H,a,W),G=Zr(A,s,W),Q=Zr(I,c,W),me=Zr(P,r,W),de=Zr($,n,W);b.current&&(E.current=te,S.current=G,R.current=Q,N.current=me,C.current=de);var ee=W>0?{transition:B,strokeDasharray:D}:{strokeDasharray:z};return k.createElement("path",K0({},vn(e),{className:U,d:LO(me,de,te,G,Q),ref:b,style:zO(zO({},ee),e.style)}))})},xZ=["option","shapeType","activeClassName"];function yZ(t,e){if(t==null)return{};var r,n,a=bZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function bZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){vZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vZ(t,e,r){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=kZ(t,"string");return typeof e=="symbol"?e:e+""}function kZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Z(t,e){return Y0(Y0({},e),t)}function NZ(t,e){return t==="symbols"}function UO(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return k.createElement(eP,r);case"trapezoid":return k.createElement(gZ,r);case"sector":return k.createElement(aP,r);case"symbols":if(NZ(e))return k.createElement(MI,r);break;case"curve":return k.createElement(mu,r);default:return null}}function EZ(t){return k.isValidElement(t)?t.props:t}function SZ(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,a=yZ(t,xZ),s;if(k.isValidElement(e))s=k.cloneElement(e,Y0(Y0({},a),EZ(e)));else if(typeof e=="function")s=e(a,a.index);else if(dZ(e)&&typeof e!="boolean"){var c=_Z(e,a);s=k.createElement(UO,{shapeType:r,elementProps:c})}else{var d=a;s=k.createElement(UO,{shapeType:r,elementProps:d})}return a.isActive?k.createElement(tn,{className:n},s):s}var jZ=(t,e,r)=>{var n=Kt();return(a,s)=>c=>{t==null||t(a,s,c),n(zM({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},TZ=t=>{var e=Kt();return(r,n)=>a=>{t==null||t(r,n,a),e(jY())}},AZ=(t,e,r)=>{var n=Kt();return(a,s)=>c=>{t==null||t(a,s,c),n(TY({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function ID(t){var{tooltipEntrySettings:e}=t,r=Kt(),n=Ln(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(_Y(e)):a.current!==e&&r(NY({prev:a.current,next:e})),a.current=e)},[e,r,n]),k.useLayoutEffect(()=>()=>{a.current&&(r(EY(a.current)),a.current=null)},[r]),null}function CZ(t){var{legendPayload:e}=t,r=Kt(),n=Ln(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(GR(e)):a.current!==e&&r(KR({prev:a.current,next:e})),a.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{a.current&&(r(YR(a.current)),a.current=null)},[r]),null}function OZ(t){var{legendPayload:e}=t,r=Kt(),n=Pe(Ct),a=k.useRef(null);return k.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(GR(e)):a.current!==e&&r(KR({prev:a.current,next:e})),a.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{a.current&&(r(YR(a.current)),a.current=null)},[r]),null}var i1,IZ=()=>{var[t]=k.useState(()=>zf("uid-"));return t},RZ=(i1=_9.useId)!==null&&i1!==void 0?i1:IZ;function PZ(t,e){var r=RZ();return e||(t?"".concat(t,"-").concat(r):r)}var MZ=k.createContext(void 0),RD=t=>{var{id:e,type:r,children:n}=t,a=PZ("recharts-".concat(r),e);return k.createElement(MZ.Provider,{value:a},n(a))},DZ={cartesianItems:[],polarItems:[]},PD=zn({name:"graphicalItems",initialState:DZ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ft()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Wa(t).cartesianItems.indexOf(r);a>-1&&(t.cartesianItems[a]=n)},prepare:Ft()},removeCartesianGraphicalItem:{reducer(t,e){var r=Wa(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Ft()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ft()},removePolarGraphicalItem:{reducer(t,e){var r=Wa(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Ft()}}}),{addCartesianGraphicalItem:zZ,replaceCartesianGraphicalItem:LZ,removeCartesianGraphicalItem:VZ,addPolarGraphicalItem:UZ,removePolarGraphicalItem:BZ}=PD.actions,$Z=PD.reducer,HZ=t=>{var e=Kt(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?e(zZ(t)):r.current!==t&&e(LZ({prev:r.current,next:t})),r.current=t},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(e(VZ(r.current)),r.current=null)},[e]),null},qZ=k.memo(HZ);function FZ(t){var e=Kt();return k.useLayoutEffect(()=>(e(UZ(t)),()=>{e(BZ(t))}),[e,t]),null}var GZ=["key"],KZ=["onMouseEnter","onClick","onMouseLeave"],YZ=["id"],WZ=["id"];function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){XZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XZ(t,e,r){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QZ(t){var e=ZZ(t,"string");return typeof e=="symbol"?e:e+""}function ZZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Do.apply(null,arguments)}function fx(t,e){if(t==null)return{};var r,n,a=JZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function JZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eJ(t){var e=k.useMemo(()=>CD(t.children,lx),[t.children]),r=Pe(n=>nZ(n,t.id,e));return r==null?null:k.createElement(OZ,{legendPayload:r})}var tJ=k.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n.map(b=>b.tooltipPayload),getPosition:b=>{var w;return(w=n[Number(b)])===null||w===void 0?void 0:w.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:r,name:Pg(d,e),hide:f,type:m,color:c,unit:"",graphicalItemId:p}};return k.createElement(ID,{tooltipEntrySettings:g})}),rJ=(t,e)=>t>e?"start":t<e?"end":"middle",nJ=(t,e,r)=>ra(typeof e=="function"?e(t):e,r,r*.8),aJ=(t,e,r)=>{var{top:n,left:a,width:s,height:c}=e,d=tP(s,c),f=a+ra(t.cx,s,s/2),m=n+ra(t.cy,c,c/2),p=ra(t.innerRadius,d,0),g=nJ(r,t.outerRadius,d),b=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},iJ=(t,e)=>{var r=mn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},sJ=(t,e)=>{if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return t(e);var r=xt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,a=fx(e,GZ);return k.createElement(mu,Do({},a,{type:"linear",className:r}))},oJ=(t,e,r)=>{if(k.isValidElement(t))return k.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),k.isValidElement(n)))return n;var a=xt("recharts-pie-label-text",jD(t));return k.createElement(cx,Do({},e,{alignmentBaseline:"middle",className:a}),n)};function lJ(t){var{sectors:e,props:r,showLabels:n}=t,{label:a,labelLine:s,dataKey:c}=r;if(!n||!a||!e)return null;var d=sa(r),f=ku(a),m=ku(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((b,w)=>{var _=(b.startAngle+b.endAngle)/2,E=br(b.cx,b.cy,b.outerRadius+p,_),S=sr(sr(sr(sr({},d),b),{},{stroke:"none"},f),{},{index:w,textAnchor:rJ(E.x,b.cx)},E),R=sr(sr(sr(sr({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:w,points:[br(b.cx,b.cy,b.outerRadius,_),E],key:"line"});return k.createElement(ei,{zIndex:en.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},k.createElement(tn,null,s&&sJ(s,R),oJ(a,S,Ut(b,c))))});return k.createElement(tn,{className:"recharts-pie-labels"},g)}function cJ(t){var{sectors:e,props:r,showLabels:n}=t,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(kD,{label:a}):k.createElement(lJ,{sectors:e,props:r,showLabels:n})}function uJ(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:c}=t,d=Pe(Tu),f=Pe(ZM),m=Pe(hW),{onMouseEnter:p,onClick:g,onMouseLeave:b}=a,w=fx(a,KZ),_=jZ(p,a.dataKey,c),E=TZ(b),S=AZ(g,a.dataKey,c);return e==null||e.length===0?null:k.createElement(k.Fragment,null,e.map((R,N)=>{if((R==null?void 0:R.startAngle)===0&&(R==null?void 0:R.endAngle)===0&&e.length!==1)return null;var C=m==null||m===c,M=String(N)===d&&(f==null||a.dataKey===f)&&C,U=d?n:null,H=r&&M?r:U,A=sr(sr({},R),{},{stroke:R.stroke,tabIndex:-1,[AR]:N,[CR]:c});return k.createElement(tn,Do({key:"sector-".concat(R==null?void 0:R.startAngle,"-").concat(R==null?void 0:R.endAngle,"-").concat(R.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},zI(w,R,N),{onMouseEnter:_(R,N),onMouseLeave:E(R,N),onClick:S(R,N)}),k.createElement(SZ,Do({option:s??H,index:N,shapeType:"sector",isActive:M},A)))}))}function dJ(t){var e,{pieSettings:r,displayedData:n,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:p,tooltipType:g}=r,b=Math.abs(r.minAngle),w=iJ(d,f),_=Math.abs(w),E=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,S=n.filter(H=>Ut(H,m,0)!==0).length,R=(_>=360?S:S-1)*E,N=_-S*b-R,C=n.reduce((H,A)=>{var I=Ut(A,m,0);return H+(Ce(I)?I:0)},0),M;if(C>0){var U;M=n.map((H,A)=>{var I=Ut(H,m,0),P=Ut(H,p,A),$=aJ(r,s,H),z=(Ce(I)?I:0)/C,D,B=sr(sr({},H),a&&a[A]&&a[A].props);A?D=U.endAngle+mn(w)*E*(I!==0?1:0):D=d;var W=D+mn(w)*((I!==0?b:0)+z*N),te=(D+W)/2,G=($.innerRadius+$.outerRadius)/2,Q=[{name:P,value:I,payload:B,dataKey:m,type:g,graphicalItemId:r.id}],me=br($.cx,$.cy,G,te);return U=sr(sr(sr(sr({},r.presentationProps),{},{percent:z,cornerRadius:typeof c=="string"?parseFloat(c):c,name:P,tooltipPayload:Q,midAngle:te,middleRadius:G,tooltipPosition:me},B),$),{},{value:I,dataKey:m,startAngle:D,endAngle:W,payload:B,paddingAngle:mn(w)*E}),U})}return M}function fJ(t){var{showLabels:e,sectors:r,children:n}=t,a=k.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return k.createElement(UQ,{value:e?a:void 0},n)}function hJ(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,w=qg(e,"recharts-pie-"),_=r.current,[E,S]=k.useState(!1),R=k.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),N=k.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return k.createElement(fJ,{showLabels:!E,sectors:a},k.createElement(Hg,{animationId:w,begin:c,duration:d,isActive:s,easing:f,onAnimationStart:N,onAnimationEnd:R,key:w},C=>{var M,U=[],H=a&&a[0],A=(M=H==null?void 0:H.startAngle)!==null&&M!==void 0?M:0;return a==null||a.forEach((I,P)=>{var $=_&&_[P],z=P>0?Hl(I,"paddingAngle",0):0;if($){var D=Zr($.endAngle-$.startAngle,I.endAngle-I.startAngle,C),B=sr(sr({},I),{},{startAngle:A+z,endAngle:A+D+z});U.push(B),A=B.endAngle}else{var{endAngle:W,startAngle:te}=I,G=Zr(0,W-te,C),Q=sr(sr({},I),{},{startAngle:A+z,endAngle:A+G+z});U.push(Q),A=Q.endAngle}}),r.current=U,k.createElement(tn,null,k.createElement(uJ,{sectors:U,activeShape:m,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:n}))}),k.createElement(cJ,{showLabels:!E,sectors:a,props:e}),e.children)}var mJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:en.area};function pJ(t){var{id:e}=t,r=fx(t,YZ),{hide:n,className:a,rootTabIndex:s}=t,c=k.useMemo(()=>CD(t.children,lx),[t.children]),d=Pe(p=>aZ(p,e,c)),f=k.useRef(null),m=xt("recharts-pie",a);return n||d==null?(f.current=null,k.createElement(tn,{tabIndex:s,className:m})):k.createElement(ei,{zIndex:t.zIndex},k.createElement(tJ,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),k.createElement(tn,{tabIndex:s,className:m},k.createElement(hJ,{props:sr(sr({},r),{},{sectors:d}),previousSectorsRef:f,id:e})))}function MD(t){var e=an(t,mJ),{id:r}=e,n=fx(e,WZ),a=sa(n);return k.createElement(RD,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(FZ,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),k.createElement(eJ,Do({},n,{id:s})),k.createElement(pJ,Do({},n,{id:s}))))}MD.displayName="Pie";var gJ=["points"];function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){xJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJ(t,e,r){return(e=yJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJ(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W0.apply(null,arguments)}function vJ(t,e){if(t==null)return{};var r,n,a=wJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function wJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kJ(t){var{option:e,dotProps:r,className:n}=t;if(k.isValidElement(e))return k.cloneElement(e,r);if(typeof e=="function")return e(r);var a=xt(n,typeof e!="boolean"?e.className:""),s=r??{},{points:c}=s,d=vJ(s,gJ);return k.createElement(_D,W0({},d,{className:a}))}function _J(t,e){return t==null?!1:e?!0:t.length===1}function NJ(t){var{points:e,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:c,needClip:d,clipPathId:f,zIndex:m=en.scatter}=t;if(!_J(e,r))return null;var p=OD(r),g=tU(r),b=e.map((_,E)=>{var S,R,N=s1(s1(s1({r:3},c),g),{},{index:E,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(R=_.y)!==null&&R!==void 0?R:void 0,dataKey:s,value:_.value,payload:_.payload,points:e});return k.createElement(kJ,{key:"dot-".concat(E),option:r,dotProps:N,className:a})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),k.createElement(ei,{zIndex:m},k.createElement(tn,W0({className:n},w),b))}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){EJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EJ(t,e,r){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DD=0,TJ={xAxis:{},yAxis:{},zAxis:{}},zD=zn({name:"cartesianAxis",initialState:TJ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ft()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Ft()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ft()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ft()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Ft()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ft()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ft()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Ft()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ft()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,a=t.yAxis[r];if(a){var s,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==a.width&&Math.abs(n-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...c,n].slice(-3);t.yAxis[r]=qO(qO({},a),{},{width:n,widthHistory:d})}}}}),{addXAxis:AJ,replaceXAxis:CJ,removeXAxis:OJ,addYAxis:IJ,replaceYAxis:RJ,removeYAxis:PJ,addZAxis:Sde,replaceZAxis:jde,removeZAxis:Tde,updateYAxisWidth:MJ}=zD.actions,DJ=zD.reducer,zJ=ie([Ur],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),LJ=ie([zJ,Es,Ss],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Bk=()=>Pe(LJ),VJ=()=>Pe(yW);function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){UJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UJ(t,e,r){return(e=BJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HJ=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:c}=t;if(a===!1||e.x==null||e.y==null)return null;var d={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=o1(o1(o1({},d),ku(a)),m2(a)),m;return k.isValidElement(a)?m=k.cloneElement(a,f):typeof a=="function"?m=a(f):m=k.createElement(_D,f),k.createElement(tn,{className:"recharts-active-dot",clipPath:c},m)};function GO(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:c=en.activeDot}=t,d=Pe(Tu),f=VJ();if(e==null||f==null)return null;var m=e.find(p=>f.includes(p.payload));return rn(m)?null:k.createElement(ei,{zIndex:c},k.createElement(HJ,{point:m,childIndex:Number(d),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var LD=t=>{var{chartData:e}=t,r=Kt(),n=Ln();return k.useEffect(()=>n?()=>{}:(r(ZC(e)),()=>{r(ZC(void 0))}),[e,r,n]),null},KO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VD=zn({name:"brush",initialState:KO,reducers:{setBrushSettings(t,e){return e.payload==null?KO:e.payload}}}),{setBrushSettings:Ade}=VD.actions,qJ=VD.reducer;function FJ(t){return(t%180+180)%180}var GJ=function(e){var{width:r,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FJ(a),c=s*Math.PI/180,d=Math.atan(n/r),f=c>d&&c<Math.PI-d?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},KJ={dots:[],areas:[],lines:[]},UD=zn({name:"referenceElements",initialState:KJ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Wa(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Wa(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Wa(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:Cde,removeDot:Ode,addArea:Ide,removeArea:Rde,addLine:Pde,removeLine:Mde}=UD.actions,YJ=UD.reducer,WJ=k.createContext(void 0),XJ=t=>{var{children:e}=t,[r]=k.useState("".concat(zf("recharts"),"-clip")),n=Bk();if(n==null)return null;var{x:a,y:s,width:c,height:d}=n;return k.createElement(WJ.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function BD(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var a=t[n];a!==void 0&&r.push(a)}return r}function QJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return GJ(n,r)}function ZJ(t,e,r){var n=r==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:n?a:s,end:n?a+c:s+d}:{start:n?a+c:s+d,end:n?a:s}}function Qf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function JJ(t,e){return BD(t,e+1)}function eee(t,e,r,n,a){for(var s=(n||[]).slice(),{start:c,end:d}=e,f=0,m=1,p=c,g=function(){var _=n==null?void 0:n[f];if(_===void 0)return{v:BD(n,m)};var E=f,S,R=()=>(S===void 0&&(S=r(_,E)),S),N=_.coordinate,C=f===0||Qf(t,N,R,p,d);C||(f=0,p=c,m+=1),C&&(p=N+t*(R()/2+a),f+=m)},b;m<=s.length;)if(b=g(),b)return b.v;return[]}function tee(t,e,r,n,a){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:d,end:f}=e,m=1;m<=c;m++){for(var p=(c-1)%m,g=d,b=!0,w=function(){var M=n[E];if(M==null)return 0;var U=E,H,A=()=>(H===void 0&&(H=r(M,U)),H),I=M.coordinate,P=E===p||Qf(t,I,A,g,f);if(!P)return b=!1,1;P&&(g=I+t*(A()/2+a))},_,E=p;E<c&&(_=w(),!(_!==0&&_===1));E+=m);if(b){for(var S=[],R=p;R<c;R+=m){var N=n[R];N!=null&&S.push(N)}return S}}return[]}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){ree(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ree(t,e,r){return(e=nee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nee(t){var e=aee(t,"string");return typeof e=="symbol"?e:e+""}function aee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iee(t,e,r,n,a){for(var s=(n||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,m=function(b){var w=s[b];if(w==null)return 1;var _=w,E,S=()=>(E===void 0&&(E=r(w,b)),E);if(b===c-1){var R=t*(_.coordinate+t*S()/2-f);s[b]=_=un(un({},_),{},{tickCoord:R>0?_.coordinate-R*t:_.coordinate})}else s[b]=_=un(un({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var N=Qf(t,_.tickCoord,S,d,f);N&&(f=_.tickCoord-t*(S()/2+a),s[b]=un(un({},_),{},{isShow:!0}))}},p=c-1;p>=0;p--)m(p);return s}function see(t,e,r,n,a,s){var c=(n||[]).slice(),d=c.length,{start:f,end:m}=e;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),b=t*(p.coordinate+t*g/2-m);if(c[d-1]=p=un(un({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=Qf(t,p.tickCoord,()=>g,f,m);w&&(m=p.tickCoord-t*(g/2+a),c[d-1]=un(un({},p),{},{isShow:!0}))}}}for(var _=s?d-1:d,E=function(N){var C=c[N];if(C==null)return 1;var M=C,U,H=()=>(U===void 0&&(U=r(C,N)),U);if(N===0){var A=t*(M.coordinate-t*H()/2-f);c[N]=M=un(un({},M),{},{tickCoord:A<0?M.coordinate-A*t:M.coordinate})}else c[N]=M=un(un({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var I=Qf(t,M.tickCoord,H,f,m);I&&(f=M.tickCoord+t*(H()/2+a),c[N]=un(un({},M),{},{isShow:!0}))}},S=0;S<_;S++)E(S);return c}function $k(t,e,r){var{tick:n,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:p,angle:g}=t;if(!a||!a.length||!n)return[];if(Ce(f)||xh.isSsr){var b;return(b=JJ(a,Ce(f)?f:0))!==null&&b!==void 0?b:[]}var w=[],_=d==="top"||d==="bottom"?"width":"height",E=p&&_==="width"?Sf(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=(U,H)=>{var A=typeof m=="function"?m(U.value,H):U.value;return _==="width"?QJ(Sf(A,{fontSize:e,letterSpacing:r}),E,g):Sf(A,{fontSize:e,letterSpacing:r})[_]},R=a[0],N=a[1],C=a.length>=2&&R!=null&&N!=null?mn(N.coordinate-R.coordinate):1,M=ZJ(s,C,_);return f==="equidistantPreserveStart"?eee(C,M,S,a,c):f==="equidistantPreserveEnd"?tee(C,M,S,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=see(C,M,S,a,c,f==="preserveStartEnd"):w=iee(C,M,S,a,c),w.filter(U=>U.isShow))}var oee=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=a+s,m=c+f+d+(r?n:0);return Math.round(m)}return 0},lee=["axisLine","width","height","className","hide","ticks","axisType"];function cee(t,e){if(t==null)return{};var r,n,a=uee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function uee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(null,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dee(t,e,r){return(e=fee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:en.axis};function mee(t){var{x:e,y:r,width:n,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var m=ar(ar(ar({},f),sa(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);m=ar(ar({},m),{},{x1:e,y1:r+p*a,x2:e+n,y2:r+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);m=ar(ar({},m),{},{x1:e+g*n,y1:r,x2:e+g*n,y2:r+a})}return k.createElement("line",Wl({},m,{className:xt("recharts-cartesian-axis-line",Hl(d,"className"))}))}function pee(t,e,r,n,a,s,c,d,f){var m,p,g,b,w,_,E=d?-1:1,S=t.tickSize||c,R=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,b=r+ +!d*a,g=b-E*S,_=g-E*f,w=R;break;case"left":g=b=t.coordinate,p=e+ +!d*n,m=p-E*S,w=m-E*f,_=R;break;case"right":g=b=t.coordinate,p=e+ +d*n,m=p+E*S,w=m+E*f,_=R;break;default:m=p=t.coordinate,b=r+ +d*a,g=b+E*S,_=g+E*f,w=R;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:w,y:_}}}function gee(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function xee(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yee(t){var{option:e,tickProps:r,value:n}=t,a,s=xt(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))a=k.cloneElement(e,ar(ar({},r),{},{className:s}));else if(typeof e=="function")a=e(ar(ar({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=xt(c,jD(e))),a=k.createElement(cx,Wl({},r,{className:c}),n)}return a}var bee=k.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:p,mirror:g,x:b,y:w,width:_,height:E,tickSize:S,tickMargin:R,fontSize:N,letterSpacing:C,getTicksConfig:M,events:U,axisType:H}=t,A=$k(ar(ar({},M),{},{ticks:r}),N,C),I=gee(p,g),P=xee(p,g),$=sa(M),z=ku(n),D={};typeof a=="object"&&(D=a);var B=ar(ar({},$),{},{fill:"none"},D),W=A.map(Q=>ar({entry:Q},pee(Q,b,w,_,E,p,S,g,R))),te=W.map(Q=>{var{entry:me,line:de}=Q;return k.createElement(tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},a&&k.createElement("line",Wl({},B,de,{className:xt("recharts-cartesian-axis-tick-line",Hl(a,"className"))})))}),G=W.map((Q,me)=>{var de,ee,{entry:L,tick:F}=Q,oe=ar(ar(ar(ar({verticalAnchor:P},$),{},{textAnchor:I,stroke:"none",fill:s},F),{},{index:me,payload:L,visibleTicksCount:A.length,tickFormatter:c,padding:f},m),{},{angle:(de=(ee=m==null?void 0:m.angle)!==null&&ee!==void 0?ee:$.angle)!==null&&de!==void 0?de:0}),K=ar(ar({},oe),z);return k.createElement(tn,Wl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},zI(U,L,me)),n&&k.createElement(yee,{option:n,tickProps:K,value:"".concat(typeof c=="function"?c(L.value,me):L.value).concat(d||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(H,"-ticks")},G.length>0&&k.createElement(ei,{zIndex:en.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(H,"-tick-labels"),ref:e},G)),te.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(H,"-tick-lines")},te))}),vee=k.forwardRef((t,e)=>{var{axisLine:r,width:n,height:a,className:s,hide:c,ticks:d,axisType:f}=t,m=cee(t,lee),[p,g]=k.useState(""),[b,w]=k.useState(""),_=k.useRef(null);k.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return oee({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=k.useCallback(S=>{if(S){var R=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=R;var N=R[0];if(N){var C=window.getComputedStyle(N),M=C.fontSize,U=C.letterSpacing;(M!==p||U!==b)&&(g(M),w(U))}}},[p,b]);return c||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(ei,{zIndex:t.zIndex},k.createElement(tn,{className:xt("recharts-cartesian-axis",s)},k.createElement(mee,{x:t.x,y:t.y,width:n,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:sa(t)}),k.createElement(bee,{ref:E,axisType:f,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),k.createElement(yQ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},k.createElement(TQ,{label:t.label,labelRef:t.labelRef}),t.children)))}),Hk=k.forwardRef((t,e)=>{var r=an(t,fs);return k.createElement(vee,Wl({},r,{ref:e}))});Hk.displayName="CartesianAxis";var wee=["x1","y1","x2","y2","key"],kee=["offset"],_ee=["xAxisId","yAxisId"],Nee=["xAxisId","yAxisId"];function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Eee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eee(t,e,r){return(e=See(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=jee(t,"string");return typeof e=="symbol"?e:e+""}function jee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Al.apply(null,arguments)}function X0(t,e){if(t==null)return{};var r,n,a=Tee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Tee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Aee=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:c,ry:d}=t;return k.createElement("rect",{x:n,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $D(t){var{option:e,lineItemProps:r}=t,n;if(k.isValidElement(e))n=k.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a,{x1:s,y1:c,x2:d,y2:f,key:m}=r,p=X0(r,wee),g=(a=sa(p))!==null&&a!==void 0?a:{},{offset:b}=g,w=X0(g,kee);n=k.createElement("line",Al({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:m}))}return n}function Cee(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=X0(t,_ee),f=a.map((m,p)=>{var g=fn(fn({},d),{},{x1:e,y1:m,x2:e+r,y2:m,key:"line-".concat(p),index:p});return k.createElement($D,{key:"line-".concat(p),option:n,lineItemProps:g})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Oee(t){var{y:e,height:r,vertical:n=!0,verticalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=X0(t,Nee),f=a.map((m,p)=>{var g=fn(fn({},d),{},{x1:m,y1:e,x2:m,y2:e+r,key:"line-".concat(p),index:p});return k.createElement($D,{option:n,lineItemProps:g,key:"line-".concat(p)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Iee(t){var{horizontalFill:e,fillOpacity:r,x:n,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var m=d.map(g=>Math.round(g+a-a)).sort((g,b)=>g-b);a!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=m[b+1],_=w==null,E=_?a+c-g:w-g;if(E<=0)return null;var S=b%e.length;return k.createElement("rect",{key:"react-".concat(b),y:g,x:n,height:E,width:s,stroke:"none",fill:e[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Ree(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!r||!r.length)return null;var m=f.map(g=>Math.round(g+a-a)).sort((g,b)=>g-b);a!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=m[b+1],_=w==null,E=_?a+c-g:w-g;if(E<=0)return null;var S=b%r.length;return k.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:d,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Pee=(t,e)=>{var{xAxis:r,width:n,height:a,offset:s}=t;return SR($k(fn(fn(fn({},fs),r),{},{ticks:jR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},Mee=(t,e)=>{var{yAxis:r,width:n,height:a,offset:s}=t;return SR($k(fn(fn(fn({},fs),r),{},{ticks:jR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},Dee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:en.grid};function HD(t){var e=DR(),r=zR(),n=MR(),a=fn(fn({},an(t,Dee)),{},{x:Ce(t.x)?t.x:n.left,y:Ce(t.y)?t.y:n.top,width:Ce(t.width)?t.width:n.width,height:Ce(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:w}=a,_=Ln(),E=Pe(P=>UC(P,"xAxis",s,_)),S=Pe(P=>UC(P,"yAxis",c,_));if(!Pi(m)||!Pi(p)||!Ce(d)||!Ce(f))return null;var R=a.verticalCoordinatesGenerator||Pee,N=a.horizontalCoordinatesGenerator||Mee,{horizontalPoints:C,verticalPoints:M}=a;if((!C||!C.length)&&typeof N=="function"){var U=b&&b.length,H=N({yAxis:S?fn(fn({},S),{},{ticks:U?b:S.ticks}):void 0,width:e??m,height:r??p,offset:n},U?!0:g);k0(Array.isArray(H),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(C=H)}if((!M||!M.length)&&typeof R=="function"){var A=w&&w.length,I=R({xAxis:E?fn(fn({},E),{},{ticks:A?w:E.ticks}):void 0,width:e??m,height:r??p,offset:n},A?!0:g);k0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return k.createElement(ei,{zIndex:a.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Aee,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(Iee,Al({},a,{horizontalPoints:C})),k.createElement(Ree,Al({},a,{verticalPoints:M})),k.createElement(Cee,Al({},a,{offset:n,horizontalPoints:C,xAxis:E,yAxis:S})),k.createElement(Oee,Al({},a,{offset:n,verticalPoints:M,xAxis:E,yAxis:S}))))}HD.displayName="CartesianGrid";var zee={},qD=zn({name:"errorBars",initialState:zee,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:a}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Dde,replaceErrorBar:zde,removeErrorBar:Lde}=qD.actions,Lee=qD.reducer;function FD(t,e){var r,n,a=Pe(m=>As(m,t)),s=Pe(m=>Cs(m,e)),c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Rr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Pr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function Vee(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,a=Bk(),{needClipX:s,needClipY:c,needClip:d}=FD(e,r);if(!d||!a)return null;var{x:f,y:m,width:p,height:g}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?f:f-p/2,y:c?m:m-g/2,width:s?p:p*2,height:c?g:g*2}))}function Uee(t){var e=ku(t),r=3,n=2;if(e!=null){var{r:a,strokeWidth:s}=e,c=Number(a),d=Number(s);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=n),{r:c,strokeWidth:d}}return{r,strokeWidth:n}}var l1={exports:{}},c1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function Bee(){if(QO)return c1;QO=1;var t=Du();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return c1.useSyncExternalStoreWithSelector=function(f,m,p,g,b){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function S(U){if(!R){if(R=!0,N=U,U=g(U),b!==void 0&&_.hasValue){var H=_.value;if(b(H,U))return C=H}return C=U}if(H=C,r(N,U))return H;var A=g(U);return b!==void 0&&b(H,A)?(N=U,H):(N=U,C=A)}var R=!1,N,C,M=p===void 0?null:p;return[function(){return S(m())},M===null?void 0:function(){return S(M())}]},[m,p,g,b]);var E=n(f,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=E},[E]),d(E),E},c1}var ZO;function $ee(){return ZO||(ZO=1,l1.exports=Bee()),l1.exports}$ee();function Hee(t){t()}function qee(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Hee(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var JO={notify(){},get:()=>[]};function Fee(t,e){let r,n=JO,a=0,s=!1;function c(E){p();const S=n.subscribe(E);let R=!1;return()=>{R||(R=!0,S(),g())}}function d(){n.notify()}function f(){_.onStateChange&&_.onStateChange()}function m(){return s}function p(){a++,r||(r=t.subscribe(f),n=qee())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=JO)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const _={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>n};return _}var Gee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kee=Gee(),Yee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wee=Yee(),Xee=()=>Kee||Wee?k.useLayoutEffect:k.useEffect,Qee=Xee();function e5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Zee(t,e){if(e5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!e5(t[r[a]],e[r[a]]))return!1;return!0}var u1=Symbol.for("react-redux-context"),d1=typeof globalThis<"u"?globalThis:{};function Jee(){if(!k.createContext)return{};const t=d1[u1]??(d1[u1]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var ete=Jee();function tte(t){const{children:e,context:r,serverState:n,store:a}=t,s=k.useMemo(()=>{const f=Fee(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=k.useMemo(()=>a.getState(),[a]);Qee(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=r||ete;return k.createElement(d.Provider,{value:s},e)}var rte=tte,nte=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ate(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function qk(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(nte.has(n)){if(t[n]==null&&e[n]==null)continue;if(!Zee(t[n],e[n]))return!1}else if(!ate(t[n],e[n]))return!1;return!0}function Fk(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:DD}function Gk(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:DD}var GD=(t,e,r)=>OM(t,"xAxis",Fk(t,e),r),KD=(t,e,r)=>CM(t,"xAxis",Fk(t,e),r),YD=(t,e,r)=>OM(t,"yAxis",Gk(t,e),r),WD=(t,e,r)=>CM(t,"yAxis",Gk(t,e),r),ite=ie([Ct,GD,YD,KD,WD],(t,e,r,n,a)=>Vi(t,"xAxis")?w0(e,n,!1):w0(r,a,!1)),ste=(t,e)=>e,XD=ie([cM,ste],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),QD=t=>{var e=Ct(t),r=Vi(e,"xAxis");return r?"yAxis":"xAxis"},ote=(t,e)=>{var r=QD(t);return r==="yAxis"?Gk(t,e):Fk(t,e)},lte=(t,e,r)=>mM(t,QD(t),ote(t,e),r),cte=ie([XD,lte],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,a=sk(t);if(!(n==null||a==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,c=s==null?void 0:s.find(d=>d.key===a);if(c!=null)return c.map(d=>[d[0],d[1]])}}}),ute=ie([Ct,GD,YD,KD,WD,cte,rK,ite,XD,dK],(t,e,r,n,a,s,c,d,f,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=c;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||a==null||n.length===0||a.length===0||d==null)){var{data:w}=f,_;if(w&&w.length>0?_=w:_=p==null?void 0:p.slice(g,b+1),_!=null)return Ate({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:_,chartBaseValue:m,bandSize:d})}}),dte=["id"],fte=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ml.apply(null,arguments)}function ZD(t,e){if(t==null)return{};var r,n,a=hte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function hte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mte(t,e,r){return(e=pte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q0(t,e){return t&&t!=="none"?t:e}var xte=t=>{var{dataKey:e,name:r,stroke:n,fill:a,legendType:s,hide:c}=t;return[{inactive:c,dataKey:e,type:s,color:Q0(n,a),value:Pg(r,e),payload:t}]},yte=k.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:s,name:c,hide:d,unit:f,tooltipType:m,id:p}=t,g={dataDefinedOnItem:r,getPosition:Lu,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Pg(c,e),hide:d,type:m,color:Q0(n,s),unit:f,graphicalItemId:p}};return k.createElement(ID,{tooltipEntrySettings:g})});function bte(t){var{clipPathId:e,points:r,props:n}=t,{needClip:a,dot:s,dataKey:c}=n,d=sa(n);return k.createElement(NJ,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:a,clipPathId:e})}function vte(t){var{showLabels:e,children:r,points:n}=t,a=n.map(s=>{var c,d,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return uu(uu({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return k.createElement(VQ,{value:e?a:void 0},r)}function r5(t){var{points:e,baseLine:r,needClip:n,clipPathId:a,props:s}=t,{layout:c,type:d,stroke:f,connectNulls:m,isRange:p}=s,{id:g}=s,b=ZD(s,dte),w=sa(b),_=vn(b);return k.createElement(k.Fragment,null,(e==null?void 0:e.length)>1&&k.createElement(tn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},k.createElement(mu,Ml({},_,{id:g,points:e,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&k.createElement(mu,Ml({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:e})),f!=="none"&&p&&k.createElement(mu,Ml({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),k.createElement(bte,{points:e,props:b,clipPathId:a}))}function wte(t){var e,r,{alpha:n,baseLine:a,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.y,f=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!st(d)||!st(f))return null;var m=n*Math.abs(d-f),p=Math.max(...s.map(g=>g.x||0));return Ce(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(g=>g.x||0),p)),Ce(p)?k.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}function kte(t){var e,r,{alpha:n,baseLine:a,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.x,f=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!st(d)||!st(f))return null;var m=n*Math.abs(d-f),p=Math.max(...s.map(g=>g.y||0));return Ce(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(g=>g.y||0),p)),Ce(p)?k.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function _te(t){var{alpha:e,layout:r,points:n,baseLine:a,strokeWidth:s}=t;return r==="vertical"?k.createElement(wte,{alpha:e,points:n,baseLine:a,strokeWidth:s}):k.createElement(kte,{alpha:e,points:n,baseLine:a,strokeWidth:s})}function Nte(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=t,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:w}=n,_=k.useMemo(()=>({points:c,baseLine:d}),[c,d]),E=qg(_,"recharts-area-"),S=S2(),[R,N]=k.useState(!1),C=!R,M=k.useCallback(()=>{typeof w=="function"&&w(),N(!1)},[w]),U=k.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]);if(S==null)return null;var H=a.current,A=s.current;return k.createElement(vte,{showLabels:C,points:c},n.children,k.createElement(Hg,{animationId:E,begin:m,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:U,key:E},I=>{if(H){var P=H.length/c.length,$=I===1?c:c.map((D,B)=>{var W=Math.floor(B*P);if(H[W]){var te=H[W];return uu(uu({},D),{},{x:Zr(te.x,D.x,I),y:Zr(te.y,D.y,I)})}return D}),z;return Ce(d)?z=Zr(A,d,I):rn(d)||Ii(d)?z=Zr(A,0,I):z=d.map((D,B)=>{var W=Math.floor(B*P);if(Array.isArray(A)&&A[W]){var te=A[W];return uu(uu({},D),{},{x:Zr(te.x,D.x,I),y:Zr(te.y,D.y,I)})}return D}),I>0&&(a.current=$,s.current=z),k.createElement(r5,{points:$,baseLine:z,needClip:e,clipPathId:r,props:n})}return I>0&&(a.current=c,s.current=d),k.createElement(tn,null,f&&k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(r)},k.createElement(_te,{alpha:I,points:c,baseLine:d,layout:S,strokeWidth:n.strokeWidth}))),k.createElement(tn,{clipPath:"url(#animationClipPath-".concat(r,")")},k.createElement(r5,{points:c,baseLine:d,needClip:e,clipPathId:r,props:n})))}),k.createElement(kD,{label:n.label}))}function Ete(t){var{needClip:e,clipPathId:r,props:n}=t,a=k.useRef(null),s=k.useRef();return k.createElement(Nte,{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Ste extends k.PureComponent{render(){var{hide:e,dot:r,points:n,className:a,top:s,left:c,needClip:d,xAxisId:f,yAxisId:m,width:p,height:g,id:b,baseLine:w,zIndex:_}=this.props;if(e)return null;var E=xt("recharts-area",a),S=b,{r:R,strokeWidth:N}=Uee(r),C=OD(r),M=R*2+N,U=d?"url(#clipPath-".concat(C?"":"dots-").concat(S,")"):void 0;return k.createElement(ei,{zIndex:_},k.createElement(tn,{className:E},d&&k.createElement("defs",null,k.createElement(Vee,{clipPathId:S,xAxisId:f,yAxisId:m}),!C&&k.createElement("clipPath",{id:"clipPath-dots-".concat(S)},k.createElement("rect",{x:c-M/2,y:s-M/2,width:p+M,height:g+M}))),k.createElement(Ete,{needClip:d,clipPathId:S,props:this.props})),k.createElement(GO,{points:n,mainColor:Q0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}),this.props.isRange&&Array.isArray(w)&&k.createElement(GO,{points:w,mainColor:Q0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}))}}var JD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:en.area};function jte(t){var e,r=an(t,JD),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:w,stroke:_,xAxisId:E,yAxisId:S}=r,R=ZD(r,fte),N=Vu(),C=tD(),{needClip:M}=FD(E,S),U=Ln(),{points:H,isRange:A,baseLine:I}=(e=Pe(W=>ute(W,t.id,U)))!==null&&e!==void 0?e:{},P=Bk();if(N!=="horizontal"&&N!=="vertical"||P==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:$,width:z,x:D,y:B}=P;return!H||!H.length?null:k.createElement(Ste,Ml({},R,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:c,baseLine:I,connectNulls:d,dot:f,fill:m,fillOpacity:p,height:$,hide:g,layout:N,isAnimationActive:b==="auto"?!xh.isSsr:b,isRange:A,legendType:w,needClip:M,points:H,stroke:_,width:z,left:D,top:B,xAxisId:E,yAxisId:S}))}var Tte=(t,e,r,n,a)=>{var s=r??e;if(Ce(s))return s;var c=t==="horizontal"?a:n,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return s==="dataMin"?m:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function Ate(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:w}=t,_=a&&a.length,E=Tte(s,c,r,d,f),S=s==="horizontal",R=!1,N=m.map((M,U)=>{var H,A,I,P;if(_)P=a[p+U];else{var $=Ut(M,n);Array.isArray($)?(P=$,R=!0):P=[E,$]}var z=(H=(A=P)===null||A===void 0?void 0:A[1])!==null&&H!==void 0?H:null,D=z==null||_&&!e&&Ut(M,n)==null;if(S){var B;return{x:UT({axis:d,ticks:g,bandSize:w,entry:M,index:U}),y:D?null:(B=f.scale.map(z))!==null&&B!==void 0?B:null,value:P,payload:M}}return{x:D?null:(I=d.scale.map(z))!==null&&I!==void 0?I:null,y:UT({axis:f,ticks:b,bandSize:w,entry:M,index:U}),value:P,payload:M}}),C;return _||R?C=N.map(M=>{var U,H=Array.isArray(M.value)?M.value[0]:null;if(S){var A;return{x:M.x,y:H!=null&&M.y!=null&&(A=f.scale.map(H))!==null&&A!==void 0?A:null,payload:M.payload}}return{x:H!=null&&(U=d.scale.map(H))!==null&&U!==void 0?U:null,y:M.y,payload:M.payload}}):C=S?f.scale.map(E):d.scale.map(E),{points:N,baseLine:C??0,isRange:R}}function Cte(t){var e=an(t,JD),r=Ln();return k.createElement(RD,{id:e.id,type:"area"},n=>k.createElement(k.Fragment,null,k.createElement(CZ,{legendPayload:xte(e)}),k.createElement(yte,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),k.createElement(qZ,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:f$(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),k.createElement(jte,Ml({},e,{id:n}))))}var e6=k.memo(Cte,qk);e6.displayName="Area";var Ote=["domain","range"],Ite=["domain","range"];function n5(t,e){if(t==null)return{};var r,n,a=Rte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Rte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function a5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function t6(t,e){if(t===e)return!0;var{domain:r,range:n}=t,a=n5(t,Ote),{domain:s,range:c}=e,d=n5(e,Ite);return!a5(r,s)||!a5(n,c)?!1:qk(a,d)}var Pte=["type"],Mte=["dangerouslySetInnerHTML","ticks","scale"],Dte=["id","scale"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(null,arguments)}function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){zte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zte(t,e,r){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nw(t,e){if(t==null)return{};var r,n,a=Ute(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Ute(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Bte(t){var e=Kt(),r=k.useRef(null),n=S2(),{type:a}=t,s=Nw(t,Pte),c=Jg(n,"xAxis",a),d=k.useMemo(()=>{if(c!=null)return s5(s5({},s),{},{type:c})},[s,c]);return k.useLayoutEffect(()=>{d!=null&&(r.current===null?e(AJ(d)):r.current!==d&&e(CJ({prev:r.current,next:d})),r.current=d)},[d,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(OJ(r.current)),r.current=null)},[e]),null}var $te=t=>{var{xAxisId:e,className:r}=t,n=Pe(OR),a=Ln(),s="xAxis",c=Pe(R=>AM(R,s,e,a)),d=Pe(R=>sY(R,e)),f=Pe(R=>fY(R,e)),m=Pe(R=>sM(R,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,w=Nw(t,Mte),{id:_,scale:E}=m,S=Nw(m,Dte);return k.createElement(Hk,_w({},w,S,{x:f.x,y:f.y,width:d.width,height:d.height,className:xt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},Hte={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:Rr.allowDecimals,allowDuplicatedCategory:Rr.allowDuplicatedCategory,angle:Rr.angle,axisLine:fs.axisLine,height:Rr.height,hide:!1,includeHidden:Rr.includeHidden,interval:Rr.interval,label:!1,minTickGap:Rr.minTickGap,mirror:Rr.mirror,orientation:Rr.orientation,padding:Rr.padding,reversed:Rr.reversed,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:Rr.type,xAxisId:0},qte=t=>{var e=an(t,Hte);return k.createElement(k.Fragment,null,k.createElement(Bte,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),k.createElement($te,e))},r6=k.memo(qte,t6);r6.displayName="XAxis";var Fte=["type"],Gte=["dangerouslySetInnerHTML","ticks","scale"],Kte=["id","scale"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(null,arguments)}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function l5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){Yte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yte(t,e,r){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wte(t){var e=Xte(t,"string");return typeof e=="symbol"?e:e+""}function Xte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sw(t,e){if(t==null)return{};var r,n,a=Qte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Qte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Zte(t){var e=Kt(),r=k.useRef(null),n=S2(),{type:a}=t,s=Sw(t,Fte),c=Jg(n,"yAxis",a),d=k.useMemo(()=>{if(c!=null)return l5(l5({},s),{},{type:c})},[c,s]);return k.useLayoutEffect(()=>{d!=null&&(r.current===null?e(IJ(d)):r.current!==d&&e(RJ({prev:r.current,next:d})),r.current=d)},[d,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(PJ(r.current)),r.current=null)},[e]),null}function Jte(t){var{yAxisId:e,className:r,width:n,label:a}=t,s=k.useRef(null),c=k.useRef(null),d=Pe(OR),f=Ln(),m=Kt(),p="yAxis",g=Pe(H=>pY(H,e)),b=Pe(H=>mY(H,e)),w=Pe(H=>AM(H,p,e,f)),_=Pe(H=>oM(H,e));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!g||Lk(a)||k.isValidElement(a)||_==null)){var H=s.current;if(H){var A=H.getCalculatedWidth();Math.round(g.width)!==Math.round(A)&&m(MJ({id:e,width:A}))}}},[w,g,m,a,e,n,_]),g==null||b==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:R}=t,N=Sw(t,Gte),{id:C,scale:M}=_,U=Sw(_,Kte);return k.createElement(Hk,Ew({},N,U,{ref:s,labelRef:c,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:xt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:w,axisType:p}))}var ere={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,angle:Pr.angle,axisLine:fs.axisLine,hide:!1,includeHidden:Pr.includeHidden,interval:Pr.interval,label:!1,minTickGap:Pr.minTickGap,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:Pr.type,width:Pr.width,yAxisId:0},tre=t=>{var e=an(t,ere);return k.createElement(k.Fragment,null,k.createElement(Zte,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),k.createElement(Jte,e))},n6=k.memo(tre,t6);n6.displayName="YAxis";var rre=(t,e)=>e,Kk=ie([rre,Ct,nM,$r,YM,Os,CW,Ur],zW),Yk=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},a6=Ta("mouseClick"),i6=hh();i6.startListening({actionCreator:a6,effect:(t,e)=>{var r=t.payload,n=Kk(e.getState(),Yk(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(AY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var jw=Ta("mouseMove"),s6=hh(),wp=null;s6.startListening({actionCreator:jw,effect:(t,e)=>{var r=t.payload;wp!==null&&cancelAnimationFrame(wp);var n=Yk(r);wp=requestAnimationFrame(()=>{var a=e.getState(),s=Tk(a,a.tooltip.settings.shared);if(s==="axis"){var c=Kk(a,n);(c==null?void 0:c.activeIndex)!=null?e.dispatch(VM({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(LM())}wp=null})}});function nre(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var c5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o6=zn({name:"rootProps",initialState:c5,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:c5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),are=o6.reducer,{updateOptions:ire}=o6.actions,sre=null,ore={updatePolarOptions:(t,e)=>e.payload},l6=zn({name:"polarOptions",initialState:sre,reducers:ore}),{updatePolarOptions:lre}=l6.actions,cre=l6.reducer,c6=Ta("keyDown"),u6=Ta("focus"),Wk=hh();Wk.startListening({actionCreator:c6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Ak(a,Yu(r),Eh(r),jh(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Os(r);if(s==="Enter"){var m=F0(r,"axis","hover",String(a.index));e.dispatch(yw({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var p=bY(r),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=d+b*g;if(!(f==null||w>=f.length||w<0)){var _=F0(r,"axis","hover",String(w));e.dispatch(yw({active:!0,activeIndex:w.toString(),activeCoordinate:_}))}}}}}});Wk.startListening({actionCreator:u6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",c=F0(r,"axis","hover",String(s));e.dispatch(yw({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var ka=Ta("externalEvent"),d6=hh(),f1=new Map;d6.startListening({actionCreator:ka,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var a=n.type,s=f1.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:pW(d),activeDataKey:ZM(d),activeIndex:Tu(d),activeLabel:QM(d),activeTooltipIndex:Tu(d),isTooltipActive:gW(d)};r(f,n)}finally{f1.delete(a)}});f1.set(a,c)}}});var ure=ie([Gu],t=>t.tooltipItemPayloads),dre=ie([ure,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(e)}}}),f6=Ta("touchMove"),h6=hh();h6.startListening({actionCreator:f6,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),a=Tk(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var c=Kk(n,Yk({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(c==null?void 0:c.activeIndex)!=null&&e.dispatch(VM({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(AR),g=(d=m.getAttribute(CR))!==null&&d!==void 0?d:void 0,b=Ku(n).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:w}=b,_=dre(n,p,g);e.dispatch(zM({activeDataKey:w,activeIndex:p,activeCoordinate:_,activeGraphicalItemId:g}))}}}});var fre=QI({brush:qJ,cartesianAxis:DJ,chartData:mX,errorBars:Lee,graphicalItems:$Z,layout:n$,legend:sH,options:cX,polarAxis:QQ,polarOptions:cre,referenceElements:YJ,rootProps:are,tooltip:CY,zIndex:QW}),hre=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TB({reducer:fre,preloadedState:e,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([i6.middleware,s6.middleware,Wk.middleware,d6.middleware,h6.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(fR({type:"raf"}))},devTools:{serialize:{replacer:nre},name:"recharts-".concat(r)}})};function m6(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,a=Ln(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=hre(e,n));var c=x2;return k.createElement(rte,{context:c,store:s.current},r)}function mre(t){var{layout:e,margin:r}=t,n=Kt(),a=Ln();return k.useEffect(()=>{a||(n(e$(e)),n(JB(r)))},[n,a,e,r]),null}var p6=k.memo(mre,qk);function g6(t){var e=Kt();return k.useEffect(()=>{e(ire(t))},[e,t]),null}function u5(t){var{zIndex:e,isPanorama:r}=t,n=k.useRef(null),a=Kt();return k.useLayoutEffect(()=>(n.current&&a(WW({zIndex:e,element:n.current,isPanorama:r})),()=>{a(XW({zIndex:e,isPanorama:r}))}),[a,e,r]),k.createElement("g",{tabIndex:-1,ref:n})}function d5(t){var{children:e,isPanorama:r}=t,n=Pe(VW);if(!n||n.length===0)return e;var a=n.filter(c=>c<0),s=n.filter(c=>c>0);return k.createElement(k.Fragment,null,a.map(c=>k.createElement(u5,{key:c,zIndex:c,isPanorama:r})),e,s.map(c=>k.createElement(u5,{key:c,zIndex:c,isPanorama:r})))}var pre=["children"];function gre(t,e){if(t==null)return{};var r,n,a=xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function xre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z0.apply(null,arguments)}var yre={width:"100%",height:"100%",display:"block"},bre=k.forwardRef((t,e)=>{var r=DR(),n=zR(),a=WR();if(!Pi(r)||!Pi(n))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,m,p;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),k.createElement(hI,Z0({},c,{title:d,desc:f,role:p,tabIndex:m,width:r,height:n,style:yre,ref:e}),s)}),vre=t=>{var{children:e}=t,r=Pe(Lg);if(!r)return null;var{width:n,height:a,y:s,x:c}=r;return k.createElement(hI,{width:n,height:a,x:c,y:s},e)},f5=k.forwardRef((t,e)=>{var{children:r}=t,n=gre(t,pre),a=Ln();return a?k.createElement(vre,null,k.createElement(d5,{isPanorama:!0},r)):k.createElement(bre,Z0({ref:e},n),k.createElement(d5,{isPanorama:!1},r))});function wre(){var t=Kt(),[e,r]=k.useState(null),n=Pe(y$);return k.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;st(s)&&s!==n&&t(r$(s))}},[e,t,n]),r}function h5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(r),!0).forEach(function(n){_re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _re(t,e,r){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jo.apply(null,arguments)}var Sre=()=>(_X(),null);function J0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var jre=k.forwardRef((t,e)=>{var r,n,a=k.useRef(null),[s,c]=k.useState({containerWidth:J0((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:J0((n=t.style)===null||n===void 0?void 0:n.height)}),d=k.useCallback((m,p)=>{c(g=>{var b=Math.round(m),w=Math.round(p);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),f=k.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();d(p,g);var b=_=>{var E=_[0];if(E!=null){var{width:S,height:R}=E.contentRect;d(S,R)}},w=new ResizeObserver(b);w.observe(m),a.current=w}},[e,d]);return k.useEffect(()=>()=>{var m=a.current;m!=null&&m.disconnect()},[d]),k.createElement(k.Fragment,null,k.createElement(ph,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",jo({ref:f},t)))}),Tre=k.forwardRef((t,e)=>{var{width:r,height:n}=t,[a,s]=k.useState({containerWidth:J0(r),containerHeight:J0(n)}),c=k.useCallback((f,m)=>{s(p=>{var g=Math.round(f),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),d=k.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:m,height:p}=f.getBoundingClientRect();c(m,p)}},[e,c]);return k.createElement(k.Fragment,null,k.createElement(ph,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",jo({ref:d},t)))}),Are=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement("div",jo({ref:e},t)))}),Cre=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?k.createElement(Tre,jo({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?k.createElement(Are,jo({},t,{width:r,height:n,ref:e})):k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement("div",jo({ref:e},t)))});function Ore(t){return t?jre:Cre}var Ire=k.forwardRef((t,e)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:_,onTouchStart:E,style:S,width:R,responsive:N,dispatchTouchEvents:C=!0}=t,M=k.useRef(null),U=Kt(),[H,A]=k.useState(null),[I,P]=k.useState(null),$=wre(),z=N2(),D=(z==null?void 0:z.width)>0?z.width:R,B=(z==null?void 0:z.height)>0?z.height:a,W=k.useCallback(le=>{$(le),typeof e=="function"&&e(le),A(le),P(le),le!=null&&(M.current=le)},[$,e,A,P]),te=k.useCallback(le=>{U(a6(le)),U(ka({handler:s,reactEvent:le}))},[U,s]),G=k.useCallback(le=>{U(jw(le)),U(ka({handler:m,reactEvent:le}))},[U,m]),Q=k.useCallback(le=>{U(LM()),U(ka({handler:p,reactEvent:le}))},[U,p]),me=k.useCallback(le=>{U(jw(le)),U(ka({handler:g,reactEvent:le}))},[U,g]),de=k.useCallback(()=>{U(u6())},[U]),ee=k.useCallback(le=>{U(c6(le.key))},[U]),L=k.useCallback(le=>{U(ka({handler:c,reactEvent:le}))},[U,c]),F=k.useCallback(le=>{U(ka({handler:d,reactEvent:le}))},[U,d]),oe=k.useCallback(le=>{U(ka({handler:f,reactEvent:le}))},[U,f]),K=k.useCallback(le=>{U(ka({handler:b,reactEvent:le}))},[U,b]),ge=k.useCallback(le=>{U(ka({handler:E,reactEvent:le}))},[U,E]),Ne=k.useCallback(le=>{C&&U(f6(le)),U(ka({handler:_,reactEvent:le}))},[U,C,_]),fe=k.useCallback(le=>{U(ka({handler:w,reactEvent:le}))},[U,w]),$e=Ore(N);return k.createElement(sD.Provider,{value:H},k.createElement(lU.Provider,{value:I},k.createElement($e,{width:D??(S==null?void 0:S.width),height:B??(S==null?void 0:S.height),className:xt("recharts-wrapper",n),style:kre({position:"relative",cursor:"default",width:D,height:B},S),onClick:te,onContextMenu:L,onDoubleClick:F,onFocus:de,onKeyDown:ee,onMouseDown:oe,onMouseEnter:G,onMouseLeave:Q,onMouseMove:me,onMouseUp:K,onTouchEnd:fe,onTouchMove:Ne,onTouchStart:ge,ref:W},k.createElement(Sre,null),r)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function Pre(t,e){if(t==null)return{};var r,n,a=Mre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Mre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var x6=k.forwardRef((t,e)=>{var{width:r,height:n,responsive:a,children:s,className:c,style:d,compact:f,title:m,desc:p}=t,g=Pre(t,Rre),b=sa(g);return f?k.createElement(k.Fragment,null,k.createElement(ph,{width:r,height:n}),k.createElement(f5,{otherAttributes:b,title:m,desc:p},s)):k.createElement(Ire,{className:c,style:d,width:r,height:n,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},k.createElement(f5,{otherAttributes:b,title:m,desc:p,ref:e},k.createElement(XJ,null,s)))});function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(null,arguments)}var Dre={top:5,right:5,bottom:5,left:5},zre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Lre=k.forwardRef(function(e,r){var n,a=an(e.categoricalChartProps,zre),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return k.createElement(m6,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},k.createElement(LD,{chartData:m.data}),k.createElement(p6,{layout:a.layout,margin:a.margin}),k.createElement(g6,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(x6,Tw({},a,{ref:r})))});function Vre(t){var e=Kt();return k.useEffect(()=>{e(lre(t))},[e,t]),null}var Ure=["layout"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(null,arguments)}function Bre(t,e){if(t==null)return{};var r,n,a=$re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function $re(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hre={top:5,right:5,bottom:5,left:5},y6={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qre=k.forwardRef(function(e,r){var n,a=an(e.categoricalChartProps,y6),{layout:s}=a,c=Bre(a,Ure),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return k.createElement(m6,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},k.createElement(LD,{chartData:a.data}),k.createElement(p6,{layout:s,margin:a.margin}),k.createElement(g6,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(Vre,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(x6,Aw({},c,{ref:r})))});function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){Fre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fre(t,e,r){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yre=["item"],Wre=p5(p5({},y6),{},{layout:"centric",startAngle:0,endAngle:360}),Xre=k.forwardRef((t,e)=>{var r=an(t,Wre);return k.createElement(qre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:oD,categoricalChartProps:r,ref:e})}),Qre=["axis"],Zre=k.forwardRef((t,e)=>k.createElement(Lre,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qre,tooltipPayloadSearcher:oD,categoricalChartProps:t,ref:e}));const h1=({transactions:t,vaults:e,measurements:r,contacts:n,promissoryNotes:a,onSeeAllPerformance:s})=>{const c=k.useRef(null);k.useEffect(()=>{const W=setInterval(()=>{if(c.current){const{scrollLeft:te,scrollWidth:G,clientWidth:Q}=c.current;te+Q>=G-10?c.current.scrollTo({left:0,behavior:"smooth"}):c.current.scrollTo({left:te+Q,behavior:"smooth"})}},4e3);return()=>clearInterval(W)},[]);const d=()=>{if(c.current){const{scrollLeft:W,scrollWidth:te,clientWidth:G}=c.current;W<=0?c.current.scrollTo({left:te,behavior:"smooth"}):c.current.scrollBy({left:-G,behavior:"smooth"})}},f=()=>{if(c.current){const{scrollLeft:W,scrollWidth:te,clientWidth:G}=c.current;W+G>=te-10?c.current.scrollTo({left:0,behavior:"smooth"}):c.current.scrollBy({left:G,behavior:"smooth"})}};e.reduce((W,te)=>W+te.balance,0);const m=e.filter(W=>W.type==="CASH").reduce((W,te)=>W+te.balance,0),p=e.filter(W=>W.type==="BANK"||W.type==="POS").reduce((W,te)=>W+te.balance,0),g=new Date,b=g.getMonth(),w=g.getFullYear(),_=g.toDateString(),E=t.filter(W=>W.type==="INCOME"&&!W.isStartingBalance&&!W.isCredit&&new Date(W.date).toDateString()===_).reduce((W,te)=>W+te.amount,0),S=t.filter(W=>W.type==="EXPENSE"&&!W.isStartingBalance&&!W.isCredit&&new Date(W.date).toDateString()===_).reduce((W,te)=>W+te.amount,0),R=t.filter(W=>{const te=new Date(W.date);return W.type==="INCOME"&&!W.isStartingBalance&&!W.isCredit&&te.getMonth()===b&&te.getFullYear()===w}).reduce((W,te)=>W+te.amount,0),N=t.filter(W=>{const te=new Date(W.date);return W.type==="EXPENSE"&&!W.isStartingBalance&&!W.isCredit&&te.getMonth()===b&&te.getFullYear()===w}).reduce((W,te)=>W+te.amount,0),C=t.filter(W=>W.type==="INCOME"&&!W.isStartingBalance&&!W.isCredit&&new Date(W.date).getFullYear()===w).reduce((W,te)=>W+te.amount,0),M=t.filter(W=>W.type==="EXPENSE"&&!W.isStartingBalance&&!W.isCredit&&new Date(W.date).getFullYear()===w).reduce((W,te)=>W+te.amount,0),U=r.filter(W=>W.status==="PENDING").length,H=r.filter(W=>W.status==="ASSEMBLY").length,A=a.filter(W=>W.status==="PENDING").length,I=n.filter(W=>W.type==="CUSTOMER").length,P=n.filter(W=>W.type==="SUPPLIER").length,$=n.reduce((W,te)=>te.balance>0?W+te.balance:W,0),z=n.reduce((W,te)=>te.balance<0?W+Math.abs(te.balance):W,0),D=[{name:"Pzt",income:4e3,expense:2400},{name:"Sal",income:3e3,expense:1398},{name:"ar",income:2e3,expense:9800},{name:"Per",income:2780,expense:3908},{name:"Cum",income:1890,expense:4800},{name:"Cmt",income:2390,expense:3800},{name:"Paz",income:3490,expense:4300}],B=[{title:"Gnlk Performans",income:E,expense:S},{title:"Aylk Performans",income:R,expense:N},{title:"Yllk Performans",income:C,expense:M}];return l.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"relative rounded-[2.5rem] overflow-hidden border border-gray-100 dark:border-slate-700 shadow-sm bg-white dark:bg-slate-800 pb-12",children:[l.jsx("button",{onClick:d,className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white/80 dark:bg-slate-800/80 backdrop-blur rounded-full flex items-center justify-center shadow-md border border-gray-100 dark:border-slate-700 z-10 text-gray-400 hover:text-indigo-600 transition-all active:scale-95",children:l.jsx(tI,{size:20})}),l.jsx("button",{onClick:f,className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white/80 dark:bg-slate-800/80 backdrop-blur rounded-full flex items-center justify-center shadow-md border border-gray-100 dark:border-slate-700 z-10 text-gray-400 hover:text-indigo-600 transition-all active:scale-95",children:l.jsx(Rn,{size:20})}),l.jsx("div",{ref:c,className:"flex overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:B.map((W,te)=>{const G=[{name:"Gelir",value:W.income||1,color:"#10b981"},{name:"Gider",value:W.expense||0,color:"#f43f5e"}];return l.jsx("div",{className:"min-w-full snap-center shrink-0 p-6 sm:p-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 px-6 sm:px-10",children:[l.jsxs("div",{className:"text-center md:text-left space-y-2 flex-1",children:[l.jsx("h3",{className:"text-xl font-black tracking-tight",children:W.title}),l.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:"Gelir & Gider Dalm"}),l.jsxs("div",{className:"pt-4 flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),l.jsxs("span",{className:"text-sm font-black",children:["Gelir: ",W.income.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),l.jsxs("span",{className:"text-sm font-black",children:["Gider: ",W.expense.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"h-[200px] w-full md:w-[200px]",children:l.jsx(QT,{width:"100%",height:"100%",children:l.jsxs(Xre,{children:[l.jsx(MD,{data:G,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:G.map((Q,me)=>l.jsx(lx,{fill:Q.color,stroke:"none"},`cell-${me}`))}),l.jsx(nO,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff"},itemStyle:{fontSize:"12px",fontWeight:"bold"}})]})})})]})},te)})}),l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 z-10",children:l.jsx("button",{onClick:s,className:"px-4 py-1.5 bg-gray-50 dark:bg-slate-900 text-indigo-600 border border-gray-200 dark:border-slate-700 rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors shadow-sm active:scale-95",children:"Tmn Gr"})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-6",children:[l.jsx(tu,{title:"Toplam Nakit",value:`${m.toLocaleString("tr-TR")} `,icon:l.jsx(uh,{size:20,className:"text-emerald-500"}),color:"bg-emerald-50 dark:bg-emerald-900/20"}),l.jsx(tu,{title:"Banka & POS",value:`${p.toLocaleString("tr-TR")} `,icon:l.jsx(Ei,{size:20,className:"text-blue-500"}),color:"bg-blue-50 dark:bg-blue-900/20"}),l.jsx(tu,{title:"Bugnk Gelir",value:`${E.toLocaleString("tr-TR")} `,icon:l.jsx(Po,{size:20,className:"text-indigo-500"}),color:"bg-indigo-50 dark:bg-indigo-900/20"}),l.jsx(tu,{title:"Bugnk Gider",value:`${S.toLocaleString("tr-TR")} `,icon:l.jsx(Mo,{size:20,className:"text-rose-500"}),color:"bg-rose-50 dark:bg-rose-900/20"}),l.jsx(tu,{title:"Bekleyen l",value:U.toString(),icon:l.jsx(bn,{size:20,className:"text-amber-500"}),color:"bg-amber-50 dark:bg-amber-900/20"}),l.jsx(tu,{title:"Bekleyen Montaj",value:H.toString(),icon:l.jsx(n2,{size:20,className:"text-orange-500"}),color:"bg-orange-50 dark:bg-orange-900/20"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 sm:gap-8",children:[l.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h3",{className:"text-lg font-bold",children:"Performans Grafii"})}),l.jsx("div",{className:"h-[250px] sm:h-[350px]",children:l.jsx(QT,{width:"100%",height:"100%",children:l.jsxs(Zre,{data:D,children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.15}),l.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),l.jsx(HD,{strokeDasharray:"3 3",vertical:!1,stroke:"#88888815"}),l.jsx(r6,{dataKey:"name",axisLine:!1,tickLine:!1,fontSize:12,tick:{fill:"#94a3b8"},dy:10}),l.jsx(n6,{hide:!0}),l.jsx(nO,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff",fontSize:"12px"}}),l.jsx(e6,{type:"monotone",dataKey:"income",stroke:"#4f46e5",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"})]})})})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold mb-6",children:"Operasyon Takibi"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(_p,{label:"Bekleyen ller",count:U,color:"bg-amber-500",total:r.length}),l.jsx(_p,{label:"Atlyedeki ler",count:r.filter(W=>W.status==="WORKSHOP").length,color:"bg-indigo-500",total:r.length}),l.jsx(_p,{label:"Bekleyen Senetler",count:A,color:"bg-indigo-400",total:a.length}),l.jsx(_p,{label:"Tamamlanan ler",count:r.filter(W=>W.status==="COMPLETED").length,color:"bg-emerald-500",total:r.length})]}),l.jsx("div",{className:"mt-8 p-4 bg-indigo-50/50 dark:bg-indigo-900/10 rounded-2xl border border-indigo-100 dark:border-indigo-900/20",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(a8,{size:20,className:"text-indigo-600 dark:text-indigo-400 shrink-0"}),l.jsxs("p",{className:"text-sm leading-relaxed text-indigo-800 dark:text-indigo-300",children:["Sistemde denmeyi bekleyen ",l.jsx("b",{children:A})," adet senet bulunmaktadr."]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 border-t border-gray-100 dark:border-slate-700 pt-6 sm:pt-8",children:[l.jsx(kp,{title:"Kaytl Mteri",value:I.toString(),icon:l.jsx(Ol,{size:18}),color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20"}),l.jsx(kp,{title:"Tedariki Says",value:P.toString(),icon:l.jsx(i2,{size:18}),color:"text-slate-600",bgColor:"bg-slate-50 dark:bg-slate-900/20"}),l.jsx(kp,{title:"Toplam Alacak",value:`${$.toLocaleString("tr-TR")} `,icon:l.jsx(fu,{size:18}),color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20"}),l.jsx(kp,{title:"Toplam Bor",value:`${z.toLocaleString("tr-TR")} `,icon:l.jsx(Ef,{size:18}),color:"text-rose-600",bgColor:"bg-rose-50 dark:bg-rose-900/20"})]})]})},tu=({title:t,value:e,icon:r,color:n,trend:a})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 sm:p-6 rounded-3xl border border-gray-100 dark:border-slate-700 flex flex-col gap-2 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-2xl flex items-center justify-center ${n} mb-2`,children:r}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:t}),l.jsx("div",{className:"flex items-baseline gap-2",children:l.jsx("p",{className:"text-base sm:text-xl font-black truncate",children:e})})]}),kp=({title:t,value:e,icon:r,color:n,bgColor:a})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-gray-50 dark:border-slate-700 flex items-center gap-4 shadow-sm",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a} ${n}`,children:r}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:t}),l.jsx("p",{className:`text-sm sm:text-lg font-black ${n}`,children:e})]})]}),_p=({label:t,count:e,color:r,total:n})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${r}`}),l.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-slate-300",children:t})]}),l.jsx("span",{className:"text-sm font-black",children:e})]}),l.jsx("div",{className:"w-full h-1.5 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${r} transition-all duration-500`,style:{width:`${n>0?e/n*100:0}%`}})})]}),g5=({measurements:t,setMeasurements:e,onGoToForm:r,onSelectMeasurement:n})=>{const[a,s]=k.useState("PENDING"),[c,d]=k.useState(null),[f,m]=k.useState(""),p=t.filter(b=>{const w=b.customerName.toLowerCase().includes(f.toLowerCase())||b.title&&b.title.toLowerCase().includes(f.toLowerCase());return c?b.status===c&&w:b.status===a&&w}),g=[{id:"PENDING",label:"BEKLEYEN"},{id:"COMPLETED",label:"BTENLER"},{id:"DEFERRED",label:"ERTELENEN"},{id:"DELETED",label:"SLNEN"}];return l.jsxs("div",{className:"space-y-4 sm:space-y-8 max-w-6xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative w-full sm:w-80 group",children:[l.jsx(Dn,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:16}),l.jsx("input",{type:"text",placeholder:"Mteri ara...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl sm:rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm transition-all text-xs sm:text-sm",value:f,onChange:b=>m(b.target.value)})]}),l.jsxs("button",{onClick:r,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2 bg-indigo-600 text-white rounded-xl sm:rounded-2xl hover:bg-indigo-700 transition-all font-black shadow-lg shadow-indigo-600/20 active:scale-95 text-xs",children:[l.jsx(Er,{size:16}),"Yeni Sipari (l)"]})]}),l.jsx("div",{className:"bg-slate-100 dark:bg-slate-950 p-0.5 rounded-2xl sm:rounded-[1.5rem] flex gap-0.5 border border-gray-200 dark:border-slate-800 shadow-inner overflow-x-auto hide-scrollbar",children:g.map(b=>l.jsx("button",{onClick:()=>{s(b.id),d(null)},className:`
              flex-1 min-w-[70px] px-1 py-2 sm:py-3 rounded-[0.9rem] sm:rounded-[1.2rem] text-[8px] sm:text-[11px] font-black tracking-widest transition-all duration-300 whitespace-nowrap
              ${a===b.id&&!c?"bg-white dark:bg-slate-800 text-blue-500 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300"}
            `,children:b.label},b.id))}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 max-w-lg mx-auto w-full",children:[l.jsxs("button",{onClick:()=>d(c==="WORKSHOP"?null:"WORKSHOP"),className:`
            flex flex-col items-center justify-center gap-1.5 p-2 sm:p-5 rounded-2xl sm:rounded-[1.5rem] border-2 transition-all duration-300 group
            ${c==="WORKSHOP"?"bg-pink-500/10 border-pink-500 shadow-md shadow-pink-500/10":"bg-white dark:bg-slate-800/40 border-gray-100 dark:border-slate-800"}
          `,children:[l.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 bg-white dark:bg-slate-900 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform",children:l.jsx(wV,{className:"text-pink-500 w-3.5 h-3.5 sm:w-5 sm:h-5"})}),l.jsx("span",{className:`text-[7px] sm:text-[10px] font-black tracking-[0.1em] sm:tracking-[0.2em] uppercase ${c==="WORKSHOP"?"text-pink-500":"text-pink-500/70"}`,children:"ATLYE"})]}),l.jsxs("button",{onClick:()=>d(c==="ASSEMBLY"?null:"ASSEMBLY"),className:`
            flex flex-col items-center justify-center gap-1.5 p-2 sm:p-5 rounded-2xl sm:rounded-[1.5rem] border-2 transition-all duration-300 group
            ${c==="ASSEMBLY"?"bg-orange-500/10 border-orange-500 shadow-md shadow-orange-500/10":"bg-white dark:bg-slate-800/40 border-gray-100 dark:border-slate-800"}
          `,children:[l.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 bg-white dark:bg-slate-900 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform",children:l.jsx(n2,{className:"text-orange-500 w-3.5 h-3.5 sm:w-5 sm:h-5"})}),l.jsx("span",{className:`text-[7px] sm:text-[10px] font-black tracking-[0.1em] sm:tracking-[0.2em] uppercase ${c==="ASSEMBLY"?"text-orange-500":"text-orange-500/70"}`,children:"MONTAJ"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6 pt-1",children:p.length===0?l.jsxs("div",{className:"col-span-full py-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 opacity-20",children:l.jsx(bn,{size:24})}),l.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[8px]",children:"Kayt bulunamad."})]}):p.map((b,w)=>{var S,R;const _=((S=b.rooms)==null?void 0:S.length)||1,E=b.rooms?b.rooms.reduce((N,C)=>N+C.windows.length,0):((R=b.windows)==null?void 0:R.length)||0;return l.jsxs("div",{onClick:()=>n(b.id),className:"bg-white dark:bg-slate-800/60 backdrop-blur-sm rounded-2xl sm:rounded-[1.8rem] border border-gray-100 dark:border-slate-700 p-4 sm:p-8 shadow-sm hover:shadow-xl transition-all group cursor-pointer animate-in fade-in slide-in-from-bottom-1 duration-300",style:{animationDelay:`${w*30}ms`},children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(Bl,{size:16,className:"sm:w-5 sm:h-5"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:b.date}),l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[7px] sm:text-[8px] font-black uppercase tracking-tighter ${b.status==="COMPLETED"?"bg-emerald-500/10 text-emerald-500":b.status==="WORKSHOP"?"bg-pink-500/10 text-pink-500":b.status==="ASSEMBLY"?"bg-orange-500/10 text-orange-500":b.status==="DELETED"?"bg-rose-500/10 text-rose-500":"bg-blue-500/10 text-blue-500"}`,children:b.status})]})]}),l.jsx("h4",{className:"text-sm sm:text-xl font-black mb-0.5 group-hover:text-indigo-500 transition-colors truncate",children:b.customerName.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] sm:text-xs font-bold text-slate-500 dark:text-slate-400 mb-3 truncate",children:b.title||"l Siparii"}),l.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg text-[10px] sm:text-[11px] font-bold leading-relaxed text-slate-600 dark:text-slate-300 line-clamp-2 min-h-[36px]",children:b.details}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-50 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(a2,{size:12,className:"text-indigo-500"}),l.jsxs("span",{className:"text-[8px] sm:text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[_," Oda"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bn,{size:12,className:"text-amber-500"}),l.jsxs("span",{className:"text-[8px] sm:text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[E," Pcr"]})]})]}),l.jsx(Rn,{size:14,className:"text-slate-300 group-hover:text-indigo-500 transform group-hover:translate-x-1 transition-all"})]})]},b.id)})})]})},Jre=({item:t,onChange:e,onRemove:r})=>{const n=t.product.unit.toLowerCase(),a=n.includes("metre")||["m2","m","m"].includes(n),[s,c]=k.useState(t.quantity.toString());k.useEffect(()=>{const m=a?parseFloat(s):parseInt(s,10);m!==t.quantity&&!(isNaN(m)&&t.quantity===0)&&c(t.quantity.toString())},[t.quantity,a]);const d=m=>{let p=m.target.value.replace(",",".");if(p===""||(a?/^\d*\.?\d*$/:/^\d*$/).test(p)){c(p);const b=a?parseFloat(p):parseInt(p,10);!isNaN(b)&&b>=0?e(b):p===""&&e(0)}},f=()=>{const m=a?parseFloat(s):parseInt(s,10);isNaN(m)||m<=0?r():(c(m.toString()),e(m))};return l.jsx("input",{type:"text",inputMode:a?"decimal":"numeric",className:"w-full text-center text-xl font-black leading-none bg-transparent outline-none focus:bg-white dark:focus:bg-slate-800 focus:ring-2 focus:ring-indigo-500 rounded-lg py-1 transition-all",value:s,onChange:d,onFocus:m=>m.target.select(),onBlur:f})},ene=({products:t,setProducts:e,vaults:r,contacts:n,onSale:a,cart:s,setCart:c,discount:d,setDiscount:f,onOpenDisplay:m,groups:p,firmProfile:g})=>{var ee;const[b,w]=k.useState(""),[_,E]=k.useState(((ee=r[0])==null?void 0:ee.id)||""),[S,R]=k.useState(""),[N,C]=k.useState("CASH"),[M,U]=k.useState(!1),[H,A]=k.useState("ALL"),[I,P]=k.useState(!1),[$,z]=k.useState(null),D=k.useMemo(()=>t.filter(L=>{const F=L.name.toLowerCase().includes(b.toLowerCase())||L.barcode===b,oe=H==="ALL"||L.groupId===H;return b.trim()!==""?F&&oe:L.isQuickSale&&oe}).sort((L,F)=>L.name.localeCompare(F.name,"tr-TR")),[t,b,H]),B=L=>{c(F=>F.find(K=>K.product.id===L.id)?F.map(K=>K.product.id===L.id?{...K,quantity:K.quantity+1}:K):[...F,{product:L,quantity:1}]),w("")},W=(L,F)=>{c(oe=>oe.map(K=>{if(K.product.id===L){const ge=Math.max(0,K.quantity+F);return{...K,quantity:ge}}return K}).filter(K=>K.quantity>0))},te=s.reduce((L,F)=>L+F.product.price*F.quantity,0),G=k.useMemo(()=>d.type==="PERCENT"?te*d.value/100:d.value,[te,d.value,d.type]),Q=Math.max(0,te-G),me=()=>{if(s.length===0)return;if(N==="CARI"&&!S){alert("Cari sat iin ltfen bir mteri seiniz.");return}const L=d.value>0?` (skonto: ${d.value}${d.type==="PERCENT"?"%":" TL"})`:"";a({type:"INCOME",amount:Q,vaultId:_,description:`${N==="CARI"?"Cari Sat":"Pein Sat"}: ${s.map(F=>`${F.product.name.toLocaleUpperCase("tr-TR")} x${F.quantity} ${F.product.unit}`).join(", ")}${L}`,contactId:S||void 0,isCredit:N==="CARI",isSale:!0,items:s.map(F=>({productId:F.product.id,quantity:F.quantity,price:F.product.price}))}),z({cart:[...s],subtotal:te,total:Q,discount:{...d},contactId:S,paymentType:N}),c([]),f({value:0,type:"PERCENT"}),U(!1)},de=L=>{const F=window.open("","_blank");if(!F){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}const oe=L.cart.map(le=>`
      <div class="tx-item">
        <div class="tx-desc">${le.product.name.toLocaleUpperCase("tr-TR")}</div>
        <div class="tx-details">
          <span>${le.quantity} ${le.product.unit} x ${le.product.price.toLocaleString("tr-TR")} TL</span>
          <span class="font-bold">${(le.quantity*le.product.price).toLocaleString("tr-TR")} TL</span>
        </div>
      </div>
    `).join(""),K=L.discount.type==="PERCENT"?L.subtotal*L.discount.value/100:L.discount.value;let ge="";K>0&&(ge=`
        <div class="flex-between mt-2" style="font-size: 10px;">
          <span>Ara Toplam:</span>
          <span>${L.subtotal.toLocaleString("tr-TR")} TL</span>
        </div>
        <div class="flex-between" style="font-size: 10px; color: #555;">
          <span>skonto:</span>
          <span>-${K.toLocaleString("tr-TR")} TL</span>
        </div>
      `);const Ne=n.find(le=>le.id===L.contactId),fe=Ne?`
      <div class="border-bottom">
        <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
        <div class="flex-between"><span>Mteri:</span><span class="font-bold">${Ne.name.toLocaleUpperCase("tr-TR")}</span></div>
      </div>
    `:`
      <div class="border-bottom">
        <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
        <div class="flex-between"><span>Mteri:</span><span class="font-bold">Genel Mteri</span></div>
      </div>
    `,$e=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Sat Fii</title>
        <style>
          @page { margin: 0; size: 80mm auto; }
          body {
            font-family: 'Courier New', Courier, monospace;
            color: #000;
            margin: 0;
            padding: 5mm;
            width: 80mm;
            box-sizing: border-box;
            font-size: 12px;
            line-height: 1.2;
          }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .font-bold { font-weight: bold; }
          .border-bottom { border-bottom: 1px dashed #000; margin-bottom: 5px; padding-bottom: 5px; }
          .flex-between { display: flex; justify-content: space-between; align-items: center; }
          .mt-2 { margin-top: 10px; }
          .mb-2 { margin-bottom: 10px; }
          .tx-item { margin-bottom: 5px; padding-bottom: 5px; border-bottom: 1px dotted #ccc; }
          .tx-desc { font-size: 11px; margin-bottom: 2px; word-wrap: break-word; }
          .tx-details { font-size: 10px; display: flex; justify-content: space-between; }
        </style>
      </head>
      <body>
        <div class="text-center border-bottom">
          <div class="font-bold" style="font-size: 16px; margin-bottom: 2px;">${(g==null?void 0:g.name)||"SATI F"}</div>
          <div style="font-size: 10px; letter-spacing: 1px;">SATI F</div>
        </div>
        
        ${fe}

        <div class="mb-2 font-bold text-center" style="font-size: 11px; margin-top: 8px;">SATI DETAYI</div>
        
        <div class="border-bottom">
          ${oe}
        </div>

        ${ge}

        <div class="mt-2 border-bottom">
          <div class="flex-between font-bold" style="font-size: 14px;">
            <span>TOPLAM:</span>
            <span>${L.total.toLocaleString("tr-TR")} TL</span>
          </div>
          <div class="text-right" style="font-size: 10px; margin-top: 2px;">(${L.paymentType==="CARI"?"Cari Hesaba Yazld":"Pein deme"})</div>
        </div>

        <div class="text-center mt-2" style="font-size: 10px; padding-top: 5px;">
          Bizi tercih ettiiniz iin<br>teekkr ederiz.
        </div>
        
        <script>
          window.onload = () => { setTimeout(() => { window.print(); window.close(); }, 500); }
        <\/script>
      </body>
      </html>
    `;F.document.write($e),F.document.close()};return l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8 h-[calc(100vh-12rem)] relative",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"rn ismi veya barkod okutun...",className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all text-sm sm:text-base shadow-sm",value:b,onChange:L=>w(L.target.value)})]}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-indigo-600 rounded-2xl hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm text-xs font-bold active:scale-95",children:[l.jsx(sI,{size:18})," Vitrin Ynetimi"]}),l.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-3 bg-amber-500 text-white rounded-2xl font-black shadow-lg shadow-amber-500/20 active:scale-95 transition-all text-xs",children:[l.jsx(nV,{size:18})," Mteri Ekran"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 hide-scrollbar",children:[l.jsx("button",{onClick:()=>A("ALL"),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${H==="ALL"?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:"Hepsi"}),p.map(L=>l.jsx("button",{onClick:()=>A(L.id),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${H===L.id?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400"}`,children:L.name},L.id))]}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-2 grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4 pb-24 lg:pb-0 custom-scrollbar content-start",children:D.length===0&&b===""?l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-400 gap-4 opacity-50",children:[l.jsx(Ll,{size:64}),l.jsxs("p",{className:"font-bold text-center text-sm",children:["Hzl sat vitrinine henz rn eklemediniz.",l.jsx("br",{}),l.jsx("span",{className:"font-normal text-xs mt-2 block",children:'"Vitrin Ynetimi" butonundan rn sabitleyebilir veya arama yaparak dier rnlere ulaabilirsiniz.'})]})]}):D.map(L=>l.jsxs("button",{onClick:()=>B(L),className:"aspect-square p-3 sm:p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-3xl text-center hover:border-indigo-500 hover:shadow-xl hover:shadow-indigo-500/10 transition-all flex flex-col items-center justify-center gap-1 sm:gap-2 shadow-sm group active:scale-95",children:[l.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-gray-400 group-hover:text-indigo-500 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/20 group-hover:scale-110 transition-all shrink-0",children:l.jsx(ja,{size:5,className:"w-5 h-5 sm:w-7 sm:h-7"})}),l.jsxs("div",{className:"flex flex-col items-center justify-center w-full min-h-0 mt-1",children:[l.jsx("h5",{className:"font-black text-[10px] sm:text-xs line-clamp-2 leading-tight text-slate-700 dark:text-slate-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors mb-1",children:L.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-black text-sm sm:text-base leading-none",children:L.price.toLocaleString("tr-TR")}),l.jsx("span",{className:"text-[9px] sm:text-[10px] font-black text-indigo-600/60 dark:text-indigo-400/60 leading-none",children:""})]}),l.jsxs("p",{className:"text-[8px] sm:text-[9px] text-gray-400 uppercase font-black tracking-widest mt-1.5 opacity-70",children:["Stok: ",L.stock]})]})]},L.id))})]}),l.jsx("div",{className:`
        fixed inset-0 lg:static z-50 lg:z-auto bg-black/40 lg:bg-transparent transition-all duration-300
        ${M?"opacity-100 visible":"opacity-0 invisible lg:opacity-100 lg:visible"}
        flex items-end lg:items-stretch
      `,children:l.jsxs("div",{className:"w-full lg:w-[400px] xl:w-[480px] 2xl:w-[550px] h-[100dvh] lg:h-auto bg-white dark:bg-slate-800 lg:rounded-[2.5rem] lg:border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl lg:shadow-sm overflow-hidden ml-auto animate-in slide-in-from-right lg:animate-none duration-300",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center shrink-0 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(ru,{size:28})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Sat Sepeti"}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[s.length," Kalem rn"]})]})]}),l.jsx("button",{onClick:()=>U(!1),className:"lg:hidden p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-500 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-6 bg-gray-50/50 dark:bg-slate-900/10 custom-scrollbar",children:s.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 gap-6 opacity-30 py-20",children:[l.jsx("div",{className:"w-32 h-32 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:l.jsx(ru,{size:64})}),l.jsx("p",{className:"text-xl font-black uppercase tracking-[0.2em]",children:"Sepetiniz bo"})]}):s.map(L=>l.jsxs("div",{className:"flex flex-col gap-4 p-5 bg-white dark:bg-slate-800 rounded-3xl group transition-all border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-indigo-200",children:[l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h6",{className:"text-base font-black text-slate-800 dark:text-slate-100 mb-1",children:L.product.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 italic",children:[l.jsx(ia,{size:12})," Barkod: ",L.product.barcode,l.jsx("span",{className:"opacity-30",children:"|"}),l.jsx(bn,{size:12})," Birim: ",L.product.unit]})]}),l.jsx("button",{onClick:()=>W(L.product.id,-L.quantity),className:"p-2 text-gray-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx(Vt,{size:18})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-slate-900 rounded-2xl p-1.5 border border-gray-100 dark:border-slate-800 shadow-inner",children:[l.jsx("button",{onClick:()=>W(L.product.id,-1),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors text-indigo-600 shadow-sm active:scale-90",children:l.jsx(tV,{size:16})}),l.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem]",children:[l.jsx(Jre,{item:L,onChange:F=>{c(oe=>oe.map(K=>K.product.id===L.product.id?{...K,quantity:F}:K))},onRemove:()=>{c(F=>F.filter(oe=>oe.product.id!==L.product.id))}}),l.jsx("span",{className:"text-[8px] font-black uppercase text-gray-400",children:L.product.unit})]}),l.jsx("button",{onClick:()=>W(L.product.id,1),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors text-indigo-600 shadow-sm active:scale-90",children:l.jsx(Er,{size:16})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Satr Toplam"}),l.jsxs("p",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:[(L.product.price*L.quantity).toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-xs font-bold opacity-50",children:""})]})]})]})]},L.product.id))}),l.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800 shrink-0 shadow-[0_-20px_50px_rgba(0,0,0,0.08)] relative z-20",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border border-gray-100 dark:border-slate-800 shrink-0",children:[l.jsx("button",{onClick:()=>C("CASH"),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${N==="CASH"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-400"}`,children:"Pein"}),l.jsx("button",{onClick:()=>C("CARI"),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${N==="CARI"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-400"}`,children:"Cari"})]}),N==="CASH"&&l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx("select",{className:"w-full h-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-[11px] font-black uppercase tracking-widest outline-none border border-transparent focus:border-indigo-500 transition-all appearance-none pr-10",value:_,onChange:L=>E(L.target.value),children:r.map(L=>l.jsxs("option",{value:L.id,children:[L.name," (",L.balance.toLocaleString("tr-TR")," )"]},L.id))}),l.jsx(Rn,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90 pointer-events-none"})]}),l.jsxs("div",{className:"relative flex-1 group",children:[l.jsxs("select",{className:`w-full h-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-[11px] font-black uppercase tracking-widest outline-none border transition-all appearance-none pr-10 ${N==="CARI"&&!S?"border-rose-300 dark:border-rose-900/50":"border-transparent focus:border-indigo-500"}`,value:S,onChange:L=>R(L.target.value),children:[l.jsx("option",{value:"",children:N==="CARI"?"Mteri Sein (Zorunlu)":"lgili Mteri (Opsiyonel)"}),n.filter(L=>L.type==="CUSTOMER").sort((L,F)=>L.name.localeCompare(F.name,"tr-TR")).map(L=>l.jsx("option",{value:L.id,children:L.name.toLocaleUpperCase("tr-TR")},L.id))]}),l.jsx(Rn,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90 pointer-events-none"})]})]}),l.jsxs("div",{className:"flex flex-col xl:flex-row items-stretch gap-2 xl:gap-3",children:[l.jsxs("div",{className:"flex-1 flex items-center bg-gray-50 dark:bg-slate-900 rounded-[1.5rem] border border-gray-100 dark:border-slate-800 p-1.5 min-w-[150px]",children:[l.jsx("input",{type:"number",placeholder:d.type==="PERCENT"?"% skonto Oran":" skonto Tutar",className:"w-full bg-transparent px-3 font-black outline-none text-sm xl:text-base text-slate-700 dark:text-slate-200 placeholder:text-gray-400",value:d.value||"",onChange:L=>f(F=>({...F,value:Number(L.target.value)}))}),l.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm shrink-0 border border-gray-100 dark:border-slate-700",children:[l.jsx("button",{onClick:()=>f(L=>({...L,type:"PERCENT"})),className:`p-2 rounded-lg transition-all ${d.type==="PERCENT"?"bg-indigo-600 text-white":"text-gray-400 hover:text-indigo-500"}`,children:l.jsx(dV,{size:16})}),l.jsx("button",{onClick:()=>f(L=>({...L,type:"AMOUNT"})),className:`p-2 rounded-lg transition-all ${d.type==="AMOUNT"?"bg-indigo-600 text-white":"text-gray-400 hover:text-indigo-500"}`,children:l.jsx(ia,{size:16})})]})]}),l.jsxs("div",{className:"flex-1 bg-indigo-600 text-white px-4 py-3 rounded-[1.5rem] shadow-xl shadow-indigo-600/30 flex flex-col justify-center items-end relative overflow-hidden group min-w-[160px]",children:[l.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 -rotate-12 transition-transform group-hover:scale-110 pointer-events-none",children:l.jsx(ru,{size:60})}),l.jsxs("div",{className:"relative z-10 w-full flex justify-between items-end gap-2",children:[l.jsxs("div",{className:"flex flex-col items-start opacity-80",children:[l.jsxs("span",{className:"text-[8px] xl:text-[9px] uppercase tracking-widest font-bold",children:["Ara Toplam: ",te.toLocaleString("tr-TR")," "]}),G>0&&l.jsxs("span",{className:"text-[8px] xl:text-[9px] uppercase tracking-widest font-bold text-emerald-300",children:["skonto: -",G.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-[9px] xl:text-[10px] font-black uppercase tracking-widest block opacity-90 mb-0.5",children:"Net denecek"}),l.jsxs("span",{className:"text-xl xl:text-2xl font-black italic tracking-tighter",children:[Q.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-sm xl:text-lg opacity-60",children:""})]})]})]})]}),l.jsxs("button",{disabled:s.length===0||N==="CARI"&&!S,onClick:me,className:"shrink-0 px-4 py-3 xl:px-6 bg-emerald-500 hover:bg-emerald-600 text-white rounded-[1.5rem] font-black shadow-xl shadow-emerald-500/30 disabled:opacity-40 disabled:grayscale active:scale-95 transition-all text-sm xl:text-base uppercase tracking-wider flex items-center justify-center gap-2",children:[l.jsx(ru,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Sat"})," Tamamla"]})]})]})})]})}),s.length>0&&!M&&l.jsx("div",{className:"fixed bottom-0 left-0 right-0 lg:hidden p-4 bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl border-t border-gray-200 dark:border-slate-800 z-40 animate-in slide-in-from-bottom duration-300 shadow-[0_-15px_40px_rgba(0,0,0,0.12)]",children:l.jsxs("button",{onClick:()=>U(!0),className:"w-full bg-indigo-600 text-white rounded-[2rem] p-5 flex items-center justify-between shadow-2xl shadow-indigo-600/30 active:scale-[0.98] transition-all",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(ru,{size:24})}),l.jsx("span",{className:"absolute -top-2 -right-2 bg-rose-500 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-indigo-600 shadow-lg",children:s.length})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"Sepet Toplam"}),l.jsxs("p",{className:"text-xl font-black italic",children:[Q.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 font-black uppercase text-xs tracking-[0.15em] italic",children:["demeye Ge",l.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(Rn,{size:18,className:"animate-pulse"})})]})]})}),$&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-emerald-100 dark:border-emerald-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(zl,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lem Baarl!"}),l.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"Sat ilemi baaryla kaydedildi. Fi yazdrmak ister misiniz?"})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>z(null),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:"Kapat"}),l.jsxs("button",{onClick:()=>{de($),z(null)},className:"flex-1 py-4 bg-emerald-500 text-white font-black rounded-2xl shadow-xl shadow-emerald-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2",children:[l.jsx(Vl,{size:16})," Yazdr"]})]})]})}),I&&l.jsx(tne,{products:t,setProducts:e,groups:p,onClose:()=>P(!1)})]})},tne=({products:t,setProducts:e,groups:r,onClose:n})=>{const[a,s]=k.useState(""),[c,d]=k.useState("ALL"),f=k.useMemo(()=>t.filter(g=>{const b=g.name.toLowerCase().includes(a.toLowerCase())||g.barcode.includes(a),w=c==="ALL"||g.groupId===c;return b&&w}).sort((g,b)=>g.name.localeCompare(b.name,"tr-TR")),[t,a,c]),m=g=>{e(b=>b.map(w=>w.id===g?{...w,isQuickSale:!w.isQuickSale}:w))},p=t.filter(g=>g.isQuickSale).length;return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-2xl rounded-[2.5rem] overflow-hidden flex flex-col h-[85vh] border border-gray-100 dark:border-slate-700 shadow-2xl",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50 shrink-0",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-indigo-600 italic",children:"Vitrin Ynetimi"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Hzl Sat Ekrannda Grnecek rnleri Sein"})]}),l.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsxs("div",{className:"p-6 sm:p-8 space-y-4 shrink-0 border-b border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500",size:18}),l.jsx("input",{type:"text",placeholder:"rn ad veya barkod...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:a,onChange:g=>s(g.target.value)})]}),l.jsxs("select",{className:"w-full sm:w-auto p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm appearance-none pr-8",value:c,onChange:g=>d(g.target.value),children:[l.jsx("option",{value:"ALL",children:"Tm Gruplar"}),r.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-[10px] font-black bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 px-3 py-1 rounded-lg uppercase tracking-widest",children:["u an ",p," rn vitrinde"]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2 custom-scrollbar",children:f.length===0?l.jsxs("div",{className:"py-12 text-center text-gray-400 italic font-bold opacity-50 flex flex-col items-center gap-3",children:[l.jsx(ja,{size:48}),"rn bulunamad."]}):f.map(g=>{var b;return l.jsxs("div",{onClick:()=>m(g.id),className:`p-4 rounded-2xl border-2 flex items-center justify-between transition-all cursor-pointer ${g.isQuickSale?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-500":"bg-white dark:bg-slate-900 border-gray-50 dark:border-slate-800 hover:border-indigo-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[l.jsx("div",{className:`transition-colors shrink-0 ${g.isQuickSale?"text-indigo-600":"text-gray-300 dark:text-slate-600"}`,children:g.isQuickSale?l.jsx(wu,{size:24}):l.jsx(Df,{size:24})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-black text-sm truncate",children:g.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 mt-0.5",children:[l.jsx(ia,{size:12})," ",g.price.toLocaleString("tr-TR")," "]})]})]}),l.jsx("div",{className:"text-[10px] font-black uppercase px-2 py-1 rounded bg-gray-100 dark:bg-slate-800 text-gray-500 shrink-0",children:((b=r.find(w=>w.id===g.groupId))==null?void 0:b.name)||"Genel"})]},g.id)})}),l.jsx("div",{className:"p-6 sm:p-8 bg-gray-50 dark:bg-slate-900/50 shrink-0",children:l.jsx("button",{onClick:n,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Tamam"})})]})})},x5={},Np={},Ep={},m1=({initialType:t,contacts:e,setContacts:r,onPayment:n,vaults:a,onSelectContact:s})=>{var H;const[c,d]=k.useState(t),[f,m]=k.useState(Ep[t]||""),[p,g]=k.useState(Np[t]||!1),[b,w]=k.useState(null),[_,E]=k.useState(null),[S,R]=k.useState(null);k.useEffect(()=>{d(t),m(Ep[t]||""),g(Np[t]||!1)},[t]),k.useEffect(()=>{Ep[c]=f},[f,c]),k.useEffect(()=>{Np[c]=p},[p,c]),k.useEffect(()=>{const A=document.querySelector("main > .overflow-y-auto");if(A){setTimeout(()=>{A&&(A.scrollTop=x5[c]||0)},10);const I=()=>{x5[c]=A.scrollTop};return A.addEventListener("scroll",I,{passive:!0}),()=>A.removeEventListener("scroll",I)}},[c]);const N=k.useMemo(()=>e.filter(A=>{const I=t==="ALL"?c==="ALL"||A.type===c:A.type===t,P=A.name.toLowerCase().includes(f.toLowerCase())||A.phone.includes(f),$=p?Math.abs(A.balance)>0:!0;return I&&P&&$}).sort((A,I)=>A.name.localeCompare(I.name,"tr-TR")),[e,c,t,f,p]),C=A=>{switch(A){case"CUSTOMER":return"Mteri";case"SUPPLIER":return"Tedariki";case"PERSONNEL":return"Personel";default:return"Cari"}},M=A=>{r(I=>I.filter(P=>P.id!==A)),R(null)},U=(A,I)=>{if(I)r(P=>P.map($=>$.id===I?{...$,name:A.name,phone:A.phone,phone2:A.phone2,address:A.address,type:A.type}:$));else{const P={name:A.name,phone:A.phone,phone2:A.phone2,address:A.address,type:A.type,id:"c"+Math.random().toString(36).substr(2,9),balance:0};r($=>[...$,P]),A.initialBalance&&Number(A.initialBalance)>0&&n({type:A.balanceType==="DEBT"?"INCOME":"EXPENSE",amount:Number(A.initialBalance),vaultId:"",description:"Balang / Devir Bakiyesi",contactId:P.id,isCredit:!0,isSale:!1,isStartingBalance:!0})}E(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex w-full sm:w-auto gap-2 flex-1",children:[l.jsxs("div",{className:"relative w-full sm:w-96 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:`${C(t==="ALL"?c:t)} ara...`,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 transition-all shadow-sm",value:f,onChange:A=>m(A.target.value)})]}),l.jsx("button",{onClick:()=>g(!p),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-2xl border transition-all shadow-sm shrink-0 ${p?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/40 dark:border-indigo-700/50":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-500 hover:text-indigo-600"}`,title:"Sadece Bakiyesi Olanlar Gster",children:l.jsx(C8,{size:20,className:p?"fill-indigo-200 dark:fill-indigo-800":""})})]}),l.jsxs("button",{onClick:()=>E({isOpen:!0}),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all shrink-0",children:[l.jsx(Er,{size:20}),"Yeni ",C(t==="ALL"?c:t)," Kayd"]})]}),t==="ALL"&&l.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:["ALL","CUSTOMER","SUPPLIER","PERSONNEL"].map(A=>l.jsx("button",{onClick:()=>{d(A),m(Ep[A]||""),g(Np[A]||!1)},className:`px-6 py-2 rounded-2xl text-xs font-bold whitespace-nowrap transition-all border-2 ${c===A?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-600/10":"bg-white dark:bg-slate-800 text-gray-500 border-gray-100 dark:border-slate-700 hover:border-indigo-200"}`,children:A==="ALL"?"TM KAYITLAR":A==="CUSTOMER"?"MTERLER":A==="SUPPLIER"?"TEDARKLER":"PERSONELLER"},A))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:N.map(A=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm flex flex-col gap-4 group hover:shadow-xl hover:shadow-indigo-500/5 transition-all cursor-pointer relative",onClick:()=>s(A.id),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 pr-2",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-indigo-600 transition-colors truncate",children:A.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:C(A.type)})]}),l.jsxs("div",{className:`text-lg font-black shrink-0 ${A.balance>0?"text-emerald-500":A.balance<0?"text-rose-500":"text-gray-400"}`,children:[Math.abs(A.balance).toLocaleString("tr-TR"),"",l.jsx("span",{className:"text-[10px] ml-1 opacity-60",children:A.balance>0?"(A)":A.balance<0?"(B)":""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 dark:bg-slate-900/50 px-3 py-1.5 rounded-xl w-fit",children:[l.jsx(vg,{size:14,className:"text-indigo-500"})," ",A.phone]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("button",{onClick:I=>{I.stopPropagation(),w(A)},className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-xl text-xs font-black hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:[l.jsx(Ya,{size:14})," lem Yap"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2.5 bg-gray-50 dark:bg-slate-700 text-gray-400 hover:text-indigo-600 rounded-xl transition-all",onClick:I=>{I.stopPropagation(),E({isOpen:!0,contact:A})},children:l.jsx(Lr,{size:16})}),l.jsx("button",{className:"p-2.5 bg-gray-50 dark:bg-slate-700 text-gray-400 hover:text-rose-500 rounded-xl transition-all",onClick:I=>{I.stopPropagation(),R(A)},children:l.jsx(Vt,{size:16})})]})]})]},A.id))}),N.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-4 opacity-50",children:[l.jsx(Ol,{size:64}),l.jsx("p",{className:"font-bold",children:"Eleen kayt bulunamad"})]}),b&&l.jsx(Zf,{contact:b,vaults:a,onClose:()=>w(null),onSave:A=>{n(A),w(null)}}),(_==null?void 0:_.isOpen)&&l.jsx(rne,{type:((H=_.contact)==null?void 0:H.type)||(t==="ALL"?c:t),isTypeLocked:t!=="ALL",contact:_.contact,onClose:()=>E(null),onSave:A=>{var I;return U(A,(I=_.contact)==null?void 0:I.id)}}),S&&l.jsx(nne,{name:S.name,onClose:()=>R(null),onConfirm:()=>M(S.id)})]})},rne=({type:t,isTypeLocked:e,contact:r,onClose:n,onSave:a})=>{const s=t==="ALL"?"CUSTOMER":t,[c,d]=k.useState({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phone)||"",phone2:(r==null?void 0:r.phone2)||"",address:(r==null?void 0:r.address)||"",type:(r==null?void 0:r.type)||s,initialBalance:"",balanceType:"DEBT"}),f=m=>{switch(m){case"CUSTOMER":return"Mteri";case"SUPPLIER":return"Tedariki";case"PERSONNEL":return"Personel";default:return"Cari"}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in fade-in zoom-in duration-200 overflow-hidden border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-xl font-black flex items-center gap-3 text-indigo-600",children:[r?l.jsx(Lr,{size:24}):l.jsx(s2,{size:24}),r?"Kayd Dzenle":`Yeni ${f(c.type)} Kayd`]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:l.jsx(Zt,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-8 space-y-5",children:[!e&&!r&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Kayt Tr"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",value:c.type,onChange:m=>d({...c,type:m.target.value}),children:[l.jsx("option",{value:"CUSTOMER",children:"Mteri"}),l.jsx("option",{value:"SUPPLIER",children:"Tedariki"}),l.jsx("option",{value:"PERSONNEL",children:"Personel"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"sim Soyisim / nvan *"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"rn: Mehmet z",value:c.name.toLocaleUpperCase("tr-TR"),onChange:m=>d({...c,name:m.target.value.toLocaleUpperCase("tr-TR")})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Telefon *"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"05...",value:c.phone,onChange:m=>d({...c,phone:m.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"2. Telefon"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"Opsiyonel",value:c.phone2,onChange:m=>d({...c,phone2:m.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Adres Bilgisi"}),l.jsx("textarea",{rows:2,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold resize-none",placeholder:"Mahalle, Sokak, No...",value:c.address,onChange:m=>d({...c,address:m.target.value})})]}),!r&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Balang Bakiyesi"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"0.00",value:c.initialBalance,onChange:m=>d({...c,initialBalance:m.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Bakiye Durumu"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold appearance-none",value:c.balanceType,onChange:m=>d({...c,balanceType:m.target.value}),children:[l.jsx("option",{value:"DEBT",children:"Bize Borlu (+)"}),l.jsx("option",{value:"CREDIT",children:"Bizden Alacakl (-)"})]})]})]})]}),l.jsxs("div",{className:"p-8 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:n,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>{if(!c.name||!c.phone)return alert("sim ve telefon zorunludur.");a(c)},className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest",children:r?"Gncellemeleri Kaydet":"Kayd Tamamla"})]})]})})},nne=({name:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl animate-in zoom-in duration-200 overflow-hidden border border-rose-100 dark:border-rose-900/20",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Kayd Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',t.toLocaleUpperCase("tr-TR"),'"']})," isimli kayd silmek istediinize emin misiniz? Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Hayr"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),Zf=({contact:t,vaults:e,onClose:r,onSave:n,initialData:a})=>{var C;const[s,c]=k.useState(!(a!=null&&a.isCredit)),[d,f]=k.useState((a==null?void 0:a.type)||(t.type==="CUSTOMER"?"INCOME":"EXPENSE")),[m,p]=k.useState((a==null?void 0:a.amount)||""),[g,b]=k.useState((a==null?void 0:a.vaultId)||((C=e[0])==null?void 0:C.id)||""),[w,_]=k.useState((a==null?void 0:a.description)||""),[E,S]=k.useState(a!=null&&a.date?a.date.split("T")[0]:new Date().toISOString().split("T")[0]),[R,N]=k.useState((a==null?void 0:a.isStartingBalance)||!1);return l.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-t-[2.5rem] sm:rounded-3xl overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-black text-indigo-600",children:a?"lemi Dzenle":"Hesap lemi"}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:t.name.toLocaleUpperCase("tr-TR")})]}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:l.jsx(Zt,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 p-1 rounded-2xl flex gap-1 mb-2",children:[l.jsx("button",{onClick:()=>{c(!0),N(!1)},className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${s?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:"deme / Tahsilat"}),l.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${s?"text-gray-400":"bg-white dark:bg-slate-800 text-amber-600 shadow-sm"}`,children:"Cari lem"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>f("INCOME"),className:`py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${d==="INCOME"?"bg-emerald-500 text-white border-emerald-500 shadow-lg shadow-emerald-500/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500"}`,children:s?"Tahsilat (+)":"Borlandr / Art"}),l.jsx("button",{onClick:()=>f("EXPENSE"),className:`py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${d==="EXPENSE"?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500"}`,children:s?"deme (-)":"Alacaklandr / Azal"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"lem Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:E,onChange:M=>S(M.target.value)})]}),s&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Kasa / Banka Seimi"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:g,onChange:M=>b(M.target.value),children:e.map(M=>l.jsxs("option",{value:M.id,children:[M.name," (",M.balance.toLocaleString("tr-TR")," )"]},M.id))})]})]}),!s&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/20 rounded-2xl flex items-center gap-3",children:[l.jsx(r2,{className:"text-amber-600 shrink-0",size:20}),l.jsx("p",{className:"text-[10px] font-bold text-amber-800 dark:text-amber-200 leading-tight",children:"Bu ilem kasay/bankay etkilemez, sadece cari bakiyeyi gnceller."})]}),l.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-500 cursor-pointer transition-all group",children:[l.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center transition-colors ${R?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-slate-700 text-transparent group-hover:bg-indigo-100"}`,children:l.jsx(r0,{size:14})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-black select-none block text-slate-800 dark:text-slate-100",children:"Balang / Devir Bakiyesi"}),l.jsx("span",{className:"text-[9px] font-bold text-gray-400 select-none block uppercase tracking-widest mt-0.5",children:"Gelir/Gider istatistiklerine yansmaz"})]}),l.jsx("input",{type:"checkbox",className:"hidden",checked:R,onChange:M=>N(M.target.checked)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"lem Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-2xl font-black outline-none border-2 border-transparent focus:border-indigo-500 transition-all text-center",value:m,onChange:M=>p(M.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1.5 ml-1 tracking-widest",children:"Aklama (Opsiyonel)"}),l.jsx("input",{placeholder:R?"Balang / Devir Bakiyesi":"lem detay...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl text-sm font-bold outline-none border-2 border-transparent focus:border-indigo-500 transition-all",value:w,onChange:M=>_(M.target.value)})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!m,onClick:()=>n({type:d,amount:Number(m),vaultId:s?g:"",contactId:t.id,description:w||(R?"Balang / Devir Bakiyesi":`${t.name.toLocaleUpperCase("tr-TR")} ${s?d==="INCOME"?"Tahsilat":"deme":"Cari lem"}`),isCredit:!s,isStartingBalance:!s&&R,date:E}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl text-xs font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all uppercase tracking-widest disabled:opacity-50",children:a?"Gncelle":"Onayla"})]})]})})},ane=({vaults:t,setVaults:e,transactions:r,onDeleteTransaction:n,onUpdateTransaction:a,contacts:s,onPayDebt:c,onSeeAllTransactions:d,onAddNewTransaction:f})=>{const[m,p]=k.useState(null),[g,b]=k.useState(!1),[w,_]=k.useState(!1),[E,S]=k.useState(!1),[R,N]=k.useState(!1),[C,M]=k.useState(null),[U,H]=k.useState(null),[A,I]=k.useState(null),[P,$]=k.useState(null),[z,D]=k.useState(null),[B,W]=k.useState({}),te=k.useMemo(()=>t.filter(K=>K.type==="CASH"),[t]),G=k.useMemo(()=>t.filter(K=>K.type==="BANK"&&K.isFixed),[t]),Q=k.useMemo(()=>t.filter(K=>K.type==="BANK"&&!K.isFixed),[t]),me=k.useMemo(()=>t.filter(K=>K.type==="POS"),[t]),de=k.useMemo(()=>t.filter(K=>K.type==="CREDIT_CARD"),[t]),ee=K=>{e(ge=>ge.filter(Ne=>Ne.id!==K)),M(null)},L=K=>{e(ge=>ge.map(Ne=>Ne.id===(m==null?void 0:m.id)?{...Ne,...K}:Ne)),p(null)},F=K=>{W(ge=>({...ge,[K]:!ge[K]}))},oe=K=>K?K.replace(/(.{4})/g,"$1 ").trim():"**** **** **** ****";return l.jsxs("div",{className:"relative space-y-10 pb-24",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 sm:gap-6",children:[...te,...G,...me].map(K=>l.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-5 rounded-[2rem] border border-gray-200 dark:border-slate-700 shadow-sm transition-all hover:shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${K.type==="CASH"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600":K.type==="POS"?"bg-purple-50 dark:bg-purple-900/20 text-purple-600":"bg-blue-50 dark:bg-blue-900/20 text-blue-600"} rounded-2xl flex items-center justify-center shrink-0`,children:K.type==="CASH"?l.jsx(uh,{size:20}):K.type==="POS"?l.jsx(zr,{size:20}):l.jsx(Ei,{size:20})}),l.jsx("h4",{className:"font-black text-sm sm:text-base leading-tight truncate",children:K.name})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>p(K),className:"p-1.5 sm:p-2 text-gray-300 hover:text-indigo-600 rounded-lg transition-all",children:l.jsx(Lr,{size:16})}),!K.isFixed&&l.jsx("button",{onClick:()=>M(K),className:"p-1.5 sm:p-2 text-gray-300 hover:text-rose-500 rounded-lg transition-all",children:l.jsx(Vt,{size:16})})]})]}),l.jsxs("p",{className:"text-2xl sm:text-3xl font-black tracking-tight mb-2 truncate",children:[K.balance.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-lg font-bold opacity-30",children:K.currency})]}),l.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest text-gray-400",children:K.type==="CASH"?"NAKT KASASI":K.type==="POS"?"POS CHAZI":"BANKA HESABI"})]},K.id))}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>S(!E),className:"flex items-center justify-between w-full px-6 py-4 bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-3xl transition-all shadow-sm hover:shadow-md cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zr,{className:"text-amber-500",size:24}),l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Kredi Kartlar"}),l.jsxs("span",{className:"px-3 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 rounded-full text-xs font-black",children:[de.length," Kart"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[E&&l.jsxs("button",{onClick:K=>{K.stopPropagation(),b(!0)},className:"flex items-center gap-1.5 px-4 py-2 bg-amber-500 text-white rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-lg shadow-amber-500/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(Er,{size:16})," Yeni Kart Ekle"]}),E?l.jsx(gj,{className:"text-gray-400"}):l.jsx(n0,{className:"text-gray-400"})]})]}),E&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-top-4 duration-300",children:de.length===0?l.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 dark:bg-slate-800/30 rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-slate-700 text-gray-400 italic font-bold",children:"Eklenmi kredi kart bulunmuyor."}):de.map(K=>{const ge=Math.abs(K.balance<0?K.balance:0),Ne=(K.limit||0)-ge,fe=K.limit?ge/K.limit*100:0,$e=B[K.id];return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col gap-4 relative group animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"absolute top-8 right-8 flex gap-1 z-30 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:le=>{le.stopPropagation(),p(K)},className:"p-1.5 bg-white/20 hover:bg-white/40 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Lr,{size:14})}),!K.isFixed&&l.jsx("button",{onClick:le=>{le.stopPropagation(),M(K)},className:"p-1.5 bg-white/20 hover:bg-rose-500/80 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Vt,{size:14})})]}),l.jsx("div",{className:"relative w-full h-48 perspective-[1000px] cursor-pointer shrink-0",onClick:()=>F(K.id),children:l.jsxs("div",{className:`w-full h-full relative transition-transform duration-700 [transform-style:preserve-3d] ${$e?"[transform:rotateY(180deg)]":""}`,children:[l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-br from-slate-800 via-slate-900 to-black text-white p-6 [backface-visibility:hidden] flex flex-col justify-between shadow-xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:l.jsx(zr,{size:80})}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("h4",{className:"font-black text-xl italic tracking-tight drop-shadow-md",children:K.name}),l.jsx("span",{className:"text-[9px] font-bold opacity-70 uppercase tracking-widest",children:"Kredi Kart"})]}),l.jsx("div",{className:"z-10 flex flex-col gap-2",children:l.jsx("div",{className:"w-10 h-8 bg-yellow-400/80 rounded-md flex items-center justify-center opacity-90 shadow-inner",children:l.jsx("div",{className:"w-6 h-4 border border-yellow-600 rounded-sm"})})}),l.jsx("div",{className:"flex justify-between items-end z-10 font-mono text-[10px] text-gray-300 uppercase drop-shadow-md mt-4",children:l.jsx("span",{children:K.name})})]}),l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-bl from-slate-700 to-slate-900 text-white [backface-visibility:hidden] [transform:rotateY(180deg)] shadow-xl border border-white/10 flex flex-col",children:[l.jsx("div",{className:"w-full h-10 bg-black/80 mt-6 shrink-0 shadow-inner"}),l.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60",children:"Kart Sahibi"}),l.jsx("span",{className:"text-[10px] sm:text-xs font-bold uppercase truncate max-w-[130px]",children:K.cardHolderName||K.name})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60 mb-1",children:"CVC"}),l.jsx("div",{className:"bg-white text-black font-mono text-xs px-2 py-0.5 rounded italic shadow-inner",children:K.cvc||"***"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[l.jsx("div",{className:"font-mono text-sm tracking-[0.2em] opacity-90 text-center",children:oe(K.cardNumber)}),l.jsxs("div",{className:"font-mono text-[10px] opacity-70",children:["SKT: ",K.expiryDate||"**/**"]})]})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-3 rounded-2xl text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Gncel Bor"}),l.jsxs("p",{className:"text-lg font-black text-rose-500",children:[ge.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-3 rounded-2xl text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Kalan Limit"}),l.jsxs("p",{className:"text-lg font-black text-emerald-500",children:[Ne.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"space-y-2 px-2",children:[l.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase",children:[l.jsx("span",{className:"text-slate-500",children:"Kullanm Oran"}),l.jsxs("span",{className:fe>90?"text-rose-500":"text-amber-500",children:["%",fe.toFixed(1)]})]}),l.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${fe>90?"bg-rose-500":"bg-amber-500"}`,style:{width:`${fe}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("button",{onClick:le=>{le.stopPropagation(),D(K)},className:"flex-1 py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-600 hover:text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:"Gemi"}),l.jsx("button",{onClick:le=>{le.stopPropagation(),$(K)},className:"flex-1 py-3 bg-amber-500 text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-md shadow-amber-500/20 active:scale-95 transition-all",children:"Bor de"})]})]},K.id)})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:()=>N(!R),className:"flex items-center justify-between w-full px-6 py-4 bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-3xl transition-all shadow-sm hover:shadow-md cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ei,{className:"text-blue-500",size:24}),l.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:"Banka Hesaplar"}),l.jsxs("span",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-full text-xs font-black",children:[Q.length," Hesap"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[R&&l.jsxs("button",{onClick:K=>{K.stopPropagation(),_(!0)},className:"flex items-center gap-1.5 px-4 py-2 bg-blue-500 text-white rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-lg shadow-blue-500/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(Er,{size:16})," Yeni Hesap Ekle"]}),R?l.jsx(gj,{className:"text-gray-400"}):l.jsx(n0,{className:"text-gray-400"})]})]}),R&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-top-4 duration-300",children:Q.length===0?l.jsx("div",{className:"col-span-full py-12 text-center bg-gray-50 dark:bg-slate-800/30 rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-slate-700 text-gray-400 italic font-bold",children:"Eklenmi banka hesab bulunmuyor."}):Q.map(K=>{const ge=B[K.id];return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col gap-4 relative group animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"absolute top-8 right-8 flex gap-1 z-30 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),p(K)},className:"p-1.5 bg-white/20 hover:bg-white/40 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Lr,{size:14})}),!K.isFixed&&l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),M(K)},className:"p-1.5 bg-white/20 hover:bg-rose-500/80 text-white rounded-lg transition-all backdrop-blur-md",children:l.jsx(Vt,{size:14})})]}),l.jsx("div",{className:"relative w-full h-48 perspective-[1000px] cursor-pointer shrink-0",onClick:()=>F(K.id),children:l.jsxs("div",{className:`w-full h-full relative transition-transform duration-700 [transform-style:preserve-3d] ${ge?"[transform:rotateY(180deg)]":""}`,children:[l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-br from-blue-700 via-blue-800 to-indigo-900 text-white p-6 [backface-visibility:hidden] flex flex-col justify-between shadow-xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 pointer-events-none",children:l.jsx(Ei,{size:80})}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("h4",{className:"font-black text-xl italic tracking-tight drop-shadow-md",children:K.name}),l.jsx("span",{className:"text-[9px] font-bold opacity-70 uppercase tracking-widest",children:"Banka Kart"})]}),l.jsx("div",{className:"z-10 flex flex-col gap-2",children:l.jsx("div",{className:"w-10 h-8 bg-gray-300/80 rounded-md flex items-center justify-center opacity-90 shadow-inner",children:l.jsx("div",{className:"w-6 h-4 border border-gray-400 rounded-sm"})})}),l.jsx("div",{className:"flex justify-between items-end z-10 font-mono text-[10px] text-blue-200 uppercase drop-shadow-md mt-4",children:l.jsx("span",{children:K.name})})]}),l.jsxs("div",{className:"absolute inset-0 rounded-[1.8rem] bg-gradient-to-bl from-blue-800 to-indigo-900 text-white [backface-visibility:hidden] [transform:rotateY(180deg)] shadow-xl border border-white/10 flex flex-col",children:[l.jsx("div",{className:"w-full h-10 bg-black/80 mt-6 shrink-0 shadow-inner"}),l.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60",children:"Kart Sahibi"}),l.jsx("span",{className:"text-[10px] sm:text-xs font-bold uppercase truncate max-w-[130px]",children:K.cardHolderName||K.name})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest opacity-60 mb-1",children:"CVC"}),l.jsx("div",{className:"bg-white text-black font-mono text-xs px-2 py-0.5 rounded italic shadow-inner",children:K.cvc||"***"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[l.jsx("div",{className:"font-mono text-sm tracking-[0.2em] opacity-90 text-center",children:oe(K.cardNumber)}),l.jsxs("div",{className:"font-mono text-[10px] opacity-70",children:["SKT: ",K.expiryDate||"**/**"]})]})]})]})]})}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-4 rounded-2xl mt-2 text-center border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1",children:"Gncel Bakiye"}),l.jsxs("p",{className:`text-2xl font-black ${K.balance>=0?"text-emerald-500":"text-rose-500"}`,children:[K.balance.toLocaleString("tr-TR")," "]})]}),l.jsx("div",{className:"flex items-center gap-2 mt-2",children:l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),D(K)},className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-600 hover:text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:"Gemii Gr"})})]},K.id)})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:[l.jsxs("div",{onClick:d,className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsx("h3",{className:"text-xl font-black tracking-tight uppercase italic text-indigo-600",children:"lem Gemii"}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-indigo-600 transition-colors",children:["Son Hareketler (Tmn Gr)",l.jsx(Rn,{size:14})]})]}),l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(aa,{size:48}),"Henz bir hareket bulunmuyor."]}):r.slice(0,5).map(K=>{const ge=t.find($e=>$e.id===K.vaultId),Ne=s.find($e=>$e.id===K.contactId),fe=Ne?Ne.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${K.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:K.type==="INCOME"?l.jsx(Po,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:fe}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:K.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(aa,{size:12,className:"opacity-60"})," ",new Date(K.date).toLocaleString("tr-TR"),l.jsx("span",{className:"opacity-30 mx-1",children:"|"}),(ge==null?void 0:ge.type)==="CREDIT_CARD"||(ge==null?void 0:ge.type)==="POS"?l.jsx(zr,{size:12,className:(ge==null?void 0:ge.type)==="POS"?"text-purple-500":"text-amber-500"}):l.jsx(Ya,{size:12}),ge==null?void 0:ge.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${K.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[K.type==="INCOME"?"+":"-",K.amount.toLocaleString("tr-TR")," "]}),l.jsxs("div",{className:"flex flex-col gap-1.5 shrink-0 ml-1",children:[l.jsx("button",{onClick:()=>I(K),className:"p-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 rounded-lg transition-all shadow-sm",title:"Dzenle",children:l.jsx(Lr,{size:14})}),l.jsx("button",{onClick:()=>H(K),className:"p-1.5 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40 rounded-lg transition-all shadow-sm",title:"Sil",children:l.jsx(Vt,{size:14})})]})]})]},K.id)})})]}),l.jsxs("button",{onClick:f,className:"fixed bottom-10 right-10 w-20 h-20 bg-indigo-600 text-white rounded-[2rem] shadow-2xl shadow-indigo-600/30 flex flex-col items-center justify-center gap-1 group hover:scale-110 active:scale-95 transition-all z-40",children:[l.jsx(Er,{size:32,className:"group-hover:rotate-90 transition-transform duration-300"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"lem"})]}),(g||m)&&l.jsx(y5,{vault:m||void 0,initialType:"CREDIT_CARD",onClose:()=>{b(!1),p(null)},onSave:K=>{m?L(K):(e(ge=>[...ge,{...K,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),b(!1))}}),w&&l.jsx(y5,{initialType:"BANK",onClose:()=>_(!1),onSave:K=>{e(ge=>[...ge,{...K,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),_(!1)}}),P&&l.jsx(ine,{card:P,vaults:t.filter(K=>K.type!=="CREDIT_CARD"),onClose:()=>$(null),onConfirm:(K,ge)=>{c(K,P.id,ge),$(null)}}),z&&l.jsx(sne,{vault:z,transactions:r,contacts:s,onClose:()=>D(null)}),C&&l.jsx(lne,{vault:C,onClose:()=>M(null),onConfirm:()=>ee(C.id)}),U&&l.jsx(one,{transaction:U,onClose:()=>H(null),onConfirm:()=>{n(U.id),H(null)}}),A&&l.jsx(Zf,{contact:s.find(K=>K.id===A.contactId)||{id:"",name:"Genel lem",phone:"",type:"CUSTOMER",balance:0},vaults:t,onClose:()=>I(null),initialData:A,onSave:K=>{a(A.id,K),I(null)}})]})},y5=({onClose:t,onSave:e,vault:r,initialType:n})=>{const[a,s]=k.useState((r==null?void 0:r.name)||""),[c,d]=k.useState((r==null?void 0:r.type)||n||"CASH"),[f,m]=k.useState((r==null?void 0:r.limit)||""),[p,g]=k.useState((r==null?void 0:r.cardHolderName)||""),[b,w]=k.useState((r==null?void 0:r.cardNumber)||""),[_,E]=k.useState((r==null?void 0:r.expiryDate)||""),[S,R]=k.useState((r==null?void 0:r.cvc)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] overflow-y-auto custom-scrollbar max-h-[90vh] p-6 sm:p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Hesab Dzenle":"Yeni Hesap/Kart"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Hesap Tr"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{id:"CASH",label:"Nakit",icon:uh},{id:"BANK",label:"Banka",icon:Ei},{id:"POS",label:"POS",icon:zr},{id:"CREDIT_CARD",label:"K. Kart",icon:zr}].map(N=>l.jsxs("button",{disabled:!!r,onClick:()=>d(N.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${c===N.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-gray-50 dark:bg-slate-900 border-transparent text-gray-400"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(N.icon,{size:18}),l.jsx("span",{className:"text-[9px] font-bold uppercase",children:N.label})]},N.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"sim / Aklama"}),l.jsx("input",{placeholder:"rn: Nakit Kasa, Akbank...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:a,onChange:N=>s(N.target.value),autoFocus:!0})]}),c==="CREDIT_CARD"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Limiti ()"}),l.jsx("input",{type:"number",placeholder:"20000",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600",value:f,onChange:N=>m(N.target.value)})]}),(c==="CREDIT_CARD"||c==="BANK")&&l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Sahibi Ad Soyad"}),l.jsx("input",{type:"text",placeholder:"rn: MEHMET Z",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200 uppercase",value:p,onChange:N=>g(N.target.value.toLocaleUpperCase("tr-TR"))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Numaras"}),l.jsx("input",{type:"text",placeholder:"**** **** **** ****",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:b,onChange:N=>w(N.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Son Kullanma (AA/YY)"}),l.jsx("input",{type:"text",placeholder:"12/25",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:_,onChange:N=>E(N.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"CVC"}),l.jsx("input",{type:"text",placeholder:"***",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-slate-700 dark:text-slate-200",value:S,onChange:N=>R(N.target.value),maxLength:4})]})]})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!a.trim(),onClick:()=>e({name:a,type:c,limit:c==="CREDIT_CARD"?Number(f):void 0,cardHolderName:c==="CREDIT_CARD"||c==="BANK"?p.trim():void 0,cardNumber:c==="CREDIT_CARD"||c==="BANK"?b:void 0,expiryDate:c==="CREDIT_CARD"||c==="BANK"?_:void 0,cvc:c==="CREDIT_CARD"||c==="BANK"?S:void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},ine=({card:t,vaults:e,onClose:r,onConfirm:n})=>{var f;const[a,s]=k.useState(((f=e[0])==null?void 0:f.id)||""),[c,d]=k.useState(Math.abs(t.balance));return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-amber-600 mb-6 italic",children:"Bor deme"}),l.jsxs("p",{className:"text-xs font-bold text-gray-400 mb-6",children:[t.name," kart iin deme yapyorsunuz."]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"deme Yaplacak Kaynak"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:m=>s(m.target.value),children:e.map(m=>l.jsxs("option",{value:m.id,children:[m.name," (",m.balance.toLocaleString("tr-TR")," )"]},m.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"deme Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-emerald-600 text-2xl text-center",value:c,onChange:m=>d(m.target.value)})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"Vazge"}),l.jsx("button",{disabled:!c||Number(c)<=0,onClick:()=>n(a,Number(c)),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},sne=({vault:t,transactions:e,contacts:r,onClose:n})=>{const a=k.useMemo(()=>e.filter(s=>s.vaultId===t.id).sort((s,c)=>new Date(c.date).getTime()-new Date(s.date).getTime()),[e,t.id]);return l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] shadow-2xl flex flex-col max-h-[80vh] overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-indigo-600",children:t.name}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"lem Gemii"})]}),l.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors bg-white dark:bg-slate-800 rounded-full shadow-sm",children:l.jsx(Zt,{size:20})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar",children:a.length===0?l.jsxs("div",{className:"p-12 text-center text-gray-400 opacity-50 flex flex-col items-center gap-4",children:[l.jsx(aa,{size:48}),l.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"lem bulunamad"})]}):l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map(s=>{const c=r.find(f=>f.id===s.contactId),d=c?c.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${s.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:s.type==="INCOME"?l.jsx(Po,{size:20}):l.jsx(Mo,{size:20})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm leading-tight text-slate-800 dark:text-slate-200",children:d}),l.jsx("p",{className:"text-[10px] font-medium text-gray-500 mt-0.5",children:s.description}),l.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(aa,{size:10,className:"opacity-60"})," ",new Date(s.date).toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:`font-black text-sm shrink-0 ${s.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[s.type==="INCOME"?"+":"-",s.amount.toLocaleString("tr-TR")," "]})]},s.id)})})})]})})},one=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(Vt,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),lne=({vault:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Hesab Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:['"',t.name,'" hesab silinecektir.']})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl text-xs uppercase",children:"Evet, Sil"})]})]})}),cne=({transactions:t,vaults:e,onBack:r,onDeleteTransaction:n,onUpdateTransaction:a,contacts:s})=>{const[c,d]=k.useState(""),[f,m]=k.useState("ALL"),[p,g]=k.useState(""),[b,w]=k.useState(null),[_,E]=k.useState(null),S=k.useMemo(()=>t.filter(N=>{const C=N.description.toLowerCase().includes(c.toLowerCase()),M=f==="ALL"||N.type===f,U=!p||N.date.startsWith(p);return C&&M&&U}),[t,c,f,p]),R=k.useMemo(()=>{const N=S.filter(M=>M.type==="INCOME"&&!M.isStartingBalance&&!M.isCredit).reduce((M,U)=>M+U.amount,0),C=S.filter(M=>M.type==="EXPENSE"&&!M.isStartingBalance&&!M.isCredit).reduce((M,U)=>M+U.amount,0);return{income:N,expense:C,net:N-C}},[S]);return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-2.5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Tm lemler"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Gelimi Filtreleme"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(fu,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Gelir"}),l.jsxs("p",{className:"text-xl font-black text-emerald-500",children:[R.income.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Ef,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Gider"}),l.jsxs("p",{className:"text-xl font-black text-rose-500",children:[R.expense.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Q9,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Filtrelenen Net"}),l.jsxs("p",{className:"text-xl font-black text-indigo-600",children:[R.net.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"lem aklamas ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:c,onChange:N=>d(N.target.value)})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(aa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"date",className:"pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:p,onChange:N=>g(N.target.value)})]}),l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent",children:["ALL","INCOME","EXPENSE"].map(N=>l.jsx("button",{onClick:()=>m(N),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f===N?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:N==="ALL"?"Tm":N==="INCOME"?"Gelir":"Gider"},N))})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:S.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(Zt,{size:48}),"Filtrelere uygun ilem bulunamad."]}):S.map(N=>{const C=e.find(H=>H.id===N.vaultId),M=s.find(H=>H.id===N.contactId),U=M?M.name.toLocaleUpperCase("tr-TR"):"Genel lem";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${N.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:N.type==="INCOME"?l.jsx(Po,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:U}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:N.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(aa,{size:12,className:"opacity-60"})," ",new Date(N.date).toLocaleString("tr-TR"),l.jsx("span",{className:"opacity-30 mx-1",children:"|"}),(C==null?void 0:C.type)==="CREDIT_CARD"?l.jsx(zr,{size:12,className:"text-amber-500"}):l.jsx(Ya,{size:12}),C==null?void 0:C.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${N.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[N.type==="INCOME"?"+":"-",N.amount.toLocaleString("tr-TR")," "]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>w(N),className:"p-2 text-gray-300 hover:text-indigo-500 rounded-lg transition-all",children:l.jsx(Lr,{size:16})}),l.jsx("button",{onClick:()=>E(N),className:"p-2 text-gray-300 hover:text-rose-500 rounded-lg transition-all",children:l.jsx(Vt,{size:16})})]})]})]},N.id)})})}),b&&l.jsx(Zf,{contact:s.find(N=>N.id===b.contactId)||{id:"",name:"Genel lem",phone:"",type:"CUSTOMER",balance:0},vaults:e,onClose:()=>w(null),initialData:b,onSave:N=>{a(b.id,N),w(null)}}),_&&l.jsx(une,{transaction:_,onClose:()=>E(null),onConfirm:()=>{n(_.id),E(null)}})]})},une=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(Vt,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),dne=({vaults:t,contacts:e,onBack:r,onSave:n})=>{var me,de,ee,L;const[a,s]=k.useState("INCOME"),[c,d]=k.useState(!1),[f,m]=k.useState(""),[p,g]=k.useState(((me=t[0])==null?void 0:me.id)||""),[b,w]=k.useState(((de=t[1])==null?void 0:de.id)||""),[_,E]=k.useState(""),[S,R]=k.useState(""),[N,C]=k.useState(""),[M,U]=k.useState(!1),[H,A]=k.useState(new Date().toISOString().split("T")[0]),[I,P]=k.useState(null),[$,z]=k.useState(""),D=k.useMemo(()=>{const F=t.map(fe=>({id:fe.id,name:fe.name,balance:fe.balance,type:"VAULT",subType:"VAULT"})),oe=e.filter(fe=>fe.type==="PERSONNEL").map(fe=>({id:fe.id,name:fe.name,balance:fe.balance,type:"CONTACT",subType:"PERSONNEL"})),K=e.filter(fe=>fe.type==="SUPPLIER").map(fe=>({id:fe.id,name:fe.name,balance:fe.balance,type:"CONTACT",subType:"SUPPLIER"})),ge=e.filter(fe=>fe.type==="CUSTOMER").map(fe=>({id:fe.id,name:fe.name,balance:fe.balance,type:"CONTACT",subType:"CUSTOMER"})),Ne=fe=>fe.filter($e=>$e.name.toLowerCase().includes($.toLowerCase())).sort(($e,le)=>$e.name.localeCompare(le.name,"tr-TR"));return[{label:"KASALAR",items:Ne(F)},{label:"PERSONELLER",items:Ne(oe)},{label:"TEDARKLER",items:Ne(K)},{label:"MTERLER",items:Ne(ge)}]},[t,e,$]),B=k.useMemo(()=>D.flatMap(F=>F.items),[D]),W=k.useMemo(()=>e.filter(F=>F.name.toLowerCase().includes(N.toLowerCase())||F.phone.includes(N)).sort((F,oe)=>F.name.localeCompare(oe.name,"tr-TR")),[e,N]),te=k.useMemo(()=>e.find(F=>F.id===S),[e,S]),G=F=>F?F.type==="VAULT"?l.jsx(Ya,{size:18,className:"text-indigo-500"}):F.subType==="CUSTOMER"?l.jsx(Bl,{size:18,className:"text-emerald-500"}):F.subType==="SUPPLIER"?l.jsx(i2,{size:18,className:"text-rose-500"}):l.jsx(lI,{size:18,className:"text-amber-500"}):l.jsx(Ya,{size:18,className:"text-gray-400"}),Q=()=>{if(!f||Number(f)<=0)return alert("Ltfen geerli bir tutar giriniz.");if(a==="TRANSFER"){if(!p||!b)return alert("Ltfen kaynak ve hedef hesaplar seiniz.");if(p===b)return alert("Kaynak ve hedef hesap ayn olamaz.");const F=B.find(K=>K.id===p),oe=B.find(K=>K.id===b);n({type:"EXPENSE",amount:Number(f),vaultId:(F==null?void 0:F.type)==="VAULT"?F.id:"",contactId:(F==null?void 0:F.type)==="CONTACT"?F.id:void 0,description:_.trim()||`Transfer (k): ${oe==null?void 0:oe.name}`,isCredit:(F==null?void 0:F.type)==="CONTACT",isSale:!1,date:H},b)}else{if(!c&&!p)return alert("Ltfen bir kasa/banka seiniz.");const F=_.trim()||`${te?te.name.toLocaleUpperCase("tr-TR"):"Genel"} ${c?"Cari lem":a==="INCOME"?"Gelir":"Gider"}`;n({type:a,amount:Number(f),vaultId:c?"":p,description:F,contactId:S||void 0,isCredit:c,isSale:!1,date:H})}};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Yeni lem Kayd"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Kasa, Cari & Transfer Girii"})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[a!=="TRANSFER"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Modu"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-1.5 rounded-[1.8rem] flex gap-2 border border-gray-100 dark:border-slate-800 shadow-inner",children:[l.jsx("button",{onClick:()=>d(!1),className:`flex-1 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${c?"text-gray-400":"bg-white dark:bg-slate-800 text-indigo-600 shadow-md"}`,children:"Kasa Giri/k"}),l.jsx("button",{onClick:()=>d(!0),className:`flex-1 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${c?"bg-white dark:bg-slate-800 text-amber-600 shadow-md":"text-gray-400"}`,children:"Cari lem"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("button",{onClick:()=>{s("INCOME"),d(!1)},className:`flex flex-col items-center gap-3 p-4 rounded-[1.8rem] border-2 transition-all group ${a==="INCOME"?"bg-emerald-500 border-emerald-500 text-white shadow-xl shadow-emerald-500/20":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-emerald-200"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a==="INCOME"?"bg-white/20":"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 group-hover:scale-110 transition-transform"}`,children:l.jsx(Po,{size:24})}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-center",children:c?"Borlandr":"Gelir"})]}),l.jsxs("button",{onClick:()=>{s("EXPENSE"),d(!1)},className:`flex flex-col items-center gap-3 p-4 rounded-[1.8rem] border-2 transition-all group ${a==="EXPENSE"?"bg-rose-500 border-rose-500 text-white shadow-xl shadow-rose-500/20":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-rose-200"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a==="EXPENSE"?"bg-white/20":"bg-rose-50 dark:bg-rose-900/20 text-rose-500 group-hover:scale-110 transition-transform"}`,children:l.jsx(Mo,{size:24})}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-center",children:c?"Alacaklandr":"Gider"})]}),l.jsxs("button",{onClick:()=>{s("TRANSFER"),d(!1)},className:`flex flex-col items-center gap-3 p-4 rounded-[1.8rem] border-2 transition-all group ${a==="TRANSFER"?"bg-indigo-600 border-indigo-600 text-white shadow-xl shadow-indigo-600/20":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-indigo-200"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a==="TRANSFER"?"bg-white/20":"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 group-hover:scale-110 transition-transform"}`,children:l.jsx(Ul,{size:24})}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-center",children:"Transfer"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:H,onChange:F=>A(F.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Tutar ()"}),l.jsx("input",{type:"number",placeholder:"0.00",className:`w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-black text-2xl transition-all text-center ${a==="INCOME"?"text-emerald-500":a==="EXPENSE"?"text-rose-500":"text-indigo-600"}`,value:f,onChange:F=>m(F.target.value),autoFocus:!0})]})]}),a==="TRANSFER"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Kaynak Hesap (k)"}),l.jsxs("div",{onClick:()=>{P("SOURCE"),z("")},className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-rose-500 cursor-pointer flex items-center justify-between transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[G(B.find(F=>F.id===p)),l.jsx("span",{className:`font-bold text-sm truncate max-w-[150px] ${p?"text-rose-600":"text-gray-400"}`,children:p?(ee=B.find(F=>F.id===p))==null?void 0:ee.name:"Kaynak Sein..."})]}),l.jsx(n0,{size:16,className:"text-gray-300"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Hedef Hesap (Giri)"}),l.jsxs("div",{onClick:()=>{P("TARGET"),z("")},className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-emerald-500 cursor-pointer flex items-center justify-between transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[G(B.find(F=>F.id===b)),l.jsx("span",{className:`font-bold text-sm truncate max-w-[150px] ${b?"text-emerald-600":"text-gray-400"}`,children:b?(L=B.find(F=>F.id===b))==null?void 0:L.name:"Hedef Sein..."})]}),l.jsx(n0,{size:16,className:"text-gray-300"})]})]})]}):l.jsxs(l.Fragment,{children:[!c&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Kasa / Banka"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ya,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm appearance-none",value:p,onChange:F=>g(F.target.value),children:t.map(F=>l.jsxs("option",{value:F.id,children:[F.name," (",F.balance.toLocaleString("tr-TR")," )"]},F.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lgili Kii / Hesap (Opsiyonel)"}),l.jsxs("div",{onClick:()=>U(!0),className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-200 cursor-pointer flex items-center justify-between transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ol,{size:20,className:"text-gray-400"}),l.jsx("span",{className:`font-bold text-sm ${te?"text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:te?`${te.name.toLocaleUpperCase("tr-TR")} (${te.balance.toLocaleString("tr-TR")} )`:"Bir kii sein..."})]}),te?l.jsx("button",{onClick:F=>{F.stopPropagation(),R("")},className:"p-1.5 bg-gray-200 dark:bg-slate-800 rounded-lg text-gray-500 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:14})}):l.jsx(r2,{size:16,className:"text-gray-300"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"lem Aklamas"}),l.jsx("textarea",{rows:2,placeholder:"lem detaylarn buraya yazn...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm resize-none transition-all",value:_,onChange:F=>E(F.target.value)})]}),l.jsxs("button",{onClick:Q,disabled:!f||Number(f)<=0,className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-2xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-lg uppercase tracking-widest disabled:opacity-50",children:[l.jsx(zu,{size:24})," Kayd Tamamla"]})]})}),I&&l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[110] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] overflow-hidden flex flex-col max-h-[85vh] border border-gray-100 dark:border-slate-700 shadow-2xl",children:[l.jsxs("div",{className:`p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center ${I==="SOURCE"?"bg-rose-50 dark:bg-rose-900/10":"bg-emerald-50 dark:bg-emerald-900/10"}`,children:[l.jsx("h3",{className:`text-xl font-black italic ${I==="SOURCE"?"text-rose-600":"text-emerald-600"}`,children:I==="SOURCE"?"Kaynak Hesap Sein":"Hedef Hesap Sein"}),l.jsx("button",{onClick:()=>P(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"relative group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500",size:18}),l.jsx("input",{type:"text",placeholder:"sim ile ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:$,onChange:F=>z(F.target.value),autoFocus:!0})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-6 custom-scrollbar space-y-6",children:[D.map(F=>F.items.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-[10px] font-black text-gray-400 tracking-[0.2em] mb-3 ml-1 border-b border-gray-100 dark:border-slate-700 pb-1",children:F.label}),l.jsx("div",{className:"space-y-2",children:F.items.map(oe=>l.jsxs("div",{onClick:()=>{I==="SOURCE"?g(oe.id):w(oe.id),P(null)},className:`p-4 rounded-2xl border-2 flex items-center justify-between transition-all cursor-pointer ${(I==="SOURCE"?p:b)===oe.id?I==="SOURCE"?"bg-rose-50 dark:bg-rose-900/20 border-rose-500":"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500":"bg-white dark:bg-slate-900 border-gray-50 dark:border-slate-800 hover:border-indigo-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[G(oe),l.jsx("div",{children:l.jsx("p",{className:"font-black text-sm",children:oe.name.toLocaleUpperCase("tr-TR")})})]}),l.jsxs("div",{className:`font-black text-xs ${oe.balance>0?"text-emerald-500":oe.balance<0?"text-rose-500":"text-gray-300"}`,children:[oe.balance.toLocaleString("tr-TR")," "]})]},oe.id))})]},F.label)),B.length===0&&l.jsx("div",{className:"py-12 text-center text-gray-400 italic font-bold opacity-50",children:"Eleen kayt bulunamad."})]})]})}),M&&l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] overflow-hidden flex flex-col max-h-[80vh] border border-gray-100 dark:border-slate-700 shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsx("h3",{className:"text-xl font-black text-indigo-600 italic",children:"Kii / Hesap Sein"}),l.jsx("button",{onClick:()=>U(!1),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"relative group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500",size:18}),l.jsx("input",{type:"text",placeholder:"sim veya telefon ile ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",value:N,onChange:F=>C(F.target.value),autoFocus:!0})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 space-y-2 custom-scrollbar",children:W.length===0?l.jsx("div",{className:"py-12 text-center text-gray-400 italic font-bold opacity-50",children:"Eleen kayt bulunamad."}):W.map(F=>l.jsxs("div",{onClick:()=>{R(F.id),U(!1)},className:`p-4 rounded-2xl border-2 flex items-center justify-between transition-all cursor-pointer ${S===F.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500":"bg-white dark:bg-slate-900 border-gray-50 dark:border-slate-800 hover:border-indigo-200"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-sm",children:F.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:F.phone})]}),l.jsxs("div",{className:"text-right flex items-center gap-3",children:[l.jsx("div",{className:"text-[10px] font-black uppercase text-gray-400 mr-1",children:F.type==="CUSTOMER"?"Mteri":F.type==="SUPPLIER"?"Tedariki":"Personel"}),l.jsxs("div",{className:`font-black text-sm ${F.balance>0?"text-emerald-500":F.balance<0?"text-rose-500":"text-gray-300"}`,children:[F.balance.toLocaleString("tr-TR")," "]}),S===F.id&&l.jsx(r0,{size:18,className:"text-indigo-500"})]})]},F.id))})]})})]})};let b5="",v5="ALL",w5=0;const k5=({products:t,onSelectProduct:e,onAddProduct:r,groups:n,setProductGroups:a,setProducts:s})=>{const[c,d]=k.useState(b5),[f,m]=k.useState(v5),[p,g]=k.useState(!1),[b,w]=k.useState(!1),[_,E]=k.useState(null);k.useEffect(()=>{b5=c},[c]),k.useEffect(()=>{v5=f},[f]),k.useEffect(()=>{const C=document.querySelector("main > .overflow-y-auto");if(C){const M=setTimeout(()=>{C&&(C.scrollTop=w5)},50),U=()=>{w5=C.scrollTop};return C.addEventListener("scroll",U,{passive:!0}),()=>{C.removeEventListener("scroll",U),clearTimeout(M)}}},[]);const S=k.useMemo(()=>t.filter(C=>{const M=C.name.toLowerCase().includes(c.toLowerCase())||C.barcode.includes(c),U=f==="ALL"||C.groupId===f;return M&&U}).sort((C,M)=>C.name.localeCompare(M.name,"tr-TR")),[t,c,f]),R=k.useMemo(()=>{var A;const C=f==="ALL"?t:t.filter(I=>I.groupId===f);let M=C.length,U=C.reduce((I,P)=>I+Math.max(0,P.stock),0);const H=f==="ALL"?"Tm rnler":((A=n.find(I=>I.id===f))==null?void 0:A.name)||"Genel";return{varieties:M,stock:U,name:H}},[t,f,n]),N=()=>{_&&(s(C=>C.filter(M=>M.id!==_.id)),E(null))};return l.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative w-full sm:w-96 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"rn ad veya barkod ara...",className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm transition-all",value:c,onChange:C=>d(C.target.value)})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/10 rounded-2xl font-bold shadow-sm active:scale-95 transition-all text-xs",title:"Toplu Fiyat Gncelle",children:[l.jsx(fu,{size:20}),l.jsx("span",{className:"hidden lg:inline",children:"Fiyat Gncelle"})]}),l.jsx("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-500 hover:text-indigo-600 rounded-2xl font-bold shadow-sm active:scale-95 transition-all text-xs",title:"Gruplar Ynet",children:l.jsx(sI,{size:20})}),l.jsxs("button",{onClick:r,className:"flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(Er,{size:20})," Yeni rn Ekle"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2 hide-scrollbar",children:[l.jsxs("button",{onClick:()=>m("ALL"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${f==="ALL"?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-indigo-200"}`,children:[l.jsx(Ll,{size:16})," Hepsi"]}),n.map(C=>l.jsx("button",{onClick:()=>m(C.id),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all border-2 whitespace-nowrap ${f===C.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-400 hover:border-indigo-200"}`,children:C.name},C.id))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between bg-white dark:bg-slate-800 p-4 sm:px-6 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-lg flex items-center justify-center shrink-0",children:l.jsx(Ll,{size:16})}),l.jsx("h3",{className:"font-black text-sm uppercase tracking-widest text-slate-700 dark:text-slate-200",children:R.name})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-[10px] sm:text-xs font-black uppercase tracking-widest bg-gray-50 dark:bg-slate-900 px-3 sm:px-4 py-2 rounded-xl border border-gray-100 dark:border-slate-800 self-start sm:self-auto",children:[l.jsxs("span",{className:"text-indigo-500",children:[R.varieties," eit"]}),l.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),l.jsxs("span",{className:"text-emerald-500",children:[R.stock.toLocaleString("tr-TR")," Stok"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S.map(C=>{var M;return l.jsxs("div",{onClick:()=>e(C.id),className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-xl transition-all cursor-pointer group relative overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(ja,{size:24})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:((M=n.find(U=>U.id===C.groupId))==null?void 0:M.name)||"Genel"}),l.jsxs("p",{className:"text-sm font-black text-indigo-600 mt-1",children:[C.price.toLocaleString("tr-TR")," "]})]})]}),l.jsx("h4",{className:"font-black text-lg group-hover:text-indigo-600 transition-colors truncate mb-2",children:C.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pf,{size:14,className:"text-gray-400"}),l.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[C.stock," ",C.unit]})]}),l.jsx(Rn,{size:16,className:"text-gray-300 group-hover:text-indigo-500 transition-all"})]})]},C.id)})}),S.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-4 opacity-50",children:[l.jsx(ja,{size:64}),l.jsx("p",{className:"font-bold text-sm text-center",children:"Aranan kriterlere uygun rn bulunamad."})]}),p&&l.jsx(fne,{groups:n,setGroups:a,onClose:()=>g(!1)}),b&&l.jsx(hne,{products:t,setProducts:s,groups:n,onClose:()=>w(!1)}),_&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[110] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"rn Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',_.name.toLocaleUpperCase("tr-TR"),'"']})," isimli rn kalc olarak silmek istediinize emin misiniz?"]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>E(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:N,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},fne=({groups:t,setGroups:e,onClose:r})=>{const[n,a]=k.useState(""),s=()=>{n.trim()&&(e(d=>[...d,{id:"g"+Math.random().toString(36).substr(2,9),name:n.trim()}]),a(""))},c=d=>{window.confirm("Bu grubu silmek istediinize emin misiniz?")&&e(f=>f.filter(m=>m.id!==d))};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] overflow-hidden flex flex-col h-[70vh] border border-gray-100 dark:border-slate-700 shadow-2xl animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsx("h3",{className:"text-xl font-black text-indigo-600 italic",children:"Gruplar Ynet"}),l.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{className:"flex-1 p-3 bg-gray-50 dark:bg-slate-900 rounded-xl outline-none font-bold border-2 border-transparent focus:border-indigo-500 transition-all text-sm",placeholder:"Yeni grup ad...",value:n,onChange:d=>a(d.target.value)}),l.jsx("button",{onClick:s,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-black shadow-lg active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Ekle"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2 custom-scrollbar",children:t.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-gray-200 dark:hover:border-slate-700 transition-all group",children:[l.jsx("span",{className:"font-black text-sm",children:d.name}),l.jsx("button",{onClick:()=>c(d.id),className:"p-2 text-gray-300 hover:text-rose-500 transition-colors",children:l.jsx(Vt,{size:18})})]},d.id))})]})})},hne=({products:t,setProducts:e,groups:r,onClose:n})=>{const[a,s]=k.useState("ALL"),[c,d]=k.useState("PERCENT"),[f,m]=k.useState(""),[p,g]=k.useState("INC"),b=()=>{const w=parseFloat(f);if(isNaN(w)||w<=0)return alert("Ltfen geerli bir deer giriniz.");window.confirm("Bu ilem seili gruptaki tm rnlerin fiyatlarn kalc olarak gncelleyecektir. Emin misiniz?")&&(e(_=>_.map(E=>{if(a!=="ALL"&&E.groupId!==a)return E;let S=E.price;const R=c==="PERCENT"?E.price*w/100:w;return p==="INC"?S+=R:S-=R,{...E,price:Math.max(0,Math.round(S*100)/100)}})),n())};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 shadow-2xl animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-amber-600 mb-6 italic",children:"Toplu Fiyat Gncelle"}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"Gncellenecek Grup"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none font-bold",value:a,onChange:w=>s(w.target.value),children:[l.jsx("option",{value:"ALL",children:"Tm rnler"}),r.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>g("INC"),className:`py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 transition-all ${p==="INC"?"bg-emerald-500 border-emerald-500 text-white":"border-gray-100 text-gray-400"}`,children:"Art (+)"}),l.jsx("button",{onClick:()=>g("DEC"),className:`py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 transition-all ${p==="DEC"?"bg-rose-500 border-rose-500 text-white":"border-gray-100 text-gray-400"}`,children:"Azal (-)"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"Deer"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none font-black text-xl text-center",placeholder:"0",value:f,onChange:w=>m(w.target.value)})]}),l.jsxs("div",{className:"w-32",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"Tr"}),l.jsxs("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none font-bold text-center",value:c,onChange:w=>d(w.target.value),children:[l.jsx("option",{value:"PERCENT",children:"%"}),l.jsx("option",{value:"AMOUNT",children:""})]})]})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:n,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs",children:"ptal"}),l.jsx("button",{onClick:b,className:"flex-[2] py-4 bg-amber-500 text-white rounded-2xl font-black shadow-lg shadow-amber-500/20 text-xs uppercase tracking-widest",children:"Gncellemeyi Onayla"})]})]})})},mne=({bills:t,setBills:e,onPay:r,vaults:n})=>{const[a,s]=k.useState(""),[c,d]=k.useState("NAME_AZ"),[f,m]=k.useState(!1),[p,g]=k.useState(null),[b,w]=k.useState(null),[_,E]=k.useState(null),S=k.useMemo(()=>t.filter(C=>C.name.toLowerCase().includes(a.toLowerCase())||C.institution.toLowerCase().includes(a.toLowerCase())||C.subscriberNumber.includes(a)).sort((C,M)=>C.status==="UNPAID"&&M.status==="PAID"?-1:C.status==="PAID"&&M.status==="UNPAID"?1:c==="NAME_AZ"?C.name.toLocaleLowerCase("tr-TR").localeCompare(M.name.toLocaleLowerCase("tr-TR")):C.institution.toLocaleLowerCase("tr-TR").localeCompare(M.institution.toLocaleLowerCase("tr-TR"))),[t,a,c]),R=k.useMemo(()=>{const C=t.filter(U=>U.status==="UNPAID").reduce((U,H)=>U+H.amount+(H.amount2||0)+(H.amount3||0),0),M=t.filter(U=>U.status==="PAID").reduce((U,H)=>U+H.amount+(H.amount2||0)+(H.amount3||0),0);return{unpaidTotal:C,paidTotal:M}},[t]),N=C=>{e(M=>M.map(U=>U.id===C.id?C:U)),g(null),w(null)};return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(bg,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bekleyen Toplam"}),l.jsxs("p",{className:"text-2xl font-black text-amber-600",children:[R.unpaidTotal.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(zl,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bu Ay denen"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:[R.paidTotal.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white dark:bg-slate-800 p-4 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3 w-full",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Fatura, Kurum veya Abone No ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:a,onChange:C=>s(C.target.value)})]}),l.jsxs("div",{className:"relative shrink-0 min-w-[160px]",children:[l.jsx(z9,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-indigo-500 pointer-events-none",size:18}),l.jsxs("select",{className:"w-full pl-11 pr-8 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-[10px] uppercase tracking-widest appearance-none cursor-pointer",value:c,onChange:C=>d(C.target.value),children:[l.jsx("option",{value:"NAME_AZ",children:"sim (A-Z)"}),l.jsx("option",{value:"INSTITUTION_AZ",children:"Kurum (A-Z)"})]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Ul,{size:12,className:"animate-spin-slow"})})]})]}),l.jsxs("button",{onClick:()=>m(!0),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(Er,{size:18})," Yeni Fatura Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.length===0?l.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(Mf,{size:64}),"Henz eklenmi fatura bulunmuyor."]}):S.map(C=>{var B;const M=C.amount+(C.amount2||0)+(C.amount3||0),U=C.status==="PAID",H=new Date;H.setHours(0,0,0,0);const A=new Date(C.dueDate);A.setHours(0,0,0,0);const I=A.getTime()-H.getTime(),P=Math.ceil(I/(1e3*60*60*24)),$=!U&&P<0,z=!U&&P>=0&&P<=3,D=$||z;return l.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border-2 shadow-sm hover:shadow-xl transition-all group relative overflow-hidden ${U?"border-emerald-500/20":D?"border-rose-500/40 shadow-rose-500/5":"border-gray-100 dark:border-slate-700"}`,children:[U&&l.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-emerald-500/10 flex items-center justify-center rounded-full",children:l.jsx(zl,{size:32,className:"text-emerald-500 translate-x-[-10px] translate-y-[10px]"})}),$&&l.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-rose-600 text-white text-[8px] font-black px-3 py-1 rounded-full animate-pulse shadow-lg z-10",children:"GECKM FATURA"}),z&&l.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-rose-500 text-white text-[8px] font-black px-3 py-1 rounded-full shadow-lg z-10",children:["SON ",P===0?"GN":`${P} GN`]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${U?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":D?"bg-rose-50 dark:bg-rose-900/20 text-rose-500":"bg-amber-50 dark:bg-amber-900/20 text-amber-500"}`,children:l.jsx(Ei,{size:24})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:"font-black text-lg truncate group-hover:text-indigo-600 transition-colors",children:C.name}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest truncate",children:C.institution})]}),l.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:()=>g(C),className:"p-2 text-gray-400 hover:text-indigo-600 rounded-lg",children:l.jsx(Lr,{size:16})})})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(R8,{size:16,className:D?"text-rose-500":"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:"Abone No:"}),l.jsx("span",{className:"text-slate-900 dark:text-white",children:C.subscriberNumber})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(aa,{size:16,className:D?"text-rose-500":"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:U?"deme Tarihi:":"Son deme:"}),l.jsx("span",{className:`font-black ${D?"text-rose-600 animate-pulse":"text-slate-900 dark:text-white"}`,children:new Date(U?C.paidDate:C.dueDate).toLocaleDateString("tr-TR")})]}),C.amount2!==void 0&&C.amount2>0&&l.jsxs("div",{className:`flex justify-between items-center text-[10px] font-black uppercase p-2 rounded-xl ${D?"text-rose-600 bg-rose-50 dark:bg-rose-900/10":"text-amber-600 bg-amber-50 dark:bg-amber-900/10"}`,children:[l.jsx("span",{children:"2. Dnem Borcu"}),l.jsxs("span",{children:[C.amount2.toLocaleString("tr-TR")," "]})]}),C.amount3!==void 0&&C.amount3>0&&l.jsxs("div",{className:`flex justify-between items-center text-[10px] font-black uppercase p-2 rounded-xl ${D?"text-rose-600 bg-rose-50 dark:bg-rose-900/10":"text-amber-600 bg-amber-50 dark:bg-amber-900/10"}`,children:[l.jsx("span",{children:"3. Dnem Borcu"}),l.jsxs("span",{children:[C.amount3.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-end justify-between pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:U?"denen Tutar":"Toplam Tutar"}),l.jsxs("p",{className:`text-3xl font-black ${U?"text-emerald-600 dark:text-emerald-400":D?"text-rose-600":"text-amber-600"}`,children:[M.toLocaleString("tr-TR")," "]})]}),U?l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsxs("button",{onClick:()=>w(C),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase shadow-lg shadow-indigo-600/20 hover:scale-105 active:scale-95 transition-all",children:[l.jsx(Ul,{size:12})," Yeni Dnem"]}),l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-50 dark:bg-slate-900 rounded-full border border-gray-100 dark:border-slate-700",children:[l.jsx(Ya,{size:12,className:"text-emerald-500"}),l.jsx("span",{className:"text-[10px] font-bold",children:(B=n.find(W=>W.id===C.vaultId))==null?void 0:B.name})]})]}):l.jsxs("div",{className:"flex flex-col items-end gap-2 w-full max-w-[140px]",children:[l.jsxs("button",{onClick:()=>w(C),className:`w-full flex items-center justify-center gap-1.5 px-4 py-2 text-white rounded-xl text-[10px] font-black uppercase shadow-lg active:scale-95 transition-all ${D?"bg-rose-600 shadow-rose-500/20":"bg-amber-500 shadow-amber-500/20"}`,children:[l.jsx(Er,{size:14})," Bor Ekle"]}),l.jsx("button",{onClick:()=>E(C),className:`w-full px-4 py-2.5 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg active:scale-95 transition-all ${D?"bg-rose-500 shadow-rose-500/20":"bg-emerald-600 shadow-emerald-600/20"}`,children:"imdi de"})]})]}),l.jsx("button",{onClick:()=>e(W=>W.filter(te=>te.id!==C.id)),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx(Vt,{size:16})})]},C.id)})}),f&&l.jsx(_5,{onClose:()=>m(!1),onSave:C=>{e(M=>[{...C,id:Math.random().toString(36).substr(2,9),status:"UNPAID"},...M]),m(!1)}}),p&&l.jsx(_5,{bill:p,onClose:()=>g(null),onSave:C=>N({...p,...C})}),b&&l.jsx(pne,{bill:b,onClose:()=>w(null),onSave:C=>N({...b,...C,status:"UNPAID",paidDate:void 0,vaultId:void 0})}),_&&l.jsx(gne,{bill:_,vaults:n,onClose:()=>E(null),onConfirm:C=>{r(_.id,C),E(null)}})]})},_5=({onClose:t,onSave:e,bill:r})=>{var s,c,d;const[n,a]=k.useState({name:(r==null?void 0:r.name)||"",institution:(r==null?void 0:r.institution)||"",subscriberNumber:(r==null?void 0:r.subscriberNumber)||"",amount:((s=r==null?void 0:r.amount)==null?void 0:s.toString())||"",amount2:((c=r==null?void 0:r.amount2)==null?void 0:c.toString())||"",amount3:((d=r==null?void 0:r.amount3)==null?void 0:d.toString())||"",dueDate:(r==null?void 0:r.dueDate)||new Date().toISOString().split("T")[0]});return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Faturay Dzenle":"Yeni Fatura Kayd"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Fatura Ad (rn: Ocak Elektrik)"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Fatura aklamas...",value:n.name,onChange:f=>a({...n,name:f.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kurum Ad (rn: EnerjiSA, SK)"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Kurum ad...",value:n.institution,onChange:f=>a({...n,institution:f.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Abone Numaras"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"Abone no...",value:n.subscriberNumber,onChange:f=>a({...n,subscriberNumber:f.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"1. Dnem Borcu ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-black text-emerald-600 transition-all text-sm",placeholder:"0.00",value:n.amount,onChange:f=>a({...n,amount:f.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"2. Dnem ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-rose-500 transition-all text-sm",placeholder:"Opsiyonel",value:n.amount2,onChange:f=>a({...n,amount2:f.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"3. Dnem ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-amber-500 rounded-2xl outline-none font-black text-amber-500 transition-all text-sm",placeholder:"Opsiyonel",value:n.amount3,onChange:f=>a({...n,amount3:f.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Vade / Son deme"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:n.dueDate,onChange:f=>a({...n,dueDate:f.target.value})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!n.name||!n.institution||!n.amount,onClick:()=>e({...n,amount:Number(n.amount),amount2:n.amount2?Number(n.amount2):void 0,amount3:n.amount3?Number(n.amount3):void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},pne=({bill:t,onClose:e,onSave:r})=>{var b,w;const n=t.status==="UNPAID",[a,s]=k.useState(n?t.amount.toString():""),[c,d]=k.useState(n&&((b=t.amount2)==null?void 0:b.toString())||""),[f,m]=k.useState(n&&((w=t.amount3)==null?void 0:w.toString())||""),[p,g]=k.useState(n?t.dueDate:new Date().toISOString().split("T")[0]);return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-12 h-12 ${n?"bg-amber-50 dark:bg-amber-900/20 text-amber-600":"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600"} rounded-2xl flex items-center justify-center`,children:n?l.jsx(s8,{size:24}):l.jsx(Ul,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase italic tracking-tighter",children:n?"Bor Gncelleme":"Yeni Dnem Borcu"}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[t.institution," - ",t.name]})]})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"1. Dnem Borcu ()"}),l.jsx("input",{type:"number",placeholder:"0.00",autoFocus:!n,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-emerald-500 outline-none font-black text-xl text-emerald-600 transition-all text-center",value:a,onChange:_=>s(_.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"2. Dnem Borcu (Opsiyonel)"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-amber-500 outline-none font-black text-xl text-amber-600 transition-all text-center",value:c,onChange:_=>d(_.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"3. Dnem Borcu (Opsiyonel)"}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-rose-500 outline-none font-black text-xl text-rose-500 transition-all text-center",value:f,onChange:_=>m(_.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Vade Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all",value:p,onChange:_=>g(_.target.value)})]})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{disabled:!a||Number(a)<=0,onClick:()=>r({amount:Number(a),amount2:c?Number(c):0,amount3:f?Number(f):0,dueDate:p}),className:`flex-[2] py-4 ${n?"bg-amber-600":"bg-indigo-600"} text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-[10px] uppercase tracking-widest disabled:opacity-50`,children:n?"Bilgileri Gncelle":"Borcu Kaydet"})]})]})})},gne=({bill:t,vaults:e,onClose:r,onConfirm:n})=>{var d;const[a,s]=k.useState(((d=e[0])==null?void 0:d.id)||""),c=t.amount+(t.amount2||0)+(t.amount3||0);return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-emerald-600 mb-6 italic",children:"Fatura demesi"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-6 rounded-3xl mb-8 border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:t.institution}),l.jsx("h4",{className:"text-xl font-black mb-4",children:t.name}),l.jsxs("div",{className:"space-y-1",children:[(t.amount2!==void 0&&t.amount2>0||t.amount3!==void 0&&t.amount3>0)&&l.jsxs("div",{className:"flex flex-col text-[10px] font-bold text-gray-500 mb-2 gap-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["1. Dnem: ",t.amount.toLocaleString("tr-TR")," "]}),t.amount2!==void 0&&t.amount2>0&&l.jsxs("span",{children:["2. Dnem: ",t.amount2.toLocaleString("tr-TR")," "]})]}),t.amount3!==void 0&&t.amount3>0&&l.jsx("div",{className:"flex justify-between",children:l.jsxs("span",{children:["3. Dnem: ",t.amount3.toLocaleString("tr-TR")," "]})})]}),l.jsxs("p",{className:"text-3xl font-black text-emerald-600",children:[c.toLocaleString("tr-TR")," "]})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"denecek Kasa / Banka"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:f=>s(f.target.value),children:e.map(f=>l.jsxs("option",{value:f.id,children:[f.name," (",f.balance.toLocaleString("tr-TR")," )"]},f.id))})]})}),l.jsxs("div",{className:"flex gap-4 mt-10",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>n(a),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},xne=({notes:t,setNotes:e,vaults:r,contacts:n,onPay:a,onUnpay:s,onDelete:c,onUpdate:d})=>{const[f,m]=k.useState(""),[p,g]=k.useState(!1),[b,w]=k.useState(null),[_,E]=k.useState(null),S=k.useMemo(()=>t.filter(N=>{var C;return N.contactName.toLowerCase().includes(f.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(f.toLowerCase()))}).sort((N,C)=>N.status==="PENDING"&&C.status==="PAID"?-1:N.status==="PAID"&&C.status==="PENDING"?1:new Date(N.dueDate).getTime()-new Date(C.dueDate).getTime()),[t,f]),R=k.useMemo(()=>{const N=t.filter(M=>M.status==="PENDING").reduce((M,U)=>M+U.amount,0),C=t.filter(M=>M.status==="PAID").reduce((M,U)=>M+U.amount,0);return{pendingTotal:N,paidTotal:C}},[t]);return l.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(bg,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Bekleyen Senetler"}),l.jsxs("p",{className:"text-2xl font-black text-amber-600",children:[R.pendingTotal.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-5",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(zl,{size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"denen Senetler"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:[R.paidTotal.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white dark:bg-slate-800 p-4 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"relative flex-1 group w-full",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Kii veya aklama ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:f,onChange:N=>m(N.target.value)})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(Er,{size:18})," Yeni Senet Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.length===0?l.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(A1,{size:64}),"Henz eklenmi senet bulunmuyor."]}):S.map(N=>{const C=N.status==="PAID";return l.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border-2 shadow-sm hover:shadow-xl transition-all group relative overflow-hidden ${C?"border-emerald-500/20":"border-gray-100 dark:border-slate-700"}`,children:[C&&l.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-emerald-500/10 flex items-center justify-center rounded-full",children:l.jsx(j8,{size:32,className:"text-emerald-500 translate-x-[-10px] translate-y-[10px]"})}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${C?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-amber-50 dark:bg-amber-900/20 text-amber-500"}`,children:l.jsx(Bl,{size:24})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:"font-black text-lg truncate group-hover:text-indigo-600 transition-colors",children:N.contactName.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest truncate",children:N.description||"Senet demesi"})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[!C&&l.jsx("button",{onClick:()=>w(N),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all",children:l.jsx(Lr,{size:16})}),l.jsx("button",{onClick:()=>c(N.id),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:l.jsx(Vt,{size:16})})]})]}),l.jsx("div",{className:"space-y-4 mb-8",children:l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-600 dark:text-slate-300",children:[l.jsx(aa,{size:16,className:"text-indigo-500"}),l.jsx("span",{className:"text-gray-400 font-medium",children:C?"deme Tarihi:":"Vade Tarihi:"}),l.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(C?N.paidDate:N.dueDate).toLocaleDateString("tr-TR")})]})}),l.jsxs("div",{className:"flex items-end justify-between pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:C?"denen":"Senet Tutar"}),l.jsxs("p",{className:`text-3xl font-black ${C?"text-emerald-600 dark:text-emerald-400":"text-amber-600"}`,children:[N.amount.toLocaleString("tr-TR")," "]})]}),C?l.jsxs("button",{onClick:()=>s(N.id),className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all active:scale-95 group/undo",children:[l.jsx(qV,{size:14,className:"group-hover/undo:-rotate-45 transition-transform"})," Geri Al"]}):l.jsx("button",{onClick:()=>E(N),className:"px-6 py-3 bg-emerald-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-600/20 active:scale-95 transition-all",children:"de"})]})]},N.id)})}),p&&l.jsx(N5,{contacts:n,onClose:()=>g(!1),onSave:N=>{e(C=>[{...N,id:Math.random().toString(36).substr(2,9),status:"PENDING"},...C]),g(!1)}}),b&&l.jsx(N5,{contacts:n,note:b,onClose:()=>w(null),onSave:N=>{d({...b,...N}),w(null)}}),_&&l.jsx(yne,{note:_,vaults:r,onClose:()=>E(null),onConfirm:N=>{a(_.id,N),E(null)}})]})},N5=({contacts:t,onClose:e,onSave:r,note:n})=>{const[a,s]=k.useState({contactId:(n==null?void 0:n.contactId)||"",amount:(n==null?void 0:n.amount.toString())||"",dueDate:(n==null?void 0:n.dueDate)||new Date().toISOString().split("T")[0],description:(n==null?void 0:n.description)||""}),c=t.find(d=>d.id===a.contactId);return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:n?"Senet Dzenle":"Yeni Senet Kayd"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kii / Tedariki"}),l.jsxs("select",{disabled:!!n,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm disabled:opacity-50",value:a.contactId,onChange:d=>s({...a,contactId:d.target.value}),children:[l.jsx("option",{value:"",children:"Seiniz..."}),t.slice().sort((d,f)=>d.name.localeCompare(f.name,"tr-TR")).map(d=>l.jsx("option",{value:d.id,children:d.name.toLocaleUpperCase("tr-TR")},d.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Tutar ()"}),l.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600 transition-all text-sm",placeholder:"0.00",value:a.amount,onChange:d=>s({...a,amount:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Vade Tarihi"}),l.jsx("input",{type:"date",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:a.dueDate,onChange:d=>s({...a,dueDate:d.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Aklama"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"lem detay...",value:a.description,onChange:d=>s({...a,description:d.target.value})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!a.contactId||!a.amount,onClick:()=>r({...a,amount:Number(a.amount),contactName:(c==null?void 0:c.name.toLocaleUpperCase("tr-TR"))||(n==null?void 0:n.contactName.toLocaleUpperCase("tr-TR"))||""}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:n?"Gncelle":"Kayd Tamamla"})]})]})})},yne=({note:t,vaults:e,onClose:r,onConfirm:n})=>{var c;const[a,s]=k.useState(((c=e[0])==null?void 0:c.id)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-emerald-600 mb-6 italic",children:"Senet demesi"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-6 rounded-3xl mb-8 border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:t.contactName.toLocaleUpperCase("tr-TR")}),l.jsx("h4",{className:"text-xl font-black mb-4",children:t.description||"Senet demesi"}),l.jsxs("p",{className:"text-3xl font-black text-emerald-600",children:[t.amount.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2 ml-1",children:"deme Yaplacak Kasa"}),l.jsx("select",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold",value:a,onChange:d=>s(d.target.value),children:e.map(d=>l.jsxs("option",{value:d.id,children:[d.name," (",d.balance.toLocaleString("tr-TR")," )"]},d.id))})]}),l.jsxs("div",{className:"flex gap-4 mt-10",children:[l.jsx("button",{onClick:r,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:()=>n(a),className:"flex-[2] py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"demeyi Onayla"})]})]})})},bne=({contact:t,transactions:e,vaults:r,promissoryNotes:n,firmProfile:a,onBack:s,onPayment:c,onDeleteTransaction:d,onUpdateTransaction:f,onPayPromissoryNote:m,onUnpayPromissoryNote:p,onDeletePromissoryNote:g,onUpdatePromissoryNote:b,setVaults:w})=>{const[_,E]=k.useState(!1),[S,R]=k.useState(null),[N,C]=k.useState(null),[M,U]=k.useState(null),[H,A]=k.useState(null),[I,P]=k.useState(!1),$=de=>de.replace(/\D/g,""),z=()=>{window.location.href=`tel:${$(t.phone)}`},D=()=>{window.open(`https://wa.me/9${$(t.phone)}`,"_blank")},B=()=>{if(!t.address)return alert("Adres bilgisi bulunamad.");window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.address)}`,"_blank")},W=()=>{if(t.balance<=0){alert("Bu mterinin gecikmi bir borcu bulunmamaktadr.");return}const de=`Sayn ${t.name}, ${a.name}'e Gecikmede ${t.balance.toLocaleString("tr-TR")} TL Borcunuz Bulunmaktadr. Ltfen En Ksa Srede deme Yapnz. deme Yaptysanz Bu Mesaj Dikkate Almaynz.

deme Bilgilerimiz:
Alc: ${a.bankAccountHolder}
Banka: ${a.bankName}
IBAN: ${a.iban}`,ee=`https://wa.me/9${$(t.phone)}?text=${encodeURIComponent(de)}`;window.open(ee,"_blank")},te=()=>{const de=`${a.name} deme Bilgileri:

Alc: ${a.bankAccountHolder}
Banka: ${a.bankName}
IBAN: ${a.iban}`,ee=`https://wa.me/9${$(t.phone)}?text=${encodeURIComponent(de)}`;window.open(ee,"_blank")},G=de=>{d(de),R(null)},Q=de=>{var L;let ee=(L=r.find(F=>F.id==="v_iyzico_fixed"||F.name.toLowerCase().includes("iyzico")))==null?void 0:L.id;if(!ee&&w){ee="v_iyzico_fixed";const F={id:ee,name:"yzico (Sanal POS)",type:"POS",balance:0,currency:"TL",isFixed:!0};w(oe=>[...oe,F])}ee&&c({type:"INCOME",amount:de,vaultId:ee,description:"Online deme (yzico)",contactId:t.id,isCredit:!1,isSale:!1}),P(!1)};k.useEffect(()=>{const de=ee=>{var L;ee.origin==="https://emrperdeodemepaneli.netlify.app"&&((L=ee.data)==null?void 0:L.type)==="PAYMENT_SUCCESS"&&ee.data.amount&&Q(Number(ee.data.amount))};return window.addEventListener("message",de),()=>window.removeEventListener("message",de)},[r,t.id,w,c]);const me=()=>{const de=window.open("","_blank");if(!de){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}const ee=e.map(K=>{const Ne=`${K.type==="INCOME"?"+":"-"}${K.amount.toLocaleString("tr-TR")} TL`,fe=new Date(K.date).toLocaleDateString("tr-TR");return`
        <div class="tx-item">
          <div class="tx-desc">${K.description}</div>
          <div class="tx-details">
            <span>${fe}</span>
            <span class="font-bold">${Ne}</span>
          </div>
        </div>
      `}).join(""),L=t.balance>0?"SZN BORCUNUZ":t.balance<0?"SZN ALACAINIZ":"KAPALI",F=Math.abs(t.balance).toLocaleString("tr-TR")+" TL",oe=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Hesap zeti - ${t.name}</title>
        <style>
          @page { margin: 0; size: 80mm auto; }
          body {
            font-family: 'Courier New', Courier, monospace;
            color: #000;
            margin: 0;
            padding: 5mm;
            width: 80mm;
            box-sizing: border-box;
            font-size: 12px;
            line-height: 1.2;
          }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .font-bold { font-weight: bold; }
          .border-bottom { border-bottom: 1px dashed #000; margin-bottom: 5px; padding-bottom: 5px; }
          .flex-between { display: flex; justify-content: space-between; align-items: center; }
          .mt-2 { margin-top: 10px; }
          .mb-2 { margin-bottom: 10px; }
          .tx-item { margin-bottom: 5px; padding-bottom: 5px; border-bottom: 1px dotted #ccc; }
          .tx-desc { font-size: 11px; margin-bottom: 2px; word-wrap: break-word; }
          .tx-details { font-size: 10px; display: flex; justify-content: space-between; }
        </style>
      </head>
      <body>
        <div class="text-center border-bottom">
          <div class="font-bold" style="font-size: 16px; margin-bottom: 2px;">${a.name}</div>
          <div style="font-size: 10px; letter-spacing: 1px;">HESAP ZET</div>
        </div>
        
        <div class="border-bottom">
          <div class="flex-between" style="margin-bottom: 2px;"><span>Tarih:</span><span>${new Date().toLocaleDateString("tr-TR")}</span></div>
          <div class="flex-between"><span>Sayn:</span><span class="font-bold">${t.name.toLocaleUpperCase("tr-TR")}</span></div>
        </div>

        <div class="mb-2 font-bold text-center" style="font-size: 11px; margin-top: 8px;">LEM HAREKETLER</div>
        
        <div class="border-bottom">
          ${ee||'<div class="text-center" style="font-size: 10px; padding: 10px 0;">Kaytl ilem bulunmamaktadr.</div>'}
        </div>

        <div class="mt-2 border-bottom">
          <div class="flex-between font-bold" style="font-size: 14px;">
            <span>BAKYE:</span>
            <span>${F}</span>
          </div>
          <div class="text-right" style="font-size: 10px; margin-top: 2px;">(${L})</div>
        </div>

        <div class="text-center mt-2" style="font-size: 10px; padding-top: 5px;">
          Bizi tercih ettiiniz iin<br>teekkr ederiz.
        </div>
        
        <script>
          window.onload = () => { setTimeout(() => { window.print(); window.close(); }, 500); }
        <\/script>
      </body>
      </html>
    `;de.document.write(oe),de.document.close()};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 transition-colors font-bold",children:[l.jsx(Oa,{size:20}),l.jsx("span",{className:"text-sm",children:"Listeye Dn"})]}),l.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-slate-800 text-indigo-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-md active:scale-95 transition-all font-black text-xs uppercase tracking-widest",children:[l.jsx(Vl,{size:16}),"Hesap zeti Yazdr"]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden transition-all",children:l.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8",children:[l.jsxs("div",{className:"space-y-4 flex-1",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[l.jsx("h2",{className:"text-3xl font-black tracking-tight",children:t.name.toLocaleUpperCase("tr-TR")}),l.jsx("button",{onClick:z,className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 rounded-full hover:scale-110 transition-transform shadow-sm",children:l.jsx(hV,{size:20})}),l.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-500 text-white rounded-2xl text-xs font-black shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all",children:[l.jsx(zr,{size:16})," Online deme Al"]})]}),l.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-full w-fit",children:t.type==="CUSTOMER"?"Mteri":t.type==="SUPPLIER"?"Tedariki":"Personel"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[l.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2.5 bg-green-500 text-white rounded-2xl text-xs font-black shadow-lg shadow-green-500/20 hover:bg-green-600 transition-all",children:[l.jsx(Q8,{size:16})," WhatsApp"]}),l.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2.5 bg-rose-500 text-white rounded-2xl text-xs font-black shadow-lg shadow-rose-500/20 hover:bg-rose-600 transition-all",children:[l.jsx(O1,{size:16})," Konum Al"]}),l.jsxs("button",{onClick:W,className:`flex items-center gap-2 px-4 py-2.5 rounded-2xl text-xs font-black transition-all shadow-lg ${t.balance>0?"bg-orange-500 text-white shadow-orange-500/20 hover:bg-orange-600":"bg-gray-100 dark:bg-slate-700 text-gray-400 opacity-50 cursor-not-allowed"}`,children:[l.jsx(iI,{size:16})," Bor Hatrlat"]}),l.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 text-white rounded-2xl text-xs font-black shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 transition-all",children:[l.jsx(zr,{size:16})," IBAN Payla"]})]})]}),l.jsxs("div",{className:"w-full sm:w-auto p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] flex flex-col items-center sm:items-end border border-gray-100 dark:border-slate-800",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Gncel Bakiye"}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:`text-4xl font-black ${t.balance>0?"text-emerald-500":t.balance<0?"text-rose-500":"text-gray-400"}`,children:Math.abs(t.balance).toLocaleString("tr-TR")}),l.jsx("span",{className:"text-xl font-bold opacity-40",children:""})]}),l.jsx("p",{className:`text-[10px] mt-2 font-black uppercase px-3 py-1 rounded-lg ${t.balance>0?"bg-emerald-50 text-emerald-600":t.balance<0?"bg-rose-50 text-rose-600":"bg-gray-100 text-gray-400"}`,children:t.balance>0?"Alacaklyz":t.balance<0?"Borluyuz":"Bakiye Kapal"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-400 shrink-0",children:l.jsx(vg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"letiim Numaralar"}),l.jsx("p",{className:"font-bold text-sm",children:t.phone}),t.phone2&&l.jsx("p",{className:"font-bold text-sm text-gray-400",children:t.phone2})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-2xl text-gray-400 shrink-0",children:l.jsx(O1,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Adres Bilgisi"}),l.jsx("p",{className:"font-bold text-sm leading-relaxed",children:t.address||"Adres belirtilmemi."})]})]})]})]})}),l.jsxs("button",{onClick:()=>E(!0),className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-2xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-lg",children:[l.jsx(Er,{size:24})," Yeni Hesap lemi Kaydet"]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:[l.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h3",{className:"font-black text-lg tracking-tight",children:"Hesap Hareketleri"}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 dark:bg-slate-900 rounded-full text-[10px] font-bold text-gray-400 uppercase",children:["Toplam ",e.length," Kayt"]})]}),l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:e.length===0?l.jsxs("div",{className:"p-20 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30",children:[l.jsx(aa,{size:48}),l.jsx("p",{className:"font-black uppercase tracking-widest text-xs",children:"Henz bir hareket bulunmuyor."})]}):e.map(de=>{var ee;return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-900/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${de.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:de.isCredit?l.jsx(r2,{size:20,className:"text-amber-500"}):de.type==="INCOME"?l.jsx(Po,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{className:"cursor-pointer",onClick:()=>C(de),children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base group-hover:text-indigo-600 transition-colors",children:de.description}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[l.jsx(bg,{size:12,className:"text-gray-300"}),new Date(de.date).toLocaleString("tr-TR"),de.isCredit&&l.jsx("span",{className:"text-[10px] text-amber-500 font-black ml-1 uppercase",children:"(Cari lem)"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("p",{className:`font-black text-base sm:text-lg ${de.type==="INCOME"?de.isCredit?"text-amber-500":"text-emerald-500":de.isCredit?"text-amber-500":"text-rose-500"}`,children:[de.type==="INCOME"?"+":"-",de.amount.toLocaleString("tr-TR")," "]}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-tighter",children:de.isCredit?"Kasay Etkilemez":((ee=r.find(L=>L.id===de.vaultId))==null?void 0:ee.name)||"Bilinmeyen Kasa"})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>C(de),className:"p-2 text-gray-300 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all",children:l.jsx(Lr,{size:16})}),l.jsx("button",{onClick:()=>R(de.id),className:"p-2 text-gray-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:l.jsx(Vt,{size:16})})]})]})]},de.id)})})]}),_&&l.jsx(Zf,{contact:t,vaults:r,onClose:()=>E(!1),onSave:de=>{c(de),E(!1)}}),N&&l.jsx(Zf,{contact:t,vaults:r,onClose:()=>C(null),initialData:N,onSave:de=>{f(N.id,de),C(null)}}),S&&e.find(de=>de.id===S)&&l.jsx(vne,{transaction:e.find(de=>de.id===S),onClose:()=>R(null),onConfirm:()=>G(S)}),I&&l.jsxs("div",{className:"fixed inset-0 z-[150] bg-white dark:bg-slate-900 flex flex-col animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-100 dark:border-slate-700 shadow-sm shrink-0",children:[l.jsxs("h3",{className:"font-black text-lg sm:text-xl text-blue-600 flex items-center gap-2",children:[l.jsx(zr,{size:24})," Online deme Paneli"]}),l.jsxs("button",{onClick:()=>P(!1),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-slate-800 rounded-xl text-gray-500 hover:text-rose-500 font-bold transition-colors",children:[l.jsx(Zt,{size:20})," Kapat"]})]}),l.jsx("iframe",{src:`https://emrperdeodemepaneli.netlify.app/?amount=${t.balance>0?t.balance:""}&contactId=${t.id}`,className:"w-full flex-1 border-none bg-white",title:"deme Paneli"})]})]})},vne=({transaction:t,onClose:e,onConfirm:r})=>l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(Vt,{size:40})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-xl font-black",children:"lemi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm italic",children:['"',t.description,'"']}),l.jsxs("div",{className:"py-2 px-4 bg-gray-100 dark:bg-slate-900 rounded-xl font-black text-rose-500 text-lg",children:[t.type==="INCOME"?"+":"-",t.amount.toLocaleString("tr-TR")," "]})]}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase leading-relaxed px-4",children:"Bu ilem silindiinde ilgili kasa ve cari bakiyeler otomatik olarak eski haline dndrlecektir."})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),wne=({initialData:t,contacts:e,onAddContact:r,onSave:n,onCancel:a})=>{const[s,c]=k.useState(""),[d,f]=k.useState([]),[m,p]=k.useState(""),[g,b]=k.useState(""),[w,_]=k.useState(!1),E=k.useRef(null),[S,R]=k.useState(""),[N,C]=k.useState(""),[M,U]=k.useState([{id:"w1",label:"Pencere 1",width:"",height:"",description:""}]),[H,A]=k.useState(!1);k.useEffect(()=>{t&&(c(t.customerId),p(t.notes||""),t.rooms&&t.rooms.length>0?f(t.rooms):t.windows&&t.windows.length>0&&f([{id:"r_"+Math.random().toString(36).substr(2,9),title:t.title||"Oda 1",windows:t.windows,notes:""}]))},[t]);const I=k.useMemo(()=>e.filter(G=>G.type==="CUSTOMER"&&G.name.toLowerCase().includes(g.toLowerCase())).sort((G,Q)=>G.name.localeCompare(Q.name,"tr-TR")),[e,g]),P=k.useMemo(()=>e.find(G=>G.id===s),[e,s]),$=()=>{const G=M.length+1,Q="w"+Math.random().toString(36).substr(2,9);U([...M,{id:Q,label:`Pencere ${G}`,width:"",height:"",description:""}])},z=G=>{M.length>1&&U(M.filter(Q=>Q.id!==G))},D=(G,Q,me)=>{U(M.map(de=>de.id===G?{...de,[Q]:me}:de))},B=()=>{if(!S.trim()){alert("Ltfen oday eklemek iin bir oda ismi giriniz.");return}const G={id:Math.random().toString(36).substr(2,9),title:S.trim(),windows:[...M],notes:N.trim()};f([...d,G]),R(""),C(""),U([{id:"w1",label:"Pencere 1",width:"",height:"",description:""}])},W=G=>{f(d.filter(Q=>Q.id!==G))},te=()=>{if(!s){alert("Ltfen bir mteri seiniz.");return}const G=[...d];if(S.trim())G.push({id:Math.random().toString(36).substr(2,9),title:S.trim(),windows:[...M],notes:N.trim()});else if(M.some(ee=>ee.width||ee.height)&&!window.confirm("Girmi olduunuz llerin oda ad bulunmuyor. Bu lleri kaydetmeden sadece mteri seimini kaydetmek istiyor musunuz?"))return;const Q=e.find(ee=>ee.id===s),me=G.length>0?G.map(ee=>`${ee.title} (${ee.windows.length} Pcr)`).join(", "):"Genel l Kayd",de={customerId:s,customerName:(Q==null?void 0:Q.name)||"",title:(Q==null?void 0:Q.name)||"",details:me,notes:m.trim(),status:(t==null?void 0:t.status)||"PENDING",rooms:G};n([de])};return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsx(Oa,{size:18})," Vazge"]}),l.jsxs("div",{className:"flex gap-3",children:[d.length>0&&l.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl border border-indigo-100 dark:border-indigo-900/40 text-xs font-black uppercase",children:[l.jsx(C1,{size:16})," ",d.length," Oda Listede"]}),l.jsxs("button",{onClick:te,disabled:!s,className:`flex items-center gap-2 px-8 py-3 rounded-2xl font-black transition-all ${s?"bg-emerald-600 text-white shadow-xl shadow-emerald-600/20 active:scale-95":"bg-gray-300 dark:bg-slate-700 text-gray-500 cursor-not-allowed shadow-none"}`,children:[l.jsx(zu,{size:20})," ly Kaydet"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[l.jsx("div",{className:"xl:col-span-8 space-y-8",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 space-y-8",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mteri Seimi *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{ref:E,type:"text",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 outline-none font-bold transition-all border-transparent focus:border-indigo-500",placeholder:"Mteri Sein veya Arayn...",value:w?g:P?P.name.toLocaleUpperCase("tr-TR"):"",onChange:G=>{b(G.target.value),_(!0),s&&c("")},onFocus:()=>{_(!0),b("")},onBlur:()=>{setTimeout(()=>_(!1),200)}}),w&&l.jsx("div",{className:"absolute z-50 w-full mt-2 max-h-60 overflow-y-auto bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-2xl shadow-xl custom-scrollbar",children:I.length===0?l.jsx("div",{className:"p-4 text-center text-sm text-gray-500 font-bold",children:"Mteri bulunamad"}):I.map(G=>l.jsx("div",{className:"p-4 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer text-sm font-bold transition-colors border-b last:border-0 border-gray-50 dark:border-slate-700/50",onMouseDown:Q=>{var me;Q.preventDefault(),c(G.id),_(!1),b(""),(me=E.current)==null||me.blur()},children:G.name.toLocaleUpperCase("tr-TR")},G.id))})]}),!t&&l.jsx("button",{onClick:()=>A(!0),className:"p-4 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl hover:bg-indigo-600 hover:text-white transition-all shadow-sm",title:"Hzl Mteri Ekle",children:l.jsx(s2,{size:24})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Genel Sipari Notu (Opsiyonel)"}),l.jsx("input",{placeholder:"Mteriye veya siparie ait genel not...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm transition-all",value:m,onChange:G=>p(G.target.value)})]}),l.jsxs("div",{className:"pt-8 border-t border-gray-100 dark:border-slate-700 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-xl font-black text-indigo-600 flex items-center gap-2 uppercase tracking-tighter italic",children:[l.jsx(bn,{size:24})," YEN ODA EKLE"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Oda smi"}),l.jsx("input",{placeholder:"rn: Salon, Mutfak, Yatak Odas...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-black text-lg transition-all",value:S,onChange:G=>R(G.target.value)})]}),l.jsxs("div",{className:"space-y-4 bg-gray-50/50 dark:bg-slate-900/10 p-2 sm:p-4 rounded-3xl border border-gray-100 dark:border-slate-800",children:[M.map((G,Q)=>l.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-sm",children:Q+1}),l.jsx("input",{className:"bg-transparent border-none text-sm font-black text-slate-700 dark:text-slate-200 uppercase tracking-widest outline-none w-48 focus:text-indigo-600",value:G.label,onChange:me=>D(G.id,"label",me.target.value)})]}),M.length>1&&l.jsx("button",{onClick:()=>z(G.id),className:"text-gray-400 hover:text-rose-500 p-2 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx(Vt,{size:18})})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"En (cm)"}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-black text-center shadow-inner",value:G.width,onChange:me=>D(G.id,"width",me.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Boy (cm)"}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-black text-center shadow-inner",value:G.height,onChange:me=>D(G.id,"height",me.target.value)})]}),l.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Model / Kuma"}),l.jsx("input",{placeholder:"rn: Kruvaze, Stor...",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 rounded-xl outline-none border-2 border-transparent focus:border-indigo-500 font-bold shadow-inner text-sm",value:G.description,onChange:me=>D(G.id,"description",me.target.value)})]})]})]},G.id)),l.jsxs("button",{onClick:$,className:"w-full flex items-center justify-center gap-2 text-[10px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 py-3 rounded-2xl hover:bg-indigo-100 transition-all border-2 border-dashed border-indigo-200 dark:border-indigo-900/40",children:[l.jsx(Er,{size:16})," Pencere Ekle"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Odaya Ait zel Not"}),l.jsx("textarea",{rows:2,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold text-sm resize-none",value:N,onChange:G=>C(G.target.value)})]}),l.jsxs("button",{onClick:B,className:"w-full py-5 bg-indigo-600 text-white rounded-3xl font-black shadow-xl shadow-indigo-600/20 flex items-center justify-center gap-3 hover:bg-indigo-700 active:scale-95 transition-all uppercase tracking-widest text-sm italic",children:[l.jsx(C1,{size:24})," Oday Kayda Ekle"]})]})]})})}),l.jsx("div",{className:"xl:col-span-4 space-y-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white min-h-[400px] flex flex-col shadow-2xl sticky top-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-indigo-400 italic",children:"Odalar Listesi"}),l.jsxs("div",{className:"px-3 py-1 bg-white/10 rounded-full text-[10px] font-black",children:[d.length," ODA"]})]}),l.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:d.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 opacity-20 text-center space-y-4",children:[l.jsx(bn,{size:48}),l.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest leading-relaxed",children:["Henz oday listeye eklemediniz.",l.jsx("br",{}),'Sol taraftaki formu doldurup "Oday Kayda Ekle" butonuna basnz.']})]}):d.map((G,Q)=>l.jsxs("div",{className:"bg-white/5 border border-white/10 p-5 rounded-2xl group relative animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("button",{onClick:()=>W(G.id),className:"absolute -top-2 -right-2 w-8 h-8 bg-rose-500 text-white rounded-full flex items-center justify-center shadow-lg transform scale-0 group-hover:scale-100 transition-transform",children:l.jsx(Zt,{size:16})}),l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h5",{className:"font-black text-base truncate pr-4 text-indigo-300 italic",children:G.title}),l.jsxs("span",{className:"text-[10px] font-black bg-white/10 px-2 py-0.5 rounded uppercase tracking-tighter",children:[G.windows.length," Pencere"]})]}),l.jsxs("div",{className:"space-y-1.5 opacity-60",children:[G.windows.slice(0,3).map(me=>l.jsxs("div",{className:"text-[10px] font-bold truncate",children:[" ",me.label,": ",me.width||"0","x",me.height||"0"]},me.id)),G.windows.length>3&&l.jsxs("div",{className:"text-[8px] font-black italic",children:["+ ",G.windows.length-3," daha..."]})]})]},G.id))}),d.length>0&&l.jsx("div",{className:"mt-8 pt-6 border-t border-white/10 space-y-4",children:l.jsxs("div",{className:"flex justify-between items-center px-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest",children:"TOPLAM"}),l.jsxs("span",{className:"text-xl font-black text-emerald-400 italic",children:[d.length," ODA"]})]})})]})})]}),H&&l.jsx(kne,{onClose:()=>A(!1),onSave:G=>{const Q=r(G);c(Q.id),A(!1)}})]})},kne=({onClose:t,onSave:e})=>{const[r,n]=k.useState({name:"",phone:"",phone2:"",address:"",type:"CUSTOMER",initialBalance:"",balanceType:"DEBT"}),a=()=>{if(!r.name||!r.phone){alert("Ltfen isim ve telefon bilgilerini doldurunuz.");return}e(r)};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl shadow-2xl animate-in fade-in zoom-in duration-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-xl font-black flex items-center gap-2",children:[l.jsx(s2,{className:"text-indigo-600",size:24}),"Hzl Mteri Kayd"]}),l.jsx("button",{onClick:t,children:l.jsx(Zt,{size:24,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"sim Soyisim *"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",placeholder:"rn: Aye Fatma",value:r.name.toLocaleUpperCase("tr-TR"),onChange:s=>n({...r,name:s.target.value.toLocaleUpperCase("tr-TR")})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Telefon *"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"05...",value:r.phone,onChange:s=>n({...r,phone:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"2. Telefon"}),l.jsx("input",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"Opsiyonel",value:r.phone2,onChange:s=>n({...r,phone2:s.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Adres Bilgisi"}),l.jsx("textarea",{rows:2,className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm resize-none",placeholder:"Mahalle, Sokak, No...",value:r.address,onChange:s=>n({...r,address:s.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Balang Bakiye"}),l.jsx("input",{type:"number",className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm",placeholder:"0.00",value:r.initialBalance,onChange:s=>n({...r,initialBalance:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1 ml-1",children:"Durum"}),l.jsxs("select",{className:"w-full p-3 bg-gray-50 dark:bg-slate-900 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-sm appearance-none",value:r.balanceType,onChange:s=>n({...r,balanceType:s.target.value}),children:[l.jsx("option",{value:"DEBT",children:"Bize Borlu (+)"}),l.jsx("option",{value:"CREDIT",children:"Bizden Alacakl (-)"})]})]})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:t,className:"flex-1 py-3 text-gray-400 font-black uppercase text-[10px] tracking-widest",children:"ptal"}),l.jsx("button",{onClick:a,className:"flex-[2] py-3 bg-indigo-600 text-white rounded-xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all uppercase text-[10px] tracking-widest",children:"Kayd Tamamla"})]})]})})},_ne=({room:t,onClose:e,onSave:r})=>{const[n,a]=k.useState(JSON.parse(JSON.stringify(t))),s=(f,m,p)=>{a(g=>({...g,windows:g.windows.map(b=>b.id===f?{...b,[m]:p}:b)}))},c=()=>{const f=n.windows.length+1,m={id:"w"+Math.random().toString(36).substr(2,9),label:`Pencere ${f}`,width:"",height:"",description:""};a(p=>({...p,windows:[...p.windows,m]}))},d=f=>{n.windows.length<=1||a(m=>({...m,windows:m.windows.filter(p=>p.id!==f)}))};return l.jsx("div",{className:"fixed inset-0 bg-slate-950/95 z-[130] flex items-center justify-center p-0 sm:p-4 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-[#111827] w-full max-w-2xl h-full sm:h-auto sm:max-h-[90vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl border-x sm:border border-slate-800 overflow-hidden",children:[l.jsxs("div",{className:"p-5 sm:p-8 border-b border-slate-800 flex justify-between items-center bg-[#111827] shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(bn,{size:24,className:"text-indigo-500"}),l.jsx("h3",{className:"text-lg sm:text-2xl font-black text-indigo-500 italic uppercase tracking-tighter",children:"ODA LLERN DZENLE"})]}),l.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-rose-500 transition-colors bg-slate-800/50 rounded-xl border border-slate-700 active:scale-90","aria-label":"Kapat",children:l.jsx(Zt,{size:24})})]}),l.jsxs("div",{className:"flex-1 p-6 sm:p-8 space-y-8 overflow-y-auto custom-scrollbar bg-[#111827]",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"ODA SM"}),l.jsx("input",{className:"w-full p-4 bg-[#0f172a] rounded-2xl border border-slate-800 focus:border-indigo-500 outline-none font-black text-lg text-slate-200 transition-all placeholder:text-slate-700",value:n.title,onChange:f=>a({...n,title:f.target.value}),placeholder:"rn: Salon, Mutfak, Yatak Odas..."})]}),l.jsxs("div",{className:"space-y-4 bg-[#0f172a]/50 p-2 sm:p-4 rounded-[2rem] border border-slate-800/50",children:[n.windows.map((f,m)=>l.jsxs("div",{className:"p-5 bg-[#111827] rounded-3xl border border-slate-800 relative group",children:[n.windows.length>1&&l.jsx("button",{onClick:()=>d(f.id),className:"absolute top-4 right-4 p-2 bg-slate-900 text-slate-600 hover:text-rose-500 hover:bg-rose-500/10 rounded-xl transition-all border border-slate-800 sm:opacity-0 sm:group-hover:opacity-100",children:l.jsx(Vt,{size:16})}),l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-xs font-black shadow-lg",children:m+1}),l.jsx("input",{className:"bg-transparent border-none text-sm font-black text-slate-300 uppercase tracking-widest outline-none focus:text-indigo-500 transition-colors w-full max-w-[200px]",value:f.label,onChange:p=>s(f.id,"label",p.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase ml-1 tracking-widest",children:"EN (CM)"}),l.jsx("input",{type:"number",className:"w-full p-3 bg-[#0f172a] rounded-xl outline-none border border-slate-800 focus:border-indigo-500 font-black text-center text-slate-200 shadow-inner",value:f.width,onChange:p=>s(f.id,"width",p.target.value),placeholder:"0"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase ml-1 tracking-widest",children:"BOY (CM)"}),l.jsx("input",{type:"number",className:"w-full p-3 bg-[#0f172a] rounded-xl outline-none border border-slate-800 focus:border-indigo-500 font-black text-center text-slate-200 shadow-inner",value:f.height,onChange:p=>s(f.id,"height",p.target.value),placeholder:"0"})]}),l.jsxs("div",{className:"col-span-2 space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase ml-1 tracking-widest",children:"MODEL / KUMA"}),l.jsx("input",{className:"w-full p-3 bg-[#0f172a] rounded-xl outline-none border border-slate-800 focus:border-indigo-500 font-bold text-sm text-slate-200 shadow-inner placeholder:text-slate-700",value:f.description,onChange:p=>s(f.id,"description",p.target.value),placeholder:"rn: Kruvaze, Stor..."})]})]})]},f.id)),l.jsxs("button",{onClick:c,className:"w-full py-4 border-2 border-dashed border-slate-800 rounded-2xl flex items-center justify-center gap-2 text-indigo-500 font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all active:scale-[0.98]",children:[l.jsx(Er,{size:16})," PENCERE EKLE"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"ODAYA AT ZEL NOT"}),l.jsx("textarea",{rows:3,className:"w-full p-4 bg-[#0f172a] rounded-2xl border border-slate-800 focus:border-indigo-500 outline-none font-bold text-sm text-slate-300 resize-none transition-all",value:n.notes||"",onChange:f=>a({...n,notes:f.target.value}),placeholder:"Oda iin zel notlar..."})]})]}),l.jsx("div",{className:"p-5 sm:p-8 bg-[#111827] border-t border-slate-800 shrink-0",children:l.jsxs("button",{onClick:()=>r(n),className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-3xl shadow-2xl shadow-indigo-600/30 active:scale-[0.98] transition-all text-sm uppercase tracking-widest flex items-center justify-center gap-3 italic",children:[l.jsx(C1,{size:24})," DEKLKLER KAYDET"]})})]})})},Nne=({measurement:t,onClose:e})=>{const r=[];(t.rooms&&t.rooms.length>0?t.rooms:[{id:"legacy",title:t.title||"",windows:t.windows||[],notes:t.notes||""}]).forEach(N=>{N.windows.forEach(C=>{r.push({width:C.width,height:C.height,desc:`${N.title?N.title+" - ":""}${C.label}
${C.description||""}`.trim()})})});const[a,s]=k.useState(()=>{const N=[...r];for(;N.length===0||N.length%9!==0;)N.push({width:"",height:"",desc:""});return N}),[c,d]=k.useState(t.customerName.trim()),[f,m]=k.useState(t.date),[p,g]=k.useState(t.notes||""),[b,w]=k.useState(""),[_,E]=k.useState(""),S=(N,C,M)=>{s(U=>U.map((H,A)=>A===N?{...H,[C]:M}:H))},R=()=>{const N=window.open("","_blank");if(!N){alert("Yazdrma penceresi alamad. Ltfen taraycnzn pop-up engelleyicisini kontrol edin.");return}let C="";const M=a.length/9;for(let H=0;H<M;H++){const A=a.slice(H*9,H*9+9);C+=`
            <div class="print-page">
                <table class="header-table">
                    <tr>
                        <td class="logo-cell">
                            <div style="position: relative; display: inline-block; width: 80px; height: 50px; margin-bottom: 2px;">
                              <svg viewBox="0 0 100 100" width="45" height="45" style="position: absolute; left: 0px; top: 0;">
                                 <circle cx="50" cy="50" r="45" fill="none" stroke="black" stroke-width="5"/>
                                 <path d="M 35 5 Q 50 50 35 95 M 65 5 Q 50 50 65 95 M 50 5 V 95 M 5 50 H 95" fill="none" stroke="black" stroke-width="3"/>
                              </svg>
                              <svg viewBox="0 0 100 100" width="35" height="35" style="position: absolute; right: 0; bottom: 0; background: white;">
                                 <path d="M 10 80 H 90 V 65 H 75 v 30 C 75 20 65 20 50 20 H 20 V 40 H 45 V 65 H 10 Z" fill="none" stroke="black" stroke-width="4" stroke-linejoin="round"/>
                                 <circle cx="75" cy="45" r="8" fill="none" stroke="black" stroke-width="4"/>
                                 <line x1="25" y1="40" x2="25" y2="65" stroke="black" stroke-width="4"/>
                                 <path d="M 75 53 L 75 75" stroke="black" stroke-width="2"/>
                              </svg>
                              <div class="header-badge">ATLYE F</div>
                            </div>
                            <div class="logo-text-main">EMR PERDE</div>
                            <div class="logo-text-sub">EV TEKSTL</div>
                        </td>
                        <td style="width: 28%;">
                            <div class="field-value">${c.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 15%; text-align: center;">
                            <div class="box-title">TESLM</div>
                            <div class="field-value center-val">${f.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 17%; text-align: center;">
                            <div class="box-title">NOT:</div>
                            <div class="field-value">${p.replace(/\n/g,"<br/>")}</div>
                        </td>
                        <td style="width: 14%; text-align: center;">
                            <div class="box-title">METRAJ</div>
                            <div class="field-value center-val">${b.replace(/\n/g,"<br/>")}</div>
                        </td>
                    </tr>
                </table>

                <div class="main-grid">
                    ${A.map(I=>`
                        <div class="seven-box">
                            <svg width="100%" height="100%" preserveAspectRatio="none">
                                <path d="M 0 5 L 100 5 L 20 100" fill="none" stroke="black" stroke-width="4" vector-effect="non-scaling-stroke" stroke-linecap="square" />
                            </svg>
                            <div class="win-width">${I.width}</div>
                            <div class="win-height">${I.height}</div>
                            <div class="win-desc">${I.desc.replace(/\n/g,"<br/>")}</div>
                        </div>
                    `).join("")}
                    <div class="toplam-box">
                        <div class="toplam-title">TOPLAM</div>
                        <div class="field-value center-val" style="font-size:18px;">${_.replace(/\n/g,"<br/>")}</div>
                    </div>
                </div>
            </div>
            `}const U=`
        <!DOCTYPE html>
        <html lang="tr">
        <head>
          <meta charset="UTF-8">
          <title>Atlye Fii</title>
          <style>
            @page { size: landscape; margin: 5mm; }
            body { font-family: 'Arial', sans-serif; color: black; margin: 0; padding: 0; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .print-page { page-break-after: always; width: 100%; height: 100%; box-sizing: border-box; padding-bottom: 5mm; }
            .print-page:last-child { page-break-after: auto; }

            .header-table { width: 100%; border-collapse: collapse; border: 4px solid black; margin-bottom: 12mm; table-layout: fixed; }
            .header-table td { border: 4px solid black; height: 38mm; position: relative; padding: 2mm; vertical-align: top; }
            .logo-cell { width: 26%; text-align: center; padding: 2mm !important; }

            .header-badge { position: absolute; right: -8px; top: 15px; border: 2px solid black; background: white; padding: 2px 4px; font-size: 9px; font-weight: 900; letter-spacing:0.5px; }
            .logo-text-main { font-weight: 900; font-size: 28px; font-style: italic; line-height: 1; letter-spacing: -0.5px; margin-top:2px; }
            .logo-text-sub { font-weight: 900; font-size: 13px; letter-spacing: 0.5px; margin-top: 1px; }

            .box-title { border: 2px solid black; border-top: none; display: inline-block; padding: 1px 8px; font-weight: 900; font-style: italic; font-size: 15px; background: white; margin: 0 auto; margin-top: -3mm; }
            .field-value { font-size: 16px; font-weight: bold; margin-top: 6px; overflow: hidden; white-space: pre-wrap; line-height:1.3; }
            .center-val { text-align: center; }

            .main-grid { display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(2, 1fr); gap: 18mm 15mm; height: 130mm; }
            .seven-box { position: relative; width: 100%; height: 100%; }
            .seven-box svg { position: absolute; top: 0; left: 0; overflow: visible; }
            .win-width { position: absolute; top: -10mm; left: 10%; width: 80%; text-align: center; font-size: 28px; font-weight: 900; }
            .win-height { position: absolute; top: 35%; right: 0; width: 50%; text-align: center; font-size: 28px; font-weight: 900; }
            .win-desc { position: absolute; bottom: -12mm; left: 0; width: 65%; text-align: left; font-size: 12px; font-weight: bold; line-height: 1.1; }

            .toplam-box { border: 4px solid black; display: flex; flex-direction: column; }
            .toplam-title { font-weight: 900; font-size: 20px; font-style: italic; text-align: center; padding: 4px; border-bottom: 2px solid transparent;}
          </style>
        </head>
        <body>
          ${C}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
              }, 300);
            };
          <\/script>
        </body>
        </html>
        `;N.document.write(U),N.document.close()};return l.jsxs("div",{className:"fixed inset-0 z-[120] bg-slate-900/90 backdrop-blur-sm flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 shadow-md shrink-0",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-black text-indigo-600",children:"Atlye Fii nizleme & Dzenleme"}),l.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-xl font-bold text-sm hover:bg-gray-200 transition-colors",children:"ptal"}),l.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-xl font-black shadow-lg active:scale-95 text-sm uppercase tracking-widest",children:[l.jsx(Vl,{size:18})," Yazdr"]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-200 dark:bg-slate-900 p-4 sm:p-8 flex flex-col items-center gap-8 custom-scrollbar",children:Array.from({length:a.length/9}).map((N,C)=>{const M=a.slice(C*9,C*9+9);return l.jsxs("div",{className:"w-full max-w-[297mm] bg-white text-black p-[8mm] shadow-xl shrink-0 flex flex-col relative",style:{aspectRatio:"297/210"},children:[l.jsx("div",{className:"absolute top-2 right-2 text-[10px] text-rose-500 font-bold opacity-50 select-none",children:"Ekrandaki alanlara tklayarak metinleri dzenleyebilirsiniz."}),l.jsxs("div",{className:"flex border-[4px] border-black w-full h-[18%] mb-[6%]",children:[l.jsxs("div",{className:"w-[26%] border-r-[4px] border-black relative flex flex-col items-center justify-center p-1 sm:p-2",children:[l.jsxs("div",{className:"relative w-[60px] h-[35px] sm:w-[80px] sm:h-[45px] mb-1",children:[l.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",style:{position:"absolute",left:0,top:0,width:"50%",height:"100%"},children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"black",strokeWidth:"5"}),l.jsx("path",{d:"M 35 5 Q 50 50 35 95 M 65 5 Q 50 50 65 95 M 50 5 V 95 M 5 50 H 95",fill:"none",stroke:"black",strokeWidth:"3"})]}),l.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",style:{position:"absolute",right:0,bottom:0,width:"45%",height:"80%",background:"white"},children:[l.jsx("path",{d:"M 10 80 H 90 V 65 H 75 v 30 C 75 20 65 20 50 20 H 20 V 40 H 45 V 65 H 10 Z",fill:"none",stroke:"black",strokeWidth:"4",strokeLinejoin:"round"}),l.jsx("circle",{cx:"75",cy:"45",r:"8",fill:"none",stroke:"black",strokeWidth:"4"}),l.jsx("line",{x1:"25",y1:"40",x2:"25",y2:"65",stroke:"black",strokeWidth:"4"}),l.jsx("path",{d:"M 75 53 L 75 75",stroke:"black",strokeWidth:"2"})]}),l.jsx("div",{className:"absolute right-[-10px] top-[10px] border-[1.5px] border-black bg-white px-1 py-0.5 text-[6px] sm:text-[8px] font-black",children:"ATLYE F"})]}),l.jsx("div",{className:"font-black italic text-lg sm:text-2xl leading-none tracking-tighter",children:"EMR PERDE"}),l.jsx("div",{className:"font-black text-[8px] sm:text-[11px] tracking-widest mt-0.5",children:"EV TEKSTL"})]}),l.jsx("div",{className:"w-[28%] border-r-[4px] border-black p-2",children:l.jsx("textarea",{className:"w-full h-full resize-none outline-none font-bold bg-transparent text-xs sm:text-sm placeholder-gray-300",value:c,onChange:U=>d(U.target.value),placeholder:"Mteri Ad / Tel"})}),l.jsxs("div",{className:"w-[15%] border-r-[4px] border-black flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"TESLM"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent text-center p-1 mt-4 text-xs sm:text-sm",value:f,onChange:U=>m(U.target.value)})]}),l.jsxs("div",{className:"w-[17%] border-r-[4px] border-black flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"NOT:"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent p-1 mt-4 text-[9px] sm:text-[11px]",value:p,onChange:U=>g(U.target.value)})]}),l.jsxs("div",{className:"w-[14%] flex flex-col relative",children:[l.jsx("div",{className:"absolute top-[-3px] left-1/2 -translate-x-1/2 border-[2px] border-t-0 border-black font-black italic text-[9px] sm:text-[11px] px-2 bg-white",children:"METRAJ"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none font-bold bg-transparent text-center p-1 mt-4 text-xs sm:text-sm",value:b,onChange:U=>w(U.target.value)})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-5 grid-rows-2 gap-x-[10mm] gap-y-[10mm]",children:[M.map((U,H)=>{const A=C*9+H;return l.jsxs("div",{className:"relative w-full h-full min-h-[60px]",children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full overflow-visible",preserveAspectRatio:"none",children:l.jsx("path",{d:"M 0 5 L 100 5 L 20 100",fill:"none",stroke:"black",strokeWidth:"4",vectorEffect:"non-scaling-stroke",strokeLinecap:"square"})}),l.jsx("input",{className:"absolute top-[-1.5rem] left-[10%] w-[80%] text-center font-black text-lg sm:text-xl bg-transparent outline-none border-b border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 transition-colors",value:U.width,onChange:I=>S(A,"width",I.target.value),placeholder:"En"}),l.jsx("input",{className:"absolute top-[35%] right-0 w-[50%] text-center font-black text-lg sm:text-xl bg-transparent outline-none border-b border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 transition-colors",value:U.height,onChange:I=>S(A,"height",I.target.value),placeholder:"Boy"}),l.jsx("textarea",{className:"absolute bottom-[-1.5rem] left-0 w-[65%] text-[8px] sm:text-[10px] leading-tight font-bold bg-transparent outline-none resize-none h-[2rem] border border-dashed border-transparent hover:border-gray-300 focus:border-indigo-500 overflow-hidden transition-colors",value:U.desc,onChange:I=>S(A,"desc",I.target.value),placeholder:"Aklama"})]},H)}),l.jsxs("div",{className:"border-[4px] border-black flex flex-col bg-white",children:[l.jsx("div",{className:"font-black italic text-center text-[10px] sm:text-sm p-1",children:"TOPLAM"}),l.jsx("textarea",{className:"flex-1 w-full resize-none outline-none bg-transparent p-1 text-center font-bold text-sm sm:text-base",value:_,onChange:U=>E(U.target.value)})]})]})]},C)})})]})},Ene=({measurement:t,onBack:e,onUpdateStatus:r,onUpdate:n,onEdit:a,onDelete:s,onCustomerClick:c,workshopBarcodeTemplate:d,firmProfile:f})=>{const[m,p]=k.useState(!1),[g,b]=k.useState(null),[w,_]=k.useState(null),[E,S]=k.useState(!1),R=()=>t.rooms&&t.rooms.length>0?t.rooms:[{id:"legacy",title:t.title||"Oda",windows:t.windows||[],notes:t.notes||""}],N=$=>{if(!n)return;const D=R().map(B=>B.id===$.id?$:B);n({rooms:D}),b(null)},C=()=>{if(!w||!n)return;const z=R().filter(D=>D.id!==w.id);n({rooms:z}),_(null)},M={PENDING:{label:"Bekleyen",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",icon:bg},WORKSHOP:{label:"Atlye",color:"text-pink-600",bg:"bg-pink-50 dark:bg-pink-900/20",icon:Mf},ASSEMBLY:{label:"Montaj",color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",icon:n2},DEFERRED:{label:"Ertelenen",color:"text-slate-600",bg:"bg-slate-50 dark:bg-slate-900/20",icon:h8},COMPLETED:{label:"Tamamlanan",color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",icon:zl},DELETED:{label:"Silindi",color:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",icon:Vt}},U=M[t.status],H=R(),A=H.reduce(($,z)=>$+z.windows.length,0),I=()=>{p(!0)},P=()=>{if(!d||!f)return;const $=window.open("","_blank");if(!$){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}const z=[];H.forEach(W=>{W.windows.forEach(te=>{z.push({roomTitle:W.title,winLabel:te.label,width:te.width,height:te.height,desc:te.description,id:te.id})})});let D="";z.forEach(W=>{const te=d.elements.map(G=>{let Q="";return G.type==="TEXT_STORE"?Q=f.name:G.type==="TEXT_CUSTOMER"?Q=t.customerName:G.type==="TEXT_ROOM"?Q=W.roomTitle:G.type==="TEXT_WINDOW_LABEL"?Q=W.winLabel:G.type==="TEXT_WIDTH"?Q=`En: ${W.width}`:G.type==="TEXT_HEIGHT"?Q=`Boy: ${W.height}`:G.type==="TEXT_DESC"?Q=W.desc:G.type==="TEXT_NOTES"?Q=t.notes:G.type==="TEXT_DATE"?Q=t.date:G.type==="CUSTOM_TEXT"?Q=G.content||"":(G.type==="BARCODE_MEASUREMENT"||G.type==="BARCODE")&&(Q=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${t.id.substring(0,8)}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
          position: absolute;
          left: ${G.x}mm;
          top: ${G.y}mm;
          width: ${G.width}mm;
          height: ${G.height}mm;
          font-size: ${G.fontSize}pt;
          font-weight: ${G.fontWeight};
          text-align: ${G.textAlign};
          display: flex;
          justify-content: ${G.textAlign==="center"?"center":G.textAlign==="right"?"flex-end":"flex-start"};
          align-items: center;
          overflow: hidden;
          white-space: nowrap;
          line-height: 1.1;
          ${G.backgroundColor?`background-color: ${G.backgroundColor};`:""}
          ${G.color?`color: ${G.color};`:""}
          ${G.borderRadius?`border-radius: ${G.borderRadius}px;`:""}
          ${G.padding?`padding: ${G.padding}mm;`:""}
        `}">${Q}</div>`}).join("");D+=`<div class="label-page">${te}</div>`});const B=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Pencere Etiketleri - ${t.customerName}</title>
          <style>
            @page {
              size: ${d.width}mm ${d.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${d.width}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
            }
            .label-page {
              width: ${d.width}mm;
              height: ${d.height}mm;
              position: relative;
              page-break-after: always;
              overflow: hidden;
            }
            .label-page:last-child {
              page-break-after: auto;
            }
          </style>
        </head>
        <body>
          ${D}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
              }, 500);
            };
          <\/script>
        </body>
      </html>
    `;$.document.write(B),$.document.close()};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Listeye Dn"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:P,className:"p-2.5 bg-white dark:bg-slate-800 text-amber-600 hover:text-amber-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",title:"Pencere Etiketleri (Barkod) Yazdr",children:l.jsx(ia,{size:18})}),l.jsx("button",{onClick:I,className:"p-2.5 bg-white dark:bg-slate-800 text-indigo-600 hover:text-indigo-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",title:"Sabit Atlye Fii Yazdr (Grsel Tasarm)",children:l.jsx(Vl,{size:18})}),l.jsx("button",{onClick:a,className:"p-2.5 bg-white dark:bg-slate-800 text-gray-400 hover:text-indigo-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:l.jsx(Lr,{size:18})}),l.jsx("button",{onClick:()=>S(!0),className:"p-2.5 bg-white dark:bg-slate-800 text-gray-400 hover:text-rose-600 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm transition-all",children:l.jsx(Vt,{size:18})})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest ${U.bg} ${U.color}`,children:[l.jsx(U.icon,{size:14})," ",U.label]}),l.jsx("h2",{className:"text-3xl sm:text-4xl font-black",children:t.title||t.customerName.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-center text-sm text-gray-500 font-bold",children:[l.jsxs("button",{onClick:()=>c==null?void 0:c(t.customerId),className:"flex items-center gap-1.5 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors cursor-pointer",title:"Mteri Cari Hesabna Git",children:[l.jsx(Bl,{size:16,className:"text-indigo-500"})," ",t.customerName.toLocaleUpperCase("tr-TR")]}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(aa,{size:16,className:"text-indigo-500"})," ",t.date]}),l.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-md text-xs font-black",children:[l.jsx(a2,{size:14})," ",H.length," Oda, ",A," Pencere"]})]})]})}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2 mb-12 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-[2rem]",children:["PENDING","WORKSHOP","ASSEMBLY","DEFERRED","COMPLETED"].map($=>l.jsxs("button",{onClick:()=>r($),className:`flex flex-col items-center gap-2 p-4 rounded-2xl transition-all border-2 ${t.status===$?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-transparent text-gray-400 hover:border-indigo-300"}`,children:[t2.createElement(M[$].icon,{size:18}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:M[$].label})]},$))}),l.jsxs("div",{className:"space-y-10",children:[l.jsx("div",{className:"space-y-8",children:H.map($=>{var z;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-indigo-50/50 dark:bg-indigo-900/10 p-4 rounded-2xl",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(bn,{size:24,className:"text-indigo-600 mt-1"}),l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("h3",{className:"text-xl font-black text-indigo-600 truncate",children:$.title}),$.notes&&l.jsx("div",{className:"mt-1.5 p-2.5 bg-indigo-100/30 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-800/30 w-fit max-w-full",children:l.jsx("p",{className:"text-[10px] font-bold text-indigo-800 dark:text-indigo-300 leading-relaxed italic whitespace-pre-wrap",children:$.notes})})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>b($),className:"p-2 rounded-xl transition-all bg-white dark:bg-slate-800 text-indigo-600 hover:bg-indigo-600 hover:text-white border border-gray-100 dark:border-slate-700 shadow-sm",title:"Oday Dzenle",children:l.jsx(Lr,{size:18})}),l.jsx("button",{onClick:()=>_($),className:"p-2 rounded-xl transition-all bg-white dark:bg-slate-800 text-rose-500 hover:bg-rose-50 hover:text-white border border-gray-100 dark:border-slate-700 shadow-sm",title:"Oday Sil",children:l.jsx(Vt,{size:18})})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(z=$.windows)==null?void 0:z.map((D,B)=>l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-gray-100 dark:border-slate-700 group hover:border-indigo-200 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-sm",children:B+1}),l.jsx("h4",{className:"font-black uppercase text-sm tracking-widest",children:D.label})]}),l.jsxs("div",{className:"flex gap-4 sm:gap-8",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Genilik (En)"}),l.jsxs("p",{className:"text-2xl font-black",children:[D.width||"0"," ",l.jsx("span",{className:"text-sm font-bold text-gray-400",children:"cm"})]})]}),l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ykseklik (Boy)"}),l.jsxs("p",{className:"text-2xl font-black",children:[D.height||"0"," ",l.jsx("span",{className:"text-sm font-bold text-gray-400",children:"cm"})]})]})]}),D.description&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-slate-800 space-y-1",children:[l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Model / Kuma / Aklama"}),l.jsx("p",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:D.description})]})]},D.id))})]},$.id)})}),t.notes&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-black text-cyan-600 flex items-center gap-2",children:[l.jsx(Mf,{size:24})," Sipari Genel Notlar"]}),l.jsx("div",{className:"p-6 bg-cyan-50 dark:bg-cyan-900/10 rounded-3xl border border-cyan-100 dark:border-cyan-900/20",children:l.jsx("p",{className:"text-sm font-bold leading-relaxed whitespace-pre-wrap",children:t.notes})})]})]})]})}),m&&l.jsx(Nne,{measurement:t,onClose:()=>p(!1)}),g&&l.jsx(_ne,{room:g,onClose:()=>b(null),onSave:N}),w&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[140] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Oday Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',w.title,'"']})," isimli oday ve iindeki tm pencere llerini silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>_(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:C,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),E&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[140] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Siparii Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:["Bu l sipariini ve iindeki tm oda/pencere bilgilerini tamamen silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:()=>{s(),S(!1)},className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},Sne=({product:t,onBack:e,onEdit:r,onDelete:n,onUpdate:a,groups:s,barcodeTemplate:c,firmProfile:d,transactions:f})=>{var A;const[m,p]=k.useState(!1),[g,b]=k.useState(""),[w,_]=k.useState("IN"),[E,S]=k.useState(!1),R=((A=s.find(I=>I.id===t.groupId))==null?void 0:A.name)||"Genel",N=t.price-t.purchasePrice,{thirtyDayQuantity:C,thirtyDayRevenue:M}=k.useMemo(()=>{const I=new Date;I.setDate(I.getDate()-30);let P=0,$=0;const z=t.name.toLocaleUpperCase("tr-TR").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),D=new RegExp(`(?:^|[:]\\s*|[,]\\s*)${z} x([\\d.]+)`,"i");return f.forEach(B=>{if(B.isSale&&new Date(B.date)>=I)if(B.items){const W=B.items.find(te=>te.productId===t.id);W&&(P+=W.quantity,$+=W.quantity*W.price)}else{const W=B.description.match(D);if(W&&W[1]){const te=parseFloat(W[1]);isNaN(te)||(P+=te,$+=te*t.price)}}}),{thirtyDayQuantity:P,thirtyDayRevenue:$}},[f,t.id,t.name,t.price]),U=()=>{const I=window.open("","_blank");if(!I){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}const P=c.elements.map(z=>{let D="";return z.type==="TEXT_STORE"?D=d.name:z.type==="TEXT_PRODUCT"?D=t.name.toLocaleUpperCase("tr-TR"):z.type==="TEXT_PRICE"?D=`${t.price.toLocaleString("tr-TR")} `:z.type==="CUSTOM_TEXT"?D=z.content||"":z.type==="BARCODE_TEXT"?D=t.barcode:z.type==="BARCODE"&&(D=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${t.barcode}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
        position: absolute;
        left: ${z.x}mm;
        top: ${z.y}mm;
        width: ${z.width}mm;
        height: ${z.height}mm;
        font-size: ${z.fontSize}pt;
        font-weight: ${z.fontWeight};
        text-align: ${z.textAlign};
        display: flex;
        justify-content: ${z.textAlign==="center"?"center":z.textAlign==="right"?"flex-end":"flex-start"};
        align-items: center;
        overflow: hidden;
        white-space: ${z.type==="TEXT_PRODUCT"?"normal":"nowrap"};
        line-height: 1.1;
        ${z.backgroundColor?`background-color: ${z.backgroundColor};`:""}
        ${z.color?`color: ${z.color};`:""}
        ${z.borderRadius?`border-radius: ${z.borderRadius}px;`:""}
        ${z.padding?`padding: ${z.padding}mm;`:""}
      `}">${D}</div>`}).join(""),$=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Etiket - ${t.barcode}</title>
          <style>
            @page {
              size: ${c.width}mm ${c.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${c.width}mm;
              height: ${c.height}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
              position: relative;
            }
          </style>
        </head>
        <body>
          ${P}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
                window.close();
              }, 500);
            };
          <\/script>
        </body>
      </html>
    `;I.document.write($),I.document.close()},H=()=>{const I=Number(g);if(isNaN(I)||I<=0)return;const P=w==="IN"?t.stock+I:Math.max(0,t.stock-I);a({...t,stock:P}),b(""),S(!0),setTimeout(()=>S(!1),2e3)};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," rn Listesine Dn"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:U,className:"p-3 bg-white dark:bg-slate-800 text-indigo-600 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-indigo-600 hover:shadow-lg hover:shadow-indigo-500/10 transition-all active:scale-90 shadow-sm",title:"Barkod Etiketi Yazdr",children:l.jsx(Vl,{size:20})}),l.jsx("button",{onClick:()=>p(!0),className:"p-3 bg-white dark:bg-slate-800 text-rose-500 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-rose-500 hover:shadow-lg hover:shadow-rose-500/10 transition-all active:scale-90 shadow-sm",title:"rn Sil",children:l.jsx(Vt,{size:20})}),l.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 text-amber-600 rounded-2xl border border-gray-200 dark:border-slate-700 hover:border-amber-600 hover:shadow-lg hover:shadow-amber-500/10 transition-all active:scale-90 shadow-sm",title:"rn Dzenle",children:l.jsx(Lr,{size:20})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden transition-all",children:[l.jsxs("div",{className:"p-8 sm:p-12 flex flex-col md:flex-row gap-8 md:items-center",children:[l.jsx("div",{className:"w-32 h-32 sm:w-48 sm:h-48 bg-indigo-50 dark:bg-indigo-900/20 rounded-[2.5rem] flex items-center justify-center text-indigo-600 shrink-0",children:l.jsx(ja,{size:80})}),l.jsxs("div",{className:"flex-1 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ll,{size:14,className:"text-indigo-500"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-indigo-500",children:R})]}),l.jsx("h2",{className:"text-3xl sm:text-4xl font-black italic tracking-tighter uppercase",children:t.name.toLocaleUpperCase("tr-TR")}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[l.jsxs("span",{className:"flex items-center gap-2 px-4 py-1.5 bg-gray-100 dark:bg-slate-900 rounded-full text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[l.jsx(Sa,{size:14})," ",t.barcode]}),l.jsxs("span",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${t.stock<20?"bg-rose-50 text-rose-500 dark:bg-rose-900/20":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20"}`,children:[l.jsx(Pf,{size:14})," ",t.stock," ",t.unit," Stokta"]})]})]}),l.jsxs("div",{className:"flex items-baseline gap-4",children:[l.jsxs("span",{className:"text-4xl sm:text-5xl font-black text-indigo-600 dark:text-indigo-400 italic",children:[t.price.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-2xl opacity-50 italic",children:""})]}),l.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:["Sat Fiyat / ",t.unit]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"p-8 border-r border-gray-50 dark:border-slate-700 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(v8,{size:16,className:"text-amber-500"})," Finansal zet"]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Al Fiyat"}),l.jsxs("span",{className:"text-sm font-black text-amber-600",children:[t.purchasePrice.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-800",children:[l.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Birim Kr"}),l.jsxs("span",{className:`text-sm font-black ${N>=0?"text-emerald-500":"text-rose-500"}`,children:[N.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"p-8 border-r border-gray-50 dark:border-slate-700 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(M8,{size:16})," Stok Bilgisi"]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-bold",children:"Mevcut Stok"}),l.jsxs("span",{className:"text-lg font-black",children:[t.stock," ",t.unit]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-500 ${t.stock<20?"bg-rose-500":"bg-indigo-500"}`,style:{width:`${Math.min(100,t.stock/100*100)}%`}})})]})]}),l.jsxs("div",{className:"p-8 space-y-4",children:[l.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(ru,{size:16})," Sat zeti"]}),l.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-900 rounded-3xl",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[l.jsx("span",{className:"text-xs font-bold",children:"Son 30 Gn Sat"}),l.jsxs("span",{className:"text-sm font-black text-slate-500",children:[C," ",t.unit]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold",children:"Toplam Ciro"}),l.jsxs("span",{className:"text-sm font-black text-emerald-500",children:[M.toLocaleString("tr-TR")," "]})]})]})})]})]}),l.jsxs("div",{className:"p-8 sm:p-12 bg-indigo-50/30 dark:bg-indigo-950/20 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[l.jsxs("div",{className:"shrink-0 flex flex-col gap-1",children:[l.jsxs("h4",{className:"text-lg font-black italic text-indigo-600 flex items-center gap-2 uppercase tracking-tighter",children:[l.jsx(Pf,{size:24})," Stok Ynetimi"]}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Manuel Stok Girii/k"})]}),l.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 sm:grid-cols-12 gap-4",children:[l.jsxs("div",{className:"sm:col-span-5 flex bg-white dark:bg-slate-900 p-1.5 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-inner",children:[l.jsxs("button",{onClick:()=>_("IN"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${w==="IN"?"bg-emerald-500 text-white shadow-lg":"text-gray-400 hover:text-emerald-500"}`,children:[l.jsx(p8,{size:16})," Stok Girii"]}),l.jsxs("button",{onClick:()=>_("OUT"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${w==="OUT"?"bg-rose-500 text-white shadow-lg":"text-gray-400 hover:text-rose-500"}`,children:[l.jsx(d8,{size:16})," Stok k"]})]}),l.jsx("div",{className:"sm:col-span-4 relative group",children:l.jsx("input",{type:"number",placeholder:`Miktar (${t.unit})...`,className:"w-full h-full p-4 bg-white dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-center text-lg shadow-sm transition-all",value:g,onChange:I=>b(I.target.value)})}),l.jsx("div",{className:"sm:col-span-3",children:l.jsx("button",{disabled:!g||Number(g)<=0,onClick:H,className:`w-full h-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2 ${w==="IN"?"bg-emerald-600 text-white shadow-emerald-600/20 disabled:opacity-40":"bg-rose-600 text-white shadow-rose-600/20 disabled:opacity-40"}`,children:E?l.jsx(l8,{size:18,className:"animate-bounce"}):"Gncelle"})})]})]}),E&&l.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest mt-4 text-center animate-pulse",children:"STOK BAARIYLA GNCELLEND"})]})]}),m&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"rn Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',t.name.toLocaleUpperCase("tr-TR"),'"']})," isimli rn kalc olarak silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu ilem geri alnamaz."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:n,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},jne=({product:t,onSave:e,onCancel:r,groups:n,units:a,setUnits:s})=>{const[c,d]=k.useState({id:"",name:"",barcode:"",purchasePrice:0,price:0,stock:0,unit:"Adet",groupId:"",isQuickSale:!1}),[f,m]=k.useState(!1),[p,g]=k.useState(""),[b,w]=k.useState(!1),_=k.useRef(null);k.useEffect(()=>{var N;d(t?{...t,isQuickSale:t.isQuickSale??!1}:{id:"p"+Math.random().toString(36).substr(2,9),name:"",barcode:"",purchasePrice:0,price:0,stock:0,unit:a[0]||"Adet",groupId:((N=n[0])==null?void 0:N.id)||"",isQuickSale:!1}),setTimeout(()=>{var C;return(C=_.current)==null?void 0:C.focus()},100)},[t,n,a]);const E=()=>{const N=Math.floor(1e5+Math.random()*9e5).toString();d(C=>({...C,barcode:N}))},S=N=>{if(N&&N.preventDefault(),!c.name||!c.barcode){alert("Ltfen rn ad ve barkod bilgilerini giriniz.");return}e(c),w(!0),setTimeout(()=>w(!1),3e3),t||(d({id:"p"+Math.random().toString(36).substr(2,9),name:"",barcode:"",purchasePrice:0,price:0,stock:0,unit:c.unit,groupId:c.groupId,isQuickSale:!1}),setTimeout(()=>{var C;return(C=_.current)==null?void 0:C.focus()},50))};k.useEffect(()=>{const N=C=>{C.key==="End"&&(C.preventDefault(),S())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[c,t]);const R=()=>{p.trim()&&!a.includes(p.trim())&&(s(N=>[...N,p.trim()]),d(N=>({...N,unit:p.trim()})),g(""),m(!1))};return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 relative",children:[b&&l.jsxs("div",{className:"fixed top-24 right-8 bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-2xl font-black text-xs uppercase tracking-[0.2em] animate-in slide-in-from-right duration-300 z-[100] flex items-center gap-3 italic border-2 border-white/20",children:[l.jsx(r0,{size:20,className:"text-white"})," rn Baaryla Kaydedildi"]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Vazge"]}),l.jsxs("button",{onClick:()=>S(),className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zu,{size:20})," rn Kaydet"]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("form",{onSubmit:S,className:"p-8 sm:p-12 space-y-10",children:[l.jsxs("div",{className:"flex items-center gap-6 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(ja,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:t?"rn Bilgilerini Gncelle":"Yeni rn Kayd"}),l.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Ltfen rn detaylarn eksiksiz giriniz."})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"rn Grubu"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ll,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsxs("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all appearance-none",value:c.groupId,onChange:N=>d({...c,groupId:N.target.value}),children:[l.jsx("option",{value:"",children:"Grup Sein..."}),n.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Birim"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("select",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all appearance-none",value:c.unit,onChange:N=>d({...c,unit:N.target.value}),children:a.map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsx("button",{type:"button",onClick:()=>m(!0),className:"p-4 bg-gray-100 dark:bg-slate-700 text-gray-500 rounded-2xl hover:text-indigo-600 transition-all shadow-sm",title:"Birim Ekle",children:l.jsx(Er,{size:20})})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"rn Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(ja,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{ref:_,placeholder:"rn: Tl Perde - Vizon Sk Pile",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all",value:c.name,onChange:N=>d({...c,name:N.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Barkod Numaras"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{placeholder:"EAN-13 veya zel Kod",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:c.barcode,onChange:N=>d({...c,barcode:N.target.value})})]}),l.jsxs("button",{type:"button",onClick:E,className:"px-4 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl hover:bg-indigo-600 hover:text-white transition-all shadow-sm flex items-center gap-2 font-black text-[10px] uppercase tracking-widest",title:"Barkod ret",children:[l.jsx(cI,{size:18})," ret"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Al Fiyat ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-amber-500 outline-none font-black text-amber-600",value:c.purchasePrice||"",onChange:N=>{const C=Number(N.target.value);d({...c,purchasePrice:C,price:C*2.5})}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sat Fiyat ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-indigo-600",value:c.price||"",onChange:N=>d({...c,price:Number(N.target.value)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mevcut Stok Miktar"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"number",placeholder:"0",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold",value:c.stock||"",onChange:N=>d({...c,stock:Number(N.target.value)})}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-[10px] text-gray-400 uppercase tracking-widest pointer-events-none",children:c.unit})]})]}),l.jsx("div",{className:"space-y-2 md:col-span-2 pt-2",children:l.jsxs("label",{className:"flex items-center gap-3 p-5 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent hover:border-indigo-500 cursor-pointer transition-all group",children:[l.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center transition-colors ${c.isQuickSale?"bg-indigo-600 text-white shadow-md":"bg-gray-200 dark:bg-slate-700 text-transparent group-hover:bg-indigo-100"}`,children:l.jsx(r0,{size:16})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-black select-none block text-slate-800 dark:text-slate-100",children:"Hzl Sat Ekrannda Gster"}),l.jsx("span",{className:"text-[10px] font-bold text-gray-400 select-none block uppercase tracking-widest mt-0.5",children:"rn hzl sat vitrinine sabitler"})]}),l.jsx("input",{type:"checkbox",className:"hidden",checked:c.isQuickSale||!1,onChange:N=>d({...c,isQuickSale:N.target.checked})})]})})]})]})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h4",{className:"text-lg font-black text-indigo-600 italic flex items-center gap-2",children:[l.jsx(bn,{size:20})," Yeni Birim Tanmla"]}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"p-8 space-y-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Birim Ad"}),l.jsx("input",{className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-indigo-500 outline-none font-bold transition-all text-sm",placeholder:"rn: Rulo, Litre...",value:p,onChange:N=>g(N.target.value),autoFocus:!0,onKeyDown:N=>N.key==="Enter"&&R()})]})}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-3 text-gray-400 font-black uppercase text-[10px] tracking-widest",children:"ptal"}),l.jsx("button",{onClick:R,className:"flex-[2] py-3 bg-indigo-600 text-white rounded-xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all uppercase text-[10px] tracking-widest",children:"Birimi Kaydet"})]})]})})]})},E5=new BroadcastChannel("customer_display_sync"),Tne=({cart:t,discount:e,onBack:r,isExternal:n})=>{const[a,s]=k.useState(t),[c,d]=k.useState(e||{value:0,type:"PERCENT"});k.useEffect(()=>{const b=w=>{w.data.type==="UPDATE_DISPLAY"&&(s(w.data.cart),w.data.discount&&d(w.data.discount))};return E5.addEventListener("message",b),()=>E5.removeEventListener("message",b)},[]);const f=a.reduce((b,w)=>b+w.product.price*w.quantity,0),m=c.type==="PERCENT"?f*c.value/100:c.value,p=Math.max(0,f-m),g=new Date().toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"});return l.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white z-[100] flex flex-col p-8 sm:p-12 overflow-hidden select-none",children:[l.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-slate-800 hover:text-white transition-colors z-50",children:l.jsx(Zt,{size:24})}),l.jsxs("div",{className:"flex justify-between items-start mb-16",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h1",{className:"text-5xl font-black tracking-tighter text-indigo-500 uppercase italic",children:"Emr Perde eyiz"}),l.jsx("p",{className:"text-xl font-bold text-slate-500 uppercase tracking-[0.3em] ml-1",children:"Mteri Bilgi Ekran"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Ho Geldiniz"}),l.jsx("p",{className:"text-4xl font-black",children:g})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-8 min-h-0",children:[l.jsxs("div",{className:"col-span-12 lg:col-span-8 bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-10 flex flex-col min-h-0 relative shadow-2xl",children:[l.jsx("h2",{className:"text-2xl font-black text-slate-500 uppercase tracking-widest mb-8",children:"Alveri Sepeti"}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-4 space-y-6 custom-scrollbar",children:a.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[l.jsx("div",{className:"w-48 h-48 bg-slate-800 rounded-full flex items-center justify-center mb-10 text-indigo-500",children:l.jsx(TV,{size:80})}),l.jsxs("h3",{className:"text-5xl font-black uppercase text-center leading-tight",children:["Sradaki mterimiz",l.jsx("br",{}),"iin hazrz"]})]}):a.map((b,w)=>l.jsxs("div",{className:"flex items-center justify-between group animate-in slide-in-from-bottom-4 duration-300",style:{animationDelay:`${w*50}ms`},children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-3xl flex items-center justify-center text-4xl font-black text-indigo-500 shadow-inner",children:b.quantity}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black mb-1 text-slate-100",children:b.product.name}),l.jsxs("p",{className:"text-xl font-bold text-slate-500 uppercase tracking-widest",children:["Birim: ",b.product.price.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"text-4xl font-black text-white",children:[(b.product.price*b.quantity).toLocaleString("tr-TR")," "]})]},b.product.id))})]}),l.jsxs("div",{className:"col-span-12 lg:col-span-4 flex flex-col gap-8",children:[l.jsxs("div",{className:"bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-8 flex flex-col gap-4 shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center text-slate-400",children:[l.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"Ara Toplam"}),l.jsxs("span",{className:"text-2xl font-black",children:["",f.toLocaleString("tr-TR")]})]}),m>0&&l.jsxs("div",{className:"flex justify-between items-center text-rose-400 animate-in fade-in zoom-in duration-300",children:[l.jsx("span",{className:"text-lg font-black uppercase tracking-widest",children:"skonto"}),l.jsxs("span",{className:"text-2xl font-black",children:["- ",m.toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:"flex-1 bg-emerald-600 rounded-[3rem] p-10 flex flex-col items-center justify-center text-center shadow-2xl shadow-emerald-600/20 border border-emerald-500/50 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),l.jsx("span",{className:"relative z-10 text-2xl font-black text-emerald-950 uppercase tracking-widest mb-4",children:"denecek Tutar"}),l.jsxs("div",{className:"relative z-10 text-7xl lg:text-8xl font-black text-white flex items-start justify-center gap-2 w-full truncate",children:[l.jsx("span",{className:"text-4xl mt-2 opacity-80",children:""}),p.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-slate-900/50 rounded-[3rem] border border-slate-800/50 p-8 flex flex-col items-center justify-center text-center shadow-xl",children:[l.jsxs("p",{className:"text-xl font-black text-slate-400 uppercase leading-relaxed",children:["Bizi tercih ettiiniz iin",l.jsx("br",{}),"teekkr ederiz."]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse delay-150"})]})]})]})]}),l.jsx("div",{className:"mt-12 text-center",children:l.jsx("p",{className:"text-[10px] font-black text-slate-700 uppercase tracking-[1em] ml-[1em]",children:"EMR PERDE EYZ MAAZA YNETM SSTEM"})})]})},Ane=({products:t,groups:e})=>{var p;const[r,n]=k.useState(""),[a,s]=k.useState(null),c=k.useRef(null);k.useEffect(()=>{var g;(g=c.current)==null||g.focus()},[]);const d=g=>{const b=g.trim();if(!b){s(null);return}const w=t.find(_=>_.barcode===b);s(w||null)},f=()=>{var g;n(""),s(null),(g=c.current)==null||g.focus()},m=a?((p=e.find(g=>g.id===a.groupId))==null?void 0:p.name)||"Genel":"";return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-xl overflow-hidden relative group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 -rotate-12 group-hover:rotate-0 transition-transform duration-500",children:l.jsx(Sa,{size:120})}),l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-600/20",children:l.jsx(Dn,{size:28})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"rn Sorgulama"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Barkod Okutun veya Manuel Girin"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:c,type:"text",placeholder:"Barkodu okutun...",className:"w-full p-6 bg-gray-50 dark:bg-slate-900 rounded-[2rem] border-4 border-transparent focus:border-indigo-500 outline-none font-black text-3xl transition-all shadow-inner placeholder:text-slate-300 dark:placeholder:text-slate-700",value:r,onChange:g=>{n(g.target.value),d(g.target.value)},onKeyDown:g=>{g.key==="Enter"&&d(r)}}),r&&l.jsx("button",{onClick:f,className:"absolute right-6 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-slate-800 text-gray-400 hover:text-rose-500 rounded-full shadow-md transition-all active:scale-90",children:l.jsx(Zt,{size:24})})]}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-100 dark:bg-slate-900 text-slate-500 rounded-2xl text-[10px] font-black uppercase tracking-widest border border-transparent hover:border-slate-200 transition-all",children:[l.jsx(W9,{size:18})," Kamera ile Tara"]}),l.jsxs("button",{onClick:()=>{var g;return(g=c.current)==null?void 0:g.focus()},className:"flex items-center gap-2 px-6 py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-2xl text-[10px] font-black uppercase tracking-widest border border-indigo-100 dark:border-indigo-900/30 transition-all",children:[l.jsx(Ul,{size:18})," Yeniden Odakla"]})]})]})]}),l.jsx("div",{className:"min-h-[400px]",children:r?a?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[3rem] border border-emerald-500/20 shadow-2xl shadow-emerald-500/5 overflow-hidden animate-in zoom-in duration-300",children:[l.jsxs("div",{className:"bg-emerald-500 p-8 text-white flex justify-between items-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 rotate-12",children:l.jsx(ia,{size:100})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ll,{size:14,className:"text-emerald-900/40"}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-900/50",children:m})]}),l.jsx("h4",{className:"text-3xl font-black italic uppercase tracking-tighter",children:a.name})]}),l.jsx("div",{className:"relative z-10 w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(ja,{size:32})})]}),l.jsxs("div",{className:"p-10 space-y-10",children:[l.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.4em] italic",children:"Sat Fiyat"}),l.jsxs("p",{className:"text-8xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter italic",children:[a.price.toLocaleString("tr-TR")," ",l.jsxs("span",{className:"text-4xl opacity-50",children:[" / ",a.unit]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 text-center",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Gncel Stok"}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(Pf,{size:24,className:a.stock<10?"text-rose-500":"text-emerald-500"}),l.jsxs("span",{className:`text-3xl font-black ${a.stock<10?"text-rose-500":"text-slate-800 dark:text-white"}`,children:[a.stock," ",l.jsx("span",{className:"text-sm font-bold opacity-40 uppercase",children:a.unit})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 text-center",children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Barkod No"}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(Sa,{size:24,className:"text-indigo-500"}),l.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:a.barcode})]})]})]})]}),l.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 text-center",children:l.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.5em] animate-pulse",children:"SSTEM KAYDI AKTF"})})]}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[3rem] border border-rose-500/20 p-12 text-center space-y-6 shadow-2xl animate-in shake duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto",children:l.jsx(Zt,{size:48,strokeWidth:3})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black text-rose-600 uppercase italic",children:"rn Bulunamad!"}),l.jsxs("p",{className:"text-slate-500 mt-2 font-bold leading-relaxed",children:[l.jsx("span",{className:"bg-rose-50 dark:bg-rose-900/30 px-3 py-1 rounded-lg text-rose-600 font-black",children:r}),l.jsx("br",{}),"barkod numarasna ait bir rn sistemde kaytl deil."]})]}),l.jsx("button",{onClick:f,className:"px-10 py-4 bg-slate-900 text-white dark:bg-white dark:text-slate-900 rounded-2xl font-black uppercase tracking-widest active:scale-95 transition-all text-xs",children:"Tekrar Dene"})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-300 dark:text-slate-700 gap-6 opacity-40",children:[l.jsx(Sa,{size:80,strokeWidth:1}),l.jsx("p",{className:"text-xl font-black uppercase tracking-[0.3em] italic text-center",children:"Okuma Bekleniyor..."})]})})]})},Cne=()=>{};var S5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},One=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],c=t[r++],d=t[r++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const s=t[r++],c=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},v6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let b=(d&15)<<2|m>>6,w=m&63;f||(w=64,c||(b=64)),n.push(r[p],r[g],r[b],r[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):One(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],d=a<t.length?r[t.charAt(a)]:0;++a;const m=a<t.length?r[t.charAt(a)]:64;++a;const g=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||d==null||m==null||g==null)throw new Ine;const b=s<<2|d>>4;if(n.push(b),m!==64){const w=d<<4&240|m>>2;if(n.push(w),g!==64){const _=m<<6&192|g;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ine extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rne=function(t){const e=b6(t);return v6.encodeByteArray(e,!0)},eg=function(t){return Rne(t).replace(/\./g,"")},w6=function(t){try{return v6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=()=>Pne().__FIREBASE_DEFAULTS__,Dne=()=>{if(typeof process>"u"||typeof S5>"u")return;const t=S5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w6(t[1]);return e&&JSON.parse(e)},hx=()=>{try{return Cne()||Mne()||Dne()||zne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k6=t=>{var e,r;return(r=(e=hx())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Lne=t=>{const e=k6(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},_6=()=>{var t;return(t=hx())==null?void 0:t.config},N6=t=>{var e;return(e=hx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eg(JSON.stringify(r)),eg(JSON.stringify(c)),""].join(".")}const jf={};function Bne(){const t={prod:[],emulator:[]};for(const e of Object.keys(jf))jf[e]?t.emulator.push(e):t.prod.push(e);return t}function $ne(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let j5=!1;function S6(t,e){if(typeof window>"u"||typeof document>"u"||!Wu(window.location.host)||jf[t]===e||jf[t]||j5)return;jf[t]=e;function r(b){return`__firebase__banner__${b}`}const n="__firebase__banner",s=Bne().prod.length>0;function c(){const b=document.getElementById(n);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{j5=!0,c()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=$ne(n),w=r("text"),_=document.getElementById(w)||document.createElement("span"),E=r("learnmore"),S=document.getElementById(E)||document.createElement("a"),R=r("preprendIcon"),N=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const C=b.element;d(C),p(S,E);const M=m();f(N,R),C.append(N,_,S,M),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function qne(){var e;const t=(e=hx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yne(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wne(){return!qne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xne(){try{return typeof indexedDB=="object"}catch{return!1}}function Qne(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne="FirebaseError";class Is extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Zne,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Jne(s,n):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Is(a,d,n)}}function Jne(t,e){return t.replace(eae,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const eae=/\{\$([^}]+)}/g;function tae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],c=e[a];if(T5(s)&&T5(c)){if(!Xl(s,c))return!1}else if(s!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function T5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function bf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function vf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function rae(t,e){const r=new nae(t,e);return r.subscribe.bind(r)}class nae{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");aae(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=p1),a.error===void 0&&(a.error=p1),a.complete===void 0&&(a.complete=p1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aae(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function p1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Vne;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oae(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);n===d&&c.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&e(s,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sae(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sae(t){return t===Nl?void 0:t}function oae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new iae(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const cae={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},uae=nt.INFO,dae={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},fae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=dae[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xk{constructor(e){this.name=e,this._logLevel=uae,this._logHandler=fae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const hae=(t,e)=>e.some(r=>t instanceof r);let A5,C5;function mae(){return A5||(A5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pae(){return C5||(C5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j6=new WeakMap,Cw=new WeakMap,T6=new WeakMap,g1=new WeakMap,Qk=new WeakMap;function gae(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{r(To(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&j6.set(r,t)}).catch(()=>{}),Qk.set(e,t),e}function xae(t){if(Cw.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});Cw.set(t,e)}let Ow={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Cw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T6.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return To(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yae(t){Ow=t(Ow)}function bae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(x1(this),e,...r);return T6.set(n,e.sort?e.sort():[e]),To(n)}:pae().includes(t)?function(...e){return t.apply(x1(this),e),To(j6.get(this))}:function(...e){return To(t.apply(x1(this),e))}}function vae(t){return typeof t=="function"?bae(t):(t instanceof IDBTransaction&&xae(t),hae(t,mae())?new Proxy(t,Ow):t)}function To(t){if(t instanceof IDBRequest)return gae(t);if(g1.has(t))return g1.get(t);const e=vae(t);return e!==t&&(g1.set(t,e),Qk.set(e,t)),e}const x1=t=>Qk.get(t);function wae(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=To(c);return n&&c.addEventListener("upgradeneeded",f=>{n(To(c.result),f.oldVersion,f.newVersion,To(c.transaction),f)}),r&&c.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const kae=["get","getKey","getAll","getAllKeys","count"],_ae=["put","add","delete","clear"],y1=new Map;function O5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y1.get(e))return y1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=_ae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||kae.includes(r)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[r](...d),a&&f.done]))[0]};return y1.set(e,s),s}yae(t=>({...t,get:(e,r,n)=>O5(e,r)||t.get(e,r,n),has:(e,r)=>!!O5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Eae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Eae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iw="@firebase/app",I5="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Xk("@firebase/app"),Sae="@firebase/app-compat",jae="@firebase/analytics-compat",Tae="@firebase/analytics",Aae="@firebase/app-check-compat",Cae="@firebase/app-check",Oae="@firebase/auth",Iae="@firebase/auth-compat",Rae="@firebase/database",Pae="@firebase/data-connect",Mae="@firebase/database-compat",Dae="@firebase/functions",zae="@firebase/functions-compat",Lae="@firebase/installations",Vae="@firebase/installations-compat",Uae="@firebase/messaging",Bae="@firebase/messaging-compat",$ae="@firebase/performance",Hae="@firebase/performance-compat",qae="@firebase/remote-config",Fae="@firebase/remote-config-compat",Gae="@firebase/storage",Kae="@firebase/storage-compat",Yae="@firebase/firestore",Wae="@firebase/ai",Xae="@firebase/firestore-compat",Qae="firebase",Zae="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="[DEFAULT]",Jae={[Iw]:"fire-core",[Sae]:"fire-core-compat",[Tae]:"fire-analytics",[jae]:"fire-analytics-compat",[Cae]:"fire-app-check",[Aae]:"fire-app-check-compat",[Oae]:"fire-auth",[Iae]:"fire-auth-compat",[Rae]:"fire-rtdb",[Pae]:"fire-data-connect",[Mae]:"fire-rtdb-compat",[Dae]:"fire-fn",[zae]:"fire-fn-compat",[Lae]:"fire-iid",[Vae]:"fire-iid-compat",[Uae]:"fire-fcm",[Bae]:"fire-fcm-compat",[$ae]:"fire-perf",[Hae]:"fire-perf-compat",[qae]:"fire-rc",[Fae]:"fire-rc-compat",[Gae]:"fire-gcs",[Kae]:"fire-gcs-compat",[Yae]:"fire-fst",[Xae]:"fire-fst-compat",[Wae]:"fire-vertex","fire-js":"fire-js",[Qae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map,eie=new Map,Pw=new Map;function R5(t,e){try{t.container.addComponent(e)}catch(r){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Au(t){const e=t.name;if(Pw.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Pw.set(e,t);for(const r of tg.values())R5(r,t);for(const r of eie.values())R5(r,t);return!0}function Zk(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Fa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Ah("app","Firebase",tie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=Zae;function A6(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Rw,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Ao.create("bad-app-name",{appName:String(a)});if(r||(r=_6()),!r)throw Ao.create("no-options");const s=tg.get(a);if(s){if(Xl(r,s.options)&&Xl(n,s.config))return s;throw Ao.create("duplicate-app",{appName:a})}const c=new lae(a);for(const f of Pw.values())c.addComponent(f);const d=new rie(r,n,c);return tg.set(a,d),d}function C6(t=Rw){const e=tg.get(t);if(!e&&t===Rw&&_6())return A6();if(!e)throw Ao.create("no-app",{appName:t});return e}function Co(t,e,r){let n=Jae[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${n}" with version "${e}":`];a&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(c.join(" "));return}Au(new Ql(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie="firebase-heartbeat-database",aie=1,Jf="firebase-heartbeat-store";let b1=null;function O6(){return b1||(b1=wae(nie,aie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),b1}async function iie(t){try{const r=(await O6()).transaction(Jf),n=await r.objectStore(Jf).get(I6(t));return await r.done,n}catch(e){if(e instanceof Is)ws.warn(e.message);else{const r=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(r.message)}}}async function P5(t,e){try{const n=(await O6()).transaction(Jf,"readwrite");await n.objectStore(Jf).put(e,I6(t)),await n.done}catch(r){if(r instanceof Is)ws.warn(r.message);else{const n=Ao.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ws.warn(n.message)}}}function I6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie=1024,oie=30;class lie{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uie(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M5();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>oie){const c=die(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ws.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=M5(),{heartbeatsToSend:n,unsentEntries:a}=cie(this._heartbeatsCache.heartbeats),s=eg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ws.warn(r),""}}}function M5(){return new Date().toISOString().substring(0,10)}function cie(t,e=sie){const r=[];let n=t.slice();for(const a of t){const s=r.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),D5(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),D5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xne()?Qne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await iie(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return P5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return P5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function D5(t){return eg(JSON.stringify({version:2,heartbeats:t})).length}function die(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fie(t){Au(new Ql("platform-logger",e=>new Nae(e),"PRIVATE")),Au(new Ql("heartbeat",e=>new lie(e),"PRIVATE")),Co(Iw,I5,t),Co(Iw,I5,"esm2020"),Co("fire-js","")}fie("");function R6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hie=R6,P6=new Ah("auth","Firebase",R6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Xk("@firebase/auth");function mie(t,...e){rg.logLevel<=nt.WARN&&rg.warn(`Auth (${Xu}): ${t}`,...e)}function Gp(t,...e){rg.logLevel<=nt.ERROR&&rg.error(`Auth (${Xu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,...e){throw Jk(t,...e)}function ji(t,...e){return Jk(t,...e)}function M6(t,e,r){const n={...hie(),[e]:r};return new Ah("auth","Firebase",n).create(e,{appName:t.name})}function Oo(t){return M6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return P6.create(t,...e)}function He(t,e,...r){if(!t)throw Jk(e,...r)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gp(e),new Error(e)}function ks(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function pie(){return z5()==="http:"||z5()==="https:"}function z5(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pie()||Gne()||"connection"in navigator)?navigator.onLine:!0}function xie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r){this.shortDelay=e,this.longDelay=r,ks(r>e,"Short delay should be less than long delay!"),this.isMobile=Hne()||Kne()}get(){return gie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){ks(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vie=new Oh(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Go(t,e,r,n,a={}){return z6(t,a,async()=>{let s={},c={};n&&(e==="GET"?c=n:s={body:JSON.stringify(n)});const d=Ch({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...s};return Fne()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(m.credentials="include"),D6.fetch()(await L6(t,t.config.apiHost,r,d),m)})}async function z6(t,e,r){t._canInitEmulator=!1;const n={...yie,...e};try{const a=new kie(t),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Sp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Sp(t,"user-disabled",c);const p=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw M6(t,p,m);Za(t,p)}}catch(a){if(a instanceof Is)throw a;Za(t,"network-request-failed",{message:String(a)})}}async function mx(t,e,r,n,a={}){const s=await Go(t,e,r,n,a);return"mfaPendingCredential"in s&&Za(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function L6(t,e,r,n){const a=`${e}${r}?${n}`,s=t,c=s.config.emulator?e_(t.config,a):`${t.config.apiScheme}://${a}`;return bie.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function wie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ji(this.auth,"network-request-failed")),vie.get())})}}function Sp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=ji(t,e,n);return a.customData._tokenResponse=r,a}function L5(t){return t!==void 0&&t.enterprise!==void 0}class _ie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return wie(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nie(t,e){return Go(t,"GET","/v2/recaptchaConfig",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eie(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function ng(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sie(t,e=!1){const r=Ca(t),n=await r.getIdToken(e),a=t_(n);He(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:Tf(v1(a.auth_time)),issuedAtTime:Tf(v1(a.iat)),expirationTime:Tf(v1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function v1(t){return Number(t)*1e3}function t_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Gp("JWT malformed, contained fewer than 3 sections"),null;try{const a=w6(r);return a?JSON.parse(a):(Gp("Failed to decode base64 JWT payload"),null)}catch(a){return Gp("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function V5(t){const e=t_(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Is&&jie(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function jie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t){var g;const e=t.auth,r=await t.getIdToken(),n=await eh(t,ng(e,{idToken:r}));He(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?V6(a.providerUserInfo):[],c=Cie(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Dw(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function Aie(t){const e=Ca(t);await ag(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cie(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function V6(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oie(t,e){const r=await z6(t,{},async()=>{const n=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await L6(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:n};return t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(f.credentials="include"),D6.fetch()(c,f)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Iie(t,e){return Go(t,"POST","/v2/accounts:revokeToken",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=V5(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await Oie(e,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,c=new gu;return n&&(He(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(He(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(He(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ga{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Tie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Sie(this,e)}reload(){return Aie(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ga({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ag(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fa(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await eh(this,Eie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,c=r.photoURL??void 0,d=r.tenantId??void 0,f=r._redirectEventId??void 0,m=r.createdAt??void 0,p=r.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=r;He(g&&E,e,"internal-error");const S=gu.fromJSON(this.name,E);He(typeof g=="string",e,"internal-error"),go(n,e.name),go(a,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof w=="boolean",e,"internal-error"),go(s,e.name),go(c,e.name),go(d,e.name),go(f,e.name),go(m,e.name),go(p,e.name);const R=new Ga({uid:g,auth:e,email:a,emailVerified:b,displayName:n,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:m,lastLoginAt:p});return _&&Array.isArray(_)&&(R.providerData=_.map(N=>({...N}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,r,n=!1){const a=new gu;a.updateFromServerResponse(r);const s=new Ga({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await ag(s),s}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];He(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?V6(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new gu;d.updateFromIdToken(n);const f=new Ga({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Dw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Map;function us(t){ks(t instanceof Function,"Expected a class definition");let e=U5.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}U6.type="NONE";const B5=U6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e,r){return`firebase:${t}:${e}:${r}`}class xu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=Kp(this.userKey,a.apiKey,s),this.fullPersistenceKey=Kp("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ng(this.auth,{idToken:e}).catch(()=>{});return r?Ga._fromGetAccountInfoResponse(this.auth,r,e):null}return Ga._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xu(us(B5),e,n);const a=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=a[0]||us(B5);const c=Kp(n,e.config.apiKey,e.name);let d=null;for(const m of r)try{const p=await m._get(c);if(p){let g;if(typeof p=="string"){const b=await ng(e,{idToken:p}).catch(()=>{});if(!b)break;g=await Ga._fromGetAccountInfoResponse(e,b,p)}else g=Ga._fromJSON(e,p);m!==s&&(d=g),s=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new xu(s,e,n):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(r.map(async m=>{if(m!==s)try{await m._remove(c)}catch{}})),new xu(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G6(e))return"Blackberry";if(K6(e))return"Webos";if($6(e))return"Safari";if((e.includes("chrome/")||H6(e))&&!e.includes("edge/"))return"Chrome";if(F6(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function B6(t=pn()){return/firefox\//i.test(t)}function $6(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H6(t=pn()){return/crios\//i.test(t)}function q6(t=pn()){return/iemobile/i.test(t)}function F6(t=pn()){return/android/i.test(t)}function G6(t=pn()){return/blackberry/i.test(t)}function K6(t=pn()){return/webos/i.test(t)}function r_(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rie(t=pn()){var e;return r_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Pie(){return Yne()&&document.documentMode===10}function Y6(t=pn()){return r_(t)||F6(t)||K6(t)||G6(t)||/windows phone/i.test(t)||q6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e=[]){let r;switch(t){case"Browser":r=$5(pn());break;case"Worker":r=`${$5(pn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Die(t,e={}){return Go(t,"GET","/v2/passwordPolicy",ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=6;class Lie{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??zie,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H5(this),this.idTokenSubscription=new H5(this),this.beforeStateQueue=new Mie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=us(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ng(this,{idToken:e}),n=await Ga._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Fa(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=n==null?void 0:n._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(n=f.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ag(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fa(this.app))return Promise.reject(Oo(this));const r=e?Ca(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fa(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fa(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Die(this),r=new Lie(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ah("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Iie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&us(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[us(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof r=="function"){const f=e.addObserver(r,n,a);return()=>{c=!0,f()}}else{const f=e.addObserver(r);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Fa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&mie(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qu(t){return Ca(t)}class H5{constructor(e){this.auth=e,this.observer=null,this.addObserver=rae(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let px={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uie(t){px=t}function X6(t){return px.loadJS(t)}function Bie(){return px.recaptchaEnterpriseScript}function $ie(){return px.gapiScript}function Hie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qie{constructor(){this.enterprise=new Fie}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Fie{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Gie="recaptcha-enterprise",Q6="NO_RECAPTCHA";class Kie{constructor(e){this.type=Gie,this.auth=Qu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{Nie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new _ie(f);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function a(s,c,d){const f=window.grecaptcha;L5(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(m=>{c(m)}).catch(()=>{c(Q6)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qie().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{n(this.auth).then(d=>{if(!r&&L5(window.grecaptcha))a(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Bie();f.length!==0&&(f+=d),X6(f).then(()=>{a(d,s,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function q5(t,e,r,n=!1,a=!1){const s=new Kie(t);let c;if(a)c=Q6;else try{c=await s.verify(r)}catch{c=await s.verify(r,!0)}const d={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function F5(t,e,r,n,a){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await q5(t,e,r,r==="getOobCode");return n(t,c)}else return n(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q5(t,e,r,r==="getOobCode");return n(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t,e){const r=Zk(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(Xl(s,e??{}))return a;Za(a,"already-initialized")}return r.initialize({options:e})}function Wie(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Xie(t,e,r){const n=Qu(t);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,s=Z6(e),{host:c,port:d}=Qie(e),f=d===null?"":`:${d}`,m={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(Xl(m,n.config.emulator)&&Xl(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Wu(c)?(E6(`${s}//${c}${f}`),S6("Auth",!0)):Zie()}function Z6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qie(t){const e=Z6(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:G5(n.substr(s.length+1))}}else{const[s,c]=n.split(":");return{host:s,port:G5(c)}}}function G5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zie(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,r){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function Jie(t,e){return Go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ese(t,e){return mx(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(t,e){return mx(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function rse(t,e){return mx(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends n_{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new th(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new th(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F5(e,r,"signInWithPassword",ese);case"emailLink":return tse(e,{email:this._email,oobCode:this._password});default:Za(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F5(e,n,"signUpPassword",Jie);case"emailLink":return rse(e,{idToken:r,email:this._email,oobCode:this._password});default:Za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e){return mx(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse="http://localhost";class Zl extends n_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Za("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const c=new Zl(n,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return yu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,yu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,yu(e,r)}buildRequest(){const e={requestUri:nse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ch(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ise(t){const e=bf(vf(t)).link,r=e?bf(vf(e)).deep_link_id:null,n=bf(vf(t)).deep_link_id;return(n?bf(vf(n)).link:null)||n||r||e||t}class a_{constructor(e){const r=bf(vf(e)),n=r.apiKey??null,a=r.oobCode??null,s=ase(r.mode??null);He(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=ise(e);try{return new a_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,r){return th._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=a_.parseLink(r);return He(n,"argument-error"),th._fromEmailAndCode(e,n.code,n.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends J6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ih{constructor(){super("facebook.com")}static credential(e){return Zl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Zl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wo.credential(r,n)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Ih{constructor(){super("github.com")}static credential(e){return Zl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Ih{constructor(){super("twitter.com")}static credential(e,r){return Zl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _o.credential(r,n)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const s=await Ga._fromIdTokenResponse(e,n,a),c=K5(n);return new Cu({user:s,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=K5(n);return new Cu({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function K5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends Is{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new ig(e,r,n,a)}}function e3(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ig._fromErrorAndOperation(t,s,e,n):s})}async function sse(t,e,r=!1){const n=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Cu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ose(t,e,r=!1){const{auth:n}=t;if(Fa(n.app))return Promise.reject(Oo(n));const a="reauthenticate";try{const s=await eh(t,e3(n,a,e,t),r);He(s.idToken,n,"internal-error");const c=t_(s.idToken);He(c,n,"internal-error");const{sub:d}=c;return He(t.uid===d,n,"user-mismatch"),Cu._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Za(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e,r=!1){if(Fa(t.app))return Promise.reject(Oo(t));const n="signIn",a=await e3(t,n,e),s=await Cu._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(s.user),s}async function lse(t,e){return t3(Qu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cse(t){const e=Qu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function use(t,e,r){return Fa(t.app)?Promise.reject(Oo(t)):lse(Ca(t),Zu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&cse(t),n})}function dse(t,e,r,n){return Ca(t).onIdTokenChanged(e,r,n)}function fse(t,e,r){return Ca(t).beforeAuthStateChanged(e,r)}function hse(t,e,r,n){return Ca(t).onAuthStateChanged(e,r,n)}const sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(sg,"1"),this.storage.removeItem(sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=1e3,pse=10;class n3 extends r3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},s=this.storage.getItem(n);Pie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,pse):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},mse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}n3.type="LOCAL";const gse=n3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends r3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}a3.type="SESSION";const i3=a3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new gx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:s}=r.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const d=Array.from(c).map(async m=>m(r.origin,s)),f=await xse(d);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:f})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const m=i_("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(g){const b=g;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(b.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:r},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function bse(t){Ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function vse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function kse(){return s3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebaseLocalStorageDb",_se=1,og="firebaseLocalStorage",l3="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function xx(t,e){return t.transaction([og],e?"readwrite":"readonly").objectStore(og)}function Nse(){const t=indexedDB.deleteDatabase(o3);return new Rh(t).toPromise()}function zw(){const t=indexedDB.open(o3,_se);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(og,{keyPath:l3})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(og)?e(n):(n.close(),await Nse(),e(await zw()))})})}async function Y5(t,e,r){const n=xx(t,!0).put({[l3]:e,value:r});return new Rh(n).toPromise()}async function Ese(t,e){const r=xx(t,!1).get(e),n=await new Rh(r).toPromise();return n===void 0?null:n.value}function W5(t,e){const r=xx(t,!0).delete(e);return new Rh(r).toPromise()}const Sse=800,jse=3;class c3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>jse)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gx._getInstance(kse()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await vse(),!this.activeServiceWorker)return;this.sender=new yse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zw();return await Y5(e,sg,"1"),await W5(e,sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y5(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ese(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>W5(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=xx(a,!1).getAll();return new Rh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c3.type="LOCAL";const Tse=c3;new Oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ase(t,e){return e?us(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends n_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return yu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Cse(t){return t3(t.auth,new s_(t),t.bypassAuthState)}function Ose(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),ose(r,new s_(t),t.bypassAuthState)}async function Ise(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),sse(r,new s_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,r,n,a,s=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cse;case"linkViaPopup":case"linkViaRedirect":return Ise;case"reauthViaPopup":case"reauthViaRedirect":return Ose;default:Za(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse=new Oh(2e3,1e4);class du extends u3{constructor(e,r,n,a,s){super(e,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,du.currentPopupAction&&du.currentPopupAction.cancel(),du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,du.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rse.get())};e()}}du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse="pendingRedirect",Yp=new Map;class Mse extends u3{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Yp.get(this.auth._key());if(!e){try{const n=await Dse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dse(t,e){const r=Vse(e),n=Lse(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function zse(t,e){Yp.set(t._key(),e)}function Lse(t){return us(t._redirectPersistence)}function Vse(t){return Kp(Pse,t.config.apiKey,t.name)}async function Use(t,e,r=!1){if(Fa(t.app))return Promise.reject(Oo(t));const n=Qu(t),a=Ase(n,e),c=await new Mse(n,a,r).execute();return c&&!r&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse=600*1e3;class $se{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hse(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!d3(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(ji(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bse&&this.cachedEventUids.clear(),this.cachedEventUids.has(X5(e))}saveEventToCache(e){this.cachedEventUids.add(X5(e)),this.lastProcessedEventTime=Date.now()}}function X5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qse(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gse=/^https?/;async function Kse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qse(t);for(const r of e)try{if(Yse(r))return}catch{}Za(t,"unauthorized-domain")}function Yse(t){const e=Mw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&c.hostname===n}if(!Gse.test(r))return!1;if(Fse.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=new Oh(3e4,6e4);function Q5(){const t=Ti().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Xse(t){return new Promise((e,r)=>{var a,s,c;function n(){Q5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q5(),r(ji(t,"network-request-failed"))},timeout:Wse.get()})}if((s=(a=Ti().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=Ti().gapi)!=null&&c.load)n();else{const d=Hie("iframefcb");return Ti()[d]=()=>{gapi.load?n():r(ji(t,"network-request-failed"))},X6(`${$ie()}?onload=${d}`).catch(f=>r(f))}}).catch(e=>{throw Wp=null,e})}let Wp=null;function Qse(t){return Wp=Wp||Xse(t),Wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=new Oh(5e3,15e3),Jse="__/auth/iframe",eoe="emulator/auth/iframe",toe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},roe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function noe(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?e_(e,eoe):`https://${t.config.authDomain}/${Jse}`,n={apiKey:e.apiKey,appName:t.name,v:Xu},a=roe.get(t.config.apiHost);a&&(n.eid=a);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ch(n).slice(1)}`}async function aoe(t){const e=await Qse(t),r=Ti().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:noe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:toe,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const c=ji(t,"network-request-failed"),d=Ti().setTimeout(()=>{s(c)},Zse.get());function f(){Ti().clearTimeout(d),a(n)}n.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},soe=500,ooe=600,loe="_blank",coe="http://localhost";class Z5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uoe(t,e,r,n=soe,a=ooe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const f={...ioe,width:n.toString(),height:a.toString(),top:s,left:c},m=pn().toLowerCase();r&&(d=H6(m)?loe:r),B6(m)&&(e=e||coe,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[w,_])=>`${b}${w}=${_},`,"");if(Rie(m)&&d!=="_self")return doe(e||"",d),new Z5(null);const g=window.open(e||"",d,p);He(g,t,"popup-blocked");try{g.focus()}catch{}return new Z5(g)}function doe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe="__/auth/handler",hoe="emulator/auth/handler",moe=encodeURIComponent("fac");async function J5(t,e,r,n,a,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Xu,eventId:a};if(e instanceof J6){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",tae(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Ih){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),m=f?`#${moe}=${encodeURIComponent(f)}`:"";return`${poe(t)}?${Ch(d).slice(1)}${m}`}function poe({config:t}){return t.emulator?e_(t,hoe):`https://${t.authDomain}/${foe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="webStorageSupport";class goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i3,this._completeRedirectFn=Use,this._overrideRedirectResult=zse}async _openPopup(e,r,n,a){var c;ks((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await J5(e,r,n,Mw(),a);return uoe(e,s,i_())}async _openRedirect(e,r,n,a){await this._originValidation(e);const s=await J5(e,r,n,Mw(),a);return bse(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(ks(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await aoe(e),n=new $se(e);return r.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(w1,{type:w1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[w1];s!==void 0&&r(!!s),Za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Kse(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Y6()||$6()||r_()}}const xoe=goe;var e4="@firebase/auth",t4="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function voe(t){Au(new Ql("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W6(t)},m=new Vie(n,a,s,f);return Wie(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Au(new Ql("auth-internal",e=>{const r=Qu(e.getProvider("auth").getImmediate());return(n=>new yoe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(e4,t4,boe(t)),Co(e4,t4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=300,koe=N6("authIdTokenMaxAge")||woe;let r4=null;const _oe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>koe)return;const a=r==null?void 0:r.token;r4!==a&&(r4=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Noe(t=C6()){const e=Zk(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Yie(t,{popupRedirectResolver:xoe,persistence:[Tse,gse,i3]}),n=N6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const c=_oe(s.toString());fse(r,c,()=>c(r.currentUser)),dse(r,d=>c(d))}}const a=k6("auth");return a&&Xie(r,`http://${a}`),r}function Eoe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Uie({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const s=ji("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",Eoe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});voe("Browser");const Soe=({onLogin:t})=>{const[e,r]=k.useState(""),[n,a]=k.useState(""),[s,c]=k.useState(!1),[d,f]=k.useState(!1),[m,p]=k.useState(!1),[g,b]=k.useState("");k.useEffect(()=>{const _=localStorage.getItem("remembered_user");_&&(r(_),c(!0))},[]);const w=_=>{_.preventDefault(),p(!0),b(""),use(El,e,n).then(E=>{s?localStorage.setItem("remembered_user",e):localStorage.removeItem("remembered_user"),t()}).catch(E=>{const S=E.code,R=E.message;console.error("Firebase Auth Error:",S,R),b(S==="auth/invalid-credential"||S==="auth/user-not-found"||S==="auth/wrong-password"?"Kullanc ad veya ifre hatal.":"Bir hata olutu. Ltfen tekrar deneyin.")}).finally(()=>{p(!1)})};return l.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-between bg-gray-50 dark:bg-slate-950 p-4 sm:p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-600/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),l.jsxs("div",{className:"text-center space-y-2 pt-4 sm:pt-8 z-10 animate-in fade-in slide-in-from-top-4 duration-500",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-600/30 mx-auto mb-4 transform rotate-12 transition-transform hover:rotate-0 duration-300",children:l.jsx(I1,{size:32})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-black italic uppercase tracking-tighter",children:"Emr Perde & eyiz"}),l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.4em]",children:"Ynetim Paneli Girii"})]}),l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 p-6 sm:p-8 rounded-[2.5rem] shadow-2xl border border-gray-100 dark:border-slate-800 z-10 animate-in fade-in zoom-in duration-500 my-4",children:[l.jsxs("form",{onSubmit:w,className:"space-y-4 sm:space-y-5",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-2 block",children:"Kullanc Ad (E-posta)"}),l.jsxs("div",{className:"relative group",children:[l.jsx(Bl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:18}),l.jsx("input",{type:"email",placeholder:"kullanici@emrperde.com",className:"w-full pl-11 pr-4 py-3 sm:py-3.5 bg-gray-50 dark:bg-slate-800 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all shadow-inner text-sm",value:e,onChange:_=>r(_.target.value),required:!0})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-2 block",children:"Parola"}),l.jsxs("div",{className:"relative group",children:[l.jsx(H8,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:18}),l.jsx("input",{type:d?"text":"password",placeholder:"",className:"w-full pl-11 pr-11 py-3 sm:py-3.5 bg-gray-50 dark:bg-slate-800 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all shadow-inner text-sm",value:n,onChange:_=>a(_.target.value),required:!0}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500",children:d?l.jsx(_8,{size:18}):l.jsx(E8,{size:18})})]})]}),l.jsx("div",{className:"flex items-center justify-between px-1",children:l.jsxs("button",{type:"button",onClick:()=>c(!s),className:"flex items-center gap-2 group cursor-pointer",children:[l.jsx("div",{className:`transition-colors ${s?"text-indigo-600":"text-gray-300 dark:text-slate-600"}`,children:s?l.jsx(wu,{size:18}):l.jsx(Df,{size:18})}),l.jsx("span",{className:"text-[11px] font-bold text-gray-500 dark:text-slate-400 select-none",children:"Beni Hatrla"})]})}),g&&l.jsx("p",{className:"text-xs text-red-500 text-center font-bold",children:g}),l.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/30 flex items-center justify-center gap-3 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50 mt-2",children:m?l.jsx("div",{className:"w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:["Giri Yap ",l.jsx(Rn,{size:16})]})})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 dark:border-slate-800 text-center space-y-3",children:[l.jsx("p",{className:"text-[9px] font-black text-indigo-500/60 dark:text-indigo-400/50 uppercase tracking-widest italic leading-relaxed px-2",children:"Bu Uygulama Emr Perde & eyiz'e Ait Bir Maaza Ynetim Uygulamasdr"}),l.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-slate-700 uppercase tracking-widest italic",children:" 2020 Tm Haklar Sakldr"})]})]}),l.jsx("div",{className:"pb-4 sm:pb-8 text-center animate-pulse z-10 shrink-0",children:l.jsx("p",{className:"text-[10px] font-black text-gray-300 dark:text-slate-800 uppercase tracking-[0.3em]",children:"GostaSoftware"})})]})},joe=({firmData:t,onUpdate:e,onLogout:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(!1),d=f=>{f.preventDefault(),e(n),c(!0),setTimeout(()=>c(!1),3e3)};return l.jsx("div",{className:"max-w-3xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(Ei,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Firma Profili"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Maaza ve deme Bilgileri"})]})]}),l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Firma / Maaza Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ei,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.name,onChange:f=>a({...n,name:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Yetkili Ad Soyad"}),l.jsxs("div",{className:"relative",children:[l.jsx(Bl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.owner,onChange:f=>a({...n,owner:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"letiim Hatt"}),l.jsxs("div",{className:"relative",children:[l.jsx(vg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.phone,onChange:f=>a({...n,phone:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Maaza Adresi"}),l.jsxs("div",{className:"relative",children:[l.jsx(O1,{className:"absolute left-4 top-4 text-gray-400",size:18}),l.jsx("textarea",{rows:3,className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all resize-none",value:n.address,onChange:f=>a({...n,address:f.target.value})})]})]})]}),l.jsxs("div",{className:"pt-6 space-y-6",children:[l.jsxs("h4",{className:"text-sm font-black text-indigo-500 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(xj,{size:18})," Banka & deme Bilgileri"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Banka Hesab Alc Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(Bl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",placeholder:"rn: Mehmet z",value:n.bankAccountHolder,onChange:f=>a({...n,bankAccountHolder:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Banka Ad"}),l.jsxs("div",{className:"relative",children:[l.jsx(xj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n.bankName,onChange:f=>a({...n,bankName:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"IBAN Numaras"}),l.jsxs("div",{className:"relative",children:[l.jsx(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all uppercase",value:n.iban,onChange:f=>a({...n,iban:f.target.value})})]})]})]})]}),l.jsxs("div",{className:"pt-6 flex items-center gap-4",children:[l.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-indigo-600 text-white rounded-3xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-sm uppercase tracking-widest flex items-center justify-center gap-3",children:[l.jsx(zu,{size:20})," Deiiklikleri Kaydet"]}),s&&l.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 font-black text-xs uppercase tracking-widest animate-in fade-in slide-in-from-left-2",children:[l.jsx(zl,{size:20})," Kaydedildi"]})]})]}),l.jsx("div",{className:"mt-12 pt-8 border-t border-rose-50 dark:border-rose-900/10",children:l.jsxs("button",{onClick:r,className:"w-full py-4 bg-rose-50 dark:bg-rose-900/10 text-rose-600 rounded-3xl font-black active:scale-95 transition-all text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-3 border-2 border-rose-100 dark:border-rose-900/20 hover:bg-rose-500 hover:text-white hover:border-rose-500",children:[l.jsx(F8,{size:18})," Sistemden Gvenli k"]})})]})})})},Toe=({onNavigate:t})=>l.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("div",{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600",children:l.jsx(oI,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Sistem ve Modl Ayarlar"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("button",{onClick:()=>t("PRODUCT_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-emerald-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(ja,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:"rn Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"Grup, birim ynetimi ve toplu barkod yazdrma ilemleri."})]}),l.jsx(Rn,{size:20,className:"text-gray-300 group-hover:text-emerald-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("VAULT_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-blue-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(Ya,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Kasa Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"Sistemdeki kasalar ve deme hesaplarn ynetin."})]}),l.jsx(Rn,{size:20,className:"text-gray-300 group-hover:text-blue-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("BARCODE_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-indigo-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(Sa,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:"rn Barkod Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"rnler iin barkod etiketi tasarmn ve kat boyutlarn zelletirin."})]}),l.jsx(Rn,{size:20,className:"text-gray-300 group-hover:text-indigo-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]}),l.jsxs("button",{onClick:()=>t("WORKSHOP_BARCODE_SETTINGS"),className:"flex items-center p-6 bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-lg transition-all group text-left",children:[l.jsx("div",{className:"w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center text-amber-500 shadow-sm shrink-0 mr-4 group-hover:scale-110 transition-transform",children:l.jsx(bn,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-black text-lg group-hover:text-amber-600 dark:group-hover:text-amber-400 transition-colors",children:"Atlye Fii (Barkod) Ayarlar"}),l.jsx("p",{className:"text-xs font-bold text-gray-400 mt-1 leading-relaxed",children:"l siparilerinde her bir pencere iin kartlacak etiket/barkod tasarmn zelletirin."})]}),l.jsx(Rn,{size:20,className:"text-gray-300 group-hover:text-amber-500 transform group-hover:translate-x-1 transition-all shrink-0 ml-2"})]})]})]})})}),Zn=8,Aoe=({template:t,onSave:e,onCancel:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(null),d=k.useRef(null),[f,m]=k.useState(null),p=n.elements.find(N=>N.id===s),g=(N,C,M,U)=>{N.stopPropagation(),c(C),m({id:C,startX:N.clientX,startY:N.clientY,initialElX:M,initialElY:U})},b=N=>{if(!f)return;const C=(N.clientX-f.startX)/Zn,M=(N.clientY-f.startY)/Zn;let U=f.initialElX+C,H=f.initialElY+M;const A=n.elements.find(I=>I.id===f.id);A&&(U=Math.max(0,Math.min(U,n.width-A.width)),H=Math.max(0,Math.min(H,n.height-A.height))),a(I=>({...I,elements:I.elements.map(P=>P.id===f.id?{...P,x:Math.round(U*10)/10,y:Math.round(H*10)/10}:P)}))},w=()=>{m(null)},_=N=>{s&&a(C=>({...C,elements:C.elements.map(M=>M.id===s?{...M,...N}:M)}))},E=()=>{s&&(a(N=>({...N,elements:N.elements.filter(C=>C.id!==s)})),c(null))},S=N=>{const C={id:Math.random().toString(36).substring(2,9),type:N,x:2,y:2,width:30,height:6,fontSize:8,fontWeight:"bold",textAlign:"left"};N==="BARCODE"?(C.width=50,C.height=15):N==="TEXT_PRICE"&&(C.width=15,C.height=6,C.backgroundColor="#000000",C.color="#ffffff",C.borderRadius=4,C.textAlign="center"),a(M=>({...M,elements:[...M.elements,C]})),c(C.id)},R=N=>N.type==="TEXT_STORE"?"FRMA ADI":N.type==="TEXT_PRODUCT"?"rnek rn Ad":N.type==="TEXT_PRICE"?"99.99 ":N.type==="BARCODE_TEXT"?"8691234567890":N.type==="CUSTOM_TEXT"?N.content||"Yeni Metin":N.type==="BARCODE"?l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-400 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded",children:[l.jsx(Sa,{size:32}),l.jsx("span",{className:"text-[8px] uppercase mt-1",children:"Barkod Alan"})]}):"";return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>e(n),className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zu,{size:20})," Tasarm Kaydet"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-8 flex flex-col items-center justify-center min-h-[500px] overflow-hidden",children:[l.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-indigo-600",children:"Etiket Tasarm"}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Srkle brak ile dzenleyin"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase bg-gray-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-slate-800",children:[l.jsx(a0,{size:14})," Ebat: ",n.width,"x",n.height," mm"]})]}),l.jsx("div",{className:"flex-1 w-full flex items-center justify-center bg-gray-50 dark:bg-slate-900 rounded-3xl border-2 border-dashed border-gray-200 dark:border-slate-700 p-8",children:l.jsxs("div",{ref:d,onMouseMove:b,onMouseUp:w,onMouseLeave:w,className:"relative bg-white shadow-2xl overflow-hidden",style:{width:n.width*Zn,height:n.height*Zn,cursor:f?"grabbing":"default"},onClick:()=>c(null),children:[l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(#f0f0f0 1px, transparent 1px), linear-gradient(90deg, #f0f0f0 1px, transparent 1px)",backgroundSize:`${Zn}px ${Zn}px`,opacity:.5,pointerEvents:"none"}}),n.elements.map(N=>l.jsxs("div",{onMouseDown:C=>g(C,N.id,N.x,N.y),onClick:C=>{C.stopPropagation(),c(N.id)},className:`absolute cursor-grab active:cursor-grabbing flex items-center overflow-hidden transition-shadow ${s===N.id?"ring-2 ring-indigo-500 shadow-lg z-10":"hover:ring-1 hover:ring-indigo-300 z-0"}`,style:{left:N.x*Zn,top:N.y*Zn,width:N.width*Zn,height:N.height*Zn,fontSize:N.fontSize*(Zn/3),fontWeight:N.fontWeight,justifyContent:N.textAlign==="center"?"center":N.textAlign==="right"?"flex-end":"flex-start",backgroundColor:N.backgroundColor||"transparent",color:N.color||"#000",borderRadius:N.borderRadius?N.borderRadius*(Zn/4):0,padding:N.padding?N.padding*Zn:0,border:N.type!=="BARCODE"?"1px dashed rgba(0,0,0,0.1)":"none"},children:[s===N.id&&l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center shadow z-20 pointer-events-none",children:l.jsx(aI,{size:12})}),l.jsx("span",{className:"truncate w-full leading-tight",style:{textAlign:N.textAlign},children:R(N)})]},N.id))]})}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-4 italic",children:"* Ekranda grnen ller, yazc ktsndaki mm deerleri ile birebir orantldr."})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6",children:[l.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx(Er,{size:16})," Etikete Ekle"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>S("TEXT_STORE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(i0,{size:16})," Firma Ad"]}),l.jsxs("button",{onClick:()=>S("TEXT_PRODUCT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(ia,{size:16})," rn Ad"]}),l.jsxs("button",{onClick:()=>S("TEXT_PRICE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(ia,{size:16})," Sat Fiyat"]}),l.jsxs("button",{onClick:()=>S("BARCODE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Sa,{size:16})," Barkod izgisi"]}),l.jsxs("button",{onClick:()=>S("BARCODE_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(i0,{size:16})," Barkod No"]}),l.jsxs("button",{onClick:()=>S("CUSTOM_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Lr,{size:16})," Serbest Metin"]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6 relative overflow-hidden",children:p?l.jsxs("div",{className:"space-y-5 animate-in fade-in duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-slate-700 pb-3",children:[l.jsxs("h4",{className:"text-xs font-black text-indigo-600 uppercase tracking-widest",children:[p.type.replace("_"," ")," Ayarlar"]}),l.jsx("button",{onClick:E,className:"p-1.5 text-gray-400 hover:text-rose-500 bg-gray-50 dark:bg-slate-900 rounded-lg transition-colors",children:l.jsx(Vt,{size:16})})]}),p.type==="CUSTOM_TEXT"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Metin erii"}),l.jsx("input",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.content||"",onChange:N=>_({content:N.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"X Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.x,onChange:N=>_({x:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Y Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.y,onChange:N=>_({y:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Genilik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.width,onChange:N=>_({width:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Ykseklik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.height,onChange:N=>_({height:Number(N.target.value)})})]})]}),p.type!=="BARCODE"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Font Boyutu (pt)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold",value:p.fontSize,onChange:N=>_({fontSize:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Kalnlk"}),l.jsxs("select",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-indigo-500 rounded-xl outline-none text-xs font-bold appearance-none",value:p.fontWeight,onChange:N=>_({fontWeight:N.target.value}),children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"bold",children:"Kaln"}),l.jsx("option",{value:"900",children:"Ekstra Kaln"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Hizalama"}),l.jsx("div",{className:"flex gap-1 bg-gray-50 dark:bg-slate-900 p-1 rounded-xl",children:["left","center","right"].map(N=>l.jsx("button",{onClick:()=>_({textAlign:N}),className:`flex-1 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all ${p.textAlign===N?"bg-white dark:bg-slate-800 shadow text-indigo-600":"text-gray-400"}`,children:N==="left"?"SOL":N==="center"?"ORTA":"SA"},N))})]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-slate-700 space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Arka Plan Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.backgroundColor||"#ffffff",onChange:N=>_({backgroundColor:N.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Yaz Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.color||"#000000",onChange:N=>_({color:N.target.value})})]})]})})]}):l.jsxs("div",{className:"text-center py-10 text-gray-400 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(Lr,{size:32}),l.jsxs("p",{className:"text-xs font-black uppercase tracking-widest",children:["zelliklerini dzenlemek iin",l.jsx("br",{}),"bir eleman sein."]})]})})]})]})]})},Jn=6,Coe=({template:t,onSave:e,onCancel:r})=>{const[n,a]=k.useState(t),[s,c]=k.useState(null),d=k.useRef(null),[f,m]=k.useState(null),p=n.elements.find(N=>N.id===s),g=(N,C,M,U)=>{N.stopPropagation(),c(C),m({id:C,startX:N.clientX,startY:N.clientY,initialElX:M,initialElY:U})},b=N=>{if(!f)return;const C=(N.clientX-f.startX)/Jn,M=(N.clientY-f.startY)/Jn;let U=f.initialElX+C,H=f.initialElY+M;const A=n.elements.find(I=>I.id===f.id);A&&(U=Math.max(0,Math.min(U,n.width-A.width)),H=Math.max(0,Math.min(H,n.height-A.height))),a(I=>({...I,elements:I.elements.map(P=>P.id===f.id?{...P,x:Math.round(U*10)/10,y:Math.round(H*10)/10}:P)}))},w=()=>{m(null)},_=N=>{s&&a(C=>({...C,elements:C.elements.map(M=>M.id===s?{...M,...N}:M)}))},E=()=>{s&&(a(N=>({...N,elements:N.elements.filter(C=>C.id!==s)})),c(null))},S=N=>{const C={id:Math.random().toString(36).substring(2,9),type:N,x:5,y:5,width:40,height:8,fontSize:12,fontWeight:"bold",textAlign:"left"};N==="BARCODE_MEASUREMENT"?(C.width=80,C.height=15):(N==="TEXT_STORE"||N==="TEXT_CUSTOMER"||N==="TEXT_ROOM")&&(C.width=90,C.textAlign="center"),a(M=>({...M,elements:[...M.elements,C]})),c(C.id)},R=N=>N.type==="TEXT_STORE"?"FRMA ADI":N.type==="TEXT_CUSTOMER"?"Ahmet Ylmaz":N.type==="TEXT_ROOM"?"Yatak Odas":N.type==="TEXT_WINDOW_LABEL"?"Pencere 1":N.type==="TEXT_WIDTH"?"En: 250":N.type==="TEXT_HEIGHT"?"Boy: 265":N.type==="TEXT_DESC"?"Kruvaze Tl Sk Pile":N.type==="TEXT_NOTES"?"Backlar uzun braklacak":N.type==="TEXT_DATE"?"14.05.2024":N.type==="CUSTOM_TEXT"?N.content||"Yeni Metin":N.type==="BARCODE_MEASUREMENT"||N.type==="BARCODE"?l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-400 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded",children:[l.jsx(Sa,{size:32}),l.jsx("span",{className:"text-[8px] uppercase mt-1",children:"Sipari Barkodu"})]}):"";return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>e(n),className:"flex items-center gap-2 px-8 py-3 bg-amber-500 text-white rounded-2xl font-black shadow-xl shadow-amber-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(zu,{size:20})," Tasarm Kaydet"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-8 flex flex-col items-center justify-center min-h-[500px] overflow-hidden",children:[l.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black italic text-amber-600",children:"Atlye Fii (Barkod) Tasarm"}),l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Srkle brak ile dzenleyin"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase bg-gray-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-slate-800",children:[l.jsx(a0,{size:14})," Ebat: ",n.width,"x",n.height," mm"]})]}),l.jsx("div",{className:"flex-1 w-full flex items-center justify-center bg-gray-50 dark:bg-slate-900 rounded-3xl border-2 border-dashed border-gray-200 dark:border-slate-700 p-8 overflow-auto",children:l.jsxs("div",{ref:d,onMouseMove:b,onMouseUp:w,onMouseLeave:w,className:"relative bg-white shadow-2xl overflow-hidden shrink-0",style:{width:n.width*Jn,height:n.height*Jn,cursor:f?"grabbing":"default"},onClick:()=>c(null),children:[l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(#f0f0f0 1px, transparent 1px), linear-gradient(90deg, #f0f0f0 1px, transparent 1px)",backgroundSize:`${Jn}px ${Jn}px`,opacity:.5,pointerEvents:"none"}}),n.elements.map(N=>l.jsxs("div",{onMouseDown:C=>g(C,N.id,N.x,N.y),onClick:C=>{C.stopPropagation(),c(N.id)},className:`absolute cursor-grab active:cursor-grabbing flex items-center overflow-hidden transition-shadow ${s===N.id?"ring-2 ring-amber-500 shadow-lg z-10":"hover:ring-1 hover:ring-amber-300 z-0"}`,style:{left:N.x*Jn,top:N.y*Jn,width:N.width*Jn,height:N.height*Jn,fontSize:N.fontSize*(Jn/3),fontWeight:N.fontWeight,justifyContent:N.textAlign==="center"?"center":N.textAlign==="right"?"flex-end":"flex-start",backgroundColor:N.backgroundColor||"transparent",color:N.color||"#000",borderRadius:N.borderRadius?N.borderRadius*(Jn/4):0,padding:N.padding?N.padding*Jn:0,border:N.type!=="BARCODE"&&N.type!=="BARCODE_MEASUREMENT"?"1px dashed rgba(0,0,0,0.1)":"none"},children:[s===N.id&&l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center shadow z-20 pointer-events-none",children:l.jsx(aI,{size:12})}),l.jsx("span",{className:"truncate w-full leading-tight",style:{textAlign:N.textAlign},children:R(N)})]},N.id))]})}),l.jsx("p",{className:"text-[10px] text-gray-400 font-bold mt-4 italic",children:"* Bu etiketler, her bir pencere iin ayr ayr yazdrlacaktr."})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6",children:[l.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx(Er,{size:16})," Etikete Ekle"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>S("TEXT_STORE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(i0,{size:16})," Firma Ad"]}),l.jsxs("button",{onClick:()=>S("TEXT_CUSTOMER"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(i0,{size:16})," Mteri"]}),l.jsxs("button",{onClick:()=>S("TEXT_ROOM"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(ia,{size:16})," Oda Ad"]}),l.jsxs("button",{onClick:()=>S("TEXT_WINDOW_LABEL"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(ia,{size:16})," Pencere Ad"]}),l.jsxs("button",{onClick:()=>S("TEXT_WIDTH"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(bn,{size:16})," Genilik"]}),l.jsxs("button",{onClick:()=>S("TEXT_HEIGHT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(bn,{size:16})," Ykseklik"]}),l.jsxs("button",{onClick:()=>S("TEXT_DESC"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(bj,{size:16})," Model/Kuma"]}),l.jsxs("button",{onClick:()=>S("TEXT_NOTES"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(bj,{size:16})," Sipari Notu"]}),l.jsxs("button",{onClick:()=>S("TEXT_DATE"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(aa,{size:16})," Tarih"]}),l.jsxs("button",{onClick:()=>S("BARCODE_MEASUREMENT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2",children:[l.jsx(Sa,{size:16})," Barkod"]}),l.jsxs("button",{onClick:()=>S("CUSTOM_TEXT"),className:"p-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-[10px] font-bold uppercase hover:border-amber-500 hover:text-amber-600 transition-all flex flex-col items-center gap-2 col-span-2",children:[l.jsx(Lr,{size:16})," Serbest Metin"]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm p-6 relative overflow-hidden",children:p?l.jsxs("div",{className:"space-y-5 animate-in fade-in duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-slate-700 pb-3",children:[l.jsxs("h4",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:[p.type.replace("_"," ")," Ayarlar"]}),l.jsx("button",{onClick:E,className:"p-1.5 text-gray-400 hover:text-rose-500 bg-gray-50 dark:bg-slate-900 rounded-lg transition-colors",children:l.jsx(Vt,{size:16})})]}),p.type==="CUSTOM_TEXT"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Metin erii"}),l.jsx("input",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.content||"",onChange:N=>_({content:N.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"X Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.x,onChange:N=>_({x:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Y Pozisyonu (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.y,onChange:N=>_({y:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Genilik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.width,onChange:N=>_({width:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Ykseklik (mm)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.height,onChange:N=>_({height:Number(N.target.value)})})]})]}),p.type!=="BARCODE"&&p.type!=="BARCODE_MEASUREMENT"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Font Boyutu (pt)"}),l.jsx("input",{type:"number",className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold",value:p.fontSize,onChange:N=>_({fontSize:Number(N.target.value)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Kalnlk"}),l.jsxs("select",{className:"w-full p-2 bg-gray-50 dark:bg-slate-900 border border-transparent focus:border-amber-500 rounded-xl outline-none text-xs font-bold appearance-none",value:p.fontWeight,onChange:N=>_({fontWeight:N.target.value}),children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"bold",children:"Kaln"}),l.jsx("option",{value:"900",children:"Ekstra Kaln"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Hizalama"}),l.jsx("div",{className:"flex gap-1 bg-gray-50 dark:bg-slate-900 p-1 rounded-xl",children:["left","center","right"].map(N=>l.jsx("button",{onClick:()=>_({textAlign:N}),className:`flex-1 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all ${p.textAlign===N?"bg-white dark:bg-slate-800 shadow text-amber-600":"text-gray-400"}`,children:N==="left"?"SOL":N==="center"?"ORTA":"SA"},N))})]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-slate-700 space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Arka Plan Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.backgroundColor||"#ffffff",onChange:N=>_({backgroundColor:N.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Yaz Rengi"}),l.jsx("input",{type:"color",className:"w-full h-8 p-0.5 bg-gray-50 dark:bg-slate-900 rounded-xl cursor-pointer",value:p.color||"#000000",onChange:N=>_({color:N.target.value})})]})]})})]}):l.jsxs("div",{className:"text-center py-10 text-gray-400 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(Lr,{size:32}),l.jsxs("p",{className:"text-xs font-black uppercase tracking-widest",children:["zelliklerini dzenlemek iin",l.jsx("br",{}),"bir eleman sein."]})]})})]})]})]})},Ooe=({products:t,setProducts:e,groups:r,setGroups:n,units:a,setUnits:s,barcodeTemplate:c,firmProfile:d,onBack:f})=>{const[m,p]=k.useState("GROUPS"),[g,b]=k.useState(""),[w,_]=k.useState(null),E=()=>{if(!g.trim())return;const ee={id:"g"+Math.random().toString(36).substr(2,9),name:g.trim()};n(L=>[...L,ee]),b("")},S=()=>{if(!w)return;const ee=w.id;n(L=>L.filter(F=>F.id!==ee)),e(L=>L.map(F=>F.groupId===ee?{...F,groupId:void 0}:F)),_(null)},[R,N]=k.useState(""),[C,M]=k.useState(null),U=()=>{!R.trim()||a.includes(R.trim())||(s(ee=>[...ee,R.trim()]),N(""))},H=()=>{C&&(s(ee=>ee.filter(L=>L!==C)),e(ee=>ee.map(L=>L.unit===C?{...L,unit:"Adet"}:L)),M(null))},[A,I]=k.useState(""),[P,$]=k.useState(new Set),[z,D]=k.useState({}),B=k.useMemo(()=>t.filter(ee=>ee.name.toLowerCase().includes(A.toLowerCase())||ee.barcode.includes(A)).sort((ee,L)=>ee.name.localeCompare(L.name,"tr-TR")),[t,A]),W=k.useMemo(()=>{let ee=t.length,L=0,F=0,oe=0;return t.forEach(K=>{const ge=Math.max(0,K.stock);L+=ge,F+=(K.purchasePrice||0)*ge,oe+=(K.price||0)*ge}),{totalVarieties:ee,totalStock:L,totalPurchaseValue:F,totalSalesValue:oe}},[t]),te=()=>{P.size===B.length&&B.length>0?$(new Set):$(new Set(B.map(ee=>ee.id)))},G=ee=>{const L=new Set(P);L.has(ee)?L.delete(ee):L.add(ee),$(L)},Q=ee=>{const L=window.open("","_blank");if(!L){alert("Yazdrma penceresi alamad. Ltfen pop-up engelleyiciyi kapatn.");return}let F="";ee.forEach(K=>{for(let ge=0;ge<K.count;ge++){const Ne=c.elements.map(fe=>{let $e="";return fe.type==="TEXT_STORE"?$e=d.name:fe.type==="TEXT_PRODUCT"?$e=K.product.name:fe.type==="TEXT_PRICE"?$e=`${K.product.price.toLocaleString("tr-TR")} `:fe.type==="CUSTOM_TEXT"?$e=fe.content||"":fe.type==="BARCODE_TEXT"?$e=K.product.barcode:fe.type==="BARCODE"&&($e=`<img src="https://barcode.tec-it.com/barcode.ashx?data=${K.product.barcode}&code=Code128&translate-esc=true&imagetype=Png&hide-text=true" style="width:100%;height:100%;object-fit:contain;"/>`),`<div style="${`
            position: absolute;
            left: ${fe.x}mm;
            top: ${fe.y}mm;
            width: ${fe.width}mm;
            height: ${fe.height}mm;
            font-size: ${fe.fontSize}pt;
            font-weight: ${fe.fontWeight};
            text-align: ${fe.textAlign};
            display: flex;
            justify-content: ${fe.textAlign==="center"?"center":fe.textAlign==="right"?"flex-end":"flex-start"};
            align-items: center;
            overflow: hidden;
            white-space: ${fe.type==="TEXT_PRODUCT"?"normal":"nowrap"};
            line-height: 1.1;
            ${fe.backgroundColor?`background-color: ${fe.backgroundColor};`:""}
            ${fe.color?`color: ${fe.color};`:""}
            ${fe.borderRadius?`border-radius: ${fe.borderRadius}px;`:""}
            ${fe.padding?`padding: ${fe.padding}mm;`:""}
          `}">${$e}</div>`}).join("");F+=`<div class="label-page">${Ne}</div>`}});const oe=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Toplu Etiket Yazdrma</title>
          <style>
            @page {
              size: ${c.width}mm ${c.height}mm;
              margin: 0;
            }
            body {
              margin: 0;
              padding: 0;
              width: ${c.width}mm;
              box-sizing: border-box;
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background: white;
              color: black;
            }
            .label-page {
              width: ${c.width}mm;
              height: ${c.height}mm;
              position: relative;
              page-break-after: always;
              overflow: hidden;
            }
            .label-page:last-child {
              page-break-after: auto;
            }
          </style>
        </head>
        <body>
          ${F}
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
                window.close();
              }, 1000);
            };
          <\/script>
        </body>
      </html>
    `;L.document.write(oe),L.document.close()},me=()=>{const ee=Array.from(P).map(L=>{const F=t.find(oe=>oe.id===L);return F?{product:F,count:z[L]||1}:null}).filter(L=>L!==null);Q(ee)},de=()=>{const ee=B.map(L=>({product:L,count:z[L.id]||1}));Q(ee)};return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-emerald-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-8 sm:p-12 border-b border-gray-50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center text-emerald-600 shrink-0",children:l.jsx(ja,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"rn Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Grup, Birim ve Barkod lemleri"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(ja,{size:14,className:"text-indigo-500"})," Toplam Stok"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-slate-700 dark:text-slate-200 truncate",children:[W.totalVarieties," ",l.jsx("span",{className:"text-xs sm:text-sm font-bold opacity-50",children:"eit"})," / ",W.totalStock.toLocaleString("tr-TR")," ",l.jsx("span",{className:"text-xs sm:text-sm font-bold opacity-50",children:"Kalem"})]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(Ef,{size:14,className:"text-amber-500"})," Toplam Maliyet"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-amber-600 truncate",children:[W.totalPurchaseValue.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-emerald-500"})," Toplam Sat Deeri"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-emerald-600 truncate",children:[W.totalSalesValue.toLocaleString("tr-TR")," "]})]}),l.jsxs("div",{className:"p-4 sm:p-5 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700/50 flex flex-col gap-1.5 shadow-sm",children:[l.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx(ia,{size:14,className:"text-indigo-500"})," Beklenen Kr"]}),l.jsxs("span",{className:"text-lg sm:text-xl font-black text-indigo-600 truncate",children:[(W.totalSalesValue-W.totalPurchaseValue).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar",children:[l.jsxs("button",{onClick:()=>p("GROUPS"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="GROUPS"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(Ll,{size:18})," rn Gruplar"]}),l.jsxs("button",{onClick:()=>p("UNITS"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="UNITS"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(bn,{size:18})," rn Birimleri"]}),l.jsxs("button",{onClick:()=>p("BARCODES"),className:`px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 border-2 whitespace-nowrap ${m==="BARCODES"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-transparent border-gray-100 dark:border-slate-700 text-gray-500 hover:border-emerald-200"}`,children:[l.jsx(Vl,{size:18})," Barkod Yazdrma"]})]})]}),l.jsxs("div",{className:"p-8 sm:p-12 flex-1",children:[m==="GROUPS"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{className:"flex-1 p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all",placeholder:"Yeni rn grubu ad...",value:g,onChange:ee=>b(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&E()}),l.jsxs("button",{onClick:E,className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest flex items-center justify-center gap-2",children:[l.jsx(Er,{size:18})," Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-4 border-t border-gray-50 dark:border-slate-700",children:r.length===0?l.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 font-bold italic",children:"Sistemde kaytl grup bulunmamaktadr."}):l.jsxs(l.Fragment,{children:[r.map(ee=>{const L=t.filter(Ne=>Ne.groupId===ee.id),F=L.length;let oe=0,K=0,ge=0;return L.forEach(Ne=>{const fe=Math.max(0,Ne.stock);oe+=fe,K+=(Ne.purchasePrice||0)*fe,ge+=(Ne.price||0)*fe}),l.jsxs("div",{className:"flex items-start justify-between p-5 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-transparent hover:border-gray-200 dark:hover:border-slate-700 transition-all shadow-sm",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-black text-base block text-indigo-600 dark:text-indigo-400 mb-3",children:ee.name}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"eit / Kalem"}),l.jsxs("p",{className:"font-black text-sm text-slate-700 dark:text-slate-200",children:[F," ",l.jsx("span",{className:"text-xs opacity-50",children:"/"})," ",oe.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Beklenen Kr"}),l.jsxs("p",{className:"font-black text-sm text-emerald-600",children:[(ge-K).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-[10px] font-black text-slate-500 bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Ef,{size:14,className:"text-amber-500"})," Maliyet: ",K.toLocaleString("tr-TR")," "]}),l.jsx("span",{className:"hidden sm:block opacity-30",children:"|"}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-emerald-500"})," Sat: ",ge.toLocaleString("tr-TR")," "]})]})]}),l.jsx("button",{onClick:()=>_(ee),className:"p-2 ml-4 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all shrink-0 mt-1",children:l.jsx(Vt,{size:18})})]},ee.id)}),(()=>{const ee=t.filter(ge=>!ge.groupId);if(ee.length===0)return null;const L=ee.length;let F=0,oe=0,K=0;return ee.forEach(ge=>{const Ne=Math.max(0,ge.stock);F+=Ne,oe+=(ge.purchasePrice||0)*Ne,K+=(ge.price||0)*Ne}),l.jsx("div",{className:"flex items-start justify-between p-5 bg-gray-50 dark:bg-slate-900/50 rounded-3xl border border-transparent transition-all shadow-sm opacity-80 grayscale-[20%]",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-black text-base block text-slate-500 dark:text-slate-400 mb-3",children:"Genel (Grupsuz rnler)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"eit / Kalem"}),l.jsxs("p",{className:"font-black text-sm text-slate-700 dark:text-slate-200",children:[L," ",l.jsx("span",{className:"text-xs opacity-50",children:"/"})," ",F.toLocaleString("tr-TR")]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Beklenen Kr"}),l.jsxs("p",{className:"font-black text-sm text-emerald-600",children:[(K-oe).toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-[10px] font-black text-slate-500 bg-white dark:bg-slate-800 px-4 py-2.5 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Ef,{size:14,className:"text-amber-500"})," Maliyet: ",oe.toLocaleString("tr-TR")," "]}),l.jsx("span",{className:"hidden sm:block opacity-30",children:"|"}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(fu,{size:14,className:"text-emerald-500"})," Sat: ",K.toLocaleString("tr-TR")," "]})]})]})})})()]})})]}),m==="UNITS"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{className:"flex-1 p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all",placeholder:"Yeni rn birimi (rn: Rulo, M2, Paket)...",value:R,onChange:ee=>N(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&U()}),l.jsxs("button",{onClick:U,className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all uppercase text-xs tracking-widest flex items-center justify-center gap-2",children:[l.jsx(Er,{size:18})," Ekle"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t border-gray-50 dark:border-slate-700",children:a.length===0?l.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 font-bold italic",children:"Sistemde kaytl ek birim bulunmamaktadr."}):a.map(ee=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-gray-200 dark:hover:border-slate-700 transition-all",children:[l.jsx("span",{className:"font-black text-sm uppercase tracking-widest",children:ee}),l.jsx("button",{onClick:()=>M(ee),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx(Vt,{size:18})})]},ee))})]}),m==="BARCODES"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-emerald-500 rounded-2xl outline-none font-bold transition-all text-sm",placeholder:"rn ad veya barkod ara...",value:A,onChange:ee=>I(ee.target.value)})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col h-[500px]",children:[l.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[l.jsxs("button",{onClick:te,className:"flex items-center gap-3 group",children:[l.jsx("div",{className:`transition-colors ${P.size===B.length&&B.length>0?"text-emerald-600":"text-gray-300 dark:text-slate-600"}`,children:P.size===B.length&&B.length>0?l.jsx(wu,{size:20}):l.jsx(Df,{size:20})}),l.jsx("span",{className:"text-xs font-black text-gray-500 uppercase tracking-widest select-none",children:"Tmn Se"})]}),l.jsxs("span",{className:"text-xs font-black text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1 rounded-full uppercase tracking-widest",children:[P.size," Seili"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:B.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 gap-4 text-center",children:[l.jsx(Sa,{size:48}),l.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"rn bulunamad"})]}):B.map(ee=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 hover:bg-gray-50 dark:hover:bg-slate-900/50 rounded-2xl transition-colors group border border-transparent hover:border-gray-100 dark:hover:border-slate-700 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("button",{onClick:()=>G(ee.id),className:"shrink-0 text-gray-300 dark:text-slate-600 hover:text-emerald-500 transition-colors",children:P.has(ee.id)?l.jsx(wu,{size:20,className:"text-emerald-600"}):l.jsx(Df,{size:20})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h5",{className:"font-black text-sm truncate",children:ee.name}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 mt-0.5",children:[l.jsx(Sa,{size:12})," ",ee.barcode,l.jsx("span",{className:"opacity-50",children:"|"}),l.jsx(ia,{size:12})," ",ee.price.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 shrink-0 sm:ml-4 pl-10 sm:pl-0",children:[l.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Adet:"}),l.jsx("input",{type:"number",min:"1",className:"w-20 p-2.5 bg-gray-100 dark:bg-slate-800 rounded-xl text-center font-black outline-none focus:ring-2 focus:ring-emerald-500 transition-all text-sm",value:z[ee.id]||1,onChange:L=>D(F=>({...F,[ee.id]:Math.max(1,parseInt(L.target.value)||1)}))})]})]},ee.id))}),l.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 dark:bg-slate-900 border-t border-gray-100 dark:border-slate-700 shrink-0 flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:me,disabled:P.size===0,className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 disabled:grayscale",children:[l.jsx(Vl,{size:18})," Seilenleri Yazdr"]}),l.jsxs("button",{onClick:de,disabled:B.length===0,className:"flex-1 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-lg shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 disabled:grayscale",children:[l.jsx(a2,{size:18})," Tmn Yazdr (",B.length,")"]})]})]})]})]})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Grubu Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',w.name,'"']})," grubunu silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu gruba ait rnler otomatik olarak ",l.jsx("span",{className:"font-bold text-indigo-600",children:"Genel"})," kategorisine tanacaktr."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>_(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:S,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})}),C&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-rose-100 dark:border-rose-900/20 animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Birimi Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm leading-relaxed",children:[l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:['"',C,'"']})," birimini silmek istediinize emin misiniz?",l.jsx("br",{}),l.jsx("br",{}),"Bu birime sahip rnler ",l.jsx("span",{className:"font-bold text-indigo-600",children:"Adet"})," olarak gncellenecektir."]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>M(null),className:"flex-1 py-4 bg-white dark:bg-slate-800 text-gray-500 font-black rounded-2xl border border-gray-200 dark:border-slate-700 text-xs uppercase tracking-widest",children:"Vazge"}),l.jsx("button",{onClick:H,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl shadow-xl shadow-rose-500/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:"Evet, Sil"})]})]})})]})},Ioe=({vaults:t,setVaults:e,onBack:r})=>{const[n,a]=k.useState(!1),[s,c]=k.useState(null),[d,f]=k.useState(null),m=g=>{s?(e(b=>b.map(w=>w.id===s.id?{...w,...g}:w)),c(null)):(e(b=>[...b,{...g,id:"v"+Math.random().toString(36).substr(2,9),balance:0,currency:"TL"}]),a(!1))},p=()=>{d&&(e(g=>g.filter(b=>b.id!==d.id)),f(null))};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-indigo-600 font-bold transition-colors",children:[l.jsx(Oa,{size:20})," Ayarlara Dn"]}),l.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[l.jsx(Er,{size:18})," Yeni Kasa Ekle"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[l.jsx("div",{className:"p-8 sm:p-12 border-b border-gray-50 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center text-indigo-600 shrink-0",children:l.jsx(Ya,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Kasa Ayarlar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Sistemdeki Kasalar ve Hesaplar Ynetin"})]})]})}),l.jsx("div",{className:"p-8 sm:p-12",children:l.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-indigo-200 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${g.type==="CASH"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":g.type==="POS"?"bg-purple-50 dark:bg-purple-900/20 text-purple-500":g.type==="CREDIT_CARD"?"bg-amber-50 dark:bg-amber-900/20 text-amber-500":"bg-blue-50 dark:bg-blue-900/20 text-blue-500"}`,children:g.type==="CASH"?l.jsx(uh,{size:24}):g.type==="POS"||g.type==="CREDIT_CARD"?l.jsx(zr,{size:24}):l.jsx(Ei,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-black text-base",children:g.name}),l.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[g.type==="CASH"?"Nakit Kasa":g.type==="POS"?"POS Cihaz":g.type==="CREDIT_CARD"?"Kredi Kart":"Banka Hesab",g.isFixed&&"  Sabit"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>c(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-all",children:l.jsx(Lr,{size:18})}),!g.isFixed&&l.jsx("button",{onClick:()=>f(g),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:l.jsx(Vt,{size:18})})]})]},g.id))})})]}),(n||s)&&l.jsx(Roe,{vault:s||void 0,onClose:()=>{a(!1),c(null)},onSave:m}),d&&l.jsx("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(ms,{size:40})}),l.jsx("h4",{className:"text-xl font-black",children:"Hesab Sil?"}),l.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:['"',d.name,'" hesab silinecektir.']})]}),l.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 flex gap-3",children:[l.jsx("button",{onClick:()=>f(null),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs",children:"ptal"}),l.jsx("button",{onClick:p,className:"flex-1 py-4 bg-rose-500 text-white font-black rounded-2xl text-xs uppercase",children:"Evet, Sil"})]})]})})]})},Roe=({onClose:t,onSave:e,vault:r})=>{const[n,a]=k.useState((r==null?void 0:r.name)||""),[s,c]=k.useState((r==null?void 0:r.type)||"CASH"),[d,f]=k.useState((r==null?void 0:r.limit)||"");return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-sm rounded-[2.5rem] overflow-hidden p-8 border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200",children:[l.jsx("h3",{className:"text-2xl font-black text-indigo-600 mb-6 italic",children:r?"Hesab Dzenle":"Yeni Hesap/Kart"}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Hesap Tr"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{id:"CASH",label:"Nakit",icon:uh},{id:"BANK",label:"Banka",icon:Ei},{id:"POS",label:"POS",icon:zr},{id:"CREDIT_CARD",label:"K. Kart",icon:zr}].map(m=>l.jsxs("button",{disabled:!!r,onClick:()=>c(m.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${s===m.id?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-gray-50 dark:bg-slate-900 border-transparent text-gray-400"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(m.icon,{size:18}),l.jsx("span",{className:"text-[9px] font-bold uppercase",children:m.label})]},m.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"sim / Aklama"}),l.jsx("input",{placeholder:"rn: Nakit Kasa, Akbank...",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all",value:n,onChange:m=>a(m.target.value),autoFocus:!0})]}),s==="CREDIT_CARD"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1.5 ml-1",children:"Kart Limiti ()"}),l.jsx("input",{type:"number",placeholder:"20000",className:"w-full p-4 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-black text-amber-600",value:d,onChange:m=>f(m.target.value)})]})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 font-black text-gray-400 uppercase text-xs tracking-widest",children:"ptal"}),l.jsx("button",{disabled:!n.trim(),onClick:()=>e({name:n,type:s,limit:s==="CREDIT_CARD"?Number(d):void 0}),className:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest disabled:opacity-50",children:r?"Gncelle":"Kayd Tamamla"})]})]})})},Poe=({contacts:t})=>{const[e,r]=k.useState(""),[n,a]=k.useState("ALL"),[s,c]=k.useState(""),[d,f]=k.useState(new Set),m=k.useMemo(()=>t.filter(_=>_.phone&&_.phone.trim()!==""),[t]),p=k.useMemo(()=>m.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())),[m,s]),g=k.useMemo(()=>n==="ALL"?m.sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")):n==="CUSTOMERS"?m.filter(_=>_.type==="CUSTOMER").sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")):m.filter(_=>d.has(_.id)).sort((_,E)=>_.name.localeCompare(E.name,"tr-TR")),[m,n,d]),b=_=>{const E=new Set(d);E.has(_)?E.delete(_):E.add(_),f(E)},w=(_,E)=>{if(!e.trim()){alert("Ltfen bir mesaj yazn.");return}const S=_.replace(/\D/g,"");let R=S;S.length===10&&S.startsWith("5")&&(R="90"+S);const N=e.replace(/\{\{isim\}\}/g,E),C=encodeURIComponent(N);window.open(`https://wa.me/${R}?text=${C}`,"_blank")};return l.jsx("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm overflow-hidden p-8 sm:p-12",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-8 pb-6 border-b border-gray-50 dark:border-slate-700",children:[l.jsx("div",{className:"w-16 h-16 bg-green-50 dark:bg-green-900/30 rounded-2xl flex items-center justify-center text-green-600",children:l.jsx(nI,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-black italic tracking-tighter uppercase",children:"Sms / WhatsApp Gnder"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Carilerinize Hzl Mesaj Gnderin"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1 flex justify-between",children:["Mesaj erii",l.jsxs("span",{className:"text-indigo-500 lowercase normal-case italic",children:["pucu: Kii adn eklemek iin ","{{isim}}"," yazn"]})]}),l.jsx("textarea",{rows:6,className:"w-full p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-green-500 outline-none font-bold transition-all text-sm resize-none",placeholder:"Merhaba {{isim}}, kampanyamzdan haberdar msnz?...",value:e,onChange:_=>r(_.target.value)})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Hedef Kitle Seimi"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("button",{onClick:()=>a("ALL"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="ALL"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(Ol,{size:20})," Tm Cariler"]}),l.jsxs("button",{onClick:()=>a("CUSTOMERS"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="CUSTOMERS"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(Ol,{size:20})," Sadece Mteriler"]}),l.jsxs("button",{onClick:()=>a("SELECTED"),className:`p-4 rounded-2xl border-2 transition-all font-black text-[10px] uppercase tracking-widest flex flex-col items-center gap-2 ${n==="SELECTED"?"bg-green-600 border-green-600 text-white shadow-lg shadow-green-600/20":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 text-gray-500 hover:border-green-200"}`,children:[l.jsx(wu,{size:20})," zel Seim"]})]})]}),n==="SELECTED"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 rounded-2xl border-2 border-transparent focus:border-green-500 outline-none font-bold transition-all text-sm",placeholder:"Cari ara...",value:s,onChange:_=>c(_.target.value)})]}),l.jsx("div",{className:"h-64 overflow-y-auto bg-gray-50 dark:bg-slate-900/50 rounded-2xl border border-gray-100 dark:border-slate-700 p-2 custom-scrollbar",children:p.map(_=>l.jsxs("div",{onClick:()=>b(_.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-colors ${d.has(_.id)?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"hover:bg-white dark:hover:bg-slate-800"}`,children:[l.jsx("div",{className:`transition-colors ${d.has(_.id)?"text-green-600":"text-gray-300"}`,children:d.has(_.id)?l.jsx(wu,{size:18}):l.jsx(Df,{size:18})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-sm truncate",children:_.name.toLocaleUpperCase("tr-TR")}),l.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:_.phone})]})]},_.id))})]})]}),l.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/50 rounded-[2rem] border border-gray-100 dark:border-slate-700 p-6 max-h-[800px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"font-black text-green-600 uppercase tracking-widest text-sm",children:"Gnderim Listesi"}),l.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 px-3 py-1 rounded-full text-[10px] font-black",children:[g.length," Kii"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar pr-2",children:g.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-50 gap-2",children:[l.jsx(Ol,{size:32}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Gnderilecek Kii Yok"})]}):g.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[l.jsx("p",{className:"font-bold text-sm truncate",children:_.name.toLocaleUpperCase("tr-TR")}),l.jsxs("p",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[l.jsx(vg,{size:10})," ",_.phone]})]}),l.jsx("button",{onClick:()=>w(_.phone,_.name),disabled:!e.trim(),className:"shrink-0 p-2.5 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 active:scale-95 transition-all disabled:opacity-50 disabled:grayscale",title:"WhatsApp ile Gnder",children:l.jsx(iI,{size:16})})]},_.id))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-700",children:l.jsx("p",{className:"text-[9px] font-bold text-gray-400 italic text-center leading-relaxed",children:'Web tarayc gvenlik kurallar gerei mesajlar tek tek onaynzla gnderilmektedir. Listedeki "Gnder" butonlarna srayla tklayabilirsiniz.'})})]})]})]})})},Moe=({transactions:t,contacts:e,onBack:r})=>{const[n,a]=k.useState(""),[s,c]=k.useState("ALL"),[d,f]=k.useState("ALL"),[m,p]=k.useState(()=>{const N=new Date;return`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")}`}),[g,b]=k.useState(()=>{const N=new Date;return`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`}),[w,_]=k.useState(()=>new Date().getFullYear().toString()),E=k.useMemo(()=>t.filter(N=>{const C=e.find(z=>z.id===N.contactId),H=`${C?C.name.toLocaleUpperCase("tr-TR"):"GENEL LEM"} ${N.description}`.toLowerCase().includes(n.toLowerCase()),A=s==="ALL"||N.type===s,I=!N.isStartingBalance,P=!N.isCredit;let $=!0;if(d!=="ALL"){const z=new Date(N.date);if(d==="DAILY"){if(m){const[D,B,W]=m.split("-");$=z.getFullYear()===parseInt(D)&&z.getMonth()===parseInt(B)-1&&z.getDate()===parseInt(W)}}else if(d==="MONTHLY"){if(g){const[D,B]=g.split("-");$=z.getFullYear()===parseInt(D)&&z.getMonth()===parseInt(B)-1}}else d==="YEARLY"&&w&&($=z.getFullYear()===parseInt(w))}return H&&A&&$&&I&&P}).sort((N,C)=>new Date(C.date).getTime()-new Date(N.date).getTime()),[t,e,n,s,d,m,g,w]),S=E.filter(N=>N.type==="INCOME").reduce((N,C)=>N+C.amount,0),R=E.filter(N=>N.type==="EXPENSE").reduce((N,C)=>N+C.amount,0);return l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300 pb-20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-2.5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm text-gray-500 hover:text-indigo-600 transition-all",children:l.jsx(Oa,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black italic text-indigo-600 leading-none",children:"Performans Detaylar"}),l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Detayl Al / Sat Verileri"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Po,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Toplam Al/Gelir"}),l.jsxs("p",{className:"text-2xl font-black text-emerald-500",children:[S.toLocaleString("tr-TR")," "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Toplam Sat/Gider"}),l.jsxs("p",{className:"text-2xl font-black text-rose-500",children:[R.toLocaleString("tr-TR")," "]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 shadow-sm space-y-4",children:l.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 group",children:[l.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors",size:20}),l.jsx("input",{type:"text",placeholder:"Kii veya ilem ara...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-indigo-500 rounded-2xl outline-none font-bold transition-all text-sm",value:n,onChange:N=>a(N.target.value)})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 items-center",children:[l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent overflow-x-auto hide-scrollbar",children:["ALL","DAILY","MONTHLY","YEARLY"].map(N=>l.jsx("button",{onClick:()=>f(N),className:`px-4 sm:px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${d===N?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:N==="ALL"?"Tm":N==="DAILY"?"Gnlk":N==="MONTHLY"?"Aylk":"Yllk"},N))}),d!=="ALL"&&l.jsxs("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent shrink-0",children:[d==="DAILY"&&l.jsx("input",{type:"date",value:m,onChange:N=>p(N.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200"}),d==="MONTHLY"&&l.jsx("input",{type:"month",value:g,onChange:N=>b(N.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200"}),d==="YEARLY"&&l.jsx("select",{value:w,onChange:N=>_(N.target.value),className:"bg-transparent outline-none px-3 py-1.5 text-xs font-black text-slate-700 dark:text-slate-200 appearance-none pr-6 cursor-pointer",children:Array.from({length:15},(N,C)=>new Date().getFullYear()-C).map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsx("div",{className:"flex bg-gray-50 dark:bg-slate-900 p-1 rounded-2xl border-2 border-transparent overflow-x-auto hide-scrollbar",children:["ALL","INCOME","EXPENSE"].map(N=>l.jsx("button",{onClick:()=>c(N),className:`px-4 sm:px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===N?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-gray-400"}`,children:N==="ALL"?"Tm":N==="INCOME"?"Al/Gelir":"Sat/Gider"},N))})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-gray-100 dark:border-slate-700 overflow-hidden shadow-sm",children:l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:E.length===0?l.jsxs("div",{className:"p-24 text-center text-gray-400 flex flex-col items-center gap-4 opacity-30 italic font-bold",children:[l.jsx(aa,{size:48}),"Kayt bulunamad."]}):E.map(N=>{const C=e.find(U=>U.id===N.contactId),M=C?C.name.toLocaleUpperCase("tr-TR"):"GENEL LEM";return l.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${N.type==="INCOME"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-rose-50 dark:bg-rose-900/20 text-rose-500"}`,children:N.type==="INCOME"?l.jsx(Po,{size:24}):l.jsx(Mo,{size:24})}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-sm sm:text-base leading-tight group-hover:text-indigo-600 transition-colors",children:M}),l.jsx("p",{className:"text-[11px] font-medium text-gray-500 mt-0.5",children:N.description}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter",children:[l.jsx(aa,{size:12,className:"opacity-60"})," ",new Date(N.date).toLocaleString("tr-TR")]})]})]}),l.jsxs("div",{className:`font-black text-sm sm:text-xl text-right shrink-0 ${N.type==="INCOME"?"text-emerald-500":"text-rose-500"}`,children:[N.type==="INCOME"?"+":"-",N.amount.toLocaleString("tr-TR")," "]})]},N.id)})})})]})},Doe=({vaults:t,setVaults:e,onPayment:r})=>{const n=s=>{var d;let c=(d=t.find(f=>f.id==="v_iyzico_fixed"||f.name.toLowerCase().includes("iyzico")))==null?void 0:d.id;if(!c){c="v_iyzico_fixed";const f={id:c,name:"yzico (Sanal POS)",type:"POS",balance:0,currency:"TL",isFixed:!0};e(m=>[...m,f])}c&&(r({type:"INCOME",amount:s,vaultId:c,description:"Bamsz Online deme (yzico)",isCredit:!1,isSale:!1}),alert(`Tahsilat baarl: ${s.toLocaleString("tr-TR")}  yzico kasasna eklendi.`))};k.useEffect(()=>{const s=c=>{var d;c.origin==="https://emrperdeodemepaneli.netlify.app"&&((d=c.data)==null?void 0:d.type)==="PAYMENT_SUCCESS"&&c.data.amount&&n(Number(c.data.amount))};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)},[t,e,r]);const a=()=>{window.history.pushState({view:"DASHBOARD"},""),window.dispatchEvent(new PopStateEvent("popstate",{state:{view:"DASHBOARD"}}))};return l.jsxs("div",{className:"fixed inset-0 z-[150] bg-white dark:bg-slate-900 flex flex-col animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-100 dark:border-slate-700 shadow-sm shrink-0",children:[l.jsxs("h3",{className:"font-black text-lg sm:text-xl text-blue-600 flex items-center gap-2",children:[l.jsx(zr,{size:24})," Bamsz Online deme Paneli"]}),l.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-slate-800 rounded-xl text-gray-500 hover:text-rose-500 font-bold transition-colors",children:[l.jsx(Zt,{size:20})," Kapat"]})]}),l.jsx("iframe",{src:"https://emrperdeodemepaneli.netlify.app/",className:"w-full flex-1 border-none bg-white",title:"deme Paneli"})]})},zoe=({onBack:t})=>{const[e,r]=k.useState(null),[n,a]=k.useState("Portal Paneli"),s=(c,d)=>{r(c),a(d)};return e?l.jsxs("div",{className:"fixed inset-0 z-[150] bg-white dark:bg-slate-900 flex flex-col animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-100 dark:border-slate-700 shadow-sm shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>r(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-xl text-gray-500 transition-colors",children:l.jsx(tI,{size:24})}),l.jsxs("h3",{className:"font-black text-lg sm:text-xl text-indigo-600 flex items-center gap-2",children:[l.jsx(rI,{size:24})," ",n]})]}),l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-slate-800 rounded-xl text-gray-500 hover:text-rose-500 font-bold transition-colors",children:[l.jsx(Zt,{size:20})," Kapat"]})]}),l.jsx("iframe",{src:e,className:"w-full flex-1 border-none bg-white",title:n})]}):l.jsxs("div",{className:"fixed inset-0 z-[150] bg-gray-50 dark:bg-slate-950 flex flex-col animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-slate-800 bg-white dark:bg-slate-900 shrink-0",children:[l.jsx("h3",{className:"font-black text-2xl text-indigo-600 italic tracking-tighter uppercase",children:"Tahsilat Portallar"}),l.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:28})})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-4xl",children:[l.jsxs("button",{onClick:()=>s("https://merchant.iyzipay.com/auth/login","yzico Portal"),className:"group relative bg-white dark:bg-slate-900 p-10 rounded-[3rem] border border-gray-100 dark:border-slate-800 shadow-xl hover:shadow-2xl hover:border-blue-500/50 transition-all flex flex-col items-center text-center gap-6 overflow-hidden active:scale-95",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:l.jsx(I1,{size:120})}),l.jsx("div",{className:"w-24 h-24 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-[2rem] flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:l.jsx(I1,{size:48})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tighter mb-2",children:"YZCO"}),l.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Kurumsal Ynetim Paneli"})]}),l.jsx("div",{className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-blue-600/20",children:"Giri Yap"})]}),l.jsxs("button",{onClick:()=>s("https://portal.odeal.com/","deal Portal"),className:"group relative bg-white dark:bg-slate-900 p-10 rounded-[3rem] border border-gray-100 dark:border-slate-800 shadow-xl hover:shadow-2xl hover:border-indigo-500/50 transition-all flex flex-col items-center text-center gap-6 overflow-hidden active:scale-95",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:l.jsx(zr,{size:120})}),l.jsx("div",{className:"w-24 h-24 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-[2rem] flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:l.jsx(zr,{size:48})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tighter mb-2",children:"DEAL"}),l.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Tahsilat & Raporlama"})]}),l.jsx("div",{className:"mt-4 px-6 py-3 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Giri Yap"})]})]})}),l.jsx("div",{className:"p-8 text-center opacity-40",children:l.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-slate-500",children:"PORTAL ERM SSTEM"})})]})};var Loe="firebase",Voe="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co(Loe,Voe,"app");var n4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,f3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function P(){}P.prototype=I.prototype,A.F=I.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function($,z,D){for(var B=Array(arguments.length-2),W=2;W<arguments.length;W++)B[W-2]=arguments[W];return I.prototype[z].apply($,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,I,P){P||(P=0);const $=Array(16);if(typeof I=="string")for(var z=0;z<16;++z)$[z]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(z=0;z<16;++z)$[z]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=A.g[0],P=A.g[1],z=A.g[2];let D=A.g[3],B;B=I+(D^P&(z^D))+$[0]+3614090360&4294967295,I=P+(B<<7&4294967295|B>>>25),B=D+(z^I&(P^z))+$[1]+3905402710&4294967295,D=I+(B<<12&4294967295|B>>>20),B=z+(P^D&(I^P))+$[2]+606105819&4294967295,z=D+(B<<17&4294967295|B>>>15),B=P+(I^z&(D^I))+$[3]+3250441966&4294967295,P=z+(B<<22&4294967295|B>>>10),B=I+(D^P&(z^D))+$[4]+4118548399&4294967295,I=P+(B<<7&4294967295|B>>>25),B=D+(z^I&(P^z))+$[5]+1200080426&4294967295,D=I+(B<<12&4294967295|B>>>20),B=z+(P^D&(I^P))+$[6]+2821735955&4294967295,z=D+(B<<17&4294967295|B>>>15),B=P+(I^z&(D^I))+$[7]+4249261313&4294967295,P=z+(B<<22&4294967295|B>>>10),B=I+(D^P&(z^D))+$[8]+1770035416&4294967295,I=P+(B<<7&4294967295|B>>>25),B=D+(z^I&(P^z))+$[9]+2336552879&4294967295,D=I+(B<<12&4294967295|B>>>20),B=z+(P^D&(I^P))+$[10]+4294925233&4294967295,z=D+(B<<17&4294967295|B>>>15),B=P+(I^z&(D^I))+$[11]+2304563134&4294967295,P=z+(B<<22&4294967295|B>>>10),B=I+(D^P&(z^D))+$[12]+1804603682&4294967295,I=P+(B<<7&4294967295|B>>>25),B=D+(z^I&(P^z))+$[13]+4254626195&4294967295,D=I+(B<<12&4294967295|B>>>20),B=z+(P^D&(I^P))+$[14]+2792965006&4294967295,z=D+(B<<17&4294967295|B>>>15),B=P+(I^z&(D^I))+$[15]+1236535329&4294967295,P=z+(B<<22&4294967295|B>>>10),B=I+(z^D&(P^z))+$[1]+4129170786&4294967295,I=P+(B<<5&4294967295|B>>>27),B=D+(P^z&(I^P))+$[6]+3225465664&4294967295,D=I+(B<<9&4294967295|B>>>23),B=z+(I^P&(D^I))+$[11]+643717713&4294967295,z=D+(B<<14&4294967295|B>>>18),B=P+(D^I&(z^D))+$[0]+3921069994&4294967295,P=z+(B<<20&4294967295|B>>>12),B=I+(z^D&(P^z))+$[5]+3593408605&4294967295,I=P+(B<<5&4294967295|B>>>27),B=D+(P^z&(I^P))+$[10]+38016083&4294967295,D=I+(B<<9&4294967295|B>>>23),B=z+(I^P&(D^I))+$[15]+3634488961&4294967295,z=D+(B<<14&4294967295|B>>>18),B=P+(D^I&(z^D))+$[4]+3889429448&4294967295,P=z+(B<<20&4294967295|B>>>12),B=I+(z^D&(P^z))+$[9]+568446438&4294967295,I=P+(B<<5&4294967295|B>>>27),B=D+(P^z&(I^P))+$[14]+3275163606&4294967295,D=I+(B<<9&4294967295|B>>>23),B=z+(I^P&(D^I))+$[3]+4107603335&4294967295,z=D+(B<<14&4294967295|B>>>18),B=P+(D^I&(z^D))+$[8]+1163531501&4294967295,P=z+(B<<20&4294967295|B>>>12),B=I+(z^D&(P^z))+$[13]+2850285829&4294967295,I=P+(B<<5&4294967295|B>>>27),B=D+(P^z&(I^P))+$[2]+4243563512&4294967295,D=I+(B<<9&4294967295|B>>>23),B=z+(I^P&(D^I))+$[7]+1735328473&4294967295,z=D+(B<<14&4294967295|B>>>18),B=P+(D^I&(z^D))+$[12]+2368359562&4294967295,P=z+(B<<20&4294967295|B>>>12),B=I+(P^z^D)+$[5]+4294588738&4294967295,I=P+(B<<4&4294967295|B>>>28),B=D+(I^P^z)+$[8]+2272392833&4294967295,D=I+(B<<11&4294967295|B>>>21),B=z+(D^I^P)+$[11]+1839030562&4294967295,z=D+(B<<16&4294967295|B>>>16),B=P+(z^D^I)+$[14]+4259657740&4294967295,P=z+(B<<23&4294967295|B>>>9),B=I+(P^z^D)+$[1]+2763975236&4294967295,I=P+(B<<4&4294967295|B>>>28),B=D+(I^P^z)+$[4]+1272893353&4294967295,D=I+(B<<11&4294967295|B>>>21),B=z+(D^I^P)+$[7]+4139469664&4294967295,z=D+(B<<16&4294967295|B>>>16),B=P+(z^D^I)+$[10]+3200236656&4294967295,P=z+(B<<23&4294967295|B>>>9),B=I+(P^z^D)+$[13]+681279174&4294967295,I=P+(B<<4&4294967295|B>>>28),B=D+(I^P^z)+$[0]+3936430074&4294967295,D=I+(B<<11&4294967295|B>>>21),B=z+(D^I^P)+$[3]+3572445317&4294967295,z=D+(B<<16&4294967295|B>>>16),B=P+(z^D^I)+$[6]+76029189&4294967295,P=z+(B<<23&4294967295|B>>>9),B=I+(P^z^D)+$[9]+3654602809&4294967295,I=P+(B<<4&4294967295|B>>>28),B=D+(I^P^z)+$[12]+3873151461&4294967295,D=I+(B<<11&4294967295|B>>>21),B=z+(D^I^P)+$[15]+530742520&4294967295,z=D+(B<<16&4294967295|B>>>16),B=P+(z^D^I)+$[2]+3299628645&4294967295,P=z+(B<<23&4294967295|B>>>9),B=I+(z^(P|~D))+$[0]+4096336452&4294967295,I=P+(B<<6&4294967295|B>>>26),B=D+(P^(I|~z))+$[7]+1126891415&4294967295,D=I+(B<<10&4294967295|B>>>22),B=z+(I^(D|~P))+$[14]+2878612391&4294967295,z=D+(B<<15&4294967295|B>>>17),B=P+(D^(z|~I))+$[5]+4237533241&4294967295,P=z+(B<<21&4294967295|B>>>11),B=I+(z^(P|~D))+$[12]+1700485571&4294967295,I=P+(B<<6&4294967295|B>>>26),B=D+(P^(I|~z))+$[3]+2399980690&4294967295,D=I+(B<<10&4294967295|B>>>22),B=z+(I^(D|~P))+$[10]+4293915773&4294967295,z=D+(B<<15&4294967295|B>>>17),B=P+(D^(z|~I))+$[1]+2240044497&4294967295,P=z+(B<<21&4294967295|B>>>11),B=I+(z^(P|~D))+$[8]+1873313359&4294967295,I=P+(B<<6&4294967295|B>>>26),B=D+(P^(I|~z))+$[15]+4264355552&4294967295,D=I+(B<<10&4294967295|B>>>22),B=z+(I^(D|~P))+$[6]+2734768916&4294967295,z=D+(B<<15&4294967295|B>>>17),B=P+(D^(z|~I))+$[13]+1309151649&4294967295,P=z+(B<<21&4294967295|B>>>11),B=I+(z^(P|~D))+$[4]+4149444226&4294967295,I=P+(B<<6&4294967295|B>>>26),B=D+(P^(I|~z))+$[11]+3174756917&4294967295,D=I+(B<<10&4294967295|B>>>22),B=z+(I^(D|~P))+$[2]+718787259&4294967295,z=D+(B<<15&4294967295|B>>>17),B=P+(D^(z|~I))+$[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(z+(B<<21&4294967295|B>>>11))&4294967295,A.g[2]=A.g[2]+z&4294967295,A.g[3]=A.g[3]+D&4294967295}n.prototype.v=function(A,I){I===void 0&&(I=A.length);const P=I-this.blockSize,$=this.C;let z=this.h,D=0;for(;D<I;){if(z==0)for(;D<=P;)a(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<I;)if($[z++]=A.charCodeAt(D++),z==this.blockSize){a(this,$),z=0;break}}else for(;D<I;)if($[z++]=A[D++],z==this.blockSize){a(this,$),z=0;break}}this.h=z,this.o+=I},n.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,P=0;P<4;++P)for(let $=0;$<32;$+=8)A[I++]=this.g[P]>>>$&255;return A};function s(A,I){var P=d;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=I(A)}function c(A,I){this.h=I;const P=[];let $=!0;for(let z=A.length-1;z>=0;z--){const D=A[z]|0;$&&D==I||(P[z]=D,$=!1)}this.g=P}var d={};function f(A){return-128<=A&&A<128?s(A,function(I){return new c([I|0],I<0?-1:0)}):new c([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return g;if(A<0)return S(m(-A));const I=[];let P=1;for(let $=0;A>=P;$++)I[$]=A/P|0,P*=4294967296;return new c(I,0)}function p(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return S(p(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(I,8));let $=g;for(let D=0;D<A.length;D+=8){var z=Math.min(8,A.length-D);const B=parseInt(A.substring(D,D+z),I);z<8?(z=m(Math.pow(I,z)),$=$.j(z).add(m(B))):($=$.j(P),$=$.add(m(B)))}return $}var g=f(0),b=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(E(this))return-S(this).m();let A=0,I=1;for(let P=0;P<this.g.length;P++){const $=this.i(P);A+=($>=0?$:4294967296+$)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(E(this))return"-"+S(this).toString(A);const I=m(Math.pow(A,6));var P=this;let $="";for(;;){const z=M(P,I).g;P=R(P,z.j(I));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=z,_(P))return D+$;for(;D.length<6;)D="0"+D;$=D+$}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=R(this,A),E(A)?-1:_(A)?0:1};function S(A){const I=A.g.length,P=[];for(let $=0;$<I;$++)P[$]=~A.g[$];return new c(P,~A.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(A){const I=Math.max(this.g.length,A.g.length),P=[];let $=0;for(let z=0;z<=I;z++){let D=$+(this.i(z)&65535)+(A.i(z)&65535),B=(D>>>16)+(this.i(z)>>>16)+(A.i(z)>>>16);$=B>>>16,D&=65535,B&=65535,P[z]=B<<16|D}return new c(P,P[P.length-1]&-2147483648?-1:0)};function R(A,I){return A.add(S(I))}t.j=function(A){if(_(this)||_(A))return g;if(E(this))return E(A)?S(this).j(S(A)):S(S(this).j(A));if(E(A))return S(this.j(S(A)));if(this.l(w)<0&&A.l(w)<0)return m(this.m()*A.m());const I=this.g.length+A.g.length,P=[];for(var $=0;$<2*I;$++)P[$]=0;for($=0;$<this.g.length;$++)for(let z=0;z<A.g.length;z++){const D=this.i($)>>>16,B=this.i($)&65535,W=A.i(z)>>>16,te=A.i(z)&65535;P[2*$+2*z]+=B*te,N(P,2*$+2*z),P[2*$+2*z+1]+=D*te,N(P,2*$+2*z+1),P[2*$+2*z+1]+=B*W,N(P,2*$+2*z+1),P[2*$+2*z+2]+=D*W,N(P,2*$+2*z+2)}for(A=0;A<I;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=I;A<2*I;A++)P[A]=0;return new c(P,0)};function N(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function C(A,I){this.g=A,this.h=I}function M(A,I){if(_(I))throw Error("division by zero");if(_(A))return new C(g,g);if(E(A))return I=M(S(A),I),new C(S(I.g),S(I.h));if(E(I))return I=M(A,S(I)),new C(S(I.g),I.h);if(A.g.length>30){if(E(A)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var P=b,$=I;$.l(A)<=0;)P=U(P),$=U($);var z=H(P,1),D=H($,1);for($=H($,2),P=H(P,2);!_($);){var B=D.add($);B.l(A)<=0&&(z=z.add(P),D=B),$=H($,1),P=H(P,1)}return I=R(A,z.j(I)),new C(z,I)}for(z=g;A.l(I)>=0;){for(P=Math.max(1,Math.floor(A.m()/I.m())),$=Math.ceil(Math.log(P)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),D=m(P),B=D.j(I);E(B)||B.l(A)>0;)P-=$,D=m(P),B=D.j(I);_(D)&&(D=b),z=z.add(D),A=R(A,B)}return new C(z,A)}t.B=function(A){return M(this,A).h},t.and=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let $=0;$<I;$++)P[$]=this.i($)&A.i($);return new c(P,this.h&A.h)},t.or=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let $=0;$<I;$++)P[$]=this.i($)|A.i($);return new c(P,this.h|A.h)},t.xor=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let $=0;$<I;$++)P[$]=this.i($)^A.i($);return new c(P,this.h^A.h)};function U(A){const I=A.g.length+1,P=[];for(let $=0;$<I;$++)P[$]=A.i($)<<1|A.i($-1)>>>31;return new c(P,A.h)}function H(A,I){const P=I>>5;I%=32;const $=A.g.length-P,z=[];for(let D=0;D<$;D++)z[D]=I>0?A.i(D+P)>>>I|A.i(D+P+1)<<32-I:A.i(D+P);return new c(z,A.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,f3=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=p,Io=c}).apply(typeof n4<"u"?n4:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h3,wf,m3,Xp,Lw,p3,g3,x3;(function(){var t,e=Object.defineProperty;function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var j=0;j<x.length;++j){var O=x[j];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=r(this);function a(x,j){if(j)e:{var O=n;x=x.split(".");for(var q=0;q<x.length-1;q++){var J=x[q];if(!(J in O))break e;O=O[J]}x=x[x.length-1],q=O[x],j=j(q),j!=q&&j!=null&&e(O,x,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(x){return x||function(j){var O=[],q;for(q in j)Object.prototype.hasOwnProperty.call(j,q)&&O.push([q,j[q]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(x){var j=typeof x;return j=="object"&&x!=null||j=="function"}function f(x,j,O){return x.call.apply(x.bind,arguments)}function m(x,j,O){return m=f,m.apply(null,arguments)}function p(x,j){var O=Array.prototype.slice.call(arguments,1);return function(){var q=O.slice();return q.push.apply(q,arguments),x.apply(this,q)}}function g(x,j){function O(){}O.prototype=j.prototype,x.Z=j.prototype,x.prototype=new O,x.prototype.constructor=x,x.Ob=function(q,J,ce){for(var Se=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Se[Xe-2]=arguments[Xe];return j.prototype[J].apply(q,Se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function w(x){const j=x.length;if(j>0){const O=Array(j);for(let q=0;q<j;q++)O[q]=x[q];return O}return[]}function _(x,j){for(let q=1;q<arguments.length;q++){const J=arguments[q];var O=typeof J;if(O=O!="object"?O:J?Array.isArray(J)?"array":O:"null",O=="array"||O=="object"&&typeof J.length=="number"){O=x.length||0;const ce=J.length||0;x.length=O+ce;for(let Se=0;Se<ce;Se++)x[O+Se]=J[Se]}else x.push(J)}}class E{constructor(j,O){this.i=j,this.j=O,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function S(x){c.setTimeout(()=>{throw x},0)}function R(){var x=A;let j=null;return x.g&&(j=x.g,x.g=x.g.next,x.g||(x.h=null),j.next=null),j}class N{constructor(){this.h=this.g=null}add(j,O){const q=C.get();q.set(j,O),this.h?this.h.next=q:this.g=q,this.h=q}}var C=new E(()=>new M,x=>x.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,O){this.h=j,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,A=new N,I=()=>{const x=Promise.resolve(void 0);U=()=>{x.then(P)}};function P(){for(var x;x=R();){try{x.h.call(x.g)}catch(O){S(O)}var j=C;j.j(x),j.h<100&&(j.h++,x.next=j.g,j.g=x)}H=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(x,j){this.type=x,this.g=this.target=j,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var x=!1,j=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const O=()=>{};c.addEventListener("test",O,j),c.removeEventListener("test",O,j)}catch{}return x})();function B(x){return/^[\s\xa0]*$/.test(x)}function W(x,j){z.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,j)}g(W,z),W.prototype.init=function(x,j){const O=this.type=x.type,q=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=j,j=x.relatedTarget,j||(O=="mouseover"?j=x.fromElement:O=="mouseout"&&(j=x.toElement)),this.relatedTarget=j,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),G=0;function Q(x,j,O,q,J){this.listener=x,this.proxy=null,this.src=j,this.type=O,this.capture=!!q,this.ha=J,this.key=++G,this.da=this.fa=!1}function me(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function de(x,j,O){for(const q in x)j.call(O,x[q],q,x)}function ee(x,j){for(const O in x)j.call(void 0,x[O],O,x)}function L(x){const j={};for(const O in x)j[O]=x[O];return j}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(x,j){let O,q;for(let J=1;J<arguments.length;J++){q=arguments[J];for(O in q)x[O]=q[O];for(let ce=0;ce<F.length;ce++)O=F[ce],Object.prototype.hasOwnProperty.call(q,O)&&(x[O]=q[O])}}function K(x){this.src=x,this.g={},this.h=0}K.prototype.add=function(x,j,O,q,J){const ce=x.toString();x=this.g[ce],x||(x=this.g[ce]=[],this.h++);const Se=Ne(x,j,q,J);return Se>-1?(j=x[Se],O||(j.fa=!1)):(j=new Q(j,this.src,ce,!!q,J),j.fa=O,x.push(j)),j};function ge(x,j){const O=j.type;if(O in x.g){var q=x.g[O],J=Array.prototype.indexOf.call(q,j,void 0),ce;(ce=J>=0)&&Array.prototype.splice.call(q,J,1),ce&&(me(j),x.g[O].length==0&&(delete x.g[O],x.h--))}}function Ne(x,j,O,q){for(let J=0;J<x.length;++J){const ce=x[J];if(!ce.da&&ce.listener==j&&ce.capture==!!O&&ce.ha==q)return J}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),$e={};function le(x,j,O,q,J){if(Array.isArray(j)){for(let ce=0;ce<j.length;ce++)le(x,j[ce],O,q,J);return null}return O=Vn(O),x&&x[te]?x.J(j,O,d(q)?!!q.capture:!1,J):Be(x,j,O,!1,q,J)}function Be(x,j,O,q,J,ce){if(!j)throw Error("Invalid event type");const Se=d(J)?!!J.capture:!!J;let Xe=Ot(x);if(Xe||(x[fe]=Xe=new K(x)),O=Xe.add(j,O,q,Se,ce),O.proxy)return O;if(q=Le(),O.proxy=q,q.src=x,q.listener=O,x.addEventListener)D||(J=Se),J===void 0&&(J=!1),x.addEventListener(j.toString(),q,J);else if(x.attachEvent)x.attachEvent(We(j.toString()),q);else if(x.addListener&&x.removeListener)x.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Le(){function x(O){return j.call(x.src,x.listener,O)}const j=Pt;return x}function be(x,j,O,q,J){if(Array.isArray(j))for(var ce=0;ce<j.length;ce++)be(x,j[ce],O,q,J);else q=d(q)?!!q.capture:!!q,O=Vn(O),x&&x[te]?(x=x.i,ce=String(j).toString(),ce in x.g&&(j=x.g[ce],O=Ne(j,O,q,J),O>-1&&(me(j[O]),Array.prototype.splice.call(j,O,1),j.length==0&&(delete x.g[ce],x.h--)))):x&&(x=Ot(x))&&(j=x.g[j.toString()],x=-1,j&&(x=Ne(j,O,q,J)),(O=x>-1?j[x]:null)&&ft(O))}function ft(x){if(typeof x!="number"&&x&&!x.da){var j=x.src;if(j&&j[te])ge(j.i,x);else{var O=x.type,q=x.proxy;j.removeEventListener?j.removeEventListener(O,q,x.capture):j.detachEvent?j.detachEvent(We(O),q):j.addListener&&j.removeListener&&j.removeListener(q),(O=Ot(j))?(ge(O,x),O.h==0&&(O.src=null,j[fe]=null)):me(x)}}}function We(x){return x in $e?$e[x]:$e[x]="on"+x}function Pt(x,j){if(x.da)x=!0;else{j=new W(j,this);const O=x.listener,q=x.ha||x.src;x.fa&&ft(x),x=O.call(q,j)}return x}function Ot(x){return x=x[fe],x instanceof K?x:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vn(x){return typeof x=="function"?x:(x[Ar]||(x[Ar]=function(j){return x.handleEvent(j)}),x[Ar])}function It(){$.call(this),this.i=new K(this),this.M=this,this.G=null}g(It,$),It.prototype[te]=!0,It.prototype.removeEventListener=function(x,j,O,q){be(this,x,j,O,q)};function Bt(x,j){var O,q=x.G;if(q)for(O=[];q;q=q.G)O.push(q);if(x=x.M,q=j.type||j,typeof j=="string")j=new z(j,x);else if(j instanceof z)j.target=j.target||x;else{var J=j;j=new z(q,x),oe(j,J)}J=!0;let ce,Se;if(O)for(Se=O.length-1;Se>=0;Se--)ce=j.g=O[Se],J=De(ce,q,!0,j)&&J;if(ce=j.g=x,J=De(ce,q,!0,j)&&J,J=De(ce,q,!1,j)&&J,O)for(Se=0;Se<O.length;Se++)ce=j.g=O[Se],J=De(ce,q,!1,j)&&J}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var x=this.i;for(const j in x.g){const O=x.g[j];for(let q=0;q<O.length;q++)me(O[q]);delete x.g[j],x.h--}}this.G=null},It.prototype.J=function(x,j,O,q){return this.i.add(String(x),j,!1,O,q)},It.prototype.K=function(x,j,O,q){return this.i.add(String(x),j,!0,O,q)};function De(x,j,O,q){if(j=x.i.g[String(j)],!j)return!0;j=j.concat();let J=!0;for(let ce=0;ce<j.length;++ce){const Se=j[ce];if(Se&&!Se.da&&Se.capture==O){const Xe=Se.listener,lr=Se.ha||Se.src;Se.fa&&ge(x.i,Se),J=Xe.call(lr,q)!==!1&&J}}return J&&!q.defaultPrevented}function nd(x,j){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=m(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(x,j||0)}function Ko(x){x.g=nd(()=>{x.g=null,x.i&&(x.i=!1,Ko(x))},x.l);const j=x.h;x.h=null,x.m.apply(null,j)}class Hr extends ${constructor(j,O){super(),this.m=j,this.l=O,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(x){$.call(this),this.h=x,this.g={}}g(Ui,$);var Rs=[];function Ps(x){de(x.g,function(j,O){this.g.hasOwnProperty(O)&&ft(j)},x),x.g={}}Ui.prototype.N=function(){Ui.Z.N.call(this),Ps(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,ad=c.JSON.parse,Yo=class{stringify(x){return c.JSON.stringify(x,void 0)}parse(x){return c.JSON.parse(x,void 0)}};function Ms(){}function Wo(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){z.call(this,"d")}g(Yt,z);function sn(){z.call(this,"c")}g(sn,z);var Wt={},cc=null;function Ds(){return cc=cc||new It}Wt.Ia="serverreachability";function zs(x){z.call(this,Wt.Ia,x)}g(zs,z);function Un(x){const j=Ds();Bt(j,new zs(j))}Wt.STAT_EVENT="statevent";function ti(x,j){z.call(this,Wt.STAT_EVENT,x),this.stat=j}g(ti,z);function Xt(x){const j=Ds();Bt(j,new ti(j,x))}Wt.Ja="timingevent";function _n(x,j){z.call(this,Wt.Ja,x),this.size=j}g(_n,z);function Bn(x,j){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){x()},j)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function id(x,j,O,q,J,ce){x.info(function(){if(x.g)if(ce){var Se="",Xe=ce.split("&");for(let ht=0;ht<Xe.length;ht++){var lr=Xe[ht].split("=");if(lr.length>1){const Ht=lr[0];lr=lr[1];const da=Ht.split("_");Se=da.length>=2&&da[1]=="type"?Se+(Ht+"="+lr+"&"):Se+(Ht+"=redacted&")}}}else Se=null;else Se=ce;return"XMLHTTP REQ ("+q+") [attempt "+J+"]: "+j+`
`+O+`
`+Se})}function uc(x,j,O,q,J,ce,Se){x.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+J+"]: "+j+`
`+O+`
`+ce+" "+Se})}function $n(x,j,O,q){x.info(function(){return"XMLHTTP TEXT ("+j+"): "+ke(x,O)+(q?" "+q:"")})}function ne(x,j){x.info(function(){return"TIMEOUT: "+j})}Nn.prototype.info=function(){};function ke(x,j){if(!x.g)return j;if(!j)return null;try{const ce=JSON.parse(j);if(ce){for(x=0;x<ce.length;x++)if(Array.isArray(ce[x])){var O=ce[x];if(!(O.length<2)){var q=O[1];if(Array.isArray(q)&&!(q.length<1)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Se=1;Se<q.length;Se++)q[Se]=""}}}}return $t(ce)}catch{return j}}var ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ie;function Oe(){}g(Oe,Ms),Oe.prototype.g=function(){return new XMLHttpRequest},Ie=new Oe;function tr(x){return encodeURIComponent(String(x))}function Fe(x){var j=1;x=x.split(":");const O=[];for(;j>0&&x.length;)O.push(x.shift()),j--;return x.length&&O.push(x.join(":")),O}function pt(x,j,O,q){this.j=x,this.i=j,this.l=O,this.S=q||1,this.V=new Ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}var kt={},Cr={};function ri(x,j,O){x.M=1,x.A=Xo(hr(j)),x.u=O,x.R=!0,dc(x,null)}function dc(x,j){x.F=Date.now(),ni(x),x.B=hr(x.A);var O=x.B,q=x.S;Array.isArray(q)||(q=[String(q)]),pc(O.i,"t",q),x.C=0,O=x.j.L,x.h=new on,x.g=Jh(x.j,O?j:null,!x.u),x.P>0&&(x.O=new Hr(m(x.Y,x,x.g),x.P)),j=x.V,O=x.g,q=x.ba;var J="readystatechange";Array.isArray(J)||(J&&(Rs[0]=J.toString()),J=Rs);for(let ce=0;ce<J.length;ce++){const Se=le(O,J[ce],q||j.handleEvent,!1,j.h||j);if(!Se)break;j.g[Se.key]=Se}j=x.J?L(x.J):{},x.u?(x.v||(x.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,j)):(x.v="GET",x.g.ea(x.B,x.v,null,j)),Un(),id(x.i,x.v,x.B,x.l,x.S,x.u)}pt.prototype.ba=function(x){x=x.target;const j=this.O;j&&Ma(x)==3?j.j():this.Y(x)},pt.prototype.Y=function(x){try{if(x==this.g)e:{const Xe=Ma(this.g),lr=this.g.ya(),ht=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||qr(this.g)))){this.K||Xe!=4||lr==7||(lr==8||ht<=0?Un(3):Un(2)),ai(this);var j=this.g.ca();this.X=j;var O=Cx(this);if(this.o=j==200,uc(this.i,this.v,this.B,this.l,this.S,Xe,j),this.o){if(this.U&&!this.L){t:{if(this.g){var q,J=this.g;if((q=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(q)){var ce=q;break t}}ce=null}if(x=ce)$n(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,x);else{this.o=!1,this.m=3,Xt(12),Hn(this),la(this);break e}}if(this.R){x=!0;let Ht;for(;!this.K&&this.C<O.length;)if(Ht=Uh(this,O),Ht==Cr){Xe==4&&(this.m=4,Xt(14),x=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==kt){this.m=4,Xt(15),$n(this.i,this.l,O,"[Invalid Chunk]"),x=!1;break}else $n(this.i,this.l,Ht,null),ii(this,Ht);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||O.length!=0||this.h.h||(this.m=1,Xt(16),x=!1),this.o=this.o&&x,!x)$n(this.i,this.l,O,"[Invalid Chunked Response]"),Hn(this),la(this);else if(O.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),vd(Se),Se.P=!0,Xt(11))}}else $n(this.i,this.l,O,null),ii(this,O);Xe==4&&Hn(this),this.o&&!this.K&&(Xe==4?Wh(this.j,this):(this.o=!1,ni(this)))}else $i(this.g),j==400&&O.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Hn(this),la(this)}}}catch{}finally{}};function Cx(x){if(!Vh(x))return x.g.la();const j=qr(x.g);if(j==="")return"";let O="";const q=j.length,J=Ma(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Hn(x),la(x),"";x.h.i=new c.TextDecoder}for(let ce=0;ce<q;ce++)x.h.h=!0,O+=x.h.i.decode(j[ce],{stream:!(J&&ce==q-1)});return j.length=0,x.h.g+=O,x.C=0,x.h.g}function Vh(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Uh(x,j){var O=x.C,q=j.indexOf(`
`,O);return q==-1?Cr:(O=Number(j.substring(O,q)),isNaN(O)?kt:(q+=1,q+O>j.length?Cr:(j=j.slice(q,q+O),x.C=q+O,j)))}pt.prototype.cancel=function(){this.K=!0,Hn(this)};function ni(x){x.T=Date.now()+x.H,fc(x,x.H)}function fc(x,j){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Bn(m(x.aa,x),j)}function ai(x){x.D&&(c.clearTimeout(x.D),x.D=null)}pt.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(ne(this.i,this.B),this.M!=2&&(Un(),Xt(17)),Hn(this),this.m=2,la(this)):fc(this,this.T-x)};function la(x){x.j.I==0||x.K||Wh(x.j,x)}function Hn(x){ai(x);var j=x.O;j&&typeof j.dispose=="function"&&j.dispose(),x.O=null,Ps(x.V),x.g&&(j=x.g,x.g=null,j.abort(),j.dispose())}function ii(x,j){try{var O=x.j;if(O.I!=0&&(O.g==x||oi(O.h,x))){if(!x.L&&oi(O.h,x)&&O.I==3){try{var q=O.Ba.g.parse(j)}catch{q=null}if(Array.isArray(q)&&q.length==3){var J=q;if(J[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<x.F)vc(O),Fs(O);else break e;nl(O),Xt(18)}}else O.xa=J[1],0<O.xa-O.K&&J[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Bn(m(O.Va,O),6e3));si(O.h)<=1&&O.ta&&(O.ta=void 0)}else hi(O,11)}else if((x.L||O.g==x)&&vc(O),!B(j))for(J=O.Ba.g.parse(j),j=0;j<J.length;j++){let ht=J[j];const Ht=ht[0];if(!(Ht<=O.K))if(O.K=Ht,ht=ht[1],O.I==2)if(ht[0]=="c"){O.M=ht[1],O.ba=ht[2];const da=ht[3];da!=null&&(O.ka=da,O.j.info("VER="+O.ka));const mi=ht[4];mi!=null&&(O.za=mi,O.j.info("SVER="+O.za));const Da=ht[5];Da!=null&&typeof Da=="number"&&Da>0&&(q=1.5*Da,O.O=q,O.j.info("backChannelRequestTimeoutMs_="+q)),q=O;const za=x.g;if(za){const al=za.g?za.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var ce=q.h;ce.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ld(ce,ce.h),ce.h=null))}if(q.G){const wc=za.g?za.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(q.wa=wc,yt(q.J,q.G,wc))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-x.F,O.j.info("Handshake RTT: "+O.T+"ms")),q=O;var Se=x;if(q.na=Zh(q,q.L?q.ba:null,q.W),Se.L){cd(q.h,Se);var Xe=Se,lr=q.O;lr&&(Xe.H=lr),Xe.D&&(ai(Xe),ni(Xe)),q.g=Se}else Kh(q);O.i.length>0&&fi(O)}else ht[0]!="stop"&&ht[0]!="close"||hi(O,7);else O.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?hi(O,7):yd(O):ht[0]!="noop"&&O.l&&O.l.qa(ht),O.A=0)}}Un(4)}catch{}}var fr=class{constructor(x,j){this.g=x,this.map=j}};function sd(x){this.l=x||10,c.PerformanceNavigationTiming?(x=c.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function od(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function si(x){return x.h?1:x.g?x.g.size:0}function oi(x,j){return x.h?x.h==j:x.g?x.g.has(j):!1}function ld(x,j){x.g?x.g.add(j):x.h=j}function cd(x,j){x.h&&x.h==j?x.h=null:x.g&&x.g.has(j)&&x.g.delete(j)}sd.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ud(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let j=x.i;for(const O of x.g.values())j=j.concat(O.G);return j}return w(x.i)}var Bh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hc(x,j){if(x){x=x.split("&");for(let O=0;O<x.length;O++){const q=x[O].indexOf("=");let J,ce=null;q>=0?(J=x[O].substring(0,q),ce=x[O].substring(q+1)):J=x[O],j(J,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function qn(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;x instanceof qn?(this.l=x.l,Or(this,x.j),this.o=x.o,this.g=x.g,Ls(this,x.u),this.h=x.h,dd(this,Fh(x.i)),this.m=x.m):x&&(j=String(x).match(Bh))?(this.l=!1,Or(this,j[1]||"",!0),this.o=li(j[2]||""),this.g=li(j[3]||"",!0),Ls(this,j[4]),this.h=li(j[5]||"",!0),dd(this,j[6]||"",!0),this.m=li(j[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}qn.prototype.toString=function(){const x=[];var j=this.j;j&&x.push(Qo(j,mc,!0),":");var O=this.g;return(O||j=="file")&&(x.push("//"),(j=this.o)&&x.push(Qo(j,mc,!0),"@"),x.push(tr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&x.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&x.push("/"),x.push(Qo(O,O.charAt(0)=="/"?fd:$h,!0))),(O=this.i.toString())&&x.push("?",O),(O=this.m)&&x.push("#",Qo(O,Hh)),x.join("")},qn.prototype.resolve=function(x){const j=hr(this);let O=!!x.j;O?Or(j,x.j):O=!!x.o,O?j.o=x.o:O=!!x.g,O?j.g=x.g:O=x.u!=null;var q=x.h;if(O)Ls(j,x.u);else if(O=!!x.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var J=j.h.lastIndexOf("/");J!=-1&&(q=j.h.slice(0,J+1)+q)}if(J=q,J==".."||J==".")q="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){q=J.lastIndexOf("/",0)==0,J=J.split("/");const ce=[];for(let Se=0;Se<J.length;){const Xe=J[Se++];Xe=="."?q&&Se==J.length&&ce.push(""):Xe==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),q&&Se==J.length&&ce.push("")):(ce.push(Xe),q=!0)}q=ce.join("/")}else q=J}return O?j.h=q:O=x.i.toString()!=="",O?dd(j,Fh(x.i)):O=!!x.m,O&&(j.m=x.m),j};function hr(x){return new qn(x)}function Or(x,j,O){x.j=O?li(j,!0):j,x.j&&(x.j=x.j.replace(/:$/,""))}function Ls(x,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);x.u=j}else x.u=null}function dd(x,j,O){j instanceof Us?(x.i=j,gc(x.i,x.l)):(O||(j=Qo(j,Vs)),x.i=new Us(j,x.l))}function yt(x,j,O){x.i.set(j,O)}function Xo(x){return yt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function li(x,j){return x?j?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Qo(x,j,O){return typeof x=="string"?(x=encodeURI(x).replace(j,En),O&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function En(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var mc=/[#\/\?@]/g,$h=/[#\?:]/g,fd=/[#\?]/g,Vs=/[#\?@]/g,Hh=/#/g;function Us(x,j){this.h=this.g=null,this.i=x||null,this.j=!!j}function Sn(x){x.g||(x.g=new Map,x.h=0,x.i&&hc(x.i,function(j,O){x.add(decodeURIComponent(j.replace(/\+/g," ")),O)}))}t=Us.prototype,t.add=function(x,j){Sn(this),this.i=null,x=Bs(this,x);let O=this.g.get(x);return O||this.g.set(x,O=[]),O.push(j),this.h+=1,this};function qh(x,j){Sn(x),j=Bs(x,j),x.g.has(j)&&(x.i=null,x.h-=x.g.get(j).length,x.g.delete(j))}function hd(x,j){return Sn(x),j=Bs(x,j),x.g.has(j)}t.forEach=function(x,j){Sn(this),this.g.forEach(function(O,q){O.forEach(function(J){x.call(j,J,q,this)},this)},this)};function md(x,j){Sn(x);let O=[];if(typeof j=="string")hd(x,j)&&(O=O.concat(x.g.get(Bs(x,j))));else for(x=Array.from(x.g.values()),j=0;j<x.length;j++)O=O.concat(x[j]);return O}t.set=function(x,j){return Sn(this),this.i=null,x=Bs(this,x),hd(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[j]),this.h+=1,this},t.get=function(x,j){return x?(x=md(this,x),x.length>0?String(x[0]):j):j};function pc(x,j,O){qh(x,j),O.length>0&&(x.i=null,x.g.set(Bs(x,j),w(O)),x.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],j=Array.from(this.g.keys());for(let q=0;q<j.length;q++){var O=j[q];const J=tr(O);O=md(this,O);for(let ce=0;ce<O.length;ce++){let Se=J;O[ce]!==""&&(Se+="="+tr(O[ce])),x.push(Se)}}return this.i=x.join("&")};function Fh(x){const j=new Us;return j.i=x.i,x.g&&(j.g=new Map(x.g),j.h=x.h),j}function Bs(x,j){return j=String(j),x.j&&(j=j.toLowerCase()),j}function gc(x,j){j&&!x.j&&(Sn(x),x.i=null,x.g.forEach(function(O,q){const J=q.toLowerCase();q!=J&&(qh(this,q),pc(this,J,O))},x)),x.j=j}function Ra(x,j){const O=new Nn;if(c.Image){const q=new Image;q.onload=p(ca,O,"TestLoadImage: loaded",!0,j,q),q.onerror=p(ca,O,"TestLoadImage: error",!1,j,q),q.onabort=p(ca,O,"TestLoadImage: abort",!1,j,q),q.ontimeout=p(ca,O,"TestLoadImage: timeout",!1,j,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=x}else j(!1)}function pd(x,j){const O=new Nn,q=new AbortController,J=setTimeout(()=>{q.abort(),ca(O,"TestPingServer: timeout",!1,j)},1e4);fetch(x,{signal:q.signal}).then(ce=>{clearTimeout(J),ce.ok?ca(O,"TestPingServer: ok",!0,j):ca(O,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(J),ca(O,"TestPingServer: error",!1,j)})}function ca(x,j,O,q,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),q(O)}catch{}}function $s(){this.g=new Yo}function ci(x){this.i=x.Sb||null,this.h=x.ab||!1}g(ci,Ms),ci.prototype.g=function(){return new Zo(this.i,this.h)};function Zo(x,j){It.call(this),this.H=x,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Zo,It),t=Zo.prototype,t.open=function(x,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=j,this.readyState=1,Pa(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(j.body=x),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xc(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function xc(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var j=x.value?x.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!x.done}))&&(this.response=this.responseText+=j)}x.done?Hs(this):Pa(this),this.readyState==3&&xc(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Hs(this))},t.Na=function(x){this.g&&(this.response=x,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Pa(x)}t.setRequestHeader=function(x,j){this.A.append(x,j)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],j=this.h.entries();for(var O=j.next();!O.done;)O=O.value,x.push(O[0]+": "+O[1]),O=j.next();return x.join(`\r
`)};function Pa(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function ua(x){let j="";return de(x,function(O,q){j+=q,j+=":",j+=O,j+=`\r
`}),j}function Jo(x,j,O){e:{for(q in O){var q=!1;break e}q=!0}q||(O=ua(O),typeof x=="string"?O!=null&&tr(O):yt(x,j,O))}function _t(x){It.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(_t,It);var ui=/^https?$/i,gd=["POST","PUT"];t=_t.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,j,O,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);j=j?j.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ie.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(x),!0),this.B=!1}catch(ce){el(this,ce);return}if(x=O||"",O=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var J in q)O.set(J,q[J]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ce of q.keys())O.set(ce,q.get(ce));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(O.keys()).find(ce=>ce.toLowerCase()=="content-type"),J=c.FormData&&x instanceof c.FormData,!(Array.prototype.indexOf.call(gd,j,void 0)>=0)||q||J||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Se]of O)this.g.setRequestHeader(ce,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(ce){el(this,ce)}};function el(x,j){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=j,x.o=5,xd(x),Bi(x)}function xd(x){x.A||(x.A=!0,Bt(x,"complete"),Bt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Bt(this,"complete"),Bt(this,"abort"),Bi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),_t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tl(this):this.Xa())},t.Xa=function(){tl(this)};function tl(x){if(x.h&&typeof s<"u"){if(x.v&&Ma(x)==4)setTimeout(x.Ca.bind(x),0);else if(Bt(x,"readystatechange"),Ma(x)==4){x.h=!1;try{const ce=x.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var O;if(!(O=j)){var q;if(q=ce===0){let Se=String(x.D).match(Bh)[1]||null;!Se&&c.self&&c.self.location&&(Se=c.self.location.protocol.slice(0,-1)),q=!ui.test(Se?Se.toLowerCase():"")}O=q}if(O)Bt(x,"complete"),Bt(x,"success");else{x.o=6;try{var J=Ma(x)>2?x.g.statusText:""}catch{J=""}x.l=J+" ["+x.ca()+"]",xd(x)}}finally{Bi(x)}}}}function Bi(x,j){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const O=x.g;x.g=null,j||Bt(x,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ma(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Ma(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var j=this.g.responseText;return x&&j.indexOf(x)==0&&(j=j.substring(x.length)),ad(j)}};function qr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(x){const j={};x=(x.g&&Ma(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<x.length;q++){if(B(x[q]))continue;var O=Fe(x[q]);const J=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ce=j[J]||[];j[J]=ce,ce.push(O)}ee(j,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(x,j,O){return O&&O.internalChannelParams&&O.internalChannelParams[x]||j}function qs(x){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,x),this.Za=di("retryDelaySeedMs",1e4,x),this.Ta=di("forwardChannelMaxRetries",2,x),this.va=di("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new sd(x&&x.concurrentRequestLimit),this.Ba=new $s,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(x,j,O,q){Xt(0),this.W=x,this.H=j||{},O&&q!==void 0&&(this.H.OSID=O,this.H.OAID=q),this.F=this.X,this.J=Zh(this,null,this.W),fi(this)};function yd(x){if(yc(x),x.I==3){var j=x.V++,O=hr(x.J);if(yt(O,"SID",x.M),yt(O,"RID",j),yt(O,"TYPE","terminate"),rl(x,O),j=new pt(x,x.j,j),j.M=2,j.A=Xo(hr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!O&&c.Image&&(new Image().src=j.A,O=!0),O||(j.g=Jh(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ni(j)}Qh(x)}function Fs(x){x.g&&(vd(x),x.g.cancel(),x.g=null)}function yc(x){Fs(x),x.v&&(c.clearTimeout(x.v),x.v=null),vc(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&c.clearTimeout(x.m),x.m=null)}function fi(x){if(!od(x.h)&&!x.m){x.m=!0;var j=x.Ea;U||I(),H||(U(),H=!0),A.add(j,x),x.D=0}}function bc(x,j){return si(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=j.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Bn(m(x.Ea,x,j),Xh(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const J=new pt(this,this.j,x);let ce=this.o;if(this.U&&(ce?(ce=L(ce),oe(ce,this.U)):ce=this.U),this.u!==null||this.R||(J.J=ce,ce=null),this.S)e:{for(var j=0,O=0;O<this.i.length;O++){t:{var q=this.i[O];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(j+=q,j>4096){j=O;break e}if(j===4096||O===this.i.length-1){j=O+1;break e}}j=1e3}else j=1e3;j=Gh(this,J,j),O=hr(this.J),yt(O,"RID",x),yt(O,"CVER",22),this.G&&yt(O,"X-HTTP-Session-Id",this.G),rl(this,O),ce&&(this.R?j="headers="+tr(ua(ce))+"&"+j:this.u&&Jo(O,this.u,ce)),ld(this.h,J),this.Ra&&yt(O,"TYPE","init"),this.S?(yt(O,"$req",j),yt(O,"SID","null"),J.U=!0,ri(J,O,null)):ri(J,O,j),this.I=2}}else this.I==3&&(x?bd(this,x):this.i.length==0||od(this.h)||bd(this))};function bd(x,j){var O;j?O=j.l:O=x.V++;const q=hr(x.J);yt(q,"SID",x.M),yt(q,"RID",O),yt(q,"AID",x.K),rl(x,q),x.u&&x.o&&Jo(q,x.u,x.o),O=new pt(x,x.j,O,x.D+1),x.u===null&&(O.J=x.o),j&&(x.i=j.G.concat(x.i)),j=Gh(x,O,1e3),O.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),ld(x.h,O),ri(O,q,j)}function rl(x,j){x.H&&de(x.H,function(O,q){yt(j,q,O)}),x.l&&de({},function(O,q){yt(j,q,O)})}function Gh(x,j,O){O=Math.min(x.i.length,O);const q=x.l?m(x.l.Ka,x.l,x):null;e:{var J=x.i;let Xe=-1;for(;;){const lr=["count="+O];Xe==-1?O>0?(Xe=J[0].g,lr.push("ofs="+Xe)):Xe=0:lr.push("ofs="+Xe);let ht=!0;for(let Ht=0;Ht<O;Ht++){var ce=J[Ht].g;const da=J[Ht].map;if(ce-=Xe,ce<0)Xe=Math.max(0,J[Ht].g-100),ht=!1;else try{ce="req"+ce+"_"||"";try{var Se=da instanceof Map?da:Object.entries(da);for(const[mi,Da]of Se){let za=Da;d(Da)&&(za=$t(Da)),lr.push(ce+mi+"="+encodeURIComponent(za))}}catch(mi){throw lr.push(ce+"type="+encodeURIComponent("_badmap")),mi}}catch{q&&q(da)}}if(ht){Se=lr.join("&");break e}}Se=void 0}return x=x.i.splice(0,O),j.G=x,Se}function Kh(x){if(!x.g&&!x.v){x.Y=1;var j=x.Da;U||I(),H||(U(),H=!0),A.add(j,x),x.A=0}}function nl(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Bn(m(x.Da,x),Xh(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,Yh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Bn(m(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Fs(this),Yh(this))};function vd(x){x.B!=null&&(c.clearTimeout(x.B),x.B=null)}function Yh(x){x.g=new pt(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var j=hr(x.na);yt(j,"RID","rpc"),yt(j,"SID",x.M),yt(j,"AID",x.K),yt(j,"CI",x.F?"0":"1"),!x.F&&x.ia&&yt(j,"TO",x.ia),yt(j,"TYPE","xmlhttp"),rl(x,j),x.u&&x.o&&Jo(j,x.u,x.o),x.O&&(x.g.H=x.O);var O=x.g;x=x.ba,O.M=1,O.A=Xo(hr(j)),O.u=null,O.R=!0,dc(O,x)}t.Va=function(){this.C!=null&&(this.C=null,Fs(this),nl(this),Xt(19))};function vc(x){x.C!=null&&(c.clearTimeout(x.C),x.C=null)}function Wh(x,j){var O=null;if(x.g==j){vc(x),vd(x),x.g=null;var q=2}else if(oi(x.h,j))O=j.G,cd(x.h,j),q=1;else return;if(x.I!=0){if(j.o)if(q==1){O=j.u?j.u.length:0,j=Date.now()-j.F;var J=x.D;q=Ds(),Bt(q,new _n(q,O)),fi(x)}else Kh(x);else if(J=j.m,J==3||J==0&&j.X>0||!(q==1&&bc(x,j)||q==2&&nl(x)))switch(O&&O.length>0&&(j=x.h,j.i=j.i.concat(O)),J){case 1:hi(x,5);break;case 4:hi(x,10);break;case 3:hi(x,6);break;default:hi(x,2)}}}function Xh(x,j){let O=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(O*=2),O*j}function hi(x,j){if(x.j.info("Error code "+j),j==2){var O=m(x.bb,x),q=x.Ua;const J=!q;q=new qn(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Or(q,"https"),Xo(q),J?Ra(q.toString(),O):pd(q.toString(),O)}else Xt(2);x.I=0,x.l&&x.l.pa(j),Qh(x),yc(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Qh(x){if(x.I=0,x.ja=[],x.l){const j=ud(x.h);(j.length!=0||x.i.length!=0)&&(_(x.ja,j),_(x.ja,x.i),x.h.i.length=0,w(x.i),x.i.length=0),x.l.oa()}}function Zh(x,j,O){var q=O instanceof qn?hr(O):new qn(O);if(q.g!="")j&&(q.g=j+"."+q.g),Ls(q,q.u);else{var J=c.location;q=J.protocol,j=j?j+"."+J.hostname:J.hostname,J=+J.port;const ce=new qn(null);q&&Or(ce,q),j&&(ce.g=j),J&&Ls(ce,J),O&&(ce.h=O),q=ce}return O=x.G,j=x.wa,O&&j&&yt(q,O,j),yt(q,"VER",x.ka),rl(x,q),q}function Jh(x,j,O){if(j&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=x.Aa&&!x.ma?new _t(new ci({ab:O})):new _t(x.ma),j.Fa(x.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function em(){}t=em.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gs(){}Gs.prototype.g=function(x,j){return new gn(x,j)};function gn(x,j){It.call(this),this.g=new qs(j),this.l=x,this.h=j&&j.messageUrlParams||null,x=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(x?x["X-WebChannel-Content-Type"]=j.messageContentType:x={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(x?x["X-WebChannel-Client-Profile"]=j.sa:x={"X-WebChannel-Client-Profile":j.sa}),this.g.U=x,(x=j&&j.Qb)&&!B(x)&&(this.g.u=x),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!B(j)&&(this.g.G=j,x=this.h,x!==null&&j in x&&(x=this.h,j in x&&delete x[j])),this.j=new Hi(this)}g(gn,It),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){yd(this.g)},gn.prototype.o=function(x){var j=this.g;if(typeof x=="string"){var O={};O.__data__=x,x=O}else this.v&&(O={},O.__data__=$t(x),x=O);j.i.push(new fr(j.Ya++,x)),j.I==3&&fi(j)},gn.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,gn.Z.N.call(this)};function tm(x){Yt.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var j=x.__sm__;if(j){e:{for(const O in j){x=O;break e}x=void 0}(this.i=x)&&(x=this.i,j=j!==null&&x in j?j[x]:void 0),this.data=j}else this.data=x}g(tm,Yt);function rm(){sn.call(this),this.status=1}g(rm,sn);function Hi(x){this.g=x}g(Hi,em),Hi.prototype.ra=function(){Bt(this.g,"a")},Hi.prototype.qa=function(x){Bt(this.g,new tm(x))},Hi.prototype.pa=function(x){Bt(this.g,new rm)},Hi.prototype.oa=function(){Bt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,x3=function(){return new Gs},g3=function(){return Ds()},p3=Wt,Lw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Xp=ve,Ee.COMPLETE="complete",m3=Ee,Wo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",It.prototype.listen=It.prototype.J,wf=Wo,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,h3=_t}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="12.9.0";function Uoe(t){Ju=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Xk("@firebase/firestore");function au(){return Jl.logLevel}function je(t,...e){if(Jl.logLevel<=nt.DEBUG){const r=e.map(o_);Jl.debug(`Firestore (${Ju}): ${t}`,...r)}}function _s(t,...e){if(Jl.logLevel<=nt.ERROR){const r=e.map(o_);Jl.error(`Firestore (${Ju}): ${t}`,...r)}}function ec(t,...e){if(Jl.logLevel<=nt.WARN){const r=e.map(o_);Jl.warn(`Firestore (${Ju}): ${t}`,...r)}}function o_(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,y3(t,n,r)}function y3(t,e,r){let n=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw _s(n),new Error(n)}function gt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||y3(e,a,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Is{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Boe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(dn.UNAUTHENTICATED)))}shutdown(){}}class $oe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Hoe{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0,42304);let n=this.i;const a=f=>this.i!==n?(n=this.i,r(f)):Promise.resolve();let s=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ro,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ro)}}),0),c()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string",31837,{l:n}),new b3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class qoe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Foe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new qoe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Goe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){gt(this.o===void 0,3512);const n=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const a=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new a4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Koe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Koe(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function at(t,e){return t<e?-1:t>e?1:0}function Vw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),s=e.charAt(n);if(a!==s)return k1(a)===k1(s)?at(a,s):k1(a)?1:-1}return at(t.length,e.length)}const Yoe=55296,Woe=57343;function k1(t){const e=t.charCodeAt(0);return e>=Yoe&&e<=Woe}function Ou(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="__name__";class ki{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=ki.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return at(e.length,r.length)}static compareSegments(e,r){const n=ki.isNumericId(e),a=ki.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?ki.extractNumericId(e).compare(ki.extractNumericId(r)):Vw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Qt extends ki{construct(e,r,n){return new Qt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new Qt(r)}static emptyPath(){return new Qt([])}}const Xoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends ki{construct(e,r,n){return new Jr(e,r,n)}static isValidIdentifier(e){return Xoe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i4}static keyField(){return new Jr([i4])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Me(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Me(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(n+=d,a++):(s(),a++)}if(s(),c)throw new Me(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(r)}static emptyPath(){return new Jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Qt.fromString(e))}static fromName(e){return new Ve(Qt.fromString(e).popFirst(5))}static empty(){return new Ve(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Qt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qoe(t,e,r){if(!r)throw new Me(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zoe(t,e,r,n){if(e===!0&&n===!0)throw new Me(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function s4(t){if(!Ve.isDocumentKey(t))throw new Me(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function c_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=c_(t);throw new Me(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ph(t,e){if(!v3(t))throw new Me(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const c=t[n];if(a&&typeof c!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Me(we.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=-62135596800,l4=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*l4);return new Lt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<o4)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l4}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ph(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:vr("string",Lt._jsonSchemaVersion),seconds:vr("number"),nanoseconds:vr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Lt(0,0))}static max(){return new Ge(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function Joe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ge.fromTimestamp(n===1e9?new Lt(r+1,0):new Lt(r,n));return new zo(a,Ve.empty(),e)}function ele(t){return new zo(t.readTime,t.key,nh)}class zo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new zo(Ge.min(),Ve.empty(),nh)}static max(){return new zo(Ge.max(),Ve.empty(),nh)}}function tle(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==rle)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye(((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ye.reject(r)}static resolve(e){return new ye(((r,n)=>{r(e)}))}static reject(e){return new ye(((r,n)=>{n(e)}))}static waitFor(e){return new ye(((r,n)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&r()}),(f=>n(f)))})),c=!0,s===a&&r()}))}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next((a=>a?ye.resolve(a):n()));return r}static forEach(e,r){const n=[];return e.forEach(((a,s)=>{n.push(r.call(this,a,s))})),this.waitFor(n)}static mapArray(e,r){return new ye(((n,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const m=f;r(e[m]).next((p=>{c[m]=p,++d,d===s&&n(c)}),(p=>a(p)))}}))}static doWhile(e,r){return new ye(((n,a)=>{const s=()=>{e()===!0?r().next((()=>{s()}),a):n()};s()}))}}function ale(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function td(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-1;function bx(t){return t==null}function lg(t){return t===0&&1/t==-1/0}function ile(t){return typeof t=="number"&&Number.isInteger(t)&&!lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="";function sle(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=c4(e)),e=ole(t.get(r),e);return c4(e)}function ole(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case w3:r+="";break;default:r+=s}}return r}function c4(t){return t+w3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ic(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function k3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,r){this.comparator=e,this.root=r||Qr.EMPTY}insert(e,r){return new Jt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??Qr.RED,this.left=a??Qr.EMPTY,this.right=s??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new Qr(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Qr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new Qr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new d4(this.data.getIterator())}getIteratorFrom(e){return new d4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Sr(this.comparator);return r.data=e,r}}class d4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new Ka([])}unionWith(e){let r=new Sr(Jr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ka(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _3("Invalid base64 string: "+s):s}})(e);return new nn(r)}static fromUint8Array(e){const r=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new nn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const r=lle.exec(t);if(gt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:dr(t.seconds),nanos:dr(t.nanos)}}function dr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="server_timestamp",E3="__type__",S3="__previous_value__",j3="__local_write_time__";function d_(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[E3])==null?void 0:n.stringValue)===N3}function vx(t){const e=t.mapValue.fields[S3];return d_(e)?vx(e):e}function ah(t){const e=Lo(t.mapValue.fields[j3].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e,r,n,a,s,c,d,f,m,p,g){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=p,this.apiKey=g}}const Uw="(default)";class ih{constructor(e,r){this.projectId=e,this.database=r||Uw}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Uw}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}function ule(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Me(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="__type__",dle="__max__",Ap={mapValue:{}},A3="__vector__",cg="value";function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d_(t)?4:hle(t)?9007199254740991:fle(t)?10:11:qe(28295,{value:t})}function Di(t,e){if(t===e)return!0;const r=Uo(t);if(r!==Uo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Lo(a.timestampValue),d=Lo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Vo(a.bytesValue).isEqual(Vo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return dr(a.geoPointValue.latitude)===dr(s.geoPointValue.latitude)&&dr(a.geoPointValue.longitude)===dr(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return dr(a.integerValue)===dr(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=dr(a.doubleValue),d=dr(s.doubleValue);return c===d?lg(c)===lg(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Ou(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(u4(c)!==u4(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Di(c[f],d[f])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function sh(t,e){return(t.values||[]).find((r=>Di(r,e)))!==void 0}function Iu(t,e){if(t===e)return 0;const r=Uo(t),n=Uo(e);if(r!==n)return at(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=dr(s.integerValue||s.doubleValue),f=dr(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return f4(t.timestampValue,e.timestampValue);case 4:return f4(ah(t),ah(e));case 5:return Vw(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Vo(s),f=Vo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const p=at(d[m],f[m]);if(p!==0)return p}return at(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=at(dr(s.latitude),dr(c.latitude));return d!==0?d:at(dr(s.longitude),dr(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return h4(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var b,w,_,E;const d=s.fields||{},f=c.fields||{},m=(b=d[cg])==null?void 0:b.arrayValue,p=(w=f[cg])==null?void 0:w.arrayValue,g=at(((_=m==null?void 0:m.values)==null?void 0:_.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return g!==0?g:h4(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Ap.mapValue&&c===Ap.mapValue)return 0;if(s===Ap.mapValue)return 1;if(c===Ap.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),m=c.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const b=Vw(f[g],p[g]);if(b!==0)return b;const w=Iu(d[f[g]],m[p[g]]);if(w!==0)return w}return at(f.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:r})}}function f4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const r=Lo(t),n=Lo(e),a=at(r.seconds,n.seconds);return a!==0?a:at(r.nanos,n.nanos)}function h4(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Iu(r[a],n[a]);if(s)return s}return at(r.length,n.length)}function Ru(t){return Bw(t)}function Bw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Lo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Vo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Ve.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=Bw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const c of n)s?s=!1:a+=",",a+=`${c}:${Bw(r.fields[c])}`;return a+"}"})(t.mapValue):qe(61005,{value:t})}function Qp(t){switch(Uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vx(t);return e?16+Qp(e):16;case 5:return 2*t.stringValue.length;case 6:return Vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,s)=>a+Qp(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let a=0;return ic(n.fields,((s,c)=>{a+=s.length+Qp(c)})),a})(t.mapValue);default:throw qe(13486,{value:t})}}function $w(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function m4(t){return!!t&&"nullValue"in t}function p4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zp(t){return!!t&&"mapValue"in t}function fle(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[T3])==null?void 0:n.stringValue)===A3}function Af(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ic(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Af(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Af(t.arrayValue.values[r]);return e}return{...t}}function hle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Zp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Af(r)}setAll(e){let r=Jr.emptyPath(),n={},a=[];e.forEach(((c,d)=>{if(!r.isImmediateParentOf(d)){const f=this.getFieldsMap(r);this.applyChanges(f,n,a),n={},a=[],r=d.popLast()}c?n[d.lastSegment()]=Af(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());Zp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Zp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){ic(r,((a,s)=>e[a]=s));for(const a of n)delete e[a]}clone(){return new _a(Af(this.value))}}function C3(t){const e=[];return ic(t.fields,((r,n)=>{const a=new Jr([r]);if(Zp(n)){const s=C3(n.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new Ka(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,r,n,a,s,c,d){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Ge.min(),Ge.min(),Ge.min(),_a.empty(),0)}static newFoundDocument(e,r,n,a){return new hn(e,1,r,Ge.min(),n,a,0)}static newNoDocument(e,r){return new hn(e,2,r,Ge.min(),Ge.min(),_a.empty(),0)}static newUnknownDocument(e,r){return new hn(e,3,r,Ge.min(),Ge.min(),_a.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,r){this.position=e,this.inclusive=r}}function g4(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?n=Ve.comparator(Ve.fromName(c.referenceValue),r.key):n=Iu(c,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function x4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Di(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,r="asc"){this.field=e,this.dir=r}}function mle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{}class Nr extends O3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new gle(e,r,n):r==="array-contains"?new ble(e,n):r==="in"?new vle(e,n):r==="not-in"?new wle(e,n):r==="array-contains-any"?new kle(e,n):new Nr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new xle(e,n):new yle(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Iu(r,this.value)):r!==null&&Uo(this.value)===Uo(r)&&this.matchesComparison(Iu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends O3{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new zi(e,r)}matches(e){return I3(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I3(t){return t.op==="and"}function R3(t){return ple(t)&&I3(t)}function ple(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function Hw(t){if(t instanceof Nr)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(R3(t))return t.filters.map((e=>Hw(e))).join(",");{const e=t.filters.map((r=>Hw(r))).join(",");return`${t.op}(${e})`}}function P3(t,e){return t instanceof Nr?(function(n,a){return a instanceof Nr&&n.op===a.op&&n.field.isEqual(a.field)&&Di(n.value,a.value)})(t,e):t instanceof zi?(function(n,a){return a instanceof zi&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((s,c,d)=>s&&P3(c,a.filters[d])),!0):!1})(t,e):void qe(19439)}function M3(t){return t instanceof Nr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ru(r.value)}`})(t):t instanceof zi?(function(r){return r.op.toString()+" {"+r.getFilters().map(M3).join(" ,")+"}"})(t):"Filter"}class gle extends Nr{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class xle extends Nr{constructor(e,r){super(e,"in",r),this.keys=D3("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class yle extends Nr{constructor(e,r){super(e,"not-in",r),this.keys=D3("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function D3(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>Ve.fromName(n.referenceValue)))}class ble extends Nr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return f_(r)&&sh(r.arrayValue,this.value)}}class vle extends Nr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&sh(this.value.arrayValue,r)}}class wle extends Nr{constructor(e,r){super(e,"not-in",r)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!sh(this.value.arrayValue,r)}}class kle extends Nr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!f_(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>sh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e,r=null,n=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function y4(t,e=null,r=[],n=[],a=null,s=null,c=null){return new _le(t,e,r,n,a,s,c)}function h_(t){const e=Ye(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>Hw(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),bx(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Ru(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Ru(n))).join(",")),e.Te=r}return e.Te}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mle(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!P3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x4(t.startAt,e.startAt)&&x4(t.endAt,e.endAt)}function qw(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,r=null,n=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Nle(t,e,r,n,a,s,c,d){return new wx(t,e,r,n,a,s,c,d)}function p_(t){return new wx(t)}function b4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ele(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sle(t){return t.collectionGroup!==null}function Cf(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Sr(Jr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dg(s,n))})),r.has(Jr.keyField().canonicalString())||e.Ie.push(new dg(Jr.keyField(),n))}return e.Ie}function Ai(t){const e=Ye(t);return e.Ee||(e.Ee=jle(e,Cf(t))),e.Ee}function jle(t,e){if(t.limitType==="F")return y4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new dg(a.field,s)}));const r=t.endAt?new ug(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ug(t.startAt.position,t.startAt.inclusive):null;return y4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Fw(t,e,r){return new wx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function kx(t,e){return m_(Ai(t),Ai(e))&&t.limitType===e.limitType}function z3(t){return`${h_(Ai(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>M3(a))).join(", ")}]`),bx(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>Ru(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>Ru(a))).join(",")),`Target(${n})`})(Ai(t))}; limitType=${t.limitType})`}function _x(t,e){return e.isFoundDocument()&&(function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ve.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,a){for(const s of Cf(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(c,d,f){const m=g4(c,d,f);return c.inclusive?m<=0:m<0})(n.startAt,Cf(n),a)||n.endAt&&!(function(c,d,f){const m=g4(c,d,f);return c.inclusive?m>=0:m>0})(n.endAt,Cf(n),a))})(t,e)}function Tle(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L3(t){return(e,r)=>{let n=!1;for(const a of Cf(t)){const s=Ale(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function Ale(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):(function(s,c,d){const f=c.data.field(s),m=d.data.field(s);return f!==null&&m!==null?Iu(f,m):qe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,((r,n)=>{for(const[a,s]of n)e(a,s)}))}isEmpty(){return k3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cle=new Jt(Ve.comparator);function Ns(){return Cle}const V3=new Jt(Ve.comparator);function kf(...t){let e=V3;for(const r of t)e=e.insert(r.key,r);return e}function U3(t){let e=V3;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Cl(){return Of()}function B3(){return Of()}function Of(){return new sc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ole=new Jt(Ve.comparator),Ile=new Sr(Ve.comparator);function it(...t){let e=Ile;for(const r of t)e=e.add(r);return e}const Rle=new Sr(at);function Ple(){return Rle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lg(e)?"-0":e}}function $3(t){return{integerValue:""+t}}function Mle(t,e){return ile(e)?$3(e):g_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this._=void 0}}function Dle(t,e,r){return t instanceof fg?(function(a,s){const c={fields:{[E3]:{stringValue:N3},[j3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&d_(s)&&(s=vx(s)),s&&(c.fields[S3]=s),{mapValue:c}})(r,e):t instanceof oh?q3(t,e):t instanceof lh?F3(t,e):(function(a,s){const c=H3(a,s),d=v4(c)+v4(a.Ae);return $w(c)&&$w(a.Ae)?$3(d):g_(a.serializer,d)})(t,e)}function zle(t,e,r){return t instanceof oh?q3(t,e):t instanceof lh?F3(t,e):r}function H3(t,e){return t instanceof hg?(function(n){return $w(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class fg extends Nx{}class oh extends Nx{constructor(e){super(),this.elements=e}}function q3(t,e){const r=G3(e);for(const n of t.elements)r.some((a=>Di(a,n)))||r.push(n);return{arrayValue:{values:r}}}class lh extends Nx{constructor(e){super(),this.elements=e}}function F3(t,e){let r=G3(e);for(const n of t.elements)r=r.filter((a=>!Di(a,n)));return{arrayValue:{values:r}}}class hg extends Nx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function v4(t){return dr(t.integerValue||t.doubleValue)}function G3(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Lle(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof oh&&a instanceof oh||n instanceof lh&&a instanceof lh?Ou(n.elements,a.elements,Di):n instanceof hg&&a instanceof hg?Di(n.Ae,a.Ae):n instanceof fg&&a instanceof fg})(t.transform,e.transform)}class Vle{constructor(e,r){this.version=e,this.transformResults=r}}class hs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ex{}function K3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W3(t.key,hs.none()):new Mh(t.key,t.data,hs.none());{const r=t.data,n=_a.empty();let a=new Sr(Jr.comparator);for(let s of e.fields)if(!a.has(s)){let c=r.field(s);c===null&&s.length>1&&(s=s.popLast(),c=r.field(s)),c===null?n.delete(s):n.set(s,c),a=a.add(s)}return new oc(t.key,n,new Ka(a.toArray()),hs.none())}}function Ule(t,e,r){t instanceof Mh?(function(a,s,c){const d=a.value.clone(),f=k4(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,r):t instanceof oc?(function(a,s,c){if(!Jp(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=k4(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(Y3(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,r):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,r)}function If(t,e,r,n){return t instanceof Mh?(function(s,c,d,f){if(!Jp(s.precondition,c))return d;const m=s.value.clone(),p=_4(s.fieldTransforms,f,c);return m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,r,n):t instanceof oc?(function(s,c,d,f){if(!Jp(s.precondition,c))return d;const m=_4(s.fieldTransforms,f,c),p=c.data;return p.setAll(Y3(s)),p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(s,c,d){return Jp(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,r)}function Ble(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=H3(n.transform,a||null);s!=null&&(r===null&&(r=_a.empty()),r.set(n.field,s))}return r||null}function w4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Ou(n,a,((s,c)=>Lle(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mh extends Ex{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oc extends Ex{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Y3(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function k4(t,e,r){const n=new Map;gt(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let a=0;a<r.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);n.set(s.field,zle(c,d,r[a]))}return n}function _4(t,e,r){const n=new Map;for(const a of t){const s=a.transform,c=r.data.field(a.field);n.set(a.field,Dle(s,c,e))}return n}class W3 extends Ex{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $le extends Ex{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Ule(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=If(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=If(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=B3();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=r.has(a.key)?null:d;const f=K3(c,d);f!==null&&n.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),it())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,((r,n)=>w4(r,n)))&&Ou(this.baseMutations,e.baseMutations,((r,n)=>w4(r,n)))}}class x_{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){gt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=(function(){return Ole})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,n[c].version);return new x_(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,lt;function Gle(t){switch(t){case we.OK:return qe(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function X3(t){if(t===void 0)return _s("GRPC error has no .code"),we.UNKNOWN;switch(t){case yr.OK:return we.OK;case yr.CANCELLED:return we.CANCELLED;case yr.UNKNOWN:return we.UNKNOWN;case yr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case yr.INTERNAL:return we.INTERNAL;case yr.UNAVAILABLE:return we.UNAVAILABLE;case yr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case yr.NOT_FOUND:return we.NOT_FOUND;case yr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case yr.ABORTED:return we.ABORTED;case yr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case yr.DATA_LOSS:return we.DATA_LOSS;default:return qe(39323,{code:t})}}(lt=yr||(yr={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=new Io([4294967295,4294967295],0);function N4(t){const e=Kle().encode(t),r=new f3;return r.update(e),new Uint8Array(r.digest())}function E4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Io([r,n],0),new Io([a,s],0)]}class y_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new _f(`Invalid padding: ${r}`);if(n<0)throw new _f(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new _f(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Io.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(Io.fromNumber(n)));return a.compare(Yle)===1&&(a=new Io([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=N4(e),[n,a]=E4(r);for(let s=0;s<this.hashCount;s++){const c=this.ye(n,a,s);if(!this.we(c))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new y_(s,a,r);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const r=N4(e),[n,a]=E4(r);for(let s=0;s<this.hashCount;s++){const c=this.ye(n,a,s);this.be(c)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Sx(Ge.min(),a,new Jt(at),Ns(),it())}}class Dh{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Dh(n,r,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r,n,a){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=a}}class Q3{constructor(e,r){this.targetId=e,this.Ce=r}}class Z3{constructor(e,r,n=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class S4{constructor(){this.ve=0,this.Fe=j4(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),r=it(),n=it();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:qe(38017,{changeType:s})}})),new Dh(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=j4()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Wle{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.He=Cp(),this.Je=Cp(),this.Ze=new Jt(at)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const s=a.target;if(qw(s))if(n===0){const c=new Ve(s.path);this.et(r,c,hn.newNoDocument(c,Ge.min()))}else gt(n===1,20013,{expectedCount:n});else{const c=this._t(r);if(c!==n){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(r);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,m)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let c,d;try{c=Vo(n).toUint8Array()}catch(f){if(f instanceof _3)return ec("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new y_(c,a,s)}catch(f){return ec(f instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(r,s,null),a++)})),a}Tt(e){const r=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&qw(d.target)){const f=new Ve(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,hn.newNoDocument(f,e))}s.Be&&(r.set(c,s.ke()),s.Ke())}}));let n=it();this.Je.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new Sx(e,r,this.Ze,this.je,n);return this.je=Ns(),this.He=Cp(),this.Je=Cp(),this.Ze=new Jt(at),a}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.qe(r,1):a.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new S4,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new Sr(at),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new Sr(at),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S4),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Cp(){return new Jt(Ve.comparator)}function j4(){return new Jt(Ve.comparator)}const Xle={asc:"ASCENDING",desc:"DESCENDING"},Qle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zle={and:"AND",or:"OR"};class Jle{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Gw(t,e){return t.useProto3Json||bx(e)?e:{value:e}}function mg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ece(t,e){return mg(t,e.toTimestamp())}function Ci(t){return gt(!!t,49232),Ge.fromTimestamp((function(r){const n=Lo(r);return new Lt(n.seconds,n.nanos)})(t))}function b_(t,e){return Kw(t,e).canonicalString()}function Kw(t,e){const r=(function(a){return new Qt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function ez(t){const e=Qt.fromString(t);return gt(iz(e),10190,{key:e.toString()}),e}function Yw(t,e){return b_(t.databaseId,e.path)}function _1(t,e){const r=ez(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(rz(r))}function tz(t,e){return b_(t.databaseId,e)}function tce(t){const e=ez(t);return e.length===4?Qt.emptyPath():rz(e)}function Ww(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rz(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function T4(t,e,r){return{name:Yw(t,e),fields:r.value.mapValue.fields}}function rce(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:qe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(gt(p===void 0||typeof p=="string",58123),nn.fromBase64String(p||"")):(gt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),nn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const p=m.code===void 0?we.UNKNOWN:X3(m.code);return new Me(p,m.message||"")})(c);r=new Z3(n,a,s,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=_1(t,n.document.name),s=Ci(n.document.updateTime),c=n.document.createTime?Ci(n.document.createTime):Ge.min(),d=new _a({mapValue:{fields:n.document.fields}}),f=hn.newFoundDocument(a,s,c,d),m=n.targetIds||[],p=n.removedTargetIds||[];r=new e0(m,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=_1(t,n.document),s=n.readTime?Ci(n.readTime):Ge.min(),c=hn.newNoDocument(a,s),d=n.removedTargetIds||[];r=new e0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=_1(t,n.document),s=n.removedTargetIds||[];r=new e0([],s,a,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,c=new Fle(a,s),d=n.targetId;r=new Q3(d,c)}}return r}function nce(t,e){let r;if(e instanceof Mh)r={update:T4(t,e.key,e.value)};else if(e instanceof W3)r={delete:Yw(t,e.key)};else if(e instanceof oc)r={update:T4(t,e.key,e.data),updateMask:fce(e.fieldMask)};else{if(!(e instanceof $le))return qe(16599,{dt:e.type});r={verify:Yw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,c){const d=c.transform;if(d instanceof fg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hg)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw qe(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:ece(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qe(27497)})(t,e.precondition)),r}function ace(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((r=>(function(a,s){let c=a.updateTime?Ci(a.updateTime):Ci(s);return c.isEqual(Ge.min())&&(c=Ci(s)),new Vle(c,a.transformResults||[])})(r,e)))):[]}function ice(t,e){return{documents:[tz(t,e.path)]}}function sce(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=tz(t,a);const s=(function(m){if(m.length!==0)return az(zi.create(m,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const c=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:su(b.field),direction:cce(b.dir)}})(p)))})(e.orderBy);c&&(r.structuredQuery.orderBy=c);const d=Gw(t,e.limit);return d!==null&&(r.structuredQuery.limit=d),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:r,parent:a}}function oce(t){let e=tce(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){gt(n===1,65062);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=(function(g){const b=nz(g);return b instanceof zi&&R3(b)?b.getFilters():[b]})(r.where));let c=[];r.orderBy&&(c=(function(g){return g.map((b=>(function(_){return new dg(ou(_.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(b)))})(r.orderBy));let d=null;r.limit&&(d=(function(g){let b;return b=typeof g=="object"?g.value:g,bx(b)?null:b})(r.limit));let f=null;r.startAt&&(f=(function(g){const b=!!g.before,w=g.values||[];return new ug(w,b)})(r.startAt));let m=null;return r.endAt&&(m=(function(g){const b=!g.before,w=g.values||[];return new ug(w,b)})(r.endAt)),Nle(e,a,c,s,d,"F",f,m)}function lce(t,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:a})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function nz(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ou(r.unaryFilter.field);return Nr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ou(r.unaryFilter.field);return Nr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ou(r.unaryFilter.field);return Nr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ou(r.unaryFilter.field);return Nr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Nr.create(ou(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return zi.create(r.compositeFilter.filters.map((n=>nz(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(r.compositeFilter.op))})(t):qe(30097,{filter:t})}function cce(t){return Xle[t]}function uce(t){return Qle[t]}function dce(t){return Zle[t]}function su(t){return{fieldPath:t.canonicalString()}}function ou(t){return Jr.fromServerFormat(t.fieldPath)}function az(t){return t instanceof Nr?(function(r){if(r.op==="=="){if(p4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NAN"}};if(m4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(p4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NOT_NAN"}};if(m4(r.value))return{unaryFilter:{field:su(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(r.field),op:uce(r.op),value:r.value}}})(t):t instanceof zi?(function(r){const n=r.getFilters().map((a=>az(a)));return n.length===1?n[0]:{compositeFilter:{op:dce(r.op),filters:n}}})(t):qe(54877,{filter:t})}function fce(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function iz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,r,n,a,s=Ge.min(),c=Ge.min(),d=nn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e){this.yt=e}}function mce(t){const e=oce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(){this.Sn=new gce}addToCollectionParentIndex(e,r){return this.Sn.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(zo.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class gce{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Sr(Qt.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Sr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oz=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(oz,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pu(0)}static ar(){return new Pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="LruGarbageCollector",xce=1048576;function O4([t,e],[r,n]){const a=at(t,r);return a===0?at(e,n):a}class yce{constructor(e){this.Pr=e,this.buffer=new Sr(O4),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();O4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class bce{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){je(C4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){td(r)?je(C4,"Ignoring IndexedDB error during garbage collection: ",r):await ed(r)}await this.Ar(3e5)}))}}class vce{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return ye.resolve(yx.ce);const n=new yce(r);return this.Vr.forEachTarget(e,(a=>n.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>n.Er(a))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(A4)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A4):this.gr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,a,s,c,d,f,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(n=g,d=Date.now(),this.removeTargets(e,n,r)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(m=Date.now(),au()<=nt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(m-f)+`ms
Total Duration: ${m-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function wce(t,e){return new vce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(){this.changes=new sc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&If(n.mutation,a,Ka.empty(),Lt.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,it()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=it()){const a=Cl();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((s=>{let c=kf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,r){const n=Cl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,it())))}populateOverlays(e,r,n){const a=[];return n.forEach((s=>{r.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{r.set(c,d)}))}))}computeViews(e,r,n,a){let s=Ns();const c=Of(),d=(function(){return Of()})();return r.forEach(((f,m)=>{const p=n.get(m.key);a.has(m.key)&&(p===void 0||p.mutation instanceof oc)?s=s.insert(m.key,m):p!==void 0?(c.set(m.key,p.mutation.getFieldMask()),If(p.mutation,m,p.mutation.getFieldMask(),Lt.now())):c.set(m.key,Ka.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((m,p)=>c.set(m,p))),r.forEach(((m,p)=>d.set(m,new _ce(p,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,r){const n=Of();let a=new Jt(((c,d)=>c-d)),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=r.get(f);if(m===null)return;let p=n.get(f)||Ka.empty();p=d.applyToLocalView(m,p),n.set(f,p);const g=(a.get(d.batchId)||it()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,p=f.value,g=B3();p.forEach((b=>{if(!s.has(b)){const w=K3(r.get(b),n.get(b));w!==null&&g.set(b,w),s=s.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ye.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return Ele(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Sle(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):ye.resolve(Cl());let d=nh,f=s;return c.next((m=>ye.forEach(m,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,f,m,it()))).next((p=>({batchId:d,changes:U3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next((n=>{let a=kf();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let c=kf();return this.indexManager.getCollectionParents(e,s).next((d=>ye.forEach(d,(f=>{const m=(function(g,b){return new wx(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,n,a).next((p=>{p.forEach(((g,b)=>{c=c.insert(g,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a)))).next((c=>{s.forEach(((f,m)=>{const p=m.getKey();c.get(p)===null&&(c=c.insert(p,hn.newInvalidDocument(p)))}));let d=kf();return c.forEach(((f,m)=>{const p=s.get(f);p!==void 0&&If(p.mutation,m,Ka.empty(),Lt.now()),_x(r,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return ye.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}})(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,(function(a){return{name:a.name,query:mce(a.bundledQuery),readTime:Ci(a.readTime)}})(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(){this.overlays=new Jt(Ve.comparator),this.Lr=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Cl();return ye.forEach(r,(a=>this.getOverlay(e,a).next((s=>{s!==null&&n.set(a,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,s)=>{this.bt(e,r,s)})),ye.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Lr.get(n);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const a=Cl(),s=r.length+1,c=new Ve(r.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!r.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>n&&a.set(f.getKey(),f)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Jt(((m,p)=>m-p));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===r&&m.largestBatchId>n){let p=s.get(m.largestBatchId);p===null&&(p=Cl(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=Cl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=a)););return ye.resolve(d)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(n.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new qle(r,n));let s=this.Lr.get(r);s===void 0&&(s=it(),this.Lr.set(r,s)),this.Lr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jce{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.kr=new Sr(Dr.Kr),this.qr=new Sr(Dr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new Dr(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new Dr(e,r))}Qr(e,r){e.forEach((n=>this.removeReference(n,r)))}Gr(e){const r=new Ve(new Qt([])),n=new Dr(r,e),a=new Dr(r,e+1),s=[];return this.qr.forEachInRange([n,a],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new Ve(new Qt([])),n=new Dr(r,e),a=new Dr(r,e+1);let s=it();return this.qr.forEachInRange([n,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const r=new Dr(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Dr{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return Ve.comparator(e.key,r.key)||at(e.Hr,r.Hr)}static Ur(e,r){return at(e.Hr,r.Hr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Sr(Dr.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Hle(s,r,n,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Dr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,r){return ye.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.Xr(n),s=a<0?0:a;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?u_:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Dr(r,0),a=new Dr(r,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([n,a],(c=>{const d=this.Zr(c.Hr);s.push(d)})),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Sr(at);return r.forEach((a=>{const s=new Dr(a,0),c=new Dr(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(d=>{n=n.add(d.Hr)}))})),ye.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Ve.isDocumentKey(s)||(s=s.child(""));const c=new Dr(new Ve(s),0);let d=new Sr(at);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Hr)),!0)}),c),ye.resolve(this.Yr(d))}Yr(e){const r=[];return e.forEach((n=>{const a=this.Zr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){gt(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return ye.forEach(r.mutations,(a=>{const s=new Dr(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,r){const n=new Dr(r,0),a=this.Jr.firstAfterOrEqual(n);return ye.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.ti=e,this.docs=(function(){return new Jt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,c=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():hn.newInvalidDocument(r))}getEntries(e,r){let n=Ns();return r.forEach((a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():hn.newInvalidDocument(a))})),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=Ns();const c=r.path,d=new Ve(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:p}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||tle(ele(p),n)<=0||(a.has(p.key)||_x(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,r,n,a){qe(9500)}ni(e,r){return ye.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Cce(this)}getSize(e){return ye.resolve(this.size)}}class Cce extends kce{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(n)})),ye.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e){this.persistence=e,this.ri=new sc((r=>h_(r)),m_),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new v_,this.targetCount=0,this.oi=Pu._r()}forEachTarget(e,r){return this.ri.forEach(((n,a)=>r(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),ye.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new Pu(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.lr(r),ye.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=r&&n.get(d.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ye.waitFor(s).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),ye.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,r){this._i={},this.overlays={},this.ai=new yx(0),this.ui=!1,this.ui=!0,this.ci=new jce,this.referenceDelegate=e(this),this.li=new Oce(this),this.indexManager=new pce,this.remoteDocumentCache=(function(a){return new Ace(a)})((n=>this.referenceDelegate.hi(n))),this.serializer=new hce(r),this.Pi=new Ece(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Sce,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new Tce(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const a=new Ice(this.ai.next());return this.referenceDelegate.Ti(),n(a).next((s=>this.referenceDelegate.Ii(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ei(e,r){return ye.or(Object.values(this._i).map((n=>()=>n.containsKey(e,r))))}}class Ice extends nle{constructor(e){super(),this.currentSequenceNumber=e}}class w_{constructor(e){this.persistence=e,this.Ri=new v_,this.Ai=null}static Vi(e){return new w_(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ye.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach((a=>this.di.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((s=>this.di.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(n=>{const a=Ve.fromPath(n);return this.mi(e,a).next((s=>{s||r.removeEntry(a,Ge.min())}))})).next((()=>(this.Ai=null,r.apply(e))))}updateLimboDocument(e,r){return this.mi(e,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(e){return 0}mi(e,r){return ye.or([()=>ye.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class pg{constructor(e,r){this.persistence=e,this.fi=new sc((n=>sle(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=wce(this,r)}static Vi(e,r){return new pg(e,r)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((a=>n+a))))}pr(e){let r=0;return this.mr(e,(n=>{r++})).next((()=>r))}mr(e,r){return ye.forEach(this.fi,((n,a)=>this.wr(e,n,a).next((s=>s?ye.resolve():r(a)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,r).next((d=>{d||(n++,s.removeEntry(c,Ge.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Qp(e.data.value)),r}wr(e,r,n){return ye.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.fi.get(r);return ye.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=a}static Es(e,r){let n=it(),a=it();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new k_(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pce{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Wne()?8:ale(pn())>0?6:4})()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.gs(e,r).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,r,a,n).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new Rce;return this.ys(e,r,c).next((d=>{if(s.result=d,this.As)return this.ws(e,r,c,d.size)}))})).next((()=>s.result))}ws(e,r,n,a){return n.documentReadCount<this.Vs?(au()<=nt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",iu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(au()<=nt.DEBUG&&je("QueryEngine","Query:",iu(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(au()<=nt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",iu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(r))):ye.resolve())}gs(e,r){if(b4(r))return ye.resolve(null);let n=Ai(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Fw(r,null,"F"),n=Ai(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const c=it(...s);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((f=>{const m=this.bs(r,d);return this.Ss(r,m,c,f.readTime)?this.gs(e,Fw(r,null,"F")):this.Ds(e,m,r,f)}))))})))))}ps(e,r,n,a){return b4(r)||a.isEqual(Ge.min())?ye.resolve(null):this.fs.getDocuments(e,n).next((s=>{const c=this.bs(r,s);return this.Ss(r,c,n,a)?ye.resolve(null):(au()<=nt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),iu(r)),this.Ds(e,c,r,Joe(a,nh)).next((d=>d)))}))}bs(e,r){let n=new Sr(L3(e));return r.forEach(((a,s)=>{_x(e,s)&&(n=n.add(s))})),n}Ss(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}ys(e,r,n){return au()<=nt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",iu(r)),this.fs.getDocumentsMatchingQuery(e,r,zo.min(),n)}Ds(e,r,n,a){return this.fs.getDocumentsMatchingQuery(e,n,a).next((s=>(r.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LocalStore",Mce=3e8;class Dce{constructor(e,r,n,a){this.persistence=e,this.Cs=r,this.serializer=a,this.vs=new Jt(at),this.Fs=new sc((s=>h_(s)),m_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nce(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.vs)))}}function zce(t,e,r,n){return new Dce(t,e,r,n)}async function cz(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((s=>(a=s,r.Os(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const c=[],d=[];let f=it();for(const m of a){c.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}for(const m of s){d.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}return r.localDocuments.getDocuments(n,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function Lce(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),s=r.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,p){const g=m.batch,b=g.keys();let w=ye.resolve();return b.forEach((_=>{w=w.next((()=>p.getEntry(f,_))).next((E=>{const S=m.docVersions.get(_);gt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),p.addEntry(E)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let f=it();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function uz(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.li.getLastRemoteSnapshotVersion(r)))}function Vce(t,e){const r=Ye(t),n=e.snapshotVersion;let a=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=r.xs.newChangeBuffer({trackRemovals:!0});a=r.vs;const d=[];e.targetChanges.forEach(((p,g)=>{const b=a.get(g);if(!b)return;d.push(r.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>r.li.addMatchingKeys(s,p.addedDocuments,g))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,n)),a=a.insert(g,w),(function(E,S,R){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Mce?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(b,w,p)&&d.push(r.li.updateTargetData(s,w))}));let f=Ns(),m=it();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(Uce(s,c,e.documentUpdates).next((p=>{f=p.Bs,m=p.Ls}))),!n.isEqual(Ge.min())){const p=r.li.getLastRemoteSnapshotVersion(s).next((g=>r.li.setTargetsMetadata(s,s.currentSequenceNumber,n)));d.push(p)}return ye.waitFor(d).next((()=>c.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,f,m))).next((()=>f))})).then((s=>(r.vs=a,s)))}function Uce(t,e,r){let n=it(),a=it();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let c=Ns();return r.forEach(((d,f)=>{const m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):je(__,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function Bce(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=u_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $ce(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.li.getTargetData(n,e).next((s=>s?(a=s,ye.resolve(a)):r.li.allocateTargetId(n).next((c=>(a=new Eo(e,c,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.vs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n}))}async function Xw(t,e,r){const n=Ye(t),a=n.vs.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(c=>n.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!td(c))throw c;je(__,`Failed to update sequence numbers for target ${e}: ${c}`)}n.vs=n.vs.remove(e),n.Fs.delete(a.target)}function I4(t,e,r){const n=Ye(t);let a=Ge.min(),s=it();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,p){const g=Ye(f),b=g.Fs.get(p);return b!==void 0?ye.resolve(g.vs.get(b)):g.li.getTargetData(m,p)})(n,c,Ai(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>n.Cs.getDocumentsMatchingQuery(c,e,r?a:Ge.min(),r?s:it()))).next((d=>(Hce(n,Tle(e),d),{documents:d,ks:s})))))}function Hce(t,e,r){let n=t.Ms.get(e)||Ge.min();r.forEach(((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Ms.set(e,n)}class R4{constructor(){this.activeTargetIds=Ple()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qce{constructor(){this.vo=new R4,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new R4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="ConnectivityMonitor";class M4{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){je(P4,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){je(P4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function Qw(){return Op===null?Op=(function(){return 268435456+Math.round(2147483648*Math.random())})():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="RestConnection",Gce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kce{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.$o=this.databaseId.database===Uw?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,r,n,a,s){const c=Qw(),d=this.Qo(e,r.toUriEncodedString());je(N1,`Sending RPC '${e}' ${c}:`,d,n);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,s);const{host:m}=new URL(d),p=Wu(m);return this.zo(e,d,f,n,p).then((g=>(je(N1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw ec(N1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",n),g}))}jo(e,r,n,a,s,c){return this.Wo(e,r,n,a,s)}Go(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ju})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,s)=>e[s]=a)),n&&n.headers.forEach(((a,s)=>e[s]=a))}Qo(e,r){const n=Gce[e];let a=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection",pf=(t,e,r)=>{t.listen(e,(n=>{try{r(n)}catch(a){setTimeout((()=>{throw a}),0)}}))};class bu extends Kce{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bu.c_){const e=g3();pf(e,p3.STAT_EVENT,(r=>{r.stat===Lw.PROXY?je(cn,"STAT_EVENT: detected buffering proxy"):r.stat===Lw.NOPROXY&&je(cn,"STAT_EVENT: detected no buffering proxy")})),bu.c_=!0}}zo(e,r,n,a,s){const c=Qw();return new Promise(((d,f)=>{const m=new h3;m.setWithCredentials(!0),m.listenOnce(m3.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Xp.NO_ERROR:const g=m.getResponseJson();je(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case Xp.TIMEOUT:je(cn,`RPC '${e}' ${c} timed out`),f(new Me(we.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const b=m.getStatus();if(je(cn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w==null?void 0:w.error;if(_&&_.status&&_.message){const E=(function(R){const N=R.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(N)>=0?N:we.UNKNOWN})(_.status);f(new Me(E,_.message))}else f(new Me(we.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Me(we.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{je(cn,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);je(cn,`RPC '${e}' ${c} sending request:`,a),m.send(r,"POST",p,n,15)}))}T_(e,r,n){const a=Qw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const m=s.join("");je(cn,`Creating RPC '${e}' stream ${a}: ${m}`,d);const p=c.createWebChannel(m,d);this.I_(p);let g=!1,b=!1;const w=new Yce({Ho:_=>{b?je(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,_):(g||(je(cn,`Opening RPC '${e}' stream ${a} transport.`),p.open(),g=!0),je(cn,`RPC '${e}' stream ${a} sending:`,_),p.send(_))},Jo:()=>p.close()});return pf(p,wf.EventType.OPEN,(()=>{b||(je(cn,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),pf(p,wf.EventType.CLOSE,(()=>{b||(b=!0,je(cn,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(p))})),pf(p,wf.EventType.ERROR,(_=>{b||(b=!0,ec(cn,`RPC '${e}' stream ${a} transport errored. Name:`,_.name,"Message:",_.message),w.o_(new Me(we.UNAVAILABLE,"The operation could not be completed")))})),pf(p,wf.EventType.MESSAGE,(_=>{var E;if(!b){const S=_.data[0];gt(!!S,16349);const R=S,N=(R==null?void 0:R.error)||((E=R[0])==null?void 0:E.error);if(N){je(cn,`RPC '${e}' stream ${a} received error:`,N);const C=N.status;let M=(function(A){const I=yr[A];if(I!==void 0)return X3(I)})(C),U=N.message;C==="NOT_FOUND"&&U.includes("database")&&U.includes("does not exist")&&U.includes(this.databaseId.database)&&ec(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=we.INTERNAL,U="Unknown error status: "+C+" with message "+N.message),b=!0,w.o_(new Me(M,U)),p.close()}else je(cn,`RPC '${e}' stream ${a} received:`,S),w.__(S)}})),bu.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((r=>r===e))}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return x3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(t){return new bu(t)}function E1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){return new Jle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bu.c_=!1;class dz{constructor(e,r,n=1e3,a=1.5,s=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=a,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="PersistentStream";class fz{constructor(e,r,n,a,s,c,d,f){this.Ci=e,this.b_=n,this.S_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dz(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(_s(r.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{e((()=>{const a=new Me(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(D4,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget((()=>this.D_===e?r():(je(D4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xce extends fz{constructor(e,r,n,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,c),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=rce(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Ge.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Ci(c.readTime):Ge.min()})(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=Ww(this.serializer),r.addTarget=(function(s,c){let d;const f=c.target;if(d=qw(f)?{documents:ice(s,f)}:{query:sce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=J3(s,c.resumeToken);const m=Gw(s,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=mg(s,c.snapshotVersion.toTimestamp());const m=Gw(s,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const n=lce(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=Ww(this.serializer),r.removeTarget=e,this.K_(r)}}class Qce extends fz{constructor(e,r,n,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=ace(e.writeResults,e.commitTime),n=Ci(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Ww(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>nce(this.serializer,n)))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{}class Jce extends Zce{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,Kw(r,n),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(we.UNKNOWN,s.toString())}))}jo(e,r,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Kw(r,n),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(we.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eue(t,e,r,n){return new Jce(t,e,r,n)}class tue{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(r),this.aa=!1):je("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="RemoteStore";class rue{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{n.enqueueAndForget((async()=>{lc(this)&&(je(tc,"Restarting streams for network reachability change."),await(async function(f){const m=Ye(f);m.Ea.add(4),await zh(m),m.Va.set("Unknown"),m.Ea.delete(4),await Tx(m)})(this))}))})),this.Va=new tue(n,a)}}async function Tx(t){if(lc(t))for(const e of t.Ra)await e(!0)}async function zh(t){for(const e of t.Ra)await e(!1)}function hz(t,e){const r=Ye(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),j_(r)?S_(r):rd(r).O_()&&E_(r,e))}function N_(t,e){const r=Ye(t),n=rd(r);r.Ia.delete(e),n.O_()&&mz(r,e),r.Ia.size===0&&(n.O_()?n.L_():lc(r)&&r.Va.set("Unknown"))}function E_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}rd(t).Z_(e)}function mz(t,e){t.da.$e(e),rd(t).X_(e)}function S_(t){t.da=new Wle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.Va.ua()}function j_(t){return lc(t)&&!rd(t).x_()&&t.Ia.size>0}function lc(t){return Ye(t).Ea.size===0}function pz(t){t.da=void 0}async function nue(t){t.Va.set("Online")}async function aue(t){t.Ia.forEach(((e,r)=>{E_(t,e)}))}async function iue(t,e){pz(t),j_(t)?(t.Va.ha(e),S_(t)):t.Va.set("Unknown")}async function sue(t,e,r){if(t.Va.set("Online"),e instanceof Z3&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(n){je(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gg(t,n)}else if(e instanceof e0?t.da.Xe(e):e instanceof Q3?t.da.st(e):t.da.tt(e),!r.isEqual(Ge.min()))try{const n=await uz(t.localStore);r.compareTo(n)>=0&&await(function(s,c){const d=s.da.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(nn.EMPTY_BYTE_STRING,p.snapshotVersion)),mz(s,f);const g=new Eo(p.target,f,m,p.sequenceNumber);E_(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,r)}catch(n){je(tc,"Failed to raise snapshot:",n),await gg(t,n)}}async function gg(t,e,r){if(!td(e))throw e;t.Ea.add(1),await zh(t),t.Va.set("Offline"),r||(r=()=>uz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(tc,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Tx(t)}))}function gz(t,e){return e().catch((r=>gg(t,r,e)))}async function Ax(t){const e=Ye(t),r=Bo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:u_;for(;oue(e);)try{const a=await Bce(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,lue(e,a)}catch(a){await gg(e,a)}xz(e)&&yz(e)}function oue(t){return lc(t)&&t.Ta.length<10}function lue(t,e){t.Ta.push(e);const r=Bo(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function xz(t){return lc(t)&&!Bo(t).x_()&&t.Ta.length>0}function yz(t){Bo(t).start()}async function cue(t){Bo(t).ra()}async function uue(t){const e=Bo(t);for(const r of t.Ta)e.ea(r.mutations)}async function due(t,e,r){const n=t.Ta.shift(),a=x_.from(n,e,r);await gz(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Ax(t)}async function fue(t,e){e&&Bo(t).Y_&&await(async function(n,a){if((function(c){return Gle(c)&&c!==we.ABORTED})(a.code)){const s=n.Ta.shift();Bo(n).B_(),await gz(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Ax(n)}})(t,e),xz(t)&&yz(t)}async function z4(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),je(tc,"RemoteStore received new credentials");const n=lc(r);r.Ea.add(3),await zh(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Tx(r)}async function hue(t,e){const r=Ye(t);e?(r.Ea.delete(2),await Tx(r)):e||(r.Ea.add(2),await zh(r),r.Va.set("Unknown"))}function rd(t){return t.ma||(t.ma=(function(r,n,a){const s=Ye(r);return s.sa(),new Xce(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Zo:nue.bind(null,t),Yo:aue.bind(null,t),t_:iue.bind(null,t),J_:sue.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),j_(t)?S_(t):t.Va.set("Unknown")):(await t.ma.stop(),pz(t))}))),t.ma}function Bo(t){return t.fa||(t.fa=(function(r,n,a){const s=Ye(r);return s.sa(),new Qce(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cue.bind(null,t),t_:fue.bind(null,t),ta:uue.bind(null,t),na:due.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Ax(t)):(await t.fa.stop(),t.Ta.length>0&&(je(tc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const c=Date.now()+n,d=new T_(e,r,c,a,s);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(_s("AsyncQueue",`${e}: ${t}`),td(t))return new Me(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=kf(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new vu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.ga=new Jt(Ve.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Mu{constructor(e,r,n,a,s,c,d,f,m){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,r,n,a,s){const c=[];return r.forEach((d=>{c.push({type:0,doc:d})})),new Mu(e,r,vu.emptySet(r),c,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class pue{constructor(){this.queries=V4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Ye(r),s=a.queries;a.queries=V4(),s.forEach(((c,d)=>{for(const f of d.ba)f.onError(n)}))})(this,new Me(we.ABORTED,"Firestore shutting down"))}}function V4(){return new sc((t=>z3(t)),kx)}async function gue(t,e){const r=Ye(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.Sa()&&e.Da()&&(n=2):(s=new mue,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(a,!0);break;case 1:s.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(c){const d=A_(c,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(d)}r.queries.set(a,s),s.ba.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&C_(r)}async function xue(t,e){const r=Ye(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?a=e.Da()?0:1:!s.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function yue(t,e){const r=Ye(t);let n=!1;for(const a of e){const s=a.query,c=r.queries.get(s);if(c){for(const d of c.ba)d.Fa(a)&&(n=!0);c.wa=a}}n&&C_(r)}function bue(t,e,r){const n=Ye(t),a=n.queries.get(e);if(a)for(const s of a.ba)s.onError(r);n.queries.delete(e)}function C_(t){t.Ca.forEach((e=>{e.next()}))}var Zw,U4;(U4=Zw||(Zw={})).Ma="default",U4.Cache="cache";class vue{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Mu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.key=e}}class vz{constructor(e){this.key=e}}class wue{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=L3(e),this.tu=new vu(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new L4,a=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const b=a.get(p),w=_x(this.query,g)?g:null,_=!!b&&this.mutatedKeys.has(b.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;b&&w?b.data.isEqual(w.data)?_!==E&&(n.track({type:3,doc:w}),S=!0):this.su(b,w)||(n.track({type:2,doc:w}),S=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(d=!0)):!b&&w?(n.track({type:0,doc:w}),S=!0):b&&!w&&(n.track({type:1,doc:b}),S=!0,(f||m)&&(d=!0)),S&&(w?(c=c.add(w),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{tu:c,iu:n,Ss:d,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,_){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:S})}};return E(w)-E(_)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(n),a=a??!1;const d=r&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new Mu(this.query,e.tu,s,c,e.mutatedKeys,f===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L4,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return e.forEach((n=>{this.Ya.has(n)||r.push(new vz(n))})),this.Ya.forEach((n=>{e.has(n)||r.push(new bz(n))})),r}cu(e){this.Za=e.ks,this.Ya=it();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Mu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const O_="SyncEngine";class kue{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class _ue{constructor(e){this.key=e,this.hu=!1}}class Nue{constructor(e,r,n,a,s,c){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new sc((d=>z3(d)),kx),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jt(Ve.comparator),this.Au=new Map,this.Vu=new v_,this.du={},this.mu=new Map,this.fu=Pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Eue(t,e,r=!0){const n=Sz(t);let a;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await wz(n,e,r,!0),a}async function Sue(t,e){const r=Sz(t);await wz(r,e,!0,!1)}async function wz(t,e,r,n){const a=await $ce(t.localStore,Ai(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,r);let d;return n&&(d=await jue(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&r&&hz(t.remoteStore,a),d}async function jue(t,e,r,n,a){t.pu=(g,b,w)=>(async function(E,S,R,N){let C=S.view.ru(R);C.Ss&&(C=await I4(E.localStore,S.query,!1).then((({documents:A})=>S.view.ru(A,C))));const M=N&&N.targetChanges.get(S.targetId),U=N&&N.targetMismatches.get(S.targetId)!=null,H=S.view.applyChanges(C,E.isPrimaryClient,M,U);return $4(E,S.targetId,H.au),H.snapshot})(t,g,b,w);const s=await I4(t.localStore,e,!0),c=new wue(e,s.ks),d=c.ru(s.documents),f=Dh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,f);$4(t,r,m.au);const p=new kue(e,r,c);return t.Tu.set(e,p),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),m.snapshot}async function Tue(t,e,r){const n=Ye(t),a=n.Tu.get(e),s=n.Iu.get(a.targetId);if(s.length>1)return n.Iu.set(a.targetId,s.filter((c=>!kx(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Xw(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&N_(n.remoteStore,a.targetId),Jw(n,a.targetId)})).catch(ed)):(Jw(n,a.targetId),await Xw(n.localStore,a.targetId,!0))}async function Aue(t,e){const r=Ye(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),N_(r.remoteStore,n.targetId))}async function Cue(t,e,r){const n=zue(t);try{const a=await(function(c,d){const f=Ye(c),m=Lt.now(),p=d.reduce(((w,_)=>w.add(_.key)),it());let g,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let _=Ns(),E=it();return f.xs.getEntries(w,p).next((S=>{_=S,_.forEach(((R,N)=>{N.isValidDocument()||(E=E.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,_))).next((S=>{g=S;const R=[];for(const N of d){const C=Ble(N,g.get(N.key).overlayedDocument);C!=null&&R.push(new oc(N.key,C,C3(C.value.mapValue),hs.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,R,d)})).next((S=>{b=S;const R=S.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(w,S.batchId,R)}))})).then((()=>({batchId:b.batchId,changes:U3(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let m=c.du[c.currentUser.toKey()];m||(m=new Jt(at)),m=m.insert(d,f),c.du[c.currentUser.toKey()]=m})(n,a.batchId,r),await Lh(n,a.changes),await Ax(n.remoteStore)}catch(a){const s=A_(a,"Failed to persist write");r.reject(s)}}async function kz(t,e){const r=Ye(t);try{const n=await Vce(r.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=r.Au.get(s);c&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?gt(c.hu,14607):a.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await Lh(r,n,e)}catch(n){await ed(n)}}function B4(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Ye(c);f.onlineState=d;let m=!1;f.queries.forEach(((p,g)=>{for(const b of g.ba)b.va(d)&&(m=!0)})),m&&C_(f)})(n.eventManager,e),a.length&&n.Pu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Oue(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),s=a&&a.key;if(s){let c=new Jt(Ve.comparator);c=c.insert(s,hn.newNoDocument(s,Ge.min()));const d=it().add(s),f=new Sx(Ge.min(),new Map,new Jt(at),c,d);await kz(n,f),n.Ru=n.Ru.remove(s),n.Au.delete(e),I_(n)}else await Xw(n.localStore,e,!1).then((()=>Jw(n,e,r))).catch(ed)}async function Iue(t,e){const r=Ye(t),n=e.batch.batchId;try{const a=await Lce(r.localStore,e);Nz(r,n,null),_z(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Lh(r,a)}catch(a){await ed(a)}}async function Rue(t,e,r){const n=Ye(t);try{const a=await(function(c,d){const f=Ye(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return f.mutationQueue.lookupMutationBatch(m,d).next((g=>(gt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(m,g)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>f.localDocuments.getDocuments(m,p)))}))})(n.localStore,e);Nz(n,e,r),_z(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Lh(n,a)}catch(a){await ed(a)}}function _z(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function Nz(t,e,r){const n=Ye(t);let a=n.du[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.du[n.currentUser.toKey()]=a}}function Jw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((n=>{t.Vu.containsKey(n)||Ez(t,n)}))}function Ez(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(N_(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),I_(t))}function $4(t,e,r){for(const n of r)n instanceof bz?(t.Vu.addReference(n.key,e),Pue(t,n)):n instanceof vz?(je(O_,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||Ez(t,n.key)):qe(19791,{wu:n})}function Pue(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(je(O_,"New document in limbo: "+r),t.Eu.add(n),I_(t))}function I_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ve(Qt.fromString(e)),n=t.fu.next();t.Au.set(n,new _ue(r)),t.Ru=t.Ru.insert(r,n),hz(t.remoteStore,new Eo(Ai(p_(r.path)),n,"TargetPurposeLimboResolution",yx.ce))}}async function Lh(t,e,r){const n=Ye(t),a=[],s=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,f)=>{c.push(n.pu(f,e,r).then((m=>{var p;if((m||r)&&n.isPrimaryClient){const g=m?!m.fromCache:(p=r==null?void 0:r.targetChanges.get(f.targetId))==null?void 0:p.current;n.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){a.push(m);const g=k_.Es(f.targetId,m);s.push(g)}})))})),await Promise.all(c),n.Pu.J_(a),await(async function(f,m){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ye.forEach(m,(b=>ye.forEach(b.Ts,(w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w))).next((()=>ye.forEach(b.Is,(w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))))))}catch(g){if(!td(g))throw g;je(__,"Failed to update sequence numbers: "+g)}for(const g of m){const b=g.targetId;if(!g.fromCache){const w=p.vs.get(b),_=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(_);p.vs=p.vs.insert(b,E)}}})(n.localStore,s))}async function Mue(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){je(O_,"User change. New user:",e.toKey());const n=await cz(r.localStore,e);r.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Me(we.CANCELLED,c))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lh(r,n.Ns)}}function Due(t,e){const r=Ye(t),n=r.Au.get(e);if(n&&n.hu)return it().add(n.key);{let a=it();const s=r.Iu.get(e);if(!s)return a;for(const c of s){const d=r.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Sz(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Due.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oue.bind(null,e),e.Pu.J_=yue.bind(null,e.eventManager),e.Pu.yu=bue.bind(null,e.eventManager),e}function zue(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rue.bind(null,e),e}class xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return zce(this.persistence,new Pce,e.initialUser,this.serializer)}Cu(e){return new lz(w_.Vi,this.serializer)}Du(e){return new qce}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xg.provider={build:()=>new xg};class Lue extends xg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){gt(this.persistence.referenceDelegate instanceof pg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bce(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new lz((n=>pg.Vi(n,r)),this.serializer)}}class e2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>B4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mue.bind(null,this.syncEngine),await hue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pue})()}createDatastore(e){const r=jx(e.databaseInfo.databaseId),n=Wce(e.databaseInfo);return eue(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,s,c,d){return new rue(n,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(r=>B4(this.syncEngine,r,0)),(function(){return M4.v()?new M4:new Fce})())}createSyncEngine(e,r){return(function(a,s,c,d,f,m,p){const g=new Nue(a,s,c,d,f,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){const s=Ye(a);je(tc,"RemoteStore shutting down."),s.Ea.add(5),await zh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}e2.provider={build:()=>new e2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class Uue{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async c=>{je($o,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(je($o,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=A_(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function S1(t,e){t.asyncQueue.verifyOperationInProgress(),je($o,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await cz(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function H4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Bue(t);je($o,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>z4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>z4(e.remoteStore,a))),t._onlineComponents=e}async function Bue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je($o,"Using user provided OfflineComponentProvider");try{await S1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;ec("Error using user provided cache. Falling back to memory cache: "+r),await S1(t,new xg)}}else je($o,"Using default OfflineComponentProvider"),await S1(t,new Lue(void 0));return t._offlineComponents}async function jz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je($o,"Using user provided OnlineComponentProvider"),await H4(t,t._uninitializedComponentsProvider._online)):(je($o,"Using default OnlineComponentProvider"),await H4(t,new e2))),t._onlineComponents}function $ue(t){return jz(t).then((e=>e.syncEngine))}async function Hue(t){const e=await jz(t),r=e.eventManager;return r.onListen=Eue.bind(null,e.syncEngine),r.onUnlisten=Tue.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Sue.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Aue.bind(null,e.syncEngine),r}function que(t,e,r={}){const n=new Ro;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,m){const p=new Vue({next:b=>{p.Nu(),c.enqueueAndForget((()=>xue(s,g)));const w=b.docs.has(d);!w&&b.fromCache?m.reject(new Me(we.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new Me(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new vue(p_(d.path),p,{includeMetadataChanges:!0,Ka:!0});return gue(s,g)})(await Hue(t),t.asyncQueue,e,r,n))),n.promise}function Fue(t,e){const r=new Ro;return t.asyncQueue.enqueueAndForget((async()=>Cue(await $ue(t),e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue="ComponentProvider",q4=new Map;function Kue(t,e,r,n,a){return new cle(t,e,r,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Tz(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az="firestore.googleapis.com",F4=!0;class G4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Az,this.ssl=F4}else this.host=e.host,this.ssl=e.ssl??F4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xce)throw new Me(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zoe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tz(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R_{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Boe;switch(n.type){case"firstParty":return new Foe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=q4.get(r);n&&(je(Gue,"Removing Datastore"),q4.delete(r),n.terminate())})(this),Promise.resolve()}}function Yue(t,e,r,n={}){var m;t=rh(t,R_);const a=Wu(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${r}`;a&&(E6(`https://${d}`),S6("Firestore",!0)),s.host!==Az&&s.host!==d&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:n};if(!Xl(f,c)&&(t._setSettings(f),n.mockUserToken)){let p,g;if(typeof n.mockUserToken=="string")p=n.mockUserToken,g=dn.MOCK_USER;else{p=Une(n.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new Me(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new dn(b)}t._authCredentials=new $oe(new b3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new P_(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}toJSON(){return{type:Vr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Ph(r,Vr._jsonSchema))return new Vr(e,n||null,new Ve(Qt.fromString(r.referencePath)))}}Vr._jsonSchemaVersion="firestore/documentReference/1.0",Vr._jsonSchema={type:vr("string",Vr._jsonSchemaVersion),referencePath:vr("string")};class ch extends P_{constructor(e,r,n){super(e,r,p_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new Ve(e))}withConverter(e){return new ch(this.firestore,e,this._path)}}function j1(t,e,...r){if(t=Ca(t),arguments.length===1&&(e=l_.newId()),Qoe("doc","path",e),t instanceof R_){const n=Qt.fromString(e,...r);return s4(n),new Vr(t,null,new Ve(n))}{if(!(t instanceof Vr||t instanceof ch))throw new Me(we.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Qt.fromString(e,...r));return s4(n),new Vr(t.firestore,t instanceof ch?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="AsyncQueue";class Y4{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dz(this,"async_queue_retry"),this._c=()=>{const n=E1();n&&je(K4,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=E1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=E1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ro;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!td(e))throw e;je(K4,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",W4(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=T_.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&qe(47125,{Pc:W4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function W4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class M_ extends R_{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new Y4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y4(e),this._firestoreClient=void 0,await e}}}function Wue(t,e){const r=typeof t=="object"?t:C6(),n=typeof t=="string"?t:e,a=Zk(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=Lne("firestore");s&&Yue(a,...s)}return a}function Cz(t){if(t._terminated)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xue(t),t._firestoreClient}function Xue(t){var n,a,s,c;const e=t._freezeSettings(),r=Kue(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Uue(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(nn.fromBase64String(e))}catch(r){throw new Me(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Na(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Na._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ph(e,Na._jsonSchema))return Na.fromBase64String(e.bytes)}}Na._jsonSchemaVersion="firestore/bytes/1.0",Na._jsonSchema={type:vr("string",Na._jsonSchemaVersion),bytes:vr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Ph(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:vr("string",Oi._jsonSchemaVersion),latitude:vr("number"),longitude:vr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ph(e,Xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Xa(e.vectorValues);throw new Me(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xa._jsonSchemaVersion="firestore/vectorValue/1.0",Xa._jsonSchema={type:vr("string",Xa._jsonSchemaVersion),vectorValues:vr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que=/^__.*__$/;class Zue{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new oc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mh(e,this.data,r,this.fieldTransforms)}}function Rz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:t})}}class D_{constructor(e,r,n,a,s,c){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new D_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Rz(this.dataSource)&&Que.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Jue{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jx(e)}createContext(e,r,n,a=!1){return new D_({dataSource:e,methodName:r,targetDoc:n,path:Jr.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ede(t){const e=t._freezeSettings(),r=jx(t._databaseId);return new Jue(t._databaseId,!!e.ignoreUndefinedProperties,r)}function tde(t,e,r,n,a,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,r,a);zz("Data must be an object, but it was:",c,n);const d=Mz(n,c);let f,m;if(s.merge)f=new Ka(c.fieldMask),m=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=z_(e,g,r);if(!c.contains(b))throw new Me(we.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ade(p,b)||p.push(b)}f=new Ka(p),m=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,m=c.fieldTransforms;return new Zue(new _a(d),f,m)}function Pz(t,e){if(Dz(t=Ca(t)))return zz("Unsupported field value:",e,t),Mz(t,e);if(t instanceof Iz)return(function(n,a){if(!Rz(a.dataSource))throw a.createError(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,a){const s=[];let c=0;for(const d of n){let f=Pz(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(n,a){if((n=Ca(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Mle(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Lt.fromDate(n);return{timestampValue:mg(a.serializer,s)}}if(n instanceof Lt){const s=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mg(a.serializer,s)}}if(n instanceof Oi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Na)return{bytesValue:J3(a.serializer,n._byteString)};if(n instanceof Vr){const s=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(s))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b_(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Xa)return(function(c,d){const f=c instanceof Xa?c.toArray():c;return{mapValue:{fields:{[T3]:{stringValue:A3},[cg]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return g_(d.serializer,p)}))}}}}}})(n,a);if(sz(n))return n._toProto(a.serializer);throw a.createError(`Unsupported field value: ${c_(n)}`)})(t,e)}function Mz(t,e){const r={};return k3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(t,((n,a)=>{const s=Pz(a,e.childContextForField(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function Dz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Oi||t instanceof Na||t instanceof Vr||t instanceof Iz||t instanceof Xa||sz(t))}function zz(t,e,r){if(!Dz(r)||!v3(r)){const n=c_(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function z_(t,e,r){if((e=Ca(e))instanceof Oz)return e._internalPath;if(typeof e=="string")return nde(t,e);throw yg("Field path arguments must be of type string or ",t,!1,void 0,r)}const rde=new RegExp("[~\\*/\\[\\]]");function nde(t,e,r){if(e.search(rde)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Oz(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function yg(t,e,r,n,a){const s=n&&!n.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${n}`),c&&(f+=` in document ${a}`),f+=")"),new Me(we.INVALID_ARGUMENT,d+t+f)}function ade(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{convertValue(e,r="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ic(e,((a,s)=>{n[a]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,a,s;const r=(s=(a=(n=e.fields)==null?void 0:n[cg].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>dr(c.doubleValue)));return new Xa(r)}convertGeoPoint(e){return new Oi(dr(e.latitude),dr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const r=Lo(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Qt.fromString(e);gt(iz(n),9688,{name:e});const a=new ih(n.get(1),n.get(3)),s=new Ve(n.popFirst(5));return a.isEqual(r)||_s(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde extends ide{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}const X4="@firebase/firestore",Q4="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ode(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(z_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ode extends Lz{data(){return super.data()}}function lde(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Nf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dl extends Lz{constructor(e,r,n,a,s,c){super(e,r,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new t0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(z_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Dl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:vr("string",Dl._jsonSchemaVersion),bundleSource:vr("string","DocumentSnapshot"),bundleName:vr("string"),bundle:vr("string")};class t0 extends Dl{data(e={}){return super.data(e)}}class Rf{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Nf(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new t0(this._firestore,this._userDataWriter,n.key,n,new Nf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new t0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new t0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,p=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:cde(d.type),doc:f,oldIndex:m,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rf._jsonSchemaVersion="firestore/querySnapshot/1.0",Rf._jsonSchema={type:vr("string",Rf._jsonSchemaVersion),bundleSource:vr("string","QuerySnapshot"),bundleName:vr("string"),bundle:vr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){t=rh(t,Vr);const e=rh(t.firestore,M_),r=Cz(e);return que(r,t._key).then((n=>fde(e,t,n)))}function ude(t,e,r){t=rh(t,Vr);const n=rh(t.firestore,M_),a=lde(t.converter,e,r),s=ede(n);return dde(n,[tde(s,"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,hs.none())])}function dde(t,e){const r=Cz(t);return Fue(r,e)}function fde(t,e,r){const n=r.docs.get(e._key),a=new sde(t);return new Dl(t,a,e._key,n,new Nf(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){Uoe(Xu),Au(new Ql("firestore",((n,{instanceIdentifier:a,options:s})=>{const c=n.getProvider("app").getImmediate(),d=new M_(new Hoe(n.getProvider("auth-internal")),new Goe(c,n.getProvider("app-check-internal")),ule(c,a),c);return s={useFetchStreams:r,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Co(X4,Q4,e),Co(X4,Q4,"esm2020")})();const hde={apiKey:"AIzaSyBOhlsCQH6JKoN14syfBKanwXOYebJxI0A",authDomain:"emrperdeyonetim.firebaseapp.com",projectId:"emrperdeyonetim",storageBucket:"emrperdeyonetim.appspot.com",messagingSenderId:"1084031957445",appId:"1:1084031957445:web:146495c808f9ffaf8b33ac",measurementId:"G-HS8D00H65B"},Vz=A6(hde),El=Noe(Vz),T1=Wue(Vz,"emryonetim"),Ip=[],Rp=[],Ba=[{id:"v_cash_fixed",name:"Merkez Nakit Kasa",balance:0,type:"CASH",currency:"TL",isFixed:!0},{id:"v_bank_fixed",name:"Merkez Banka Hesab",balance:0,type:"BANK",currency:"TL",isFixed:!0},{id:"v_pos_fixed",name:"Merkez POS",balance:0,type:"POS",currency:"TL",isFixed:!0},{id:"v_iyzico_fixed",name:"yzico (Sanal POS)",balance:0,type:"POS",currency:"TL",isFixed:!0}],Pp=[],Mp=[],Dp=[],zp={name:"Maaza Ad Giriniz",owner:"Yetkili Ad",phone:"0500 000 00 00",address:"Adres Bilgisi Girilmemi",iban:"",bankName:"",bankAccountHolder:""},Lp={width:55,height:38,elements:[{id:"1",type:"TEXT_STORE",x:2,y:2,width:51,height:5,fontSize:8,fontWeight:"900",textAlign:"center"},{id:"2",type:"TEXT_PRODUCT",x:2,y:8,width:35,height:10,fontSize:8,fontWeight:"bold",textAlign:"left"},{id:"3",type:"TEXT_PRICE",x:38,y:8,width:15,height:6,fontSize:11,fontWeight:"900",textAlign:"center",backgroundColor:"#000000",color:"#ffffff",borderRadius:4,padding:1.5},{id:"4",type:"BARCODE",x:2,y:20,width:51,height:12,fontSize:10,fontWeight:"normal",textAlign:"center"},{id:"5",type:"BARCODE_TEXT",x:2,y:33,width:51,height:3,fontSize:7,fontWeight:"900",textAlign:"center"}]},Vp={width:297,height:210,elements:[{id:"h_rect",type:"RECTANGLE",x:10,y:10,width:277,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",border:"4px solid black"},{id:"hl1",type:"RECTANGLE",x:82,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl2",type:"RECTANGLE",x:148,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl3",type:"RECTANGLE",x:192,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"hl4",type:"RECTANGLE",x:242,y:10,width:1,height:45,fontSize:10,fontWeight:"normal",textAlign:"left",backgroundColor:"black"},{id:"logo",type:"LOGO_EMR",x:15,y:12,width:62,height:40,fontSize:10,fontWeight:"normal",textAlign:"center"},{id:"cust",type:"TEXT_CUSTOMER",x:85,y:15,width:60,height:35,fontSize:16,fontWeight:"bold",textAlign:"left"},{id:"teslim_lbl",type:"CUSTOM_TEXT",content:"TESLM",x:153,y:10,width:34,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"teslim_val",type:"TEXT_TESLIM_VAL",x:150,y:25,width:40,height:20,fontSize:16,fontWeight:"bold",textAlign:"center"},{id:"not_lbl",type:"CUSTOM_TEXT",content:"NOT:",x:198,y:10,width:32,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"not_val",type:"TEXT_NOTES",x:195,y:25,width:44,height:20,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"metraj_lbl",type:"CUSTOM_TEXT",content:"METRAJ",x:248,y:10,width:34,height:10,fontSize:16,fontWeight:"900",textAlign:"center",backgroundColor:"white",border:"2px solid black"},{id:"metraj_val",type:"TEXT_METRAJ_VAL",x:245,y:25,width:40,height:20,fontSize:16,fontWeight:"bold",textAlign:"center"},{id:"w1_line",type:"LINE_SLANTED",x:10,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w1_w",type:"TEXT_WIN_1_W",x:15,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w1_h",type:"TEXT_WIN_1_H",x:35,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w1_desc",type:"TEXT_WIN_1_DESC",x:10,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w2_line",type:"LINE_SLANTED",x:84,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w2_w",type:"TEXT_WIN_2_W",x:89,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w2_h",type:"TEXT_WIN_2_H",x:109,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w2_desc",type:"TEXT_WIN_2_DESC",x:84,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w3_line",type:"LINE_SLANTED",x:158,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w3_w",type:"TEXT_WIN_3_W",x:163,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w3_h",type:"TEXT_WIN_3_H",x:183,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w3_desc",type:"TEXT_WIN_3_DESC",x:158,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w4_line",type:"LINE_SLANTED",x:232,y:75,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w4_w",type:"TEXT_WIN_4_W",x:237,y:62,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w4_h",type:"TEXT_WIN_4_H",x:257,y:93,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w4_desc",type:"TEXT_WIN_4_DESC",x:232,y:125,width:55,height:15,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w5_line",type:"LINE_SLANTED",x:10,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w5_w",type:"TEXT_WIN_5_W",x:15,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w5_h",type:"TEXT_WIN_5_H",x:35,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w5_desc",type:"TEXT_WIN_5_DESC",x:10,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w6_line",type:"LINE_SLANTED",x:84,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w6_w",type:"TEXT_WIN_6_W",x:89,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w6_h",type:"TEXT_WIN_6_H",x:109,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w6_desc",type:"TEXT_WIN_6_DESC",x:84,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"w7_line",type:"LINE_SLANTED",x:158,y:150,width:55,height:45,fontSize:10,fontWeight:"normal",textAlign:"left"},{id:"w7_w",type:"TEXT_WIN_7_W",x:163,y:137,width:45,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w7_h",type:"TEXT_WIN_7_H",x:183,y:168,width:30,height:15,fontSize:32,fontWeight:"900",textAlign:"center"},{id:"w7_desc",type:"TEXT_WIN_7_DESC",x:158,y:200,width:55,height:10,fontSize:12,fontWeight:"bold",textAlign:"left"},{id:"t_rect",type:"RECTANGLE",x:232,y:145,width:55,height:55,fontSize:10,fontWeight:"normal",textAlign:"left",border:"4px solid black"},{id:"t_lbl",type:"CUSTOM_TEXT",content:"TOPLAM",x:232,y:150,width:55,height:15,fontSize:18,fontWeight:"900",textAlign:"center"},{id:"t_val",type:"TEXT_TOPLAM_VAL",x:232,y:170,width:55,height:25,fontSize:24,fontWeight:"bold",textAlign:"center"}]},mde=new BroadcastChannel("customer_display_sync");function pde(){var $n;const[t,e]=k.useState(!0),[r,n]=k.useState(!1),[a,s]=k.useState(!0),[c,d]=k.useState(!1),[f,m]=k.useState(!1),p=k.useRef(!1),[g,b]=k.useState(()=>{const ne=localStorage.getItem("theme_preference");return ne?ne==="dark":!0}),[w,_]=k.useState("DASHBOARD"),[E,S]=k.useState(!1),[R,N]=k.useState(null),[C,M]=k.useState(null),[U,H]=k.useState(null),[A,I]=k.useState(null),[P,$]=k.useState(!1),[z,D]=k.useState([]),[B,W]=k.useState({value:0,type:"PERCENT"}),[te,G]=k.useState(Ba),[Q,me]=k.useState(Pp),[de,ee]=k.useState(Ip),[L,F]=k.useState(Mp),[oe,K]=k.useState(Dp),[ge,Ne]=k.useState(Rp),[fe,$e]=k.useState([]),[le,Be]=k.useState([]),[Le,be]=k.useState([]),[ft,We]=k.useState(zp),[Pt,Ot]=k.useState(Lp),[Ar,Vn]=k.useState(Vp),It=k.useMemo(()=>new URLSearchParams(window.location.search).get("view")==="customer-display",[]),Bt=k.useMemo(()=>{const ne=[],ke=new Date;return ke.setHours(0,0,0,0),le.forEach(ve=>{if(ve.status==="UNPAID"&&ve.dueDate){const Ee=new Date(ve.dueDate);Ee.setHours(0,0,0,0);const Ie=Ee.getTime()-ke.getTime(),Oe=Math.ceil(Ie/(1e3*60*60*24));Oe<=5&&ne.push({id:ve.id,type:"BILL",title:`Fatura: ${ve.institution} - ${ve.name}`,amount:ve.amount+(ve.amount2||0),days:Oe,date:ve.dueDate})}}),Le.forEach(ve=>{if(ve.status==="PENDING"&&ve.dueDate){const Ee=new Date(ve.dueDate);Ee.setHours(0,0,0,0);const Ie=Ee.getTime()-ke.getTime(),Oe=Math.ceil(Ie/(1e3*60*60*24));Oe<=5&&ne.push({id:ve.id,type:"NOTE",title:`Senet: ${ve.contactName}`,amount:ve.amount,days:Oe,date:ve.dueDate})}}),ne.sort((ve,Ee)=>ve.days-Ee.days)},[le,Le]);k.useEffect(()=>{const ne=setTimeout(()=>e(!1),2500);return()=>clearTimeout(ne)},[]),k.useEffect(()=>{const ne=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ne),()=>document.removeEventListener("fullscreenchange",ne)},[]);const De=ne=>{_(ke=>ne!==ke?(window.history.pushState({view:ne},""),ne):ke)};k.useEffect(()=>{window.history.replaceState({view:"DASHBOARD"},"");const ne=ke=>{ke.state&&ke.state.view&&_(ke.state.view)};return window.addEventListener("popstate",ne),()=>window.removeEventListener("popstate",ne)},[]),k.useEffect(()=>{It||(async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(ve=>ve.stop()),console.log("Kamera izni baaryla alnd.")}catch(ke){console.warn("Kamera izni alnamad veya reddedildi:",ke)}})()},[It]),k.useEffect(()=>{g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme_preference",g?"dark":"light"),mde.postMessage({type:"UPDATE_DISPLAY",cart:z,discount:B})},[g,z,B]),k.useEffect(()=>{const ne=hse(El,async ke=>{if(ke){n(!0),s(!0),p.current=!1;const ve=j1(T1,"user_data",ke.uid);try{const Ee=await Z4(ve);if(Ee.exists()){const Ie=Ee.data();let Oe=Ie.vaults||[];const tr=Oe.some(kt=>kt.id==="v_cash_fixed"),Fe=Oe.some(kt=>kt.id==="v_bank_fixed"),pt=Oe.some(kt=>kt.id==="v_pos_fixed");Oe.some(kt=>kt.id==="v_iyzico_fixed")||(Oe=[Ba[3],...Oe]),pt||(Oe=[Ba[2],...Oe]),Fe||(Oe=[Ba[1],...Oe]),tr||(Oe=[Ba[0],...Oe]),G(Oe),me(Ie.contacts||Pp),ee(Ie.productGroups||Ip),F(Ie.products||Mp),K(Ie.measurements||Dp),Ne(Ie.units||Rp),$e(Ie.transactions||[]),Be(Ie.bills||[]),be(Ie.promissoryNotes||[]),We(Ie.firmProfile||zp),Ot(Ie.barcodeTemplate||Lp),Vn(Ie.workshopBarcodeTemplate||Vp)}else G(Ba)}catch(Ee){console.error("Veri yklenirken hata:",Ee)}finally{s(!1),setTimeout(()=>{p.current=!0},500)}}else n(!1),G(Ba),me(Pp),ee(Ip),F(Mp),K(Dp),Ne(Rp),$e([]),Be([]),be([]),We(zp),Ot(Lp),Vn(Vp),s(!1),p.current=!1});return()=>ne()},[]),k.useEffect(()=>{const ne=async()=>{if(r&&El.currentUser&&p.current){const ke=j1(T1,"user_data",El.currentUser.uid),ve={vaults:te,contacts:Q,productGroups:de,products:L,measurements:oe,units:ge,transactions:fe,bills:le,promissoryNotes:Le,firmProfile:ft,barcodeTemplate:Pt,workshopBarcodeTemplate:Ar};try{const Ee=JSON.parse(JSON.stringify(ve));await ude(ke,Ee,{merge:!0})}catch(Ee){console.error("Veri kaydedilirken hata:",Ee)}}};if(!a&&p.current){const ke=setTimeout(ne,300);return()=>clearTimeout(ke)}},[te,Q,de,L,oe,ge,fe,le,Le,ft,Pt,Ar,r,a]);const nd=()=>b(!g),Ko=async()=>{try{document.fullscreenElement?document.exitFullscreen&&await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(ne){console.warn("Tam ekran API'si desteklenmiyor veya engellendi:",ne)}},Hr=()=>{De("DASHBOARD")},Ui=()=>{El.signOut()},Rs=async()=>{if(El.currentUser){d(!0);try{const ne=j1(T1,"user_data",El.currentUser.uid),ke=await Z4(ne);if(ke.exists()){const ve=ke.data();let Ee=ve.vaults||[];const Ie=Ee.some(pt=>pt.id==="v_cash_fixed"),Oe=Ee.some(pt=>pt.id==="v_bank_fixed"),tr=Ee.some(pt=>pt.id==="v_pos_fixed");Ee.some(pt=>pt.id==="v_iyzico_fixed")||(Ee=[Ba[3],...Ee]),tr||(Ee=[Ba[2],...Ee]),Oe||(Ee=[Ba[1],...Ee]),Ie||(Ee=[Ba[0],...Ee]),G(Ee),me(ve.contacts||Pp),ee(ve.productGroups||Ip),F(ve.products||Mp),K(ve.measurements||Dp),Ne(ve.units||Rp),$e(ve.transactions||[]),Be(ve.bills||[]),be(ve.promissoryNotes||[]),We(ve.firmProfile||zp),Ot(ve.barcodeTemplate||Lp),Vn(ve.workshopBarcodeTemplate||Vp)}}catch(ne){console.error("Veri gncellenirken hata:",ne)}finally{d(!1)}}},Ps=k.useMemo(()=>te.filter(ne=>ne.type==="CASH"||ne.type==="BANK"||ne.type==="POS").reduce((ne,ke)=>ne+ke.balance,0),[te]),$t=ne=>{const ke=Math.random().toString(36).substr(2,9);let ve=new Date().toISOString();if(ne.date)if(ne.date.includes("T"))ve=ne.date;else{const Ie=new Date,[Oe,tr,Fe]=ne.date.split("-");Oe&&tr&&Fe&&(Ie.setFullYear(parseInt(Oe,10),parseInt(tr,10)-1,parseInt(Fe,10)),ve=Ie.toISOString())}const Ee={...ne,id:ke,date:ve};return $e(Ie=>[Ee,...Ie]),ne.isCredit||G(Ie=>Ie.map(Oe=>Oe.id===ne.vaultId?{...Oe,balance:ne.type==="INCOME"?Oe.balance+ne.amount:Oe.balance-ne.amount}:Oe)),ne.contactId&&me(Ie=>Ie.map(Oe=>{if(Oe.id===ne.contactId){if(ne.isSale)return ne.isCredit?{...Oe,balance:Oe.balance+ne.amount}:Oe;if(ne.isCredit){const tr=ne.type==="INCOME"?ne.amount:-ne.amount;return{...Oe,balance:Oe.balance+tr}}else{const tr=ne.type==="INCOME"?-ne.amount:ne.amount;return{...Oe,balance:Oe.balance+tr}}}return Oe})),D([]),ke},ad=(ne,ke)=>{const ve=le.find(Ie=>Ie.id===ne);if(!ve)return;const Ee=ve.amount+(ve.amount2||0);$t({type:"EXPENSE",amount:Ee,vaultId:ke,description:`Fatura demesi: ${ve.institution} - ${ve.name}`,isCredit:!1}),Be(Ie=>Ie.map(Oe=>Oe.id===ne?{...Oe,status:"PAID",vaultId:ke,paidDate:new Date().toISOString()}:Oe))},Yo=(ne,ke)=>{const ve=Le.find(Ie=>Ie.id===ne);if(!ve)return;const Ee=$t({type:"EXPENSE",amount:ve.amount,vaultId:ke,description:`Senet demesi: ${ve.contactName}`,contactId:ve.contactId,isCredit:!1});be(Ie=>Ie.map(Oe=>Oe.id===ne?{...Oe,status:"PAID",vaultId:ke,transactionId:Ee,paidDate:new Date().toISOString()}:Oe))},Ms=ne=>{const ke=Le.find(ve=>ve.id===ne);!ke||ke.status!=="PAID"||!ke.transactionId||(Yt(ke.transactionId),be(ve=>ve.map(Ee=>Ee.id===ne?{...Ee,status:"PENDING",vaultId:void 0,paidDate:void 0,transactionId:void 0}:Ee)))},Wo=ne=>{const ke=Le.find(ve=>ve.id===ne);ke&&(ke.status==="PAID"&&Ms(ne),be(ve=>ve.filter(Ee=>Ee.id!==ne)))},kn=ne=>{be(ke=>ke.map(ve=>ve.id===ne.id?ne:ve))},Yt=ne=>{const ke=fe.find(ve=>ve.id===ne);ke&&(ke.isCredit||G(ve=>ve.map(Ee=>Ee.id===ke.vaultId?{...Ee,balance:ke.type==="INCOME"?Ee.balance-ke.amount:Ee.balance+ke.amount}:Ee)),ke.contactId&&me(ve=>ve.map(Ee=>{if(Ee.id===ke.contactId){if(ke.isSale)return ke.isCredit?{...Ee,balance:Ee.balance-ke.amount}:Ee;if(ke.isCredit){const Ie=ke.type==="INCOME"?ke.amount:-ke.amount;return{...Ee,balance:Ee.balance-Ie}}else{const Ie=ke.type==="INCOME"?-ke.amount:ke.amount;return{...Ee,balance:Ee.balance-Ie}}}return Ee})),$e(ve=>ve.filter(Ee=>Ee.id!==ne)))},sn=(ne,ke)=>{const ve=fe.find(Ie=>Ie.id===ne);Yt(ne);let Ee=ke.date||(ve==null?void 0:ve.date);ke.date&&ve&&!ke.date.includes("T")&&ke.date===ve.date.split("T")[0]&&(Ee=ve.date),$t({...ke,date:Ee})},Wt=(ne,ke,ve)=>{const Ee=te.find(Oe=>Oe.id===ke),Ie=te.find(Oe=>Oe.id===ne);!Ee||!Ie||($t({type:"EXPENSE",amount:ve,vaultId:ne,description:`${Ee.name} Bor demesi`,isCredit:!1}),$t({type:"INCOME",amount:ve,vaultId:ke,description:`${Ie.name} zerinden Bor deme`,isCredit:!1}))},cc=ne=>{const ke={name:ne.name,phone:ne.phone,phone2:ne.phone2,address:ne.address,type:ne.type,id:"c"+Math.random().toString(36).substr(2,9),balance:0};return me(ve=>[...ve,ke]),ne.initialBalance&&Number(ne.initialBalance)>0&&$t({type:ne.balanceType==="DEBT"?"INCOME":"EXPENSE",amount:Number(ne.initialBalance),vaultId:"",description:"Balang / Devir Bakiyesi",contactId:ke.id,isCredit:!0,isSale:!1,isStartingBalance:!0}),ke},Ds=ne=>{const ke=ne.map(ve=>({...ve,id:"m"+Math.random().toString(36).substr(2,9),date:new Date().toISOString().split("T")[0]}));K(ve=>[...ke,...ve]),De("MEASUREMENTS")},zs=(ne,ke)=>{K(ve=>ve.map(Ee=>Ee.id===ne?{...Ee,...ke}:Ee))},Un=(ne,ke)=>{zs(ne,{status:ke})},ti=ne=>{F(ke=>ke.find(Ee=>Ee.id===ne.id)?ke.map(Ee=>Ee.id===ne.id?ne:Ee):[ne,...ke]),U&&De("PRODUCT_DETAIL")},Xt=[{id:"DASHBOARD",label:"PANEL",icon:V8},{id:"QUICK_SALE",label:"HIZLI SATI",icon:cI},{id:"PRICE_CHECK",label:"FYAT KONTROL",icon:DV},{id:"MEASUREMENTS",label:"L TAKB",icon:bn},{id:"CUSTOMERS",label:"MTERLER",icon:Ol},{id:"SUPPLIERS",label:"TEDARKLER",icon:i2},{id:"PERSONNEL",label:"PERSONELLER",icon:lI},{id:"VAULTS",label:"KASA",icon:Ya},{id:"BILLS",label:"FATURALAR",icon:Mf},{id:"PROMISSORY_NOTES",label:"SENET YNETM",icon:A1},{id:"ONLINE_PAYMENT",label:"ONLNE DEME",icon:zr},{id:"PORTAL",label:"PORTAL",icon:rI},{id:"PRODUCTS",label:"RNLER",icon:ja},{id:"SMS",label:"TOPLU SMS GNDER",icon:nI}],_n=ne=>{N(ne),M(null),De("CONTACT_DETAIL")},Bn=ne=>{H(ne),De("PRODUCT_DETAIL")},Nn=ne=>{I(ne),De("MEASUREMENT_DETAIL")},id=()=>{const ve=window.screen.width;window.open(window.location.origin+window.location.pathname+"?view=customer-display","CustomerDisplay",`width=1200,height=800,left=${ve},top=0,menubar=no,status=no,titlebar=no,toolbar=no`)};if(t&&!It)return l.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-950 relative overflow-hidden select-none",children:[l.jsx("style",{children:`
          @keyframes floatUp {
            0% { opacity: 0; transform: translateY(30px); filter: blur(10px); }
            100% { opacity: 1; transform: translateY(0); filter: blur(0); }
          }
          @keyframes spreadLine {
            0% { width: 0; opacity: 0; }
            100% { width: 3rem; opacity: 1; }
          }
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
        `}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[500px] sm:h-[500px] bg-indigo-600/20 rounded-full blur-[80px] sm:blur-[120px] animate-pulse"}),l.jsxs("div",{className:"z-10 flex flex-col items-center gap-12",children:[l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("h1",{className:"text-7xl sm:text-8xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-br from-indigo-300 via-white to-indigo-400 tracking-tighter italic drop-shadow-2xl",style:{animation:"floatUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards"},children:"EMR"}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mt-2 sm:mt-4",children:[l.jsx("div",{className:"h-[2px] bg-indigo-500/60 rounded-full",style:{animation:"spreadLine 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) 0.5s forwards",width:0,opacity:0}}),l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black text-indigo-50 uppercase tracking-[0.3em] whitespace-nowrap drop-shadow-lg",style:{animation:"fadeIn 0.8s ease-out 0.6s forwards",opacity:0},children:"Perde & eyiz"}),l.jsx("div",{className:"h-[2px] bg-indigo-500/60 rounded-full",style:{animation:"spreadLine 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) 0.5s forwards",width:0,opacity:0}})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4",style:{animation:"fadeIn 1s ease-out 1s forwards",opacity:0},children:[l.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-[3px] border-slate-800 shadow-inner"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-[3px] border-indigo-500 border-t-transparent animate-spin shadow-[0_0_15px_rgba(99,102,241,0.5)]"}),l.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-indigo-400 rounded-full animate-pulse shadow-[0_0_10px_rgba(129,140,248,0.8)]"})]}),l.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-indigo-300/50 uppercase tracking-[0.3em] animate-pulse",children:"Sistem Ykleniyor"})]})]})]});if(!r&&!It)return l.jsx(Soe,{onLogin:Hr});if(a)return l.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"}),l.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Veriler Ykleniyor..."})]})});if(It)return l.jsx(Tne,{cart:z,discount:B,onBack:()=>window.close(),isExternal:!0});const uc=()=>{switch(w){case"DASHBOARD":return l.jsx(h1,{transactions:fe,vaults:te,measurements:oe,contacts:Q,promissoryNotes:Le,onSeeAllPerformance:()=>De("PERFORMANCE_DETAILS")});case"PERFORMANCE_DETAILS":return l.jsx(Moe,{transactions:fe,contacts:Q,onBack:()=>De("DASHBOARD")});case"MEASUREMENTS":return l.jsx(g5,{measurements:oe,setMeasurements:K,onGoToForm:()=>{I(null),De("MEASUREMENT_FORM")},onSelectMeasurement:Nn});case"MEASUREMENT_FORM":const ne=A?oe.find(Fe=>Fe.id===A):void 0;return l.jsx(wne,{initialData:ne,contacts:Q,onAddContact:cc,onSave:Fe=>{A?(zs(A,Fe[0]),De("MEASUREMENTS")):Ds(Fe)},onCancel:()=>De(ne?"MEASUREMENT_DETAIL":"MEASUREMENTS")});case"MEASUREMENT_DETAIL":const ke=oe.find(Fe=>Fe.id===A);return ke?l.jsx(Ene,{measurement:ke,onBack:()=>De("MEASUREMENTS"),onUpdateStatus:Fe=>Un(ke.id,Fe),onUpdate:Fe=>zs(ke.id,Fe),onEdit:()=>De("MEASUREMENT_FORM"),onDelete:()=>{ke.status==="DELETED"?K(Fe=>Fe.filter(pt=>pt.id!==ke.id)):Un(ke.id,"DELETED"),De("MEASUREMENTS")},onCustomerClick:Fe=>{N(Fe),M("MEASUREMENT_DETAIL"),De("CONTACT_DETAIL")},workshopBarcodeTemplate:Ar,firmProfile:ft}):l.jsx(g5,{measurements:oe,setMeasurements:K,onGoToForm:()=>De("MEASUREMENT_FORM"),onSelectMeasurement:Nn});case"QUICK_SALE":return l.jsx(ene,{products:L,setProducts:F,vaults:te,contacts:Q,onSale:$t,cart:z,setCart:D,discount:B,setDiscount:W,onOpenDisplay:id,groups:de,firmProfile:ft});case"CUSTOMERS":return l.jsx(m1,{initialType:"CUSTOMER",contacts:Q,setContacts:me,onPayment:$t,vaults:te,onSelectContact:_n});case"SUPPLIERS":return l.jsx(m1,{initialType:"SUPPLIER",contacts:Q,setContacts:me,onPayment:$t,vaults:te,onSelectContact:_n});case"PERSONNEL":return l.jsx(m1,{initialType:"PERSONNEL",contacts:Q,setContacts:me,onPayment:$t,vaults:te,onSelectContact:_n});case"VAULTS":return l.jsx(ane,{vaults:te,setVaults:G,transactions:fe,onDeleteTransaction:Yt,onUpdateTransaction:sn,contacts:Q,onPayDebt:Wt,onSeeAllTransactions:()=>De("ALL_TRANSACTIONS"),onAddNewTransaction:()=>De("NEW_TRANSACTION")});case"ALL_TRANSACTIONS":return l.jsx(cne,{transactions:fe,vaults:te,onBack:()=>De("VAULTS"),onDeleteTransaction:Yt,onUpdateTransaction:sn,contacts:Q});case"NEW_TRANSACTION":return l.jsx(dne,{vaults:te,contacts:Q,onBack:()=>De("VAULTS"),onSave:(Fe,pt)=>{if(pt){$t(Fe);const on=pt.startsWith("c");$t({...Fe,type:"INCOME",vaultId:on?"":pt,contactId:on?pt:void 0,isCredit:on,description:Fe.description.replace("Transfer (k)","Transfer (Giri)")})}else $t(Fe);De("VAULTS")}});case"BILLS":return l.jsx(mne,{bills:le,setBills:Be,onPay:ad,vaults:te});case"PROMISSORY_NOTES":return l.jsx(xne,{notes:Le,setNotes:be,vaults:te,contacts:Q,onPay:Yo,onUnpay:Ms,onDelete:Wo,onUpdate:kn});case"ONLINE_PAYMENT":return l.jsx(Doe,{vaults:te,setVaults:G,onPayment:$t});case"PORTAL":return l.jsx(zoe,{onBack:()=>De("DASHBOARD")});case"PRODUCTS":return l.jsx(k5,{products:L,setProducts:F,onSelectProduct:Bn,onAddProduct:()=>{H(null),De("PRODUCT_FORM")},groups:de,setProductGroups:ee});case"PRODUCT_DETAIL":const ve=L.find(Fe=>Fe.id===U);return ve?l.jsx(Sne,{product:ve,onBack:()=>De("PRODUCTS"),onEdit:()=>De("PRODUCT_FORM"),onDelete:()=>{F(Fe=>Fe.filter(pt=>pt.id!==ve.id)),De("PRODUCTS")},onUpdate:ti,groups:de,barcodeTemplate:Pt,firmProfile:ft,transactions:fe}):l.jsx(k5,{products:L,setProducts:F,onSelectProduct:Bn,onAddProduct:()=>{H(null),De("PRODUCT_FORM")},groups:de,setProductGroups:ee});case"PRODUCT_FORM":const Ee=L.find(Fe=>Fe.id===U);return l.jsx(jne,{product:Ee,products:L,onSave:ti,onCancel:()=>De(Ee?"PRODUCT_DETAIL":"PRODUCTS"),groups:de,units:ge,setUnits:Ne});case"CONTACT_DETAIL":const Ie=Q.find(Fe=>Fe.id===R),Oe=(Ie==null?void 0:Ie.type)==="CUSTOMER"?"CUSTOMERS":(Ie==null?void 0:Ie.type)==="SUPPLIER"?"SUPPLIERS":"PERSONNEL",tr=C||Oe;return Ie?l.jsx(bne,{contact:Ie,transactions:fe.filter(Fe=>Fe.contactId===Ie.id),vaults:te,promissoryNotes:Le.filter(Fe=>Fe.contactId===Ie.id),onBack:()=>{De(tr),M(null)},onPayment:$t,onDeleteTransaction:Yt,onUpdateTransaction:sn,onPayPromissoryNote:Yo,onUnpayPromissoryNote:Ms,onDeletePromissoryNote:Wo,onUpdatePromissoryNote:kn,firmProfile:ft,setVaults:G}):l.jsx(h1,{transactions:fe,vaults:te,measurements:oe,contacts:Q,promissoryNotes:Le,onSeeAllPerformance:()=>De("PERFORMANCE_DETAILS")});case"PRICE_CHECK":return l.jsx(Ane,{products:L,groups:de});case"FIRM_PROFILE":return l.jsx(joe,{firmData:ft,onUpdate:We,onLogout:Ui});case"SETTINGS":return l.jsx(Toe,{onNavigate:Fe=>De(Fe)});case"BARCODE_SETTINGS":return l.jsx(Aoe,{template:Pt,onSave:Fe=>{Ot(Fe),De("SETTINGS")},onCancel:()=>De("SETTINGS")});case"WORKSHOP_BARCODE_SETTINGS":return l.jsx(Coe,{template:Ar,onSave:Fe=>{Vn(Fe),De("SETTINGS")},onCancel:()=>De("SETTINGS")});case"PRODUCT_SETTINGS":return l.jsx(Ooe,{products:L,setProducts:F,groups:de,setGroups:ee,units:ge,setUnits:Ne,barcodeTemplate:Pt,firmProfile:ft,onBack:()=>De("SETTINGS")});case"VAULT_SETTINGS":return l.jsx(Ioe,{vaults:te,setVaults:G,onBack:()=>De("SETTINGS")});case"SMS":return l.jsx(Poe,{contacts:Q});default:return l.jsx(h1,{transactions:fe,vaults:te,measurements:oe,contacts:Q,promissoryNotes:Le,onSeeAllPerformance:()=>De("PERFORMANCE_DETAILS")})}};return l.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors flex overflow-hidden",children:[E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>S(!1)}),l.jsxs("aside",{className:`
        fixed top-0 left-0 bottom-0 w-64 xl:w-72 bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-slate-700 z-50 transform transition-transform duration-200 lg:translate-x-0 flex flex-col h-full
        ${E?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"pt-4 px-6 pb-4",children:[l.jsx("div",{className:"flex items-center justify-between lg:hidden mb-2",children:l.jsx("button",{className:"p-1.5 text-gray-400",onClick:()=>S(!1),children:l.jsx(Zt,{size:24})})}),l.jsxs("div",{onClick:()=>{De("FIRM_PROFILE"),S(!1)},className:"cursor-pointer group hover:bg-indigo-50 dark:hover:bg-slate-700/30 p-3 rounded-[1.5rem] transition-all border border-transparent hover:border-indigo-100 dark:hover:border-slate-700",children:[l.jsx("h1",{className:"font-black text-[9px] leading-none uppercase tracking-[0.3em] text-slate-400 mb-1.5 group-hover:text-indigo-400 transition-colors",children:"Maaza Bilgileri"}),l.jsxs("h2",{className:"font-black text-base leading-tight uppercase tracking-tighter italic text-indigo-600 dark:text-indigo-400 flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:ft.name}),l.jsx(Rn,{size:14,className:"shrink-0 opacity-0 group-hover:opacity-100 transition-all translate-x-[-4px] group-hover:translate-x-0"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1 opacity-60",children:[l.jsx("div",{className:"h-0.5 w-3 bg-indigo-500 rounded-full"}),l.jsx("p",{className:"text-[9px] font-bold uppercase tracking-[0.2em]",children:"Ynetim Paneli"})]})]})]}),l.jsxs("nav",{className:"flex-1 px-4 space-y-0.5 overflow-y-auto hide-scrollbar",children:[l.jsx("div",{className:"mb-2 px-4",children:l.jsx("p",{className:"text-[9px] font-black text-gray-300 dark:text-slate-600 uppercase tracking-widest",children:"Ana Men"})}),Xt.map(ne=>l.jsxs("button",{onClick:()=>{De(ne.id),S(!1)},className:`
                w-full flex items-center justify-between px-4 py-2.5 rounded-xl transition-all
                ${w===ne.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-gray-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700/50 hover:text-indigo-600"}
              `,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ne.icon,{size:18,className:w===ne.id?"opacity-100":"opacity-60"}),l.jsx("span",{className:`text-[11px] ${w===ne.id?"font-black":"font-bold"}`,children:ne.label})]}),w===ne.id&&l.jsx(Rn,{size:12,className:"opacity-60"})]},ne.id)),l.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-50 dark:border-slate-700 flex items-center justify-center gap-2 px-4 pb-2",children:[l.jsx("button",{onClick:()=>{De("SETTINGS"),S(!1)},className:`p-3 rounded-xl transition-all group flex-1 flex items-center justify-center ${w==="SETTINGS"||w==="BARCODE_SETTINGS"||w==="WORKSHOP_BARCODE_SETTINGS"||w==="PRODUCT_SETTINGS"||w==="VAULT_SETTINGS"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"}`,title:"Ayarlar",children:l.jsx(oI,{size:20,className:w==="SETTINGS"||w==="BARCODE_SETTINGS"||w==="WORKSHOP_BARCODE_SETTINGS"||w==="PRODUCT_SETTINGS"||w==="VAULT_SETTINGS"?"opacity-100":"opacity-80"})}),l.jsxs("button",{onClick:()=>{$(!0),S(!1)},className:"relative p-3 rounded-xl transition-all group flex-1 flex items-center justify-center bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-rose-50 dark:hover:bg-slate-700",title:"Bildirimler",children:[l.jsx(pj,{size:20,className:Bt.length>0?"text-rose-500 animate-bounce":"opacity-80"}),Bt.length>0&&l.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-rose-500 rounded-full border-2 border-white dark:border-slate-800"})]}),l.jsx("button",{onClick:nd,className:"p-3 rounded-xl transition-all group flex-1 flex items-center justify-center bg-gray-50 dark:bg-slate-900/50 text-gray-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700",title:"Grnm",children:g?l.jsx(RV,{size:20,className:"text-amber-500"}):l.jsx(iV,{size:20,className:"text-indigo-600"})})]})]}),l.jsx("div",{className:"p-4 text-center",children:l.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-slate-600 uppercase tracking-widest",children:"GOSTASOFTWARE"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-h-screen overflow-hidden lg:ml-64 xl:ml-72",children:[l.jsx("header",{className:"shrink-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-b border-gray-200 dark:border-slate-700 px-4 sm:px-6 py-3.5",children:l.jsxs("div",{className:"flex items-center justify-between max-w-[1600px] mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{className:"lg:hidden p-2 text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-xl transition-colors",onClick:()=>S(!0),children:l.jsx(W8,{size:22})}),l.jsx("h2",{className:"text-base sm:text-lg font-black tracking-tight uppercase italic text-slate-800 dark:text-slate-100",children:w==="CONTACT_DETAIL"?"Hesap Detaylar":w==="MEASUREMENT_FORM"?A?"l Dzenle":"Yeni l Formu":w==="MEASUREMENT_DETAIL"?"l Detay":w==="PRODUCT_DETAIL"?"rn Detay":w==="PRODUCT_FORM"?"rn Dzenle":w==="ALL_TRANSACTIONS"?"Tm lemler":w==="NEW_TRANSACTION"?"Yeni lem":w==="BILLS"?"Faturalar":w==="PROMISSORY_NOTES"?"Senet Ynetimi":w==="PRICE_CHECK"?"Fiyat Kontrol":w==="FIRM_PROFILE"?"Firma Profili":w==="SETTINGS"?"Ayarlar":w==="BARCODE_SETTINGS"?"Barkod Ayarlar":w==="WORKSHOP_BARCODE_SETTINGS"?"Atlye Fii (Tasarml)":w==="PRODUCT_SETTINGS"?"rn Ayarlar":w==="VAULT_SETTINGS"?"Kasa Ayarlar":w==="SMS"?"Sms Gnder":w==="PERFORMANCE_DETAILS"?"Performans Detaylar":w==="ONLINE_PAYMENT"?"Online deme Paneli":w==="PORTAL"?"Portallar":($n=Xt.find(ne=>ne.id===w))==null?void 0:$n.label})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ko()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full flex items-center justify-center shadow-sm",title:"Tam Ekran",children:f?l.jsx(yj,{size:20}):l.jsx(a0,{size:20})}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),Rs()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full flex items-center justify-center shadow-sm",title:"Buluttan Verileri Yenile",children:l.jsx(Ul,{size:20,className:c?"animate-spin":""})}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:l.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-wider transition-colors",children:"Kasa Mevcudu (Net)"})}),l.jsxs("div",{onClick:()=>De("VAULTS"),className:"flex items-center gap-2 px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 rounded-full border border-indigo-100 dark:border-indigo-900/40 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all active:scale-95 group/balance",children:[l.jsx(Ya,{size:14,className:"text-indigo-600 dark:text-indigo-400 group-hover/balance:scale-110 transition-transform"}),l.jsxs("span",{className:"text-sm font-black text-indigo-700 dark:text-indigo-300",children:[Ps.toLocaleString("tr-TR")," "]})]})]})]}),l.jsxs("div",{className:"sm:hidden flex items-center gap-3",children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ko()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full shadow-sm",title:"Tam Ekran",children:f?l.jsx(yj,{size:20}):l.jsx(a0,{size:20})}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),Rs()},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 rounded-full shadow-sm",title:"Buluttan Verileri Yenile",children:l.jsx(Ul,{size:20,className:c?"animate-spin":""})}),l.jsx("div",{onClick:()=>De("VAULTS"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 rounded-full border border-indigo-100 dark:border-indigo-900/40 cursor-pointer active:scale-95 transition-all",children:l.jsxs("span",{className:"text-xs font-black text-indigo-700 dark:text-indigo-300",children:[Ps.toLocaleString("tr-TR")," "]})})]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 custom-scrollbar",children:l.jsx("div",{className:"max-w-[1600px] mx-auto",children:uc()})})]}),P&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-md rounded-[2.5rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in zoom-in duration-200 flex flex-col max-h-[80vh]",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-900/50",children:[l.jsxs("h3",{className:"text-xl font-black text-indigo-600 italic flex items-center gap-2",children:[l.jsx(pj,{size:20,className:"text-rose-500"})," Yaklaan demeler"]}),l.jsx("button",{onClick:()=>$(!1),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:l.jsx(Zt,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:Bt.length===0?l.jsxs("div",{className:"text-center text-gray-400 py-10 opacity-50 flex flex-col items-center gap-3",children:[l.jsx(zl,{size:48}),l.jsx("p",{className:"font-bold text-sm",children:"Yaklaan deme bulunmuyor."})]}):l.jsx("div",{className:"space-y-4",children:Bt.map(ne=>l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 p-4 rounded-2xl border border-gray-100 dark:border-slate-800 flex flex-col gap-2 relative overflow-hidden shadow-sm",children:[ne.days===0&&l.jsx("div",{className:"absolute top-0 right-0 bg-rose-500 text-white text-[8px] font-black px-2 py-0.5 rounded-bl-lg",children:"BUGN"}),ne.days<0&&l.jsx("div",{className:"absolute top-0 right-0 bg-rose-600 text-white text-[8px] font-black px-2 py-0.5 rounded-bl-lg",children:"GECKM"}),l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${ne.type==="BILL"?"bg-amber-100 dark:bg-amber-900/20 text-amber-600":"bg-indigo-100 dark:bg-indigo-900/20 text-indigo-600"}`,children:ne.type==="BILL"?l.jsx(Mf,{size:20}):l.jsx(A1,{size:20})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate pr-6",children:ne.title}),l.jsxs("p",{className:`text-[10px] font-black uppercase mt-0.5 ${ne.days<=2?"text-rose-500":"text-gray-400"}`,children:[new Date(ne.date).toLocaleDateString("tr-TR"),"  ",ne.days===0?"Son Gn":ne.days<0?`${Math.abs(ne.days)} Gn Gecikti`:`${ne.days} gn kald`]})]})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-2 border-t border-gray-200 dark:border-slate-700 pt-2",children:[l.jsx("button",{onClick:()=>{$(!1),De(ne.type==="BILL"?"BILLS":"PROMISSORY_NOTES")},className:"text-[10px] font-black text-indigo-600 uppercase hover:underline",children:"Detaya Git"}),l.jsxs("p",{className:"text-lg font-black text-rose-500",children:[ne.amount.toLocaleString("tr-TR")," "]})]})]},`${ne.type}-${ne.id}`))})})]})})]})}const Uz=document.getElementById("root");if(!Uz)throw new Error("Root element not found");const gde=C9.createRoot(Uz);gde.render(l.jsx(t2.StrictMode,{children:l.jsx(pde,{})}));
